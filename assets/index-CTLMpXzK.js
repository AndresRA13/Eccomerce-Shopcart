var Y4=Object.defineProperty;var X4=(t,e,n)=>e in t?Y4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Be=(t,e,n)=>X4(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function mk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z0={exports:{}},Pd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function Q4(){if(SE)return Pd;SE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Pd.Fragment=e,Pd.jsx=n,Pd.jsxs=n,Pd}var CE;function Z4(){return CE||(CE=1,Z0.exports=Q4()),Z0.exports}var d=Z4(),J0={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function J4(){if(kE)return He;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function S(B,oe,pe){this.props=B,this.context=oe,this.refs=C,this.updater=pe||_}S.prototype.isReactComponent={},S.prototype.setState=function(B,oe){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,oe,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=S.prototype;function U(B,oe,pe){this.props=B,this.context=oe,this.refs=C,this.updater=pe||_}var V=U.prototype=new N;V.constructor=U,E(V,S.prototype),V.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function z(B,oe,pe,me,xe,Re){return pe=Re.ref,{$$typeof:t,type:B,key:oe,ref:pe!==void 0?pe:null,props:Re}}function k(B,oe){return z(B.type,oe,void 0,void 0,void 0,B.props)}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function O(B){var oe={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return oe[pe]})}var L=/\/+/g;function D(B,oe){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):oe.toString(36)}function R(){}function ae(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(R,R):(B.status="pending",B.then(function(oe){B.status==="pending"&&(B.status="fulfilled",B.value=oe)},function(oe){B.status==="pending"&&(B.status="rejected",B.reason=oe)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ee(B,oe,pe,me,xe){var Re=typeof B;(Re==="undefined"||Re==="boolean")&&(B=null);var Te=!1;if(B===null)Te=!0;else switch(Re){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(B.$$typeof){case t:case e:Te=!0;break;case p:return Te=B._init,ee(Te(B._payload),oe,pe,me,xe)}}if(Te)return xe=xe(B),Te=me===""?"."+D(B,0):me,$(xe)?(pe="",Te!=null&&(pe=Te.replace(L,"$&/")+"/"),ee(xe,oe,pe,"",function(be){return be})):xe!=null&&(P(xe)&&(xe=k(xe,pe+(xe.key==null||B&&B.key===xe.key?"":(""+xe.key).replace(L,"$&/")+"/")+Te)),oe.push(xe)),1;Te=0;var kt=me===""?".":me+":";if($(B))for(var ft=0;ft<B.length;ft++)me=B[ft],Re=kt+D(me,ft),Te+=ee(me,oe,pe,Re,xe);else if(ft=x(B),typeof ft=="function")for(B=ft.call(B),ft=0;!(me=B.next()).done;)me=me.value,Re=kt+D(me,ft++),Te+=ee(me,oe,pe,Re,xe);else if(Re==="object"){if(typeof B.then=="function")return ee(ae(B),oe,pe,me,xe);throw oe=String(B),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Te}function W(B,oe,pe){if(B==null)return B;var me=[],xe=0;return ee(B,me,"","",function(Re){return oe.call(pe,Re,xe++)}),me}function ne(B){if(B._status===-1){var oe=B._result;oe=oe(),oe.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=oe)}if(B._status===1)return B._result.default;throw B._result}var he=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ve(){}return He.Children={map:W,forEach:function(B,oe,pe){W(B,function(){oe.apply(this,arguments)},pe)},count:function(B){var oe=0;return W(B,function(){oe++}),oe},toArray:function(B){return W(B,function(oe){return oe})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},He.Component=S,He.Fragment=n,He.Profiler=s,He.PureComponent=U,He.StrictMode=i,He.Suspense=h,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,He.__COMPILER_RUNTIME={__proto__:null,c:function(B){return q.H.useMemoCache(B)}},He.cache=function(B){return function(){return B.apply(null,arguments)}},He.cloneElement=function(B,oe,pe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var me=E({},B.props),xe=B.key,Re=void 0;if(oe!=null)for(Te in oe.ref!==void 0&&(Re=void 0),oe.key!==void 0&&(xe=""+oe.key),oe)!J.call(oe,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&oe.ref===void 0||(me[Te]=oe[Te]);var Te=arguments.length-2;if(Te===1)me.children=pe;else if(1<Te){for(var kt=Array(Te),ft=0;ft<Te;ft++)kt[ft]=arguments[ft+2];me.children=kt}return z(B.type,xe,void 0,void 0,Re,me)},He.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},He.createElement=function(B,oe,pe){var me,xe={},Re=null;if(oe!=null)for(me in oe.key!==void 0&&(Re=""+oe.key),oe)J.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(xe[me]=oe[me]);var Te=arguments.length-2;if(Te===1)xe.children=pe;else if(1<Te){for(var kt=Array(Te),ft=0;ft<Te;ft++)kt[ft]=arguments[ft+2];xe.children=kt}if(B&&B.defaultProps)for(me in Te=B.defaultProps,Te)xe[me]===void 0&&(xe[me]=Te[me]);return z(B,Re,void 0,void 0,null,xe)},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:u,render:B}},He.isValidElement=P,He.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:ne}},He.memo=function(B,oe){return{$$typeof:m,type:B,compare:oe===void 0?null:oe}},He.startTransition=function(B){var oe=q.T,pe={};q.T=pe;try{var me=B(),xe=q.S;xe!==null&&xe(pe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ve,he)}catch(Re){he(Re)}finally{q.T=oe}},He.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},He.use=function(B){return q.H.use(B)},He.useActionState=function(B,oe,pe){return q.H.useActionState(B,oe,pe)},He.useCallback=function(B,oe){return q.H.useCallback(B,oe)},He.useContext=function(B){return q.H.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B,oe){return q.H.useDeferredValue(B,oe)},He.useEffect=function(B,oe,pe){var me=q.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(B,oe)},He.useId=function(){return q.H.useId()},He.useImperativeHandle=function(B,oe,pe){return q.H.useImperativeHandle(B,oe,pe)},He.useInsertionEffect=function(B,oe){return q.H.useInsertionEffect(B,oe)},He.useLayoutEffect=function(B,oe){return q.H.useLayoutEffect(B,oe)},He.useMemo=function(B,oe){return q.H.useMemo(B,oe)},He.useOptimistic=function(B,oe){return q.H.useOptimistic(B,oe)},He.useReducer=function(B,oe,pe){return q.H.useReducer(B,oe,pe)},He.useRef=function(B){return q.H.useRef(B)},He.useState=function(B){return q.H.useState(B)},He.useSyncExternalStore=function(B,oe,pe){return q.H.useSyncExternalStore(B,oe,pe)},He.useTransition=function(){return q.H.useTransition()},He.version="19.1.0",He}var RE;function ex(){return RE||(RE=1,J0.exports=J4()),J0.exports}var I=ex();const Y=mk(I);var ev={exports:{}},Md={},tv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function eD(){return NE||(NE=1,function(t){function e(W,ne){var he=W.length;W.push(ne);e:for(;0<he;){var ve=he-1>>>1,B=W[ve];if(0<s(B,ne))W[ve]=ne,W[he]=B,he=ve;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ne=W[0],he=W.pop();if(he!==ne){W[0]=he;e:for(var ve=0,B=W.length,oe=B>>>1;ve<oe;){var pe=2*(ve+1)-1,me=W[pe],xe=pe+1,Re=W[xe];if(0>s(me,he))xe<B&&0>s(Re,me)?(W[ve]=Re,W[xe]=he,ve=xe):(W[ve]=me,W[pe]=he,ve=pe);else if(xe<B&&0>s(Re,he))W[ve]=Re,W[xe]=he,ve=xe;else break e}}return ne}function s(W,ne){var he=W.sortIndex-ne.sortIndex;return he!==0?he:W.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],p=1,v=null,x=3,_=!1,E=!1,C=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(W){for(var ne=n(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=W)i(m),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(m)}}function q(W){if(C=!1,$(W),!E)if(n(h)!==null)E=!0,J||(J=!0,D());else{var ne=n(m);ne!==null&&ee(q,ne.startTime-W)}}var J=!1,z=-1,k=5,P=-1;function O(){return S?!0:!(t.unstable_now()-P<k)}function L(){if(S=!1,J){var W=t.unstable_now();P=W;var ne=!0;try{e:{E=!1,C&&(C=!1,U(z),z=-1),_=!0;var he=x;try{t:{for($(W),v=n(h);v!==null&&!(v.expirationTime>W&&O());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,x=v.priorityLevel;var B=ve(v.expirationTime<=W);if(W=t.unstable_now(),typeof B=="function"){v.callback=B,$(W),ne=!0;break t}v===n(h)&&i(h),$(W)}else i(h);v=n(h)}if(v!==null)ne=!0;else{var oe=n(m);oe!==null&&ee(q,oe.startTime-W),ne=!1}}break e}finally{v=null,x=he,_=!1}ne=void 0}}finally{ne?D():J=!1}}}var D;if(typeof V=="function")D=function(){V(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=L,D=function(){ae.postMessage(null)}}else D=function(){N(L,0)};function ee(W,ne){z=N(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(W){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var he=x;x=ne;try{return W()}finally{x=he}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=x;x=W;try{return ne()}finally{x=he}},t.unstable_scheduleCallback=function(W,ne,he){var ve=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ve+he:ve):he=ve,W){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=he+B,W={id:p++,callback:ne,priorityLevel:W,startTime:he,expirationTime:B,sortIndex:-1},he>ve?(W.sortIndex=he,e(m,W),n(h)===null&&W===n(m)&&(C?(U(z),z=-1):C=!0,ee(q,he-ve))):(W.sortIndex=B,e(h,W),E||_||(E=!0,J||(J=!0,D()))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var ne=x;return function(){var he=x;x=ne;try{return W.apply(this,arguments)}finally{x=he}}}}(nv)),nv}var jE;function tD(){return jE||(jE=1,tv.exports=eD()),tv.exports}var iv={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function nD(){if(IE)return Kn;IE=1;var t=ex();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,m,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kn.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(h,m,null,p)},Kn.flushSync=function(h){var m=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=m,i.p=p,i.d.f()}},Kn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Kn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Kn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,v=u(p,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):p==="script"&&i.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Kn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Kn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,v=u(p,m.crossOrigin);i.d.L(h,p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Kn.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Kn.requestFormReset=function(h){i.d.r(h)},Kn.unstable_batchedUpdates=function(h,m){return h(m)},Kn.useFormState=function(h,m,p){return l.H.useFormState(h,m,p)},Kn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Kn.version="19.1.0",Kn}var PE;function iD(){if(PE)return iv.exports;PE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iv.exports=nD(),iv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function sD(){if(ME)return Md;ME=1;var t=tD(),e=ex(),n=iD();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,f=o;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return u(y),r;if(b===f)return u(y),o;b=b.sibling}throw Error(i(188))}if(c.return!==f.return)c=y,f=b;else{for(var A=!1,j=y.child;j;){if(j===c){A=!0,c=y,f=b;break}if(j===f){A=!0,f=y,c=b;break}j=j.sibling}if(!A){for(j=b.child;j;){if(j===c){A=!0,c=b,f=y;break}if(j===f){A=!0,f=b,c=y;break}j=j.sibling}if(!A)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case V:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case $:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return o=r.displayName||null,o!==null?o:ae(r.type)||"Memo";case k:o=r._payload,r=r._init;try{return ae(r(o))}catch{}}return null}var ee=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ve=[],B=-1;function oe(r){return{current:r}}function pe(r){0>B||(r.current=ve[B],ve[B]=null,B--)}function me(r,o){B++,ve[B]=r.current,r.current=o}var xe=oe(null),Re=oe(null),Te=oe(null),kt=oe(null);function ft(r,o){switch(me(Te,o),me(Re,r),me(xe,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?eE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=eE(o),r=tE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(xe),me(xe,r)}function be(){pe(xe),pe(Re),pe(Te)}function Ke(r){r.memoizedState!==null&&me(kt,r);var o=xe.current,c=tE(o,r.type);o!==c&&(me(Re,r),me(xe,c))}function We(r){Re.current===r&&(pe(xe),pe(Re)),kt.current===r&&(pe(kt),kd._currentValue=he)}var _n=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,zt=t.unstable_shouldYield,Mn=t.unstable_requestPaint,$n=t.unstable_now,ql=t.unstable_getCurrentPriorityLevel,mt=t.unstable_ImmediatePriority,yr=t.unstable_UserBlockingPriority,vs=t.unstable_NormalPriority,Du=t.unstable_LowPriority,Wn=t.unstable_IdlePriority,vo=t.log,$l=t.unstable_setDisableYieldValue,Ot=null,lt=null;function ai(r){if(typeof vo=="function"&&$l(r),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Ot,r)}catch{}}var En=Math.clz32?Math.clz32:vr,Wl=Math.log,Ou=Math.LN2;function vr(r){return r>>>=0,r===0?32:31-(Wl(r)/Ou|0)|0}var Gi=256,Ki=4194304;function Ni(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ca(r,o,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,b=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var j=f&134217727;return j!==0?(f=j&~b,f!==0?y=Ni(f):(A&=j,A!==0?y=Ni(A):c||(c=j&~r,c!==0&&(y=Ni(c))))):(j=f&~b,j!==0?y=Ni(j):A!==0?y=Ni(A):c||(c=f&~r,c!==0&&(y=Ni(c)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:y}function Ds(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function bo(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var r=Gi;return Gi<<=1,(Gi&4194048)===0&&(Gi=256),r}function wo(){var r=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),r}function bs(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Dn(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function _o(r,o,c,f,y,b){var A=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var j=r.entanglements,F=r.expirationTimes,Z=r.hiddenUpdates;for(c=A&~c;0<c;){var le=31-En(c),ue=1<<le;j[le]=0,F[le]=-1;var te=Z[le];if(te!==null)for(Z[le]=null,le=0;le<te.length;le++){var ie=te[le];ie!==null&&(ie.lane&=-536870913)}c&=~ue}f!==0&&Yi(r,f,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(A&~o))}function Yi(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-En(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|c&4194090}function Eo(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-En(c),y=1<<f;y&o|r[f]&o&&(r[f]|=o),c&=~y}}function Os(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ua(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ji(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:xE(r.type))}function Gl(r,o){var c=ne.p;try{return ne.p=r,o()}finally{ne.p=c}}var It=Math.random().toString(36).slice(2),Jt="__reactFiber$"+It,Wt="__reactProps$"+It,pi="__reactContainer$"+It,da="__reactEvents$"+It,Kl="__reactListeners$"+It,xs="__reactHandles$"+It,To="__reactResources$"+It,Ls="__reactMarker$"+It;function ws(r){delete r[Jt],delete r[Wt],delete r[da],delete r[Kl],delete r[xs]}function Xi(r){var o=r[Jt];if(o)return o;for(var c=r.parentNode;c;){if(o=c[pi]||c[Jt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=rE(r);r!==null;){if(c=r[Jt])return c;r=rE(r)}return o}r=c,c=r.parentNode}return null}function Ii(r){if(r=r[Jt]||r[pi]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Pi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Tn(r){var o=r[To];return o||(o=r[To]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ut(r){r[Ls]=!0}var ha=new Set,br={};function gi(r,o){Qi(r,o),Qi(r+"Capture",o)}function Qi(r,o){for(br[r]=o,r=0;r<o.length;r++)ha.add(o[r])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},H={};function ge(r){return _n.call(H,r)?!0:_n.call(So,r)?!1:Ao.test(r)?H[r]=!0:(So[r]=!0,!1)}function Se(r,o,c){if(ge(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Ne(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function De(r,o,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+f)}}var tt,Rt;function ct(r){if(tt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);tt=o&&o[1]||"",Rt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+r+Rt}var ot=!1;function mn(r,o){if(!r||ot)return"";ot=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var te=ie}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ie){te=ie}r.call(ue.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),A=b[0],j=b[1];if(A&&j){var F=A.split(`
`),Z=j.split(`
`);for(y=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===F.length||y===Z.length)for(f=F.length-1,y=Z.length-1;1<=f&&0<=y&&F[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if(F[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||F[f]!==Z[y]){var le=`
`+F[f].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=f&&0<=y);break}}}finally{ot=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?ct(c):""}function An(r){switch(r.tag){case 26:case 27:case 5:return ct(r.type);case 16:return ct("Lazy");case 13:return ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return mn(r.type,!1);case 11:return mn(r.type.render,!1);case 1:return mn(r.type,!0);case 31:return ct("Activity");default:return""}}function Bt(r){try{var o="";do o+=An(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Pt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yl(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ny(r){var o=Yl(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){f=""+A,b.call(this,A)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(A){f=""+A},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Xl(r){r._valueTracker||(r._valueTracker=ny(r))}function Lu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=Yl(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function Co(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var iy=/[\n"\\]/g;function ln(r){return r.replace(iy,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mi(r,o,c,f,y,b,A,j){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),o!=null?A==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Pt(o)):r.value!==""+Pt(o)&&(r.value=""+Pt(o)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),o!=null?fa(r,A,Pt(o)):c!=null?fa(r,A,Pt(c)):f!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.name=""+Pt(j):r.removeAttribute("name")}function ko(r,o,c,f,y,b,A,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;c=c!=null?""+Pt(c):"",o=o!=null?""+Pt(o):c,j||o===r.value||(r.value=o),r.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=j?r.checked:!!f,r.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function fa(r,o,c){o==="number"&&Co(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function xr(r,o,c,f){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Pt(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function Tt(r,o,c){if(o!=null&&(o=""+Pt(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Pt(c):""}function Ro(r,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(i(92));if(ee(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Pt(o),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f)}function Zi(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function af(r,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,c):typeof c!="number"||c===0||No.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function Vu(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&af(r,y,f)}else for(var b in o)o.hasOwnProperty(b)&&af(r,b,o[b])}function zu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ry=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(r){return ry.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var wr=null;function Ji(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _r=null,Er=null;function Uu(r){var o=Ii(r);if(o&&(r=o.stateNode)){var c=r[Wt]||null;e:switch(r=o.stateNode,o.type){case"input":if(Mi(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ln(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var y=f[Wt]||null;if(!y)throw Error(i(90));Mi(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===r.form&&Lu(f)}break e;case"textarea":Tt(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&xr(r,!!c.multiple,o,!1)}}}var Vs=!1;function of(r,o,c){if(Vs)return r(o,c);Vs=!0;try{var f=r(o);return f}finally{if(Vs=!1,(_r!==null||Er!==null)&&(em(),_r&&(o=_r,r=Er,Er=_r=null,Uu(o),r)))for(o=0;o<r.length;o++)Uu(r[o])}}function jo(r,o){var c=r.stateNode;if(c===null)return null;var f=c[Wt]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),es=!1;if(_s)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){es=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{es=!1}var zs=null,ma=null,Tr=null;function Bu(){if(Tr)return Tr;var r,o=ma,c=o.length,f,y="value"in zs?zs.value:zs.textContent,b=y.length;for(r=0;r<c&&o[r]===y[r];r++);var A=c-r;for(f=1;f<=A&&o[c-f]===y[b-f];f++);return Tr=y.slice(r,1<f?1-f:void 0)}function Us(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Bs(){return!0}function Fu(){return!1}function Sn(r){function o(c,f,y,b,A){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(c=r[j],this[j]=c?c(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Bs:Fu,this.isPropagationStopped=Fu,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),o}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Sn(yt),Po=p({},yt,{view:0,detail:0}),lf=Sn(Po),Jl,ec,Fs,Mo=p({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fs&&(Fs&&r.type==="mousemove"?(Jl=r.screenX-Fs.screenX,ec=r.screenY-Fs.screenY):ec=Jl=0,Fs=r),Jl)},movementY:function(r){return"movementY"in r?r.movementY:ec}}),ts=Sn(Mo),cf=p({},Mo,{dataTransfer:0}),ay=Sn(cf),Do=p({},Po,{relatedTarget:0}),tc=Sn(Do),Hu=p({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=Sn(Hu),uf=p({},yt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ic=Sn(uf),oy=p({},yt,{data:0}),qu=Sn(oy),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=hf[r])?!!o[r]:!1}function Lo(){return $u}var ff=p({},Po,{key:function(r){if(r.key){var o=Oo[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Us(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?df[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(r){return r.type==="keypress"?Us(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Us(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sc=Sn(ff),mf=p({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=Sn(mf),Ar=p({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),pf=Sn(Ar),gf=p({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=Sn(gf),vf=p({},Mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),rc=Sn(vf),oi=p({},yt,{newState:0,oldState:0}),bf=Sn(oi),xf=[9,13,27,32],Hs=_s&&"CompositionEvent"in window,g=null;_s&&"documentMode"in document&&(g=document.documentMode);var w=_s&&"TextEvent"in window&&!g,T=_s&&(!Hs||g&&8<g&&11>=g),M=" ",X=!1;function se(r,o){switch(r){case"keyup":return xf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function pn(r,o){switch(r){case"compositionend":return ye(o);case"keypress":return o.which!==32?null:(X=!0,M);case"textInput":return r=o.data,r===M&&X?null:r;default:return null}}function it(r,o){if(nt)return r==="compositionend"||!Hs&&se(r,o)?(r=Bu(),Tr=ma=zs=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Cn[r.type]:o==="textarea"}function Sr(r,o,c,f){_r?Er?Er.push(f):Er=[f]:_r=f,o=am(o,"onChange"),0<o.length&&(c=new Zl("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var On=null,qs=null;function Gu(r){Y2(r,0)}function wf(r){var o=Pi(r);if(Lu(o))return r}function g1(r,o){if(r==="change")return o}var y1=!1;if(_s){var ly;if(_s){var cy="oninput"in document;if(!cy){var v1=document.createElement("div");v1.setAttribute("oninput","return;"),cy=typeof v1.oninput=="function"}ly=cy}else ly=!1;y1=ly&&(!document.documentMode||9<document.documentMode)}function b1(){On&&(On.detachEvent("onpropertychange",x1),qs=On=null)}function x1(r){if(r.propertyName==="value"&&wf(qs)){var o=[];Sr(o,qs,r,Ji(r)),of(Gu,o)}}function AM(r,o,c){r==="focusin"?(b1(),On=o,qs=c,On.attachEvent("onpropertychange",x1)):r==="focusout"&&b1()}function SM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wf(qs)}function CM(r,o){if(r==="click")return wf(o)}function kM(r,o){if(r==="input"||r==="change")return wf(o)}function RM(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Di=typeof Object.is=="function"?Object.is:RM;function Ku(r,o){if(Di(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!_n.call(o,y)||!Di(r[y],o[y]))return!1}return!0}function w1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _1(r,o){var c=w1(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=w1(c)}}function E1(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?E1(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function T1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Co(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Co(r.document)}return o}function uy(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var NM=_s&&"documentMode"in document&&11>=document.documentMode,ac=null,dy=null,Yu=null,hy=!1;function A1(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hy||ac==null||ac!==Co(f)||(f=ac,"selectionStart"in f&&uy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Yu&&Ku(Yu,f)||(Yu=f,f=am(dy,"onSelect"),0<f.length&&(o=new Zl("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=ac)))}function Vo(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var oc={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionrun:Vo("Transition","TransitionRun"),transitionstart:Vo("Transition","TransitionStart"),transitioncancel:Vo("Transition","TransitionCancel"),transitionend:Vo("Transition","TransitionEnd")},fy={},S1={};_s&&(S1=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function zo(r){if(fy[r])return fy[r];if(!oc[r])return r;var o=oc[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in S1)return fy[r]=o[c];return r}var C1=zo("animationend"),k1=zo("animationiteration"),R1=zo("animationstart"),jM=zo("transitionrun"),IM=zo("transitionstart"),PM=zo("transitioncancel"),N1=zo("transitionend"),j1=new Map,my="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");my.push("scrollEnd");function Es(r,o){j1.set(r,o),gi(o,[r])}var I1=new WeakMap;function ns(r,o){if(typeof r=="object"&&r!==null){var c=I1.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Bt(o)},I1.set(r,o),o)}return{value:r,source:o,stack:Bt(o)}}var is=[],lc=0,py=0;function _f(){for(var r=lc,o=py=lc=0;o<r;){var c=is[o];is[o++]=null;var f=is[o];is[o++]=null;var y=is[o];is[o++]=null;var b=is[o];if(is[o++]=null,f!==null&&y!==null){var A=f.pending;A===null?y.next=y:(y.next=A.next,A.next=y),f.pending=y}b!==0&&P1(c,y,b)}}function Ef(r,o,c,f){is[lc++]=r,is[lc++]=o,is[lc++]=c,is[lc++]=f,py|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function gy(r,o,c,f){return Ef(r,o,c,f),Tf(r)}function cc(r,o){return Ef(r,null,null,o),Tf(r)}function P1(r,o,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,b=r.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&o!==null&&(y=31-En(c),r=b.hiddenUpdates,f=r[y],f===null?r[y]=[o]:f.push(o),o.lane=c|536870912),b):null}function Tf(r){if(50<xd)throw xd=0,_0=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var uc={};function MM(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(r,o,c,f){return new MM(r,o,c,f)}function yy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cr(r,o){var c=r.alternate;return c===null?(c=Oi(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function M1(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Af(r,o,c,f,y,b){var A=0;if(f=r,typeof r=="function")yy(r)&&(A=1);else if(typeof r=="string")A=O4(r,c,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=Oi(31,c,o,y),r.elementType=P,r.lanes=b,r;case E:return Uo(c.children,y,b,o);case C:A=8,y|=24;break;case S:return r=Oi(12,c,o,y|2),r.elementType=S,r.lanes=b,r;case q:return r=Oi(13,c,o,y),r.elementType=q,r.lanes=b,r;case J:return r=Oi(19,c,o,y),r.elementType=J,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case V:A=10;break e;case U:A=9;break e;case $:A=11;break e;case z:A=14;break e;case k:A=16,f=null;break e}A=29,c=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=Oi(A,c,o,y),o.elementType=r,o.type=f,o.lanes=b,o}function Uo(r,o,c,f){return r=Oi(7,r,f,o),r.lanes=c,r}function vy(r,o,c){return r=Oi(6,r,null,o),r.lanes=c,r}function by(r,o,c){return o=Oi(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var dc=[],hc=0,Sf=null,Cf=0,ss=[],rs=0,Bo=null,kr=1,Rr="";function Fo(r,o){dc[hc++]=Cf,dc[hc++]=Sf,Sf=r,Cf=o}function D1(r,o,c){ss[rs++]=kr,ss[rs++]=Rr,ss[rs++]=Bo,Bo=r;var f=kr;r=Rr;var y=32-En(f)-1;f&=~(1<<y),c+=1;var b=32-En(o)+y;if(30<b){var A=y-y%5;b=(f&(1<<A)-1).toString(32),f>>=A,y-=A,kr=1<<32-En(o)+y|c<<y|f,Rr=b+r}else kr=1<<b|c<<y|f,Rr=r}function xy(r){r.return!==null&&(Fo(r,1),D1(r,1,0))}function wy(r){for(;r===Sf;)Sf=dc[--hc],dc[hc]=null,Cf=dc[--hc],dc[hc]=null;for(;r===Bo;)Bo=ss[--rs],ss[rs]=null,Rr=ss[--rs],ss[rs]=null,kr=ss[--rs],ss[rs]=null}var li=null,Xt=null,pt=!1,Ho=null,$s=!1,_y=Error(i(519));function qo(r){var o=Error(i(418,""));throw Zu(ns(o,r)),_y}function O1(r){var o=r.stateNode,c=r.type,f=r.memoizedProps;switch(o[Jt]=r,o[Wt]=f,c){case"dialog":Xe("cancel",o),Xe("close",o);break;case"iframe":case"object":case"embed":Xe("load",o);break;case"video":case"audio":for(c=0;c<_d.length;c++)Xe(_d[c],o);break;case"source":Xe("error",o);break;case"img":case"image":case"link":Xe("error",o),Xe("load",o);break;case"details":Xe("toggle",o);break;case"input":Xe("invalid",o),ko(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Xl(o);break;case"select":Xe("invalid",o);break;case"textarea":Xe("invalid",o),Ro(o,f.value,f.defaultValue,f.children),Xl(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||J2(o.textContent,c)?(f.popover!=null&&(Xe("beforetoggle",o),Xe("toggle",o)),f.onScroll!=null&&Xe("scroll",o),f.onScrollEnd!=null&&Xe("scrollend",o),f.onClick!=null&&(o.onclick=om),o=!0):o=!1,o||qo(r)}function L1(r){for(li=r.return;li;)switch(li.tag){case 5:case 13:$s=!1;return;case 27:case 3:$s=!0;return;default:li=li.return}}function Xu(r){if(r!==li)return!1;if(!pt)return L1(r),pt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||V0(r.type,r.memoizedProps)),c=!c),c&&Xt&&qo(r),L1(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){Xt=As(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}Xt=null}}else o===27?(o=Xt,Na(r.type)?(r=F0,F0=null,Xt=r):Xt=o):Xt=li?As(r.stateNode.nextSibling):null;return!0}function Qu(){Xt=li=null,pt=!1}function V1(){var r=Ho;return r!==null&&(bi===null?bi=r:bi.push.apply(bi,r),Ho=null),r}function Zu(r){Ho===null?Ho=[r]:Ho.push(r)}var Ey=oe(null),$o=null,Nr=null;function pa(r,o,c){me(Ey,o._currentValue),o._currentValue=c}function jr(r){r._currentValue=Ey.current,pe(Ey)}function Ty(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function Ay(r,o,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=y;for(var F=0;F<o.length;F++)if(j.context===o[F]){b.lanes|=c,j=b.alternate,j!==null&&(j.lanes|=c),Ty(b.return,c,r),f||(A=null);break e}b=j.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(i(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),Ty(A,c,r),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===r){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function Ju(r,o,c,f){r=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var j=y.type;Di(y.pendingProps.value,A.value)||(r!==null?r.push(j):r=[j])}}else if(y===kt.current){if(A=y.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(kd):r=[kd])}y=y.return}r!==null&&Ay(o,r,c,f),o.flags|=262144}function kf(r){for(r=r.firstContext;r!==null;){if(!Di(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Wo(r){$o=r,Nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Gn(r){return z1($o,r)}function Rf(r,o){return $o===null&&Wo(r),z1(r,o)}function z1(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Nr===null){if(r===null)throw Error(i(308));Nr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Nr=Nr.next=o;return c}var DM=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},OM=t.unstable_scheduleCallback,LM=t.unstable_NormalPriority,yn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sy(){return{controller:new DM,data:new Map,refCount:0}}function ed(r){r.refCount--,r.refCount===0&&OM(LM,function(){r.controller.abort()})}var td=null,Cy=0,fc=0,mc=null;function VM(r,o){if(td===null){var c=td=[];Cy=0,fc=R0(),mc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Cy++,o.then(U1,U1),o}function U1(){if(--Cy===0&&td!==null){mc!==null&&(mc.status="fulfilled");var r=td;td=null,fc=0,mc=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function zM(r,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var B1=W.S;W.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&VM(r,o),B1!==null&&B1(r,o)};var Go=oe(null);function ky(){var r=Go.current;return r!==null?r:Mt.pooledCache}function Nf(r,o){o===null?me(Go,Go.current):me(Go,o.pool)}function F1(){var r=ky();return r===null?null:{parent:yn._currentValue,pool:r}}var nd=Error(i(460)),H1=Error(i(474)),jf=Error(i(542)),Ry={then:function(){}};function q1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function If(){}function $1(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(If,If),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,G1(r),r;default:if(typeof o.status=="string")o.then(If,If);else{if(r=Mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,G1(r),r}throw id=o,nd}}var id=null;function W1(){if(id===null)throw Error(i(459));var r=id;return id=null,r}function G1(r){if(r===nd||r===jf)throw Error(i(483))}var ga=!1;function Ny(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jy(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ya(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function va(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(xt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Tf(r),P1(r,null,c),o}return Ef(r,f,o,c),Tf(r)}function sd(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Eo(r,c)}}function Iy(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?y=b=o:b=b.next=o}else y=b=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Py=!1;function rd(){if(Py){var r=mc;if(r!==null)throw r}}function ad(r,o,c,f){Py=!1;var y=r.updateQueue;ga=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var F=j,Z=F.next;F.next=null,A===null?b=Z:A.next=Z,A=F;var le=r.alternate;le!==null&&(le=le.updateQueue,j=le.lastBaseUpdate,j!==A&&(j===null?le.firstBaseUpdate=Z:j.next=Z,le.lastBaseUpdate=F))}if(b!==null){var ue=y.baseState;A=0,le=Z=F=null,j=b;do{var te=j.lane&-536870913,ie=te!==j.lane;if(ie?(st&te)===te:(f&te)===te){te!==0&&te===fc&&(Py=!0),le!==null&&(le=le.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ve=r,Ie=j;te=o;var Ct=c;switch(Ie.tag){case 1:if(Ve=Ie.payload,typeof Ve=="function"){ue=Ve.call(Ct,ue,te);break e}ue=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ie.payload,te=typeof Ve=="function"?Ve.call(Ct,ue,te):Ve,te==null)break e;ue=p({},ue,te);break e;case 2:ga=!0}}te=j.callback,te!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},le===null?(Z=le=ie,F=ue):le=le.next=ie,A|=te;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ie=j,j=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);le===null&&(F=ue),y.baseState=F,y.firstBaseUpdate=Z,y.lastBaseUpdate=le,b===null&&(y.shared.lanes=0),Sa|=A,r.lanes=A,r.memoizedState=ue}}function K1(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Y1(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)K1(c[r],o)}var pc=oe(null),Pf=oe(0);function X1(r,o){r=Vr,me(Pf,r),me(pc,o),Vr=r|o.baseLanes}function My(){me(Pf,Vr),me(pc,pc.current)}function Dy(){Vr=Pf.current,pe(pc),pe(Pf)}var ba=0,qe=null,At=null,cn=null,Mf=!1,gc=!1,Ko=!1,Df=0,od=0,yc=null,UM=0;function en(){throw Error(i(321))}function Oy(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Di(r[c],o[c]))return!1;return!0}function Ly(r,o,c,f,y,b){return ba=b,qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=r===null||r.memoizedState===null?P_:M_,Ko=!1,b=c(f,y),Ko=!1,gc&&(b=Z1(o,c,f,y)),Q1(r),b}function Q1(r){W.H=Bf;var o=At!==null&&At.next!==null;if(ba=0,cn=At=qe=null,Mf=!1,od=0,yc=null,o)throw Error(i(300));r===null||kn||(r=r.dependencies,r!==null&&kf(r)&&(kn=!0))}function Z1(r,o,c,f){qe=r;var y=0;do{if(gc&&(yc=null),od=0,gc=!1,25<=y)throw Error(i(301));if(y+=1,cn=At=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=GM,b=o(c,f)}while(gc);return b}function BM(){var r=W.H,o=r.useState()[0];return o=typeof o.then=="function"?ld(o):o,r=r.useState()[0],(At!==null?At.memoizedState:null)!==r&&(qe.flags|=1024),o}function Vy(){var r=Df!==0;return Df=0,r}function zy(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Uy(r){if(Mf){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Mf=!1}ba=0,cn=At=qe=null,gc=!1,od=Df=0,yc=null}function yi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?qe.memoizedState=cn=r:cn=cn.next=r,cn}function un(){if(At===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var o=cn===null?qe.memoizedState:cn.next;if(o!==null)cn=o,At=r;else{if(r===null)throw qe.alternate===null?Error(i(467)):Error(i(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},cn===null?qe.memoizedState=cn=r:cn=cn.next=r}return cn}function By(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ld(r){var o=od;return od+=1,yc===null&&(yc=[]),r=$1(yc,r,o),o=qe,(cn===null?o.memoizedState:cn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?P_:M_),r}function Of(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ld(r);if(r.$$typeof===V)return Gn(r)}throw Error(i(438,String(r)))}function Fy(r){var o=null,c=qe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=By(),qe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),f=0;f<r;f++)c[f]=O;return o.index++,c}function Ir(r,o){return typeof o=="function"?o(r):o}function Lf(r){var o=un();return Hy(o,At,r)}function Hy(r,o,c){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var y=r.baseQueue,b=f.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}o.baseQueue=y=b,f.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{o=y.next;var j=A=null,F=null,Z=o,le=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(st&ue)===ue:(ba&ue)===ue){var te=Z.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===fc&&(le=!0);else if((ba&te)===te){Z=Z.next,te===fc&&(le=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(j=F=ue,A=b):F=F.next=ue,qe.lanes|=te,Sa|=te;ue=Z.action,Ko&&c(b,ue),b=Z.hasEagerState?Z.eagerState:c(b,ue)}else te={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(j=F=te,A=b):F=F.next=te,qe.lanes|=ue,Sa|=ue;Z=Z.next}while(Z!==null&&Z!==o);if(F===null?A=b:F.next=j,!Di(b,r.memoizedState)&&(kn=!0,le&&(c=mc,c!==null)))throw c;r.memoizedState=b,r.baseState=A,r.baseQueue=F,f.lastRenderedState=b}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function qy(r){var o=un(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,b=o.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do b=r(b,A.action),A=A.next;while(A!==y);Di(b,o.memoizedState)||(kn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,f]}function J1(r,o,c){var f=qe,y=un(),b=pt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=o();var A=!Di((At||y).memoizedState,c);A&&(y.memoizedState=c,kn=!0),y=y.queue;var j=n_.bind(null,f,y,r);if(cd(2048,8,j,[r]),y.getSnapshot!==o||A||cn!==null&&cn.memoizedState.tag&1){if(f.flags|=2048,vc(9,Vf(),t_.bind(null,f,y,c,o),null),Mt===null)throw Error(i(349));b||(ba&124)!==0||e_(f,o,c)}return c}function e_(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=qe.updateQueue,o===null?(o=By(),qe.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function t_(r,o,c,f){o.value=c,o.getSnapshot=f,i_(o)&&s_(r)}function n_(r,o,c){return c(function(){i_(o)&&s_(r)})}function i_(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Di(r,c)}catch{return!0}}function s_(r){var o=cc(r,2);o!==null&&Bi(o,r,2)}function $y(r){var o=yi();if(typeof r=="function"){var c=r;if(r=c(),Ko){ai(!0);try{c()}finally{ai(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:r},o}function r_(r,o,c,f){return r.baseState=c,Hy(r,At,typeof f=="function"?f:Ir)}function FM(r,o,c,f,y){if(Uf(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};W.T!==null?c(!0):b.isTransition=!1,f(b),c=o.pending,c===null?(b.next=o.pending=b,a_(o,b)):(b.next=c.next,o.pending=c.next=b)}}function a_(r,o){var c=o.action,f=o.payload,y=r.state;if(o.isTransition){var b=W.T,A={};W.T=A;try{var j=c(y,f),F=W.S;F!==null&&F(A,j),o_(r,o,j)}catch(Z){Wy(r,o,Z)}finally{W.T=b}}else try{b=c(y,f),o_(r,o,b)}catch(Z){Wy(r,o,Z)}}function o_(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){l_(r,o,f)},function(f){return Wy(r,o,f)}):l_(r,o,c)}function l_(r,o,c){o.status="fulfilled",o.value=c,c_(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,a_(r,c)))}function Wy(r,o,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,c_(o),o=o.next;while(o!==f)}r.action=null}function c_(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function u_(r,o){return o}function d_(r,o){if(pt){var c=Mt.formState;if(c!==null){e:{var f=qe;if(pt){if(Xt){t:{for(var y=Xt,b=$s;y.nodeType!==8;){if(!b){y=null;break t}if(y=As(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Xt=As(y.nextSibling),f=y.data==="F!";break e}}qo(f)}f=!1}f&&(o=c[0])}}return c=yi(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:o},c.queue=f,c=N_.bind(null,qe,f),f.dispatch=c,f=$y(!1),b=Qy.bind(null,qe,!1,f.queue),f=yi(),y={state:o,dispatch:null,action:r,pending:null},f.queue=y,c=FM.bind(null,qe,y,b,c),y.dispatch=c,f.memoizedState=r,[o,c,!1]}function h_(r){var o=un();return f_(o,At,r)}function f_(r,o,c){if(o=Hy(r,o,u_)[0],r=Lf(Ir)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=ld(o)}catch(A){throw A===nd?jf:A}else f=o;o=un();var y=o.queue,b=y.dispatch;return c!==o.memoizedState&&(qe.flags|=2048,vc(9,Vf(),HM.bind(null,y,c),null)),[f,b,r]}function HM(r,o){r.action=o}function m_(r){var o=un(),c=At;if(c!==null)return f_(o,c,r);un(),o=o.memoizedState,c=un();var f=c.queue.dispatch;return c.memoizedState=r,[o,f,!1]}function vc(r,o,c,f){return r={tag:r,create:c,deps:f,inst:o,next:null},o=qe.updateQueue,o===null&&(o=By(),qe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r),r}function Vf(){return{destroy:void 0,resource:void 0}}function p_(){return un().memoizedState}function zf(r,o,c,f){var y=yi();f=f===void 0?null:f,qe.flags|=r,y.memoizedState=vc(1|o,Vf(),c,f)}function cd(r,o,c,f){var y=un();f=f===void 0?null:f;var b=y.memoizedState.inst;At!==null&&f!==null&&Oy(f,At.memoizedState.deps)?y.memoizedState=vc(o,b,c,f):(qe.flags|=r,y.memoizedState=vc(1|o,b,c,f))}function g_(r,o){zf(8390656,8,r,o)}function y_(r,o){cd(2048,8,r,o)}function v_(r,o){return cd(4,2,r,o)}function b_(r,o){return cd(4,4,r,o)}function x_(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function w_(r,o,c){c=c!=null?c.concat([r]):null,cd(4,4,x_.bind(null,o,r),c)}function Gy(){}function __(r,o){var c=un();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&Oy(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function E_(r,o){var c=un();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&Oy(o,f[1]))return f[0];if(f=r(),Ko){ai(!0);try{r()}finally{ai(!1)}}return c.memoizedState=[f,o],f}function Ky(r,o,c){return c===void 0||(ba&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=S2(),qe.lanes|=r,Sa|=r,c)}function T_(r,o,c,f){return Di(c,o)?c:pc.current!==null?(r=Ky(r,c,f),Di(r,o)||(kn=!0),r):(ba&42)===0?(kn=!0,r.memoizedState=c):(r=S2(),qe.lanes|=r,Sa|=r,o)}function A_(r,o,c,f,y){var b=ne.p;ne.p=b!==0&&8>b?b:8;var A=W.T,j={};W.T=j,Qy(r,!1,o,c);try{var F=y(),Z=W.S;if(Z!==null&&Z(j,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=zM(F,f);ud(r,o,le,Ui(r))}else ud(r,o,f,Ui(r))}catch(ue){ud(r,o,{then:function(){},status:"rejected",reason:ue},Ui())}finally{ne.p=b,W.T=A}}function qM(){}function Yy(r,o,c,f){if(r.tag!==5)throw Error(i(476));var y=S_(r).queue;A_(r,y,o,he,c===null?qM:function(){return C_(r),c(f)})}function S_(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:he},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function C_(r){var o=S_(r).next.queue;ud(r,o,{},Ui())}function Xy(){return Gn(kd)}function k_(){return un().memoizedState}function R_(){return un().memoizedState}function $M(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Ui();r=ya(c);var f=va(o,r,c);f!==null&&(Bi(f,o,c),sd(f,o,c)),o={cache:Sy()},r.payload=o;return}o=o.return}}function WM(r,o,c){var f=Ui();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Uf(r)?j_(o,c):(c=gy(r,o,c,f),c!==null&&(Bi(c,r,f),I_(c,o,f)))}function N_(r,o,c){var f=Ui();ud(r,o,c,f)}function ud(r,o,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Uf(r))j_(o,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var A=o.lastRenderedState,j=b(A,c);if(y.hasEagerState=!0,y.eagerState=j,Di(j,A))return Ef(r,o,y,0),Mt===null&&_f(),!1}catch{}finally{}if(c=gy(r,o,y,f),c!==null)return Bi(c,r,f),I_(c,o,f),!0}return!1}function Qy(r,o,c,f){if(f={lane:2,revertLane:R0(),action:f,hasEagerState:!1,eagerState:null,next:null},Uf(r)){if(o)throw Error(i(479))}else o=gy(r,c,f,2),o!==null&&Bi(o,r,2)}function Uf(r){var o=r.alternate;return r===qe||o!==null&&o===qe}function j_(r,o){gc=Mf=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function I_(r,o,c){if((c&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Eo(r,c)}}var Bf={readContext:Gn,use:Of,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},P_={readContext:Gn,use:Of,useCallback:function(r,o){return yi().memoizedState=[r,o===void 0?null:o],r},useContext:Gn,useEffect:g_,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,zf(4194308,4,x_.bind(null,o,r),c)},useLayoutEffect:function(r,o){return zf(4194308,4,r,o)},useInsertionEffect:function(r,o){zf(4,2,r,o)},useMemo:function(r,o){var c=yi();o=o===void 0?null:o;var f=r();if(Ko){ai(!0);try{r()}finally{ai(!1)}}return c.memoizedState=[f,o],f},useReducer:function(r,o,c){var f=yi();if(c!==void 0){var y=c(o);if(Ko){ai(!0);try{c(o)}finally{ai(!1)}}}else y=o;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=WM.bind(null,qe,r),[f.memoizedState,r]},useRef:function(r){var o=yi();return r={current:r},o.memoizedState=r},useState:function(r){r=$y(r);var o=r.queue,c=N_.bind(null,qe,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Gy,useDeferredValue:function(r,o){var c=yi();return Ky(c,r,o)},useTransition:function(){var r=$y(!1);return r=A_.bind(null,qe,r.queue,!0,!1),yi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var f=qe,y=yi();if(pt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),Mt===null)throw Error(i(349));(st&124)!==0||e_(f,o,c)}y.memoizedState=c;var b={value:c,getSnapshot:o};return y.queue=b,g_(n_.bind(null,f,b,r),[r]),f.flags|=2048,vc(9,Vf(),t_.bind(null,f,b,c,o),null),c},useId:function(){var r=yi(),o=Mt.identifierPrefix;if(pt){var c=Rr,f=kr;c=(f&~(1<<32-En(f)-1)).toString(32)+c,o=""+o+"R"+c,c=Df++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=UM++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Xy,useFormState:d_,useActionState:d_,useOptimistic:function(r){var o=yi();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Qy.bind(null,qe,!0,c),c.dispatch=o,[r,o]},useMemoCache:Fy,useCacheRefresh:function(){return yi().memoizedState=$M.bind(null,qe)}},M_={readContext:Gn,use:Of,useCallback:__,useContext:Gn,useEffect:y_,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:E_,useReducer:Lf,useRef:p_,useState:function(){return Lf(Ir)},useDebugValue:Gy,useDeferredValue:function(r,o){var c=un();return T_(c,At.memoizedState,r,o)},useTransition:function(){var r=Lf(Ir)[0],o=un().memoizedState;return[typeof r=="boolean"?r:ld(r),o]},useSyncExternalStore:J1,useId:k_,useHostTransitionStatus:Xy,useFormState:h_,useActionState:h_,useOptimistic:function(r,o){var c=un();return r_(c,At,r,o)},useMemoCache:Fy,useCacheRefresh:R_},GM={readContext:Gn,use:Of,useCallback:__,useContext:Gn,useEffect:y_,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:b_,useMemo:E_,useReducer:qy,useRef:p_,useState:function(){return qy(Ir)},useDebugValue:Gy,useDeferredValue:function(r,o){var c=un();return At===null?Ky(c,r,o):T_(c,At.memoizedState,r,o)},useTransition:function(){var r=qy(Ir)[0],o=un().memoizedState;return[typeof r=="boolean"?r:ld(r),o]},useSyncExternalStore:J1,useId:k_,useHostTransitionStatus:Xy,useFormState:m_,useActionState:m_,useOptimistic:function(r,o){var c=un();return At!==null?r_(c,At,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Fy,useCacheRefresh:R_},bc=null,dd=0;function Ff(r){var o=dd;return dd+=1,bc===null&&(bc=[]),$1(bc,r,o)}function hd(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Hf(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function D_(r){var o=r._init;return o(r._payload)}function O_(r){function o(K,G){if(r){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function c(K,G){if(!r)return null;for(;G!==null;)o(K,G),G=G.sibling;return null}function f(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function y(K,G){return K=Cr(K,G),K.index=0,K.sibling=null,K}function b(K,G,Q){return K.index=Q,r?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=67108866,G):Q):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function A(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function j(K,G,Q,ce){return G===null||G.tag!==6?(G=vy(Q,K.mode,ce),G.return=K,G):(G=y(G,Q),G.return=K,G)}function F(K,G,Q,ce){var Ae=Q.type;return Ae===E?le(K,G,Q.props.children,ce,Q.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===k&&D_(Ae)===G.type)?(G=y(G,Q.props),hd(G,Q),G.return=K,G):(G=Af(Q.type,Q.key,Q.props,null,K.mode,ce),hd(G,Q),G.return=K,G)}function Z(K,G,Q,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=by(Q,K.mode,ce),G.return=K,G):(G=y(G,Q.children||[]),G.return=K,G)}function le(K,G,Q,ce,Ae){return G===null||G.tag!==7?(G=Uo(Q,K.mode,ce,Ae),G.return=K,G):(G=y(G,Q),G.return=K,G)}function ue(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=vy(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return Q=Af(G.type,G.key,G.props,null,K.mode,Q),hd(Q,G),Q.return=K,Q;case _:return G=by(G,K.mode,Q),G.return=K,G;case k:var ce=G._init;return G=ce(G._payload),ue(K,G,Q)}if(ee(G)||D(G))return G=Uo(G,K.mode,Q,null),G.return=K,G;if(typeof G.then=="function")return ue(K,Ff(G),Q);if(G.$$typeof===V)return ue(K,Rf(K,G),Q);Hf(K,G)}return null}function te(K,G,Q,ce){var Ae=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:j(K,G,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Ae?F(K,G,Q,ce):null;case _:return Q.key===Ae?Z(K,G,Q,ce):null;case k:return Ae=Q._init,Q=Ae(Q._payload),te(K,G,Q,ce)}if(ee(Q)||D(Q))return Ae!==null?null:le(K,G,Q,ce,null);if(typeof Q.then=="function")return te(K,G,Ff(Q),ce);if(Q.$$typeof===V)return te(K,G,Rf(K,Q),ce);Hf(K,Q)}return null}function ie(K,G,Q,ce,Ae){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(Q)||null,j(G,K,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return K=K.get(ce.key===null?Q:ce.key)||null,F(G,K,ce,Ae);case _:return K=K.get(ce.key===null?Q:ce.key)||null,Z(G,K,ce,Ae);case k:var Ge=ce._init;return ce=Ge(ce._payload),ie(K,G,Q,ce,Ae)}if(ee(ce)||D(ce))return K=K.get(Q)||null,le(G,K,ce,Ae,null);if(typeof ce.then=="function")return ie(K,G,Q,Ff(ce),Ae);if(ce.$$typeof===V)return ie(K,G,Q,Rf(G,ce),Ae);Hf(G,ce)}return null}function Ve(K,G,Q,ce){for(var Ae=null,Ge=null,Ce=G,Pe=G=0,Nn=null;Ce!==null&&Pe<Q.length;Pe++){Ce.index>Pe?(Nn=Ce,Ce=null):Nn=Ce.sibling;var ut=te(K,Ce,Q[Pe],ce);if(ut===null){Ce===null&&(Ce=Nn);break}r&&Ce&&ut.alternate===null&&o(K,Ce),G=b(ut,G,Pe),Ge===null?Ae=ut:Ge.sibling=ut,Ge=ut,Ce=Nn}if(Pe===Q.length)return c(K,Ce),pt&&Fo(K,Pe),Ae;if(Ce===null){for(;Pe<Q.length;Pe++)Ce=ue(K,Q[Pe],ce),Ce!==null&&(G=b(Ce,G,Pe),Ge===null?Ae=Ce:Ge.sibling=Ce,Ge=Ce);return pt&&Fo(K,Pe),Ae}for(Ce=f(Ce);Pe<Q.length;Pe++)Nn=ie(Ce,K,Pe,Q[Pe],ce),Nn!==null&&(r&&Nn.alternate!==null&&Ce.delete(Nn.key===null?Pe:Nn.key),G=b(Nn,G,Pe),Ge===null?Ae=Nn:Ge.sibling=Nn,Ge=Nn);return r&&Ce.forEach(function(Da){return o(K,Da)}),pt&&Fo(K,Pe),Ae}function Ie(K,G,Q,ce){if(Q==null)throw Error(i(151));for(var Ae=null,Ge=null,Ce=G,Pe=G=0,Nn=null,ut=Q.next();Ce!==null&&!ut.done;Pe++,ut=Q.next()){Ce.index>Pe?(Nn=Ce,Ce=null):Nn=Ce.sibling;var Da=te(K,Ce,ut.value,ce);if(Da===null){Ce===null&&(Ce=Nn);break}r&&Ce&&Da.alternate===null&&o(K,Ce),G=b(Da,G,Pe),Ge===null?Ae=Da:Ge.sibling=Da,Ge=Da,Ce=Nn}if(ut.done)return c(K,Ce),pt&&Fo(K,Pe),Ae;if(Ce===null){for(;!ut.done;Pe++,ut=Q.next())ut=ue(K,ut.value,ce),ut!==null&&(G=b(ut,G,Pe),Ge===null?Ae=ut:Ge.sibling=ut,Ge=ut);return pt&&Fo(K,Pe),Ae}for(Ce=f(Ce);!ut.done;Pe++,ut=Q.next())ut=ie(Ce,K,Pe,ut.value,ce),ut!==null&&(r&&ut.alternate!==null&&Ce.delete(ut.key===null?Pe:ut.key),G=b(ut,G,Pe),Ge===null?Ae=ut:Ge.sibling=ut,Ge=ut);return r&&Ce.forEach(function(K4){return o(K,K4)}),pt&&Fo(K,Pe),Ae}function Ct(K,G,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var Ae=Q.key;G!==null;){if(G.key===Ae){if(Ae=Q.type,Ae===E){if(G.tag===7){c(K,G.sibling),ce=y(G,Q.props.children),ce.return=K,K=ce;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===k&&D_(Ae)===G.type){c(K,G.sibling),ce=y(G,Q.props),hd(ce,Q),ce.return=K,K=ce;break e}c(K,G);break}else o(K,G);G=G.sibling}Q.type===E?(ce=Uo(Q.props.children,K.mode,ce,Q.key),ce.return=K,K=ce):(ce=Af(Q.type,Q.key,Q.props,null,K.mode,ce),hd(ce,Q),ce.return=K,K=ce)}return A(K);case _:e:{for(Ae=Q.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){c(K,G.sibling),ce=y(G,Q.children||[]),ce.return=K,K=ce;break e}else{c(K,G);break}else o(K,G);G=G.sibling}ce=by(Q,K.mode,ce),ce.return=K,K=ce}return A(K);case k:return Ae=Q._init,Q=Ae(Q._payload),Ct(K,G,Q,ce)}if(ee(Q))return Ve(K,G,Q,ce);if(D(Q)){if(Ae=D(Q),typeof Ae!="function")throw Error(i(150));return Q=Ae.call(Q),Ie(K,G,Q,ce)}if(typeof Q.then=="function")return Ct(K,G,Ff(Q),ce);if(Q.$$typeof===V)return Ct(K,G,Rf(K,Q),ce);Hf(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(c(K,G.sibling),ce=y(G,Q),ce.return=K,K=ce):(c(K,G),ce=vy(Q,K.mode,ce),ce.return=K,K=ce),A(K)):c(K,G)}return function(K,G,Q,ce){try{dd=0;var Ae=Ct(K,G,Q,ce);return bc=null,Ae}catch(Ce){if(Ce===nd||Ce===jf)throw Ce;var Ge=Oi(29,Ce,null,K.mode);return Ge.lanes=ce,Ge.return=K,Ge}finally{}}}var xc=O_(!0),L_=O_(!1),as=oe(null),Ws=null;function xa(r){var o=r.alternate;me(vn,vn.current&1),me(as,r),Ws===null&&(o===null||pc.current!==null||o.memoizedState!==null)&&(Ws=r)}function V_(r){if(r.tag===22){if(me(vn,vn.current),me(as,r),Ws===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ws=r)}}else wa()}function wa(){me(vn,vn.current),me(as,as.current)}function Pr(r){pe(as),Ws===r&&(Ws=null),pe(vn)}var vn=oe(0);function qf(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||B0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Zy(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:p({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Jy={enqueueSetState:function(r,o,c){r=r._reactInternals;var f=Ui(),y=ya(f);y.payload=o,c!=null&&(y.callback=c),o=va(r,y,f),o!==null&&(Bi(o,r,f),sd(o,r,f))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=Ui(),y=ya(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=va(r,y,f),o!==null&&(Bi(o,r,f),sd(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Ui(),f=ya(c);f.tag=2,o!=null&&(f.callback=o),o=va(r,f,c),o!==null&&(Bi(o,r,c),sd(o,r,c))}};function z_(r,o,c,f,y,b,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,A):o.prototype&&o.prototype.isPureReactComponent?!Ku(c,f)||!Ku(y,b):!0}function U_(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&Jy.enqueueReplaceState(o,o.state,null)}function Yo(r,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(r=r.defaultProps){c===o&&(c=p({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var $f=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function B_(r){$f(r)}function F_(r){console.error(r)}function H_(r){$f(r)}function Wf(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function q_(r,o,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function e0(r,o,c){return c=ya(c),c.tag=3,c.payload={element:null},c.callback=function(){Wf(r,o)},c}function $_(r){return r=ya(r),r.tag=3,r}function W_(r,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;r.payload=function(){return y(b)},r.callback=function(){q_(o,c,f)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){q_(o,c,f),typeof y!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})})}function KM(r,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&Ju(o,c,y,!0),c=as.current,c!==null){switch(c.tag){case 13:return Ws===null?T0():c.alternate===null&&Qt===0&&(Qt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===Ry?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),S0(r,f,y)),!1;case 22:return c.flags|=65536,f===Ry?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),S0(r,f,y)),!1}throw Error(i(435,c.tag))}return S0(r,f,y),T0(),!1}if(pt)return o=as.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==_y&&(r=Error(i(422),{cause:f}),Zu(ns(r,c)))):(f!==_y&&(o=Error(i(423),{cause:f}),Zu(ns(o,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=ns(f,c),y=e0(r.stateNode,f,y),Iy(r,y),Qt!==4&&(Qt=2)),!1;var b=Error(i(520),{cause:f});if(b=ns(b,c),bd===null?bd=[b]:bd.push(b),Qt!==4&&(Qt=2),o===null)return!0;f=ns(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=e0(c.stateNode,f,r),Iy(c,r),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ca===null||!Ca.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=$_(y),W_(y,r,c,f),Iy(c,y),!1}c=c.return}while(c!==null);return!1}var G_=Error(i(461)),kn=!1;function Ln(r,o,c,f){o.child=r===null?L_(o,null,c,f):xc(o,r.child,c,f)}function K_(r,o,c,f,y){c=c.render;var b=o.ref;if("ref"in f){var A={};for(var j in f)j!=="ref"&&(A[j]=f[j])}else A=f;return Wo(o),f=Ly(r,o,c,A,b,y),j=Vy(),r!==null&&!kn?(zy(r,o,y),Mr(r,o,y)):(pt&&j&&xy(o),o.flags|=1,Ln(r,o,f,y),o.child)}function Y_(r,o,c,f,y){if(r===null){var b=c.type;return typeof b=="function"&&!yy(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,X_(r,o,b,f,y)):(r=Af(c.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!l0(r,y)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:Ku,c(A,f)&&r.ref===o.ref)return Mr(r,o,y)}return o.flags|=1,r=Cr(b,f),r.ref=o.ref,r.return=o,o.child=r}function X_(r,o,c,f,y){if(r!==null){var b=r.memoizedProps;if(Ku(b,f)&&r.ref===o.ref)if(kn=!1,o.pendingProps=f=b,l0(r,y))(r.flags&131072)!==0&&(kn=!0);else return o.lanes=r.lanes,Mr(r,o,y)}return t0(r,o,c,f,y)}function Q_(r,o,c){var f=o.pendingProps,y=f.children,b=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|c:c,r!==null){for(y=o.child=r.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return Z_(r,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nf(o,b!==null?b.cachePool:null),b!==null?X1(o,b):My(),V_(o);else return o.lanes=o.childLanes=536870912,Z_(r,o,b!==null?b.baseLanes|c:c,c)}else b!==null?(Nf(o,b.cachePool),X1(o,b),wa(),o.memoizedState=null):(r!==null&&Nf(o,null),My(),wa());return Ln(r,o,y,c),o.child}function Z_(r,o,c,f){var y=ky();return y=y===null?null:{parent:yn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},r!==null&&Nf(o,null),My(),V_(o),r!==null&&Ju(r,o,f,!0),null}function Gf(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function t0(r,o,c,f,y){return Wo(o),c=Ly(r,o,c,f,void 0,y),f=Vy(),r!==null&&!kn?(zy(r,o,y),Mr(r,o,y)):(pt&&f&&xy(o),o.flags|=1,Ln(r,o,c,y),o.child)}function J_(r,o,c,f,y,b){return Wo(o),o.updateQueue=null,c=Z1(o,f,c,y),Q1(r),f=Vy(),r!==null&&!kn?(zy(r,o,b),Mr(r,o,b)):(pt&&f&&xy(o),o.flags|=1,Ln(r,o,c,b),o.child)}function e2(r,o,c,f,y){if(Wo(o),o.stateNode===null){var b=uc,A=c.contextType;typeof A=="object"&&A!==null&&(b=Gn(A)),b=new c(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Jy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},Ny(o),A=c.contextType,b.context=typeof A=="object"&&A!==null?Gn(A):uc,b.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Zy(o,c,A,f),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Jy.enqueueReplaceState(b,b.state,null),ad(o,f,b,y),rd(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){b=o.stateNode;var j=o.memoizedProps,F=Yo(c,j);b.props=F;var Z=b.context,le=c.contextType;A=uc,typeof le=="object"&&le!==null&&(A=Gn(le));var ue=c.getDerivedStateFromProps;le=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=o.pendingProps!==j,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||Z!==A)&&U_(o,b,f,A),ga=!1;var te=o.memoizedState;b.state=te,ad(o,f,b,y),rd(),Z=o.memoizedState,j||te!==Z||ga?(typeof ue=="function"&&(Zy(o,c,ue,f),Z=o.memoizedState),(F=ga||z_(o,c,F,f,te,Z,A))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Z),b.props=f,b.state=Z,b.context=A,f=F):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,jy(r,o),A=o.memoizedProps,le=Yo(c,A),b.props=le,ue=o.pendingProps,te=b.context,Z=c.contextType,F=uc,typeof Z=="object"&&Z!==null&&(F=Gn(Z)),j=c.getDerivedStateFromProps,(Z=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ue||te!==F)&&U_(o,b,f,F),ga=!1,te=o.memoizedState,b.state=te,ad(o,f,b,y),rd();var ie=o.memoizedState;A!==ue||te!==ie||ga||r!==null&&r.dependencies!==null&&kf(r.dependencies)?(typeof j=="function"&&(Zy(o,c,j,f),ie=o.memoizedState),(le=ga||z_(o,c,le,f,te,ie,F)||r!==null&&r.dependencies!==null&&kf(r.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ie,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ie,F)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ie),b.props=f,b.state=ie,b.context=F,f=le):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),f=!1)}return b=f,Gf(r,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&f?(o.child=xc(o,r.child,null,y),o.child=xc(o,null,c,y)):Ln(r,o,c,y),o.memoizedState=b.state,r=o.child):r=Mr(r,o,y),r}function t2(r,o,c,f){return Qu(),o.flags|=256,Ln(r,o,c,f),o.child}var n0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i0(r){return{baseLanes:r,cachePool:F1()}}function s0(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=os),r}function n2(r,o,c){var f=o.pendingProps,y=!1,b=(o.flags&128)!==0,A;if((A=b)||(A=r!==null&&r.memoizedState===null?!1:(vn.current&2)!==0),A&&(y=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,r===null){if(pt){if(y?xa(o):wa(),pt){var j=Xt,F;if(F=j){e:{for(F=j,j=$s;F.nodeType!==8;){if(!j){j=null;break e}if(F=As(F.nextSibling),F===null){j=null;break e}}j=F}j!==null?(o.memoizedState={dehydrated:j,treeContext:Bo!==null?{id:kr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},F=Oi(18,null,null,0),F.stateNode=j,F.return=o,o.child=F,li=o,Xt=null,F=!0):F=!1}F||qo(o)}if(j=o.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return B0(j)?o.lanes=32:o.lanes=536870912,null;Pr(o)}return j=f.children,f=f.fallback,y?(wa(),y=o.mode,j=Kf({mode:"hidden",children:j},y),f=Uo(f,y,c,null),j.return=o,f.return=o,j.sibling=f,o.child=j,y=o.child,y.memoizedState=i0(c),y.childLanes=s0(r,A,c),o.memoizedState=n0,f):(xa(o),r0(o,j))}if(F=r.memoizedState,F!==null&&(j=F.dehydrated,j!==null)){if(b)o.flags&256?(xa(o),o.flags&=-257,o=a0(r,o,c)):o.memoizedState!==null?(wa(),o.child=r.child,o.flags|=128,o=null):(wa(),y=f.fallback,j=o.mode,f=Kf({mode:"visible",children:f.children},j),y=Uo(y,j,c,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,xc(o,r.child,null,c),f=o.child,f.memoizedState=i0(c),f.childLanes=s0(r,A,c),o.memoizedState=n0,o=y);else if(xa(o),B0(j)){if(A=j.nextSibling&&j.nextSibling.dataset,A)var Z=A.dgst;A=Z,f=Error(i(419)),f.stack="",f.digest=A,Zu({value:f,source:null,stack:null}),o=a0(r,o,c)}else if(kn||Ju(r,o,c,!1),A=(c&r.childLanes)!==0,kn||A){if(A=Mt,A!==null&&(f=c&-c,f=(f&42)!==0?1:Os(f),f=(f&(A.suspendedLanes|c))!==0?0:f,f!==0&&f!==F.retryLane))throw F.retryLane=f,cc(r,f),Bi(A,r,f),G_;j.data==="$?"||T0(),o=a0(r,o,c)}else j.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=F.treeContext,Xt=As(j.nextSibling),li=o,pt=!0,Ho=null,$s=!1,r!==null&&(ss[rs++]=kr,ss[rs++]=Rr,ss[rs++]=Bo,kr=r.id,Rr=r.overflow,Bo=o),o=r0(o,f.children),o.flags|=4096);return o}return y?(wa(),y=f.fallback,j=o.mode,F=r.child,Z=F.sibling,f=Cr(F,{mode:"hidden",children:f.children}),f.subtreeFlags=F.subtreeFlags&65011712,Z!==null?y=Cr(Z,y):(y=Uo(y,j,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,j=r.child.memoizedState,j===null?j=i0(c):(F=j.cachePool,F!==null?(Z=yn._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=F1(),j={baseLanes:j.baseLanes|c,cachePool:F}),y.memoizedState=j,y.childLanes=s0(r,A,c),o.memoizedState=n0,f):(xa(o),c=r.child,r=c.sibling,c=Cr(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,r!==null&&(A=o.deletions,A===null?(o.deletions=[r],o.flags|=16):A.push(r)),o.child=c,o.memoizedState=null,c)}function r0(r,o){return o=Kf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Kf(r,o){return r=Oi(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function a0(r,o,c){return xc(o,r.child,null,c),r=r0(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function i2(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Ty(r.return,o,c)}function o0(r,o,c,f,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=c,b.tailMode=y)}function s2(r,o,c){var f=o.pendingProps,y=f.revealOrder,b=f.tail;if(Ln(r,o,f.children,c),f=vn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&i2(r,c,o);else if(r.tag===19)i2(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(me(vn,f),y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&qf(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),o0(o,!1,y,c,b);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&qf(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}o0(o,!0,c,null,b);break;case"together":o0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mr(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Sa|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(Ju(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=Cr(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Cr(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function l0(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&kf(r)))}function YM(r,o,c){switch(o.tag){case 3:ft(o,o.stateNode.containerInfo),pa(o,yn,r.memoizedState.cache),Qu();break;case 27:case 5:Ke(o);break;case 4:ft(o,o.stateNode.containerInfo);break;case 10:pa(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(xa(o),o.flags|=128,null):(c&o.child.childLanes)!==0?n2(r,o,c):(xa(o),r=Mr(r,o,c),r!==null?r.sibling:null);xa(o);break;case 19:var y=(r.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(Ju(r,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return s2(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),me(vn,vn.current),f)break;return null;case 22:case 23:return o.lanes=0,Q_(r,o,c);case 24:pa(o,yn,r.memoizedState.cache)}return Mr(r,o,c)}function r2(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)kn=!0;else{if(!l0(r,c)&&(o.flags&128)===0)return kn=!1,YM(r,o,c);kn=(r.flags&131072)!==0}else kn=!1,pt&&(o.flags&1048576)!==0&&D1(o,Cf,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")yy(f)?(r=Yo(f,r),o.tag=1,o=e2(null,o,f,r,c)):(o.tag=0,o=t0(null,o,f,r,c));else{if(f!=null){if(y=f.$$typeof,y===$){o.tag=11,o=K_(null,o,f,r,c);break e}else if(y===z){o.tag=14,o=Y_(null,o,f,r,c);break e}}throw o=ae(f)||f,Error(i(306,o,""))}}return o;case 0:return t0(r,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=Yo(f,o.pendingProps),e2(r,o,f,y,c);case 3:e:{if(ft(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;y=b.element,jy(r,o),ad(o,f,null,c);var A=o.memoizedState;if(f=A.cache,pa(o,yn,f),f!==b.cache&&Ay(o,[yn],c,!0),rd(),f=A.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=t2(r,o,f,c);break e}else if(f!==y){y=ns(Error(i(424)),o),Zu(y),o=t2(r,o,f,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Xt=As(r.firstChild),li=o,pt=!0,Ho=null,$s=!0,c=L_(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Qu(),f===y){o=Mr(r,o,c);break e}Ln(r,o,f,c)}o=o.child}return o;case 26:return Gf(r,o),r===null?(c=cE(o.type,null,o.pendingProps,null))?o.memoizedState=c:pt||(c=o.type,r=o.pendingProps,f=lm(Te.current).createElement(c),f[Jt]=o,f[Wt]=r,zn(f,c,r),Ut(f),o.stateNode=f):o.memoizedState=cE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ke(o),r===null&&pt&&(f=o.stateNode=aE(o.type,o.pendingProps,Te.current),li=o,$s=!0,y=Xt,Na(o.type)?(F0=y,Xt=As(f.firstChild)):Xt=y),Ln(r,o,o.pendingProps.children,c),Gf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&pt&&((y=f=Xt)&&(f=E4(f,o.type,o.pendingProps,$s),f!==null?(o.stateNode=f,li=o,Xt=As(f.firstChild),$s=!1,y=!0):y=!1),y||qo(o)),Ke(o),y=o.type,b=o.pendingProps,A=r!==null?r.memoizedProps:null,f=b.children,V0(y,b)?f=null:A!==null&&V0(y,A)&&(o.flags|=32),o.memoizedState!==null&&(y=Ly(r,o,BM,null,null,c),kd._currentValue=y),Gf(r,o),Ln(r,o,f,c),o.child;case 6:return r===null&&pt&&((r=c=Xt)&&(c=T4(c,o.pendingProps,$s),c!==null?(o.stateNode=c,li=o,Xt=null,r=!0):r=!1),r||qo(o)),null;case 13:return n2(r,o,c);case 4:return ft(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=xc(o,null,f,c):Ln(r,o,f,c),o.child;case 11:return K_(r,o,o.type,o.pendingProps,c);case 7:return Ln(r,o,o.pendingProps,c),o.child;case 8:return Ln(r,o,o.pendingProps.children,c),o.child;case 12:return Ln(r,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,pa(o,o.type,f.value),Ln(r,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Wo(o),y=Gn(y),f=f(y),o.flags|=1,Ln(r,o,f,c),o.child;case 14:return Y_(r,o,o.type,o.pendingProps,c);case 15:return X_(r,o,o.type,o.pendingProps,c);case 19:return s2(r,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},r===null?(c=Kf(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Cr(r.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return Q_(r,o,c);case 24:return Wo(o),f=Gn(yn),r===null?(y=ky(),y===null&&(y=Mt,b=Sy(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),o.memoizedState={parent:f,cache:y},Ny(o),pa(o,yn,y)):((r.lanes&c)!==0&&(jy(r,o),ad(o,null,null,c),rd()),y=r.memoizedState,b=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),pa(o,yn,f)):(f=b.cache,pa(o,yn,f),f!==y.cache&&Ay(o,[yn],c,!0))),Ln(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Dr(r){r.flags|=4}function a2(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!mE(o)){if(o=as.current,o!==null&&((st&4194048)===st?Ws!==null:(st&62914560)!==st&&(st&536870912)===0||o!==Ws))throw id=Ry,H1;r.flags|=8192}}function Yf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?wo():536870912,r.lanes|=o,Tc|=o)}function fd(r,o){if(!pt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Gt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function XM(r,o,c){var f=o.pendingProps;switch(wy(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return Gt(o),null;case 3:return c=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),jr(yn),be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Xu(o)?Dr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,V1())),Gt(o),null;case 26:return c=o.memoizedState,r===null?(Dr(o),c!==null?(Gt(o),a2(o,c)):(Gt(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Dr(o),Gt(o),a2(o,c)):(Gt(o),o.flags&=-16777217):(r.memoizedProps!==f&&Dr(o),Gt(o),o.flags&=-16777217),null;case 27:We(o),c=Te.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Dr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Gt(o),null}r=xe.current,Xu(o)?O1(o):(r=aE(y,f,c),o.stateNode=r,Dr(o))}return Gt(o),null;case 5:if(We(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Dr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Gt(o),null}if(r=xe.current,Xu(o))O1(o);else{switch(y=lm(Te.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}r[Jt]=o,r[Wt]=f;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(zn(r,c,f),c){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Dr(o)}}return Gt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Dr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=Te.current,Xu(o)){if(r=o.stateNode,c=o.memoizedProps,f=null,y=li,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[Jt]=o,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||J2(r.nodeValue,c)),r||qo(o)}else r=lm(r).createTextNode(f),r[Jt]=o,o.stateNode=r}return Gt(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Xu(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Jt]=o}else Qu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),y=!1}else y=V1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Pr(o),o):(Pr(o),null)}if(Pr(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,r=r!==null&&r.memoizedState!==null,c){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),Yf(o,o.updateQueue),Gt(o),null;case 4:return be(),r===null&&P0(o.stateNode.containerInfo),Gt(o),null;case 10:return jr(o.type),Gt(o),null;case 19:if(pe(vn),y=o.memoizedState,y===null)return Gt(o),null;if(f=(o.flags&128)!==0,b=y.rendering,b===null)if(f)fd(y,!1);else{if(Qt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=qf(r),b!==null){for(o.flags|=128,fd(y,!1),r=b.updateQueue,o.updateQueue=r,Yf(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)M1(c,r),c=c.sibling;return me(vn,vn.current&1|2),o.child}r=r.sibling}y.tail!==null&&$n()>Zf&&(o.flags|=128,f=!0,fd(y,!1),o.lanes=4194304)}else{if(!f)if(r=qf(b),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,Yf(o,r),fd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!pt)return Gt(o),null}else 2*$n()-y.renderingStartTime>Zf&&c!==536870912&&(o.flags|=128,f=!0,fd(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(r=y.last,r!==null?r.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=$n(),o.sibling=null,r=vn.current,me(vn,f?r&1|2:r&1),o):(Gt(o),null);case 22:case 23:return Pr(o),Dy(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),c=o.updateQueue,c!==null&&Yf(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),r!==null&&pe(Go),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),jr(yn),Gt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function QM(r,o){switch(wy(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return jr(yn),be(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return We(o),null;case 13:if(Pr(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Qu()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return pe(vn),null;case 4:return be(),null;case 10:return jr(o.type),null;case 22:case 23:return Pr(o),Dy(),r!==null&&pe(Go),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return jr(yn),null;case 25:return null;default:return null}}function o2(r,o){switch(wy(o),o.tag){case 3:jr(yn),be();break;case 26:case 27:case 5:We(o);break;case 4:be();break;case 13:Pr(o);break;case 19:pe(vn);break;case 10:jr(o.type);break;case 22:case 23:Pr(o),Dy(),r!==null&&pe(Go);break;case 24:jr(yn)}}function md(r,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var b=c.create,A=c.inst;f=b(),A.destroy=f}c=c.next}while(c!==y)}}catch(j){Nt(o,o.return,j)}}function _a(r,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&r)===r){var A=f.inst,j=A.destroy;if(j!==void 0){A.destroy=void 0,y=o;var F=c,Z=j;try{Z()}catch(le){Nt(y,F,le)}}}f=f.next}while(f!==b)}}catch(le){Nt(o,o.return,le)}}function l2(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{Y1(o,c)}catch(f){Nt(r,r.return,f)}}}function c2(r,o,c){c.props=Yo(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){Nt(r,o,f)}}function pd(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){Nt(r,o,y)}}function Gs(r,o){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Nt(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Nt(r,o,y)}else c.current=null}function u2(r){var o=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Nt(r,r.return,y)}}function c0(r,o,c){try{var f=r.stateNode;v4(f,r.type,c,o),f[Wt]=o}catch(y){Nt(r,r.return,y)}}function d2(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Na(r.type)||r.tag===4}function u0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||d2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Na(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function d0(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=om));else if(f!==4&&(f===27&&Na(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(d0(r,o,c),r=r.sibling;r!==null;)d0(r,o,c),r=r.sibling}function Xf(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(f===27&&Na(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Xf(r,o,c),r=r.sibling;r!==null;)Xf(r,o,c),r=r.sibling}function h2(r){var o=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);zn(o,f,c),o[Jt]=r,o[Wt]=c}catch(b){Nt(r,r.return,b)}}var Or=!1,tn=!1,h0=!1,f2=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function ZM(r,o){if(r=r.containerInfo,O0=mm,r=T1(r),uy(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var A=0,j=-1,F=-1,Z=0,le=0,ue=r,te=null;t:for(;;){for(var ie;ue!==c||y!==0&&ue.nodeType!==3||(j=A+y),ue!==b||f!==0&&ue.nodeType!==3||(F=A+f),ue.nodeType===3&&(A+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)te=ue,ue=ie;for(;;){if(ue===r)break t;if(te===c&&++Z===y&&(j=A),te===b&&++le===f&&(F=A),(ie=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ie}c=j===-1||F===-1?null:{start:j,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(L0={focusedElem:r,selectionRange:c},mm=!1,Rn=o;Rn!==null;)if(o=Rn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Rn=r;else for(;Rn!==null;){switch(o=Rn,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,c=o,y=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var Ve=Yo(c.type,y,c.elementType===c.type);r=f.getSnapshotBeforeUpdate(Ve,b),f.__reactInternalSnapshotBeforeUpdate=r}catch(Ie){Nt(c,c.return,Ie)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)U0(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":U0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Rn=r;break}Rn=o.return}}function m2(r,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ea(r,c),f&4&&md(5,c);break;case 1:if(Ea(r,c),f&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(A){Nt(c,c.return,A)}else{var y=Yo(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Nt(c,c.return,A)}}f&64&&l2(c),f&512&&pd(c,c.return);break;case 3:if(Ea(r,c),f&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Y1(r,o)}catch(A){Nt(c,c.return,A)}}break;case 27:o===null&&f&4&&h2(c);case 26:case 5:Ea(r,c),o===null&&f&4&&u2(c),f&512&&pd(c,c.return);break;case 12:Ea(r,c);break;case 13:Ea(r,c),f&4&&y2(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=o4.bind(null,c),A4(r,c))));break;case 22:if(f=c.memoizedState!==null||Or,!f){o=o!==null&&o.memoizedState!==null||tn,y=Or;var b=tn;Or=f,(tn=o)&&!b?Ta(r,c,(c.subtreeFlags&8772)!==0):Ea(r,c),Or=y,tn=b}break;case 30:break;default:Ea(r,c)}}function p2(r){var o=r.alternate;o!==null&&(r.alternate=null,p2(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&ws(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ft=null,vi=!1;function Lr(r,o,c){for(c=c.child;c!==null;)g2(r,o,c),c=c.sibling}function g2(r,o,c){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Ot,c)}catch{}switch(c.tag){case 26:tn||Gs(c,o),Lr(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:tn||Gs(c,o);var f=Ft,y=vi;Na(c.type)&&(Ft=c.stateNode,vi=!1),Lr(r,o,c),Td(c.stateNode),Ft=f,vi=y;break;case 5:tn||Gs(c,o);case 6:if(f=Ft,y=vi,Ft=null,Lr(r,o,c),Ft=f,vi=y,Ft!==null)if(vi)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(c.stateNode)}catch(b){Nt(c,o,b)}else try{Ft.removeChild(c.stateNode)}catch(b){Nt(c,o,b)}break;case 18:Ft!==null&&(vi?(r=Ft,sE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Id(r)):sE(Ft,c.stateNode));break;case 4:f=Ft,y=vi,Ft=c.stateNode.containerInfo,vi=!0,Lr(r,o,c),Ft=f,vi=y;break;case 0:case 11:case 14:case 15:tn||_a(2,c,o),tn||_a(4,c,o),Lr(r,o,c);break;case 1:tn||(Gs(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&c2(c,o,f)),Lr(r,o,c);break;case 21:Lr(r,o,c);break;case 22:tn=(f=tn)||c.memoizedState!==null,Lr(r,o,c),tn=f;break;default:Lr(r,o,c)}}function y2(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Id(r)}catch(c){Nt(o,o.return,c)}}function JM(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new f2),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new f2),o;default:throw Error(i(435,r.tag))}}function f0(r,o){var c=JM(r);o.forEach(function(f){var y=l4.bind(null,r,f);c.has(f)||(c.add(f),f.then(y,y))})}function Li(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],b=r,A=o,j=A;e:for(;j!==null;){switch(j.tag){case 27:if(Na(j.type)){Ft=j.stateNode,vi=!1;break e}break;case 5:Ft=j.stateNode,vi=!1;break e;case 3:case 4:Ft=j.stateNode.containerInfo,vi=!0;break e}j=j.return}if(Ft===null)throw Error(i(160));g2(b,A,y),Ft=null,vi=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)v2(o,r),o=o.sibling}var Ts=null;function v2(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Li(o,r),Vi(r),f&4&&(_a(3,r,r.return),md(3,r),_a(5,r,r.return));break;case 1:Li(o,r),Vi(r),f&512&&(tn||c===null||Gs(c,c.return)),f&64&&Or&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Ts;if(Li(o,r),Vi(r),f&512&&(tn||c===null||Gs(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Ls]||b[Jt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),zn(b,f,c),b[Jt]=r,Ut(b),f=b;break e;case"link":var A=hE("link","href",y).get(f+(c.href||""));if(A){for(var j=0;j<A.length;j++)if(b=A[j],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(j,1);break t}}b=y.createElement(f),zn(b,f,c),y.head.appendChild(b);break;case"meta":if(A=hE("meta","content",y).get(f+(c.content||""))){for(j=0;j<A.length;j++)if(b=A[j],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(j,1);break t}}b=y.createElement(f),zn(b,f,c),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[Jt]=r,Ut(b),f=b}r.stateNode=f}else fE(y,r.type,r.stateNode);else r.stateNode=dE(y,f,r.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?fE(y,r.type,r.stateNode):dE(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&c0(r,r.memoizedProps,c.memoizedProps)}break;case 27:Li(o,r),Vi(r),f&512&&(tn||c===null||Gs(c,c.return)),c!==null&&f&4&&c0(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Li(o,r),Vi(r),f&512&&(tn||c===null||Gs(c,c.return)),r.flags&32){y=r.stateNode;try{Zi(y,"")}catch(ie){Nt(r,r.return,ie)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,c0(r,y,c!==null?c.memoizedProps:y)),f&1024&&(h0=!0);break;case 6:if(Li(o,r),Vi(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(ie){Nt(r,r.return,ie)}}break;case 3:if(dm=null,y=Ts,Ts=cm(o.containerInfo),Li(o,r),Ts=y,Vi(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Id(o.containerInfo)}catch(ie){Nt(r,r.return,ie)}h0&&(h0=!1,b2(r));break;case 4:f=Ts,Ts=cm(r.stateNode.containerInfo),Li(o,r),Vi(r),Ts=f;break;case 12:Li(o,r),Vi(r);break;case 13:Li(o,r),Vi(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(b0=$n()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,f0(r,f)));break;case 22:y=r.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=Or,le=tn;if(Or=Z||y,tn=le||F,Li(o,r),tn=le,Or=Z,Vi(r),f&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||F||Or||tn||Xo(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){F=c=o;try{if(b=F.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{j=F.stateNode;var ue=F.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ie){Nt(F,F.return,ie)}}}else if(o.tag===6){if(c===null){F=o;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(ie){Nt(F,F.return,ie)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,f0(r,c))));break;case 19:Li(o,r),Vi(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,f0(r,f)));break;case 30:break;case 21:break;default:Li(o,r),Vi(r)}}function Vi(r){var o=r.flags;if(o&2){try{for(var c,f=r.return;f!==null;){if(d2(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var y=c.stateNode,b=u0(r);Xf(r,b,y);break;case 5:var A=c.stateNode;c.flags&32&&(Zi(A,""),c.flags&=-33);var j=u0(r);Xf(r,j,A);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=u0(r);d0(r,Z,F);break;default:throw Error(i(161))}}catch(le){Nt(r,r.return,le)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function b2(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;b2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Ea(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)m2(r,o.alternate,o),o=o.sibling}function Xo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:_a(4,o,o.return),Xo(o);break;case 1:Gs(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&c2(o,o.return,c),Xo(o);break;case 27:Td(o.stateNode);case 26:case 5:Gs(o,o.return),Xo(o);break;case 22:o.memoizedState===null&&Xo(o);break;case 30:Xo(o);break;default:Xo(o)}r=r.sibling}}function Ta(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=r,b=o,A=b.flags;switch(b.tag){case 0:case 11:case 15:Ta(y,b,c),md(4,b);break;case 1:if(Ta(y,b,c),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){Nt(f,f.return,Z)}if(f=b,y=f.updateQueue,y!==null){var j=f.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)K1(F[y],j)}catch(Z){Nt(f,f.return,Z)}}c&&A&64&&l2(b),pd(b,b.return);break;case 27:h2(b);case 26:case 5:Ta(y,b,c),c&&f===null&&A&4&&u2(b),pd(b,b.return);break;case 12:Ta(y,b,c);break;case 13:Ta(y,b,c),c&&A&4&&y2(y,b);break;case 22:b.memoizedState===null&&Ta(y,b,c),pd(b,b.return);break;case 30:break;default:Ta(y,b,c)}o=o.sibling}}function m0(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&ed(c))}function p0(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&ed(r))}function Ks(r,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)x2(r,o,c,f),o=o.sibling}function x2(r,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ks(r,o,c,f),y&2048&&md(9,o);break;case 1:Ks(r,o,c,f);break;case 3:Ks(r,o,c,f),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&ed(r)));break;case 12:if(y&2048){Ks(r,o,c,f),r=o.stateNode;try{var b=o.memoizedProps,A=b.id,j=b.onPostCommit;typeof j=="function"&&j(A,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Nt(o,o.return,F)}}else Ks(r,o,c,f);break;case 13:Ks(r,o,c,f);break;case 23:break;case 22:b=o.stateNode,A=o.alternate,o.memoizedState!==null?b._visibility&2?Ks(r,o,c,f):gd(r,o):b._visibility&2?Ks(r,o,c,f):(b._visibility|=2,wc(r,o,c,f,(o.subtreeFlags&10256)!==0)),y&2048&&m0(A,o);break;case 24:Ks(r,o,c,f),y&2048&&p0(o.alternate,o);break;default:Ks(r,o,c,f)}}function wc(r,o,c,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,A=o,j=c,F=f,Z=A.flags;switch(A.tag){case 0:case 11:case 15:wc(b,A,j,F,y),md(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?wc(b,A,j,F,y):gd(b,A):(le._visibility|=2,wc(b,A,j,F,y)),y&&Z&2048&&m0(A.alternate,A);break;case 24:wc(b,A,j,F,y),y&&Z&2048&&p0(A.alternate,A);break;default:wc(b,A,j,F,y)}o=o.sibling}}function gd(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,f=o,y=f.flags;switch(f.tag){case 22:gd(c,f),y&2048&&m0(f.alternate,f);break;case 24:gd(c,f),y&2048&&p0(f.alternate,f);break;default:gd(c,f)}o=o.sibling}}var yd=8192;function _c(r){if(r.subtreeFlags&yd)for(r=r.child;r!==null;)w2(r),r=r.sibling}function w2(r){switch(r.tag){case 26:_c(r),r.flags&yd&&r.memoizedState!==null&&V4(Ts,r.memoizedState,r.memoizedProps);break;case 5:_c(r);break;case 3:case 4:var o=Ts;Ts=cm(r.stateNode.containerInfo),_c(r),Ts=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=yd,yd=16777216,_c(r),yd=o):_c(r));break;default:_c(r)}}function _2(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function vd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Rn=f,T2(f,r)}_2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E2(r),r=r.sibling}function E2(r){switch(r.tag){case 0:case 11:case 15:vd(r),r.flags&2048&&_a(9,r,r.return);break;case 3:vd(r);break;case 12:vd(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Qf(r)):vd(r);break;default:vd(r)}}function Qf(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Rn=f,T2(f,r)}_2(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:_a(8,o,o.return),Qf(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Qf(o));break;default:Qf(o)}r=r.sibling}}function T2(r,o){for(;Rn!==null;){var c=Rn;switch(c.tag){case 0:case 11:case 15:_a(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ed(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Rn=f;else e:for(c=r;Rn!==null;){f=Rn;var y=f.sibling,b=f.return;if(p2(f),f===c){Rn=null;break e}if(y!==null){y.return=b,Rn=y;break e}Rn=b}}}var e4={getCacheForType:function(r){var o=Gn(yn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},t4=typeof WeakMap=="function"?WeakMap:Map,xt=0,Mt=null,Ye=null,st=0,wt=0,zi=null,Aa=!1,Ec=!1,g0=!1,Vr=0,Qt=0,Sa=0,Qo=0,y0=0,os=0,Tc=0,bd=null,bi=null,v0=!1,b0=0,Zf=1/0,Jf=null,Ca=null,Vn=0,ka=null,Ac=null,Sc=0,x0=0,w0=null,A2=null,xd=0,_0=null;function Ui(){if((xt&2)!==0&&st!==0)return st&-st;if(W.T!==null){var r=fc;return r!==0?r:R0()}return ji()}function S2(){os===0&&(os=(st&536870912)===0||pt?xo():536870912);var r=as.current;return r!==null&&(r.flags|=32),os}function Bi(r,o,c){(r===Mt&&(wt===2||wt===9)||r.cancelPendingCommit!==null)&&(Cc(r,0),Ra(r,st,os,!1)),Dn(r,c),((xt&2)===0||r!==Mt)&&(r===Mt&&((xt&2)===0&&(Qo|=c),Qt===4&&Ra(r,st,os,!1)),Ys(r))}function C2(r,o,c){if((xt&6)!==0)throw Error(i(327));var f=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Ds(r,o),y=f?s4(r,o):A0(r,o,!0),b=f;do{if(y===0){Ec&&!f&&Ra(r,o,0,!1);break}else{if(c=r.current.alternate,b&&!n4(c)){y=A0(r,o,!1),b=!1;continue}if(y===2){if(b=o,r.errorRecoveryDisabledLanes&b)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var j=r;y=bd;var F=j.current.memoizedState.isDehydrated;if(F&&(Cc(j,A).flags|=256),A=A0(j,A,!1),A!==2){if(g0&&!F){j.errorRecoveryDisabledLanes|=b,Qo|=b,y=4;break e}b=bi,bi=y,b!==null&&(bi===null?bi=b:bi.push.apply(bi,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Cc(r,0),Ra(r,o,0,!0);break}e:{switch(f=r,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ra(f,o,os,!Aa);break e;case 2:bi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=b0+300-$n(),10<y)){if(Ra(f,o,os,!Aa),ca(f,0,!0)!==0)break e;f.timeoutHandle=nE(k2.bind(null,f,c,bi,Jf,v0,o,os,Qo,Tc,Aa,b,2,-0,0),y);break e}k2(f,c,bi,Jf,v0,o,os,Qo,Tc,Aa,b,0,-0,0)}}break}while(!0);Ys(r)}function k2(r,o,c,f,y,b,A,j,F,Z,le,ue,te,ie){if(r.timeoutHandle=-1,ue=o.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Cd={stylesheets:null,count:0,unsuspend:L4},w2(o),ue=z4(),ue!==null)){r.cancelPendingCommit=ue(D2.bind(null,r,o,b,c,f,y,A,j,F,le,1,te,ie)),Ra(r,b,A,!Z);return}D2(r,o,b,c,f,y,A,j,F)}function n4(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],b=y.getSnapshot;y=y.value;try{if(!Di(b(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ra(r,o,c,f){o&=~y0,o&=~Qo,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var y=o;0<y;){var b=31-En(y),A=1<<b;f[b]=-1,y&=~A}c!==0&&Yi(r,c,o)}function em(){return(xt&6)===0?(wd(0),!1):!0}function E0(){if(Ye!==null){if(wt===0)var r=Ye.return;else r=Ye,Nr=$o=null,Uy(r),bc=null,dd=0,r=Ye;for(;r!==null;)o2(r.alternate,r),r=r.return;Ye=null}}function Cc(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,x4(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),E0(),Mt=r,Ye=c=Cr(r.current,null),st=o,wt=0,zi=null,Aa=!1,Ec=Ds(r,o),g0=!1,Tc=os=y0=Qo=Sa=Qt=0,bi=bd=null,v0=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var y=31-En(f),b=1<<y;o|=r[y],f&=~b}return Vr=o,_f(),c}function R2(r,o){qe=null,W.H=Bf,o===nd||o===jf?(o=W1(),wt=3):o===H1?(o=W1(),wt=4):wt=o===G_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,zi=o,Ye===null&&(Qt=1,Wf(r,ns(o,r.current)))}function N2(){var r=W.H;return W.H=Bf,r===null?Bf:r}function j2(){var r=W.A;return W.A=e4,r}function T0(){Qt=4,Aa||(st&4194048)!==st&&as.current!==null||(Ec=!0),(Sa&134217727)===0&&(Qo&134217727)===0||Mt===null||Ra(Mt,st,os,!1)}function A0(r,o,c){var f=xt;xt|=2;var y=N2(),b=j2();(Mt!==r||st!==o)&&(Jf=null,Cc(r,o)),o=!1;var A=Qt;e:do try{if(wt!==0&&Ye!==null){var j=Ye,F=zi;switch(wt){case 8:E0(),A=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(o=!0);var Z=wt;if(wt=0,zi=null,kc(r,j,F,Z),c&&Ec){A=0;break e}break;default:Z=wt,wt=0,zi=null,kc(r,j,F,Z)}}i4(),A=Qt;break}catch(le){R2(r,le)}while(!0);return o&&r.shellSuspendCounter++,Nr=$o=null,xt=f,W.H=y,W.A=b,Ye===null&&(Mt=null,st=0,_f()),A}function i4(){for(;Ye!==null;)I2(Ye)}function s4(r,o){var c=xt;xt|=2;var f=N2(),y=j2();Mt!==r||st!==o?(Jf=null,Zf=$n()+500,Cc(r,o)):Ec=Ds(r,o);e:do try{if(wt!==0&&Ye!==null){o=Ye;var b=zi;t:switch(wt){case 1:wt=0,zi=null,kc(r,o,b,1);break;case 2:case 9:if(q1(b)){wt=0,zi=null,P2(o);break}o=function(){wt!==2&&wt!==9||Mt!==r||(wt=7),Ys(r)},b.then(o,o);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:q1(b)?(wt=0,zi=null,P2(o)):(wt=0,zi=null,kc(r,o,b,7));break;case 5:var A=null;switch(Ye.tag){case 26:A=Ye.memoizedState;case 5:case 27:var j=Ye;if(!A||mE(A)){wt=0,zi=null;var F=j.sibling;if(F!==null)Ye=F;else{var Z=j.return;Z!==null?(Ye=Z,tm(Z)):Ye=null}break t}}wt=0,zi=null,kc(r,o,b,5);break;case 6:wt=0,zi=null,kc(r,o,b,6);break;case 8:E0(),Qt=6;break e;default:throw Error(i(462))}}r4();break}catch(le){R2(r,le)}while(!0);return Nr=$o=null,W.H=f,W.A=y,xt=c,Ye!==null?0:(Mt=null,st=0,_f(),Qt)}function r4(){for(;Ye!==null&&!zt();)I2(Ye)}function I2(r){var o=r2(r.alternate,r,Vr);r.memoizedProps=r.pendingProps,o===null?tm(r):Ye=o}function P2(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=J_(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=J_(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:Uy(o);default:o2(c,o),o=Ye=M1(o,Vr),o=r2(c,o,Vr)}r.memoizedProps=r.pendingProps,o===null?tm(r):Ye=o}function kc(r,o,c,f){Nr=$o=null,Uy(o),bc=null,dd=0;var y=o.return;try{if(KM(r,y,o,c,st)){Qt=1,Wf(r,ns(c,r.current)),Ye=null;return}}catch(b){if(y!==null)throw Ye=y,b;Qt=1,Wf(r,ns(c,r.current)),Ye=null;return}o.flags&32768?(pt||f===1?r=!0:Ec||(st&536870912)!==0?r=!1:(Aa=r=!0,(f===2||f===9||f===3||f===6)&&(f=as.current,f!==null&&f.tag===13&&(f.flags|=16384))),M2(o,r)):tm(o)}function tm(r){var o=r;do{if((o.flags&32768)!==0){M2(o,Aa);return}r=o.return;var c=XM(o.alternate,o,Vr);if(c!==null){Ye=c;return}if(o=o.sibling,o!==null){Ye=o;return}Ye=o=r}while(o!==null);Qt===0&&(Qt=5)}function M2(r,o){do{var c=QM(r.alternate,r);if(c!==null){c.flags&=32767,Ye=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){Ye=r;return}Ye=r=c}while(r!==null);Qt=6,Ye=null}function D2(r,o,c,f,y,b,A,j,F){r.cancelPendingCommit=null;do nm();while(Vn!==0);if((xt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=py,_o(r,c,b,A,j,F),r===Mt&&(Ye=Mt=null,st=0),Ac=o,ka=r,Sc=c,x0=b,w0=y,A2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,c4(vs,function(){return U2(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,y=ne.p,ne.p=2,A=xt,xt|=4;try{ZM(r,o,c)}finally{xt=A,ne.p=y,W.T=f}}Vn=1,O2(),L2(),V2()}}function O2(){if(Vn===1){Vn=0;var r=ka,o=Ac,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var f=ne.p;ne.p=2;var y=xt;xt|=4;try{v2(o,r);var b=L0,A=T1(r.containerInfo),j=b.focusedElem,F=b.selectionRange;if(A!==j&&j&&j.ownerDocument&&E1(j.ownerDocument.documentElement,j)){if(F!==null&&uy(j)){var Z=F.start,le=F.end;if(le===void 0&&(le=Z),"selectionStart"in j)j.selectionStart=Z,j.selectionEnd=Math.min(le,j.value.length);else{var ue=j.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Ve=j.textContent.length,Ie=Math.min(F.start,Ve),Ct=F.end===void 0?Ie:Math.min(F.end,Ve);!ie.extend&&Ie>Ct&&(A=Ct,Ct=Ie,Ie=A);var K=_1(j,Ie),G=_1(j,Ct);if(K&&G&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==G.node||ie.focusOffset!==G.offset)){var Q=ue.createRange();Q.setStart(K.node,K.offset),ie.removeAllRanges(),Ie>Ct?(ie.addRange(Q),ie.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ie.addRange(Q))}}}}for(ue=[],ie=j;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var ce=ue[j];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}mm=!!O0,L0=O0=null}finally{xt=y,ne.p=f,W.T=c}}r.current=o,Vn=2}}function L2(){if(Vn===2){Vn=0;var r=ka,o=Ac,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var f=ne.p;ne.p=2;var y=xt;xt|=4;try{m2(r,o.alternate,o)}finally{xt=y,ne.p=f,W.T=c}}Vn=3}}function V2(){if(Vn===4||Vn===3){Vn=0,Mn();var r=ka,o=Ac,c=Sc,f=A2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Vn=5:(Vn=0,Ac=ka=null,z2(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Ca=null),ua(c),o=o.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Ot,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=W.T,y=ne.p,ne.p=2,W.T=null;try{for(var b=r.onRecoverableError,A=0;A<f.length;A++){var j=f[A];b(j.value,{componentStack:j.stack})}}finally{W.T=o,ne.p=y}}(Sc&3)!==0&&nm(),Ys(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===_0?xd++:(xd=0,_0=r):xd=0,wd(0)}}function z2(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,ed(o)))}function nm(r){return O2(),L2(),V2(),U2()}function U2(){if(Vn!==5)return!1;var r=ka,o=x0;x0=0;var c=ua(Sc),f=W.T,y=ne.p;try{ne.p=32>c?32:c,W.T=null,c=w0,w0=null;var b=ka,A=Sc;if(Vn=0,Ac=ka=null,Sc=0,(xt&6)!==0)throw Error(i(331));var j=xt;if(xt|=4,E2(b.current),x2(b,b.current,A,c),xt=j,wd(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Ot,b)}catch{}return!0}finally{ne.p=y,W.T=f,z2(r,o)}}function B2(r,o,c){o=ns(c,o),o=e0(r.stateNode,o,2),r=va(r,o,2),r!==null&&(Dn(r,2),Ys(r))}function Nt(r,o,c){if(r.tag===3)B2(r,r,c);else for(;o!==null;){if(o.tag===3){B2(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ca===null||!Ca.has(f))){r=ns(c,r),c=$_(2),f=va(o,c,2),f!==null&&(W_(c,f,o,r),Dn(f,2),Ys(f));break}}o=o.return}}function S0(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new t4;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(g0=!0,y.add(c),r=a4.bind(null,r,o,c),o.then(r,r))}function a4(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Mt===r&&(st&c)===c&&(Qt===4||Qt===3&&(st&62914560)===st&&300>$n()-b0?(xt&2)===0&&Cc(r,0):y0|=c,Tc===st&&(Tc=0)),Ys(r)}function F2(r,o){o===0&&(o=wo()),r=cc(r,o),r!==null&&(Dn(r,o),Ys(r))}function o4(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),F2(r,c)}function l4(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),F2(r,c)}function c4(r,o){return Qe(r,o)}var im=null,Rc=null,C0=!1,sm=!1,k0=!1,Zo=0;function Ys(r){r!==Rc&&r.next===null&&(Rc===null?im=Rc=r:Rc=Rc.next=r),sm=!0,C0||(C0=!0,d4())}function wd(r,o){if(!k0&&sm){k0=!0;do for(var c=!1,f=im;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var A=f.suspendedLanes,j=f.pingedLanes;b=(1<<31-En(42|r)+1)-1,b&=y&~(A&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,W2(f,b))}else b=st,b=ca(f,f===Mt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Ds(f,b)||(c=!0,W2(f,b));f=f.next}while(c);k0=!1}}function u4(){H2()}function H2(){sm=C0=!1;var r=0;Zo!==0&&(b4()&&(r=Zo),Zo=0);for(var o=$n(),c=null,f=im;f!==null;){var y=f.next,b=q2(f,o);b===0?(f.next=null,c===null?im=y:c.next=y,y===null&&(Rc=c)):(c=f,(r!==0||(b&3)!==0)&&(sm=!0)),f=y}wd(r)}function q2(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var A=31-En(b),j=1<<A,F=y[A];F===-1?((j&c)===0||(j&f)!==0)&&(y[A]=bo(j,o)):F<=o&&(r.expiredLanes|=j),b&=~j}if(o=Mt,c=st,c=ca(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===o&&(wt===2||wt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&mi(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ds(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(f!==null&&mi(f),ua(c)){case 2:case 8:c=yr;break;case 32:c=vs;break;case 268435456:c=Wn;break;default:c=vs}return f=$2.bind(null,r),c=Qe(c,f),r.callbackPriority=o,r.callbackNode=c,o}return f!==null&&f!==null&&mi(f),r.callbackPriority=2,r.callbackNode=null,2}function $2(r,o){if(Vn!==0&&Vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(nm()&&r.callbackNode!==c)return null;var f=st;return f=ca(r,r===Mt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(C2(r,f,o),q2(r,$n()),r.callbackNode!=null&&r.callbackNode===c?$2.bind(null,r):null)}function W2(r,o){if(nm())return null;C2(r,o,!0)}function d4(){w4(function(){(xt&6)!==0?Qe(mt,u4):H2()})}function R0(){return Zo===0&&(Zo=xo()),Zo}function G2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ql(""+r)}function K2(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function h4(r,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var b=G2((y[Wt]||null).action),A=f.submitter;A&&(o=(o=A[Wt]||null)?G2(o.formAction):A.getAttribute("formAction"),o!==null&&(b=o,A=null));var j=new Zl("action","action",null,f,y);r.push({event:j,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Zo!==0){var F=A?K2(y,A):new FormData(y);Yy(c,{pending:!0,data:F,method:y.method,action:b},null,F)}}else typeof b=="function"&&(j.preventDefault(),F=A?K2(y,A):new FormData(y),Yy(c,{pending:!0,data:F,method:y.method,action:b},b,F))},currentTarget:y}]})}}for(var N0=0;N0<my.length;N0++){var j0=my[N0],f4=j0.toLowerCase(),m4=j0[0].toUpperCase()+j0.slice(1);Es(f4,"on"+m4)}Es(C1,"onAnimationEnd"),Es(k1,"onAnimationIteration"),Es(R1,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(jM,"onTransitionRun"),Es(IM,"onTransitionStart"),Es(PM,"onTransitionCancel"),Es(N1,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_d));function Y2(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var A=f.length-1;0<=A;A--){var j=f[A],F=j.instance,Z=j.currentTarget;if(j=j.listener,F!==b&&y.isPropagationStopped())break e;b=j,y.currentTarget=Z;try{b(y)}catch(le){$f(le)}y.currentTarget=null,b=F}else for(A=0;A<f.length;A++){if(j=f[A],F=j.instance,Z=j.currentTarget,j=j.listener,F!==b&&y.isPropagationStopped())break e;b=j,y.currentTarget=Z;try{b(y)}catch(le){$f(le)}y.currentTarget=null,b=F}}}}function Xe(r,o){var c=o[da];c===void 0&&(c=o[da]=new Set);var f=r+"__bubble";c.has(f)||(X2(o,r,2,!1),c.add(f))}function I0(r,o,c){var f=0;o&&(f|=4),X2(c,r,f,o)}var rm="_reactListening"+Math.random().toString(36).slice(2);function P0(r){if(!r[rm]){r[rm]=!0,ha.forEach(function(c){c!=="selectionchange"&&(p4.has(c)||I0(c,!1,r),I0(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[rm]||(o[rm]=!0,I0("selectionchange",!1,o))}}function X2(r,o,c,f){switch(xE(o)){case 2:var y=F4;break;case 8:y=H4;break;default:y=G0}c=y.bind(null,o,c,r),y=void 0,!es||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function M0(r,o,c,f,y){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var j=f.stateNode.containerInfo;if(j===y)break;if(A===4)for(A=f.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;j!==null;){if(A=Xi(j),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){f=b=A;continue e}j=j.parentNode}}f=f.return}of(function(){var Z=b,le=Ji(c),ue=[];e:{var te=j1.get(r);if(te!==void 0){var ie=Zl,Ve=r;switch(r){case"keypress":if(Us(c)===0)break e;case"keydown":case"keyup":ie=sc;break;case"focusin":Ve="focus",ie=tc;break;case"focusout":Ve="blur",ie=tc;break;case"beforeblur":case"afterblur":ie=tc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=pf;break;case C1:case k1:case R1:ie=nc;break;case N1:ie=yf;break;case"scroll":case"scrollend":ie=lf;break;case"wheel":ie=rc;break;case"copy":case"cut":case"paste":ie=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Wu;break;case"toggle":case"beforetoggle":ie=bf}var Ie=(o&4)!==0,Ct=!Ie&&(r==="scroll"||r==="scrollend"),K=Ie?te!==null?te+"Capture":null:te;Ie=[];for(var G=Z,Q;G!==null;){var ce=G;if(Q=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Q===null||K===null||(ce=jo(G,K),ce!=null&&Ie.push(Ed(G,ce,Q))),Ct)break;G=G.return}0<Ie.length&&(te=new ie(te,Ve,null,c,le),ue.push({event:te,listeners:Ie}))}}if((o&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",te&&c!==wr&&(Ve=c.relatedTarget||c.fromElement)&&(Xi(Ve)||Ve[pi]))break e;if((ie||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Ve=c.relatedTarget||c.toElement,ie=Z,Ve=Ve?Xi(Ve):null,Ve!==null&&(Ct=a(Ve),Ie=Ve.tag,Ve!==Ct||Ie!==5&&Ie!==27&&Ie!==6)&&(Ve=null)):(ie=null,Ve=Z),ie!==Ve)){if(Ie=ts,ce="onMouseLeave",K="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=Wu,ce="onPointerLeave",K="onPointerEnter",G="pointer"),Ct=ie==null?te:Pi(ie),Q=Ve==null?te:Pi(Ve),te=new Ie(ce,G+"leave",ie,c,le),te.target=Ct,te.relatedTarget=Q,ce=null,Xi(le)===Z&&(Ie=new Ie(K,G+"enter",Ve,c,le),Ie.target=Q,Ie.relatedTarget=Ct,ce=Ie),Ct=ce,ie&&Ve)t:{for(Ie=ie,K=Ve,G=0,Q=Ie;Q;Q=Nc(Q))G++;for(Q=0,ce=K;ce;ce=Nc(ce))Q++;for(;0<G-Q;)Ie=Nc(Ie),G--;for(;0<Q-G;)K=Nc(K),Q--;for(;G--;){if(Ie===K||K!==null&&Ie===K.alternate)break t;Ie=Nc(Ie),K=Nc(K)}Ie=null}else Ie=null;ie!==null&&Q2(ue,te,ie,Ie,!1),Ve!==null&&Ct!==null&&Q2(ue,Ct,Ve,Ie,!0)}}e:{if(te=Z?Pi(Z):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Ae=g1;else if(gn(te))if(y1)Ae=kM;else{Ae=SM;var Ge=AM}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&zu(Z.elementType)&&(Ae=g1):Ae=CM;if(Ae&&(Ae=Ae(r,Z))){Sr(ue,Ae,c,le);break e}Ge&&Ge(r,te,Z),r==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&fa(te,"number",te.value)}switch(Ge=Z?Pi(Z):window,r){case"focusin":(gn(Ge)||Ge.contentEditable==="true")&&(ac=Ge,dy=Z,Yu=null);break;case"focusout":Yu=dy=ac=null;break;case"mousedown":hy=!0;break;case"contextmenu":case"mouseup":case"dragend":hy=!1,A1(ue,c,le);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":A1(ue,c,le)}var Ce;if(Hs)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else nt?se(r,c)&&(Pe="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(T&&c.locale!=="ko"&&(nt||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&nt&&(Ce=Bu()):(zs=le,ma="value"in zs?zs.value:zs.textContent,nt=!0)),Ge=am(Z,Pe),0<Ge.length&&(Pe=new qu(Pe,r,null,c,le),ue.push({event:Pe,listeners:Ge}),Ce?Pe.data=Ce:(Ce=ye(c),Ce!==null&&(Pe.data=Ce)))),(Ce=w?pn(r,c):it(r,c))&&(Pe=am(Z,"onBeforeInput"),0<Pe.length&&(Ge=new qu("onBeforeInput","beforeinput",null,c,le),ue.push({event:Ge,listeners:Pe}),Ge.data=Ce)),h4(ue,r,Z,c,le)}Y2(ue,o)})}function Ed(r,o,c){return{instance:r,listener:o,currentTarget:c}}function am(r,o){for(var c=o+"Capture",f=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=jo(r,c),y!=null&&f.unshift(Ed(r,y,b)),y=jo(r,o),y!=null&&f.push(Ed(r,y,b))),r.tag===3)return f;r=r.return}return[]}function Nc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Q2(r,o,c,f,y){for(var b=o._reactName,A=[];c!==null&&c!==f;){var j=c,F=j.alternate,Z=j.stateNode;if(j=j.tag,F!==null&&F===f)break;j!==5&&j!==26&&j!==27||Z===null||(F=Z,y?(Z=jo(c,b),Z!=null&&A.unshift(Ed(c,Z,F))):y||(Z=jo(c,b),Z!=null&&A.push(Ed(c,Z,F)))),c=c.return}A.length!==0&&r.push({event:o,listeners:A})}var g4=/\r\n?/g,y4=/\u0000|\uFFFD/g;function Z2(r){return(typeof r=="string"?r:""+r).replace(g4,`
`).replace(y4,"")}function J2(r,o){return o=Z2(o),Z2(r)===o}function om(){}function St(r,o,c,f,y,b){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Zi(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Zi(r,""+f);break;case"className":Ne(r,"class",f);break;case"tabIndex":Ne(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ne(r,c,f);break;case"style":Vu(r,f,b);break;case"data":if(o!=="object"){Ne(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Ql(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&St(r,o,"name",y.name,y,null),St(r,o,"formEncType",y.formEncType,y,null),St(r,o,"formMethod",y.formMethod,y,null),St(r,o,"formTarget",y.formTarget,y,null)):(St(r,o,"encType",y.encType,y,null),St(r,o,"method",y.method,y,null),St(r,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Ql(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=om);break;case"onScroll":f!=null&&Xe("scroll",r);break;case"onScrollEnd":f!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=Ql(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),Se(r,"popover",f);break;case"xlinkActuate":De(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":De(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":De(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":De(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":De(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":De(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":De(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":De(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":De(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Se(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=sy.get(c)||c,Se(r,c,f))}}function D0(r,o,c,f,y,b){switch(c){case"style":Vu(r,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof f=="string"?Zi(r,f):(typeof f=="number"||typeof f=="bigint")&&Zi(r,""+f);break;case"onScroll":f!=null&&Xe("scroll",r);break;case"onScrollEnd":f!=null&&Xe("scrollend",r);break;case"onClick":f!=null&&(r.onclick=om);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),b=r[Wt]||null,b=b!=null?b[c]:null,typeof b=="function"&&r.removeEventListener(o,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):Se(r,c,f)}}}function zn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var f=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var A=c[b];if(A!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:St(r,o,b,A,c,null)}}y&&St(r,o,"srcSet",c.srcSet,c,null),f&&St(r,o,"src",c.src,c,null);return;case"input":Xe("invalid",r);var j=b=A=y=null,F=null,Z=null;for(f in c)if(c.hasOwnProperty(f)){var le=c[f];if(le!=null)switch(f){case"name":y=le;break;case"type":A=le;break;case"checked":F=le;break;case"defaultChecked":Z=le;break;case"value":b=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,o));break;default:St(r,o,f,le,c,null)}}ko(r,b,j,F,Z,A,y,!1),Xl(r);return;case"select":Xe("invalid",r),f=A=b=null;for(y in c)if(c.hasOwnProperty(y)&&(j=c[y],j!=null))switch(y){case"value":b=j;break;case"defaultValue":A=j;break;case"multiple":f=j;default:St(r,o,y,j,c,null)}o=b,c=A,r.multiple=!!f,o!=null?xr(r,!!f,o,!1):c!=null&&xr(r,!!f,c,!0);return;case"textarea":Xe("invalid",r),b=y=f=null;for(A in c)if(c.hasOwnProperty(A)&&(j=c[A],j!=null))switch(A){case"value":f=j;break;case"defaultValue":y=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:St(r,o,A,j,c,null)}Ro(r,f,y,b),Xl(r);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(f=c[F],f!=null))switch(F){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:St(r,o,F,f,c,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(f=0;f<_d.length;f++)Xe(_d[f],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(f=c[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:St(r,o,Z,f,c,null)}return;default:if(zu(o)){for(le in c)c.hasOwnProperty(le)&&(f=c[le],f!==void 0&&D0(r,o,le,f,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(f=c[j],f!=null&&St(r,o,j,f,c,null))}function v4(r,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,j=null,F=null,Z=null,le=null;for(ie in c){var ue=c[ie];if(c.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":F=ue;default:f.hasOwnProperty(ie)||St(r,o,ie,null,f,ue)}}for(var te in f){var ie=f[te];if(ue=c[te],f.hasOwnProperty(te)&&(ie!=null||ue!=null))switch(te){case"type":b=ie;break;case"name":y=ie;break;case"checked":Z=ie;break;case"defaultChecked":le=ie;break;case"value":A=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,o));break;default:ie!==ue&&St(r,o,te,ie,f,ue)}}Mi(r,A,j,F,Z,le,b,y);return;case"select":ie=A=j=te=null;for(b in c)if(F=c[b],c.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":ie=F;default:f.hasOwnProperty(b)||St(r,o,b,null,f,F)}for(y in f)if(b=f[y],F=c[y],f.hasOwnProperty(y)&&(b!=null||F!=null))switch(y){case"value":te=b;break;case"defaultValue":j=b;break;case"multiple":A=b;default:b!==F&&St(r,o,y,b,f,F)}o=j,c=A,f=ie,te!=null?xr(r,!!c,te,!1):!!f!=!!c&&(o!=null?xr(r,!!c,o,!0):xr(r,!!c,c?[]:"",!1));return;case"textarea":ie=te=null;for(j in c)if(y=c[j],c.hasOwnProperty(j)&&y!=null&&!f.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:St(r,o,j,null,f,y)}for(A in f)if(y=f[A],b=c[A],f.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":te=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&St(r,o,A,y,f,b)}Tt(r,te,ie);return;case"option":for(var Ve in c)if(te=c[Ve],c.hasOwnProperty(Ve)&&te!=null&&!f.hasOwnProperty(Ve))switch(Ve){case"selected":r.selected=!1;break;default:St(r,o,Ve,null,f,te)}for(F in f)if(te=f[F],ie=c[F],f.hasOwnProperty(F)&&te!==ie&&(te!=null||ie!=null))switch(F){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:St(r,o,F,te,f,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in c)te=c[Ie],c.hasOwnProperty(Ie)&&te!=null&&!f.hasOwnProperty(Ie)&&St(r,o,Ie,null,f,te);for(Z in f)if(te=f[Z],ie=c[Z],f.hasOwnProperty(Z)&&te!==ie&&(te!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:St(r,o,Z,te,f,ie)}return;default:if(zu(o)){for(var Ct in c)te=c[Ct],c.hasOwnProperty(Ct)&&te!==void 0&&!f.hasOwnProperty(Ct)&&D0(r,o,Ct,void 0,f,te);for(le in f)te=f[le],ie=c[le],!f.hasOwnProperty(le)||te===ie||te===void 0&&ie===void 0||D0(r,o,le,te,f,ie);return}}for(var K in c)te=c[K],c.hasOwnProperty(K)&&te!=null&&!f.hasOwnProperty(K)&&St(r,o,K,null,f,te);for(ue in f)te=f[ue],ie=c[ue],!f.hasOwnProperty(ue)||te===ie||te==null&&ie==null||St(r,o,ue,te,f,ie)}var O0=null,L0=null;function lm(r){return r.nodeType===9?r:r.ownerDocument}function eE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function V0(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var z0=null;function b4(){var r=window.event;return r&&r.type==="popstate"?r===z0?!1:(z0=r,!0):(z0=null,!1)}var nE=typeof setTimeout=="function"?setTimeout:void 0,x4=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,w4=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(r){return iE.resolve(null).then(r).catch(_4)}:nE;function _4(r){setTimeout(function(){throw r})}function Na(r){return r==="head"}function sE(r,o){var c=o,f=0,y=0;do{var b=c.nextSibling;if(r.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<f&&8>f){c=f;var A=r.ownerDocument;if(c&1&&Td(A.documentElement),c&2&&Td(A.body),c&4)for(c=A.head,Td(c),A=c.firstChild;A;){var j=A.nextSibling,F=A.nodeName;A[Ls]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=j}}if(y===0){r.removeChild(b),Id(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=b}while(c);Id(o)}function U0(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":U0(c),ws(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function E4(r,o,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ls])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=As(r.nextSibling),r===null)break}return null}function T4(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=As(r.nextSibling),r===null))return null;return r}function B0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function A4(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function As(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var F0=null;function rE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function aE(r,o,c){switch(o=lm(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Td(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);ws(r)}var ls=new Map,oE=new Set;function cm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zr=ne.d;ne.d={f:S4,r:C4,D:k4,C:R4,L:N4,m:j4,X:P4,S:I4,M:M4};function S4(){var r=zr.f(),o=em();return r||o}function C4(r){var o=Ii(r);o!==null&&o.tag===5&&o.type==="form"?C_(o):zr.r(r)}var jc=typeof document>"u"?null:document;function lE(r,o,c){var f=jc;if(f&&typeof o=="string"&&o){var y=ln(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),oE.has(y)||(oE.add(y),r={rel:r,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),zn(o,"link",r),Ut(o),f.head.appendChild(o)))}}function k4(r){zr.D(r),lE("dns-prefetch",r,null)}function R4(r,o){zr.C(r,o),lE("preconnect",r,o)}function N4(r,o,c){zr.L(r,o,c);var f=jc;if(f&&r&&o){var y='link[rel="preload"][as="'+ln(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+ln(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+ln(c.imageSizes)+'"]')):y+='[href="'+ln(r)+'"]';var b=y;switch(o){case"style":b=Ic(r);break;case"script":b=Pc(r)}ls.has(b)||(r=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),ls.set(b,r),f.querySelector(y)!==null||o==="style"&&f.querySelector(Ad(b))||o==="script"&&f.querySelector(Sd(b))||(o=f.createElement("link"),zn(o,"link",r),Ut(o),f.head.appendChild(o)))}}function j4(r,o){zr.m(r,o);var c=jc;if(c&&r){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+ln(f)+'"][href="'+ln(r)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Pc(r)}if(!ls.has(b)&&(r=p({rel:"modulepreload",href:r},o),ls.set(b,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Sd(b)))return}f=c.createElement("link"),zn(f,"link",r),Ut(f),c.head.appendChild(f)}}}function I4(r,o,c){zr.S(r,o,c);var f=jc;if(f&&r){var y=Tn(f).hoistableStyles,b=Ic(r);o=o||"default";var A=y.get(b);if(!A){var j={loading:0,preload:null};if(A=f.querySelector(Ad(b)))j.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},c),(c=ls.get(b))&&H0(r,c);var F=A=f.createElement("link");Ut(F),zn(F,"link",r),F._p=new Promise(function(Z,le){F.onload=Z,F.onerror=le}),F.addEventListener("load",function(){j.loading|=1}),F.addEventListener("error",function(){j.loading|=2}),j.loading|=4,um(A,o,f)}A={type:"stylesheet",instance:A,count:1,state:j},y.set(b,A)}}}function P4(r,o){zr.X(r,o);var c=jc;if(c&&r){var f=Tn(c).hoistableScripts,y=Pc(r),b=f.get(y);b||(b=c.querySelector(Sd(y)),b||(r=p({src:r,async:!0},o),(o=ls.get(y))&&q0(r,o),b=c.createElement("script"),Ut(b),zn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function M4(r,o){zr.M(r,o);var c=jc;if(c&&r){var f=Tn(c).hoistableScripts,y=Pc(r),b=f.get(y);b||(b=c.querySelector(Sd(y)),b||(r=p({src:r,async:!0,type:"module"},o),(o=ls.get(y))&&q0(r,o),b=c.createElement("script"),Ut(b),zn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function cE(r,o,c,f){var y=(y=Te.current)?cm(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ic(c.href),c=Tn(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Ic(c.href);var b=Tn(y).hoistableStyles,A=b.get(r);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,A),(b=y.querySelector(Ad(r)))&&!b._p&&(A.instance=b,A.state.loading=5),ls.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ls.set(r,c),b||D4(y,r,c,A.state))),o&&f===null)throw Error(i(528,""));return A}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Pc(c),c=Tn(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ic(r){return'href="'+ln(r)+'"'}function Ad(r){return'link[rel="stylesheet"]['+r+"]"}function uE(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function D4(r,o,c,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),zn(o,"link",c),Ut(o),r.head.appendChild(o))}function Pc(r){return'[src="'+ln(r)+'"]'}function Sd(r){return"script[async]"+r}function dE(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+ln(c.href)+'"]');if(f)return o.instance=f,Ut(f),f;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Ut(f),zn(f,"style",y),um(f,c.precedence,r),o.instance=f;case"stylesheet":y=Ic(c.href);var b=r.querySelector(Ad(y));if(b)return o.state.loading|=4,o.instance=b,Ut(b),b;f=uE(c),(y=ls.get(y))&&H0(f,y),b=(r.ownerDocument||r).createElement("link"),Ut(b);var A=b;return A._p=new Promise(function(j,F){A.onload=j,A.onerror=F}),zn(b,"link",f),o.state.loading|=4,um(b,c.precedence,r),o.instance=b;case"script":return b=Pc(c.src),(y=r.querySelector(Sd(b)))?(o.instance=y,Ut(y),y):(f=c,(y=ls.get(b))&&(f=p({},c),q0(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),Ut(y),zn(y,"link",f),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,um(f,c.precedence,r));return o.instance}function um(r,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,A=0;A<f.length;A++){var j=f[A];if(j.dataset.precedence===o)b=j;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function H0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function q0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var dm=null;function hE(r,o,c){if(dm===null){var f=new Map,y=dm=new Map;y.set(c,f)}else y=dm,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var b=c[y];if(!(b[Ls]||b[Jt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(o)||"";A=r+A;var j=f.get(A);j?j.push(b):f.set(A,[b])}}return f}function fE(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function O4(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function mE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Cd=null;function L4(){}function V4(r,o,c){if(Cd===null)throw Error(i(475));var f=Cd;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Ic(c.href),b=r.querySelector(Ad(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=hm.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=b,Ut(b);return}b=r.ownerDocument||r,c=uE(c),(y=ls.get(y))&&H0(c,y),b=b.createElement("link"),Ut(b);var A=b;A._p=new Promise(function(j,F){A.onload=j,A.onerror=F}),zn(b,"link",c),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=hm.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function z4(){if(Cd===null)throw Error(i(475));var r=Cd;return r.stylesheets&&r.count===0&&$0(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&$0(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function hm(){if(this.count--,this.count===0){if(this.stylesheets)$0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var fm=null;function $0(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,fm=new Map,o.forEach(U4,r),fm=null,hm.call(r))}function U4(r,o){if(!(o.state.loading&4)){var c=fm.get(r);if(c)var f=c.get(null);else{c=new Map,fm.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),f=A)}f&&c.set(null,f)}y=o.instance,A=y.getAttribute("data-precedence"),b=c.get(A)||f,b===f&&c.set(null,y),c.set(A,y),this.count++,f=hm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var kd={$$typeof:V,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function B4(r,o,c,f,y,b,A,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function pE(r,o,c,f,y,b,A,j,F,Z,le,ue){return r=new B4(r,o,c,A,j,F,Z,ue),o=1,b===!0&&(o|=24),b=Oi(3,null,null,o),r.current=b,b.stateNode=r,o=Sy(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:o},Ny(b),r}function gE(r){return r?(r=uc,r):uc}function yE(r,o,c,f,y,b){y=gE(y),f.context===null?f.context=y:f.pendingContext=y,f=ya(o),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=va(r,f,o),c!==null&&(Bi(c,r,o),sd(c,r,o))}function vE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function W0(r,o){vE(r,o),(r=r.alternate)&&vE(r,o)}function bE(r){if(r.tag===13){var o=cc(r,67108864);o!==null&&Bi(o,r,67108864),W0(r,67108864)}}var mm=!0;function F4(r,o,c,f){var y=W.T;W.T=null;var b=ne.p;try{ne.p=2,G0(r,o,c,f)}finally{ne.p=b,W.T=y}}function H4(r,o,c,f){var y=W.T;W.T=null;var b=ne.p;try{ne.p=8,G0(r,o,c,f)}finally{ne.p=b,W.T=y}}function G0(r,o,c,f){if(mm){var y=K0(f);if(y===null)M0(r,o,f,pm,c),wE(r,f);else if($4(y,r,o,c,f))f.stopPropagation();else if(wE(r,f),o&4&&-1<q4.indexOf(r)){for(;y!==null;){var b=Ii(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Ni(b.pendingLanes);if(A!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;A;){var F=1<<31-En(A);j.entanglements[1]|=F,A&=~F}Ys(b),(xt&6)===0&&(Zf=$n()+500,wd(0))}}break;case 13:j=cc(b,2),j!==null&&Bi(j,b,2),em(),W0(b,2)}if(b=K0(f),b===null&&M0(r,o,f,pm,c),b===y)break;y=b}y!==null&&f.stopPropagation()}else M0(r,o,f,null,c)}}function K0(r){return r=Ji(r),Y0(r)}var pm=null;function Y0(r){if(pm=null,r=Xi(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return pm=r,null}function xE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ql()){case mt:return 2;case yr:return 8;case vs:case Du:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var X0=!1,ja=null,Ia=null,Pa=null,Rd=new Map,Nd=new Map,Ma=[],q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wE(r,o){switch(r){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Rd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(o.pointerId)}}function jd(r,o,c,f,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Ii(o),o!==null&&bE(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function $4(r,o,c,f,y){switch(o){case"focusin":return ja=jd(ja,r,o,c,f,y),!0;case"dragenter":return Ia=jd(Ia,r,o,c,f,y),!0;case"mouseover":return Pa=jd(Pa,r,o,c,f,y),!0;case"pointerover":var b=y.pointerId;return Rd.set(b,jd(Rd.get(b)||null,r,o,c,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Nd.set(b,jd(Nd.get(b)||null,r,o,c,f,y)),!0}return!1}function _E(r){var o=Xi(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Gl(r.priority,function(){if(c.tag===13){var f=Ui();f=Os(f);var y=cc(c,f);y!==null&&Bi(y,c,f),W0(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gm(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=K0(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);wr=f,c.target.dispatchEvent(f),wr=null}else return o=Ii(c),o!==null&&bE(o),r.blockedOn=c,!1;o.shift()}return!0}function EE(r,o,c){gm(r)&&c.delete(o)}function W4(){X0=!1,ja!==null&&gm(ja)&&(ja=null),Ia!==null&&gm(Ia)&&(Ia=null),Pa!==null&&gm(Pa)&&(Pa=null),Rd.forEach(EE),Nd.forEach(EE)}function ym(r,o){r.blockedOn===o&&(r.blockedOn=null,X0||(X0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W4)))}var vm=null;function TE(r){vm!==r&&(vm=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vm===r&&(vm=null);for(var o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=r[o+2];if(typeof f!="function"){if(Y0(f||c)===null)continue;break}var b=Ii(c);b!==null&&(r.splice(o,3),o-=3,Yy(b,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Id(r){function o(F){return ym(F,r)}ja!==null&&ym(ja,r),Ia!==null&&ym(Ia,r),Pa!==null&&ym(Pa,r),Rd.forEach(o),Nd.forEach(o);for(var c=0;c<Ma.length;c++){var f=Ma[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Ma.length&&(c=Ma[0],c.blockedOn===null);)_E(c),c.blockedOn===null&&Ma.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],b=c[f+1],A=y[Wt]||null;if(typeof b=="function")A||TE(c);else if(A){var j=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[Wt]||null)j=A.formAction;else if(Y0(y)!==null)continue}else j=A.action;typeof j=="function"?c[f+1]=j:(c.splice(f,3),f-=3),TE(c)}}}function Q0(r){this._internalRoot=r}bm.prototype.render=Q0.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,f=Ui();yE(c,f,r,o,null,null)},bm.prototype.unmount=Q0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;yE(r.current,2,null,r,null,null),em(),o[pi]=null}};function bm(r){this._internalRoot=r}bm.prototype.unstable_scheduleHydration=function(r){if(r){var o=ji();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Ma.length&&o!==0&&o<Ma[c].priority;c++);Ma.splice(c,0,r),c===0&&_E(r)}};var AE=e.version;if(AE!=="19.1.0")throw Error(i(527,AE,"19.1.0"));ne.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var G4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xm.isDisabled&&xm.supportsFiber)try{Ot=xm.inject(G4),lt=xm}catch{}}return Md.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,f="",y=B_,b=F_,A=H_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks)),o=pE(r,1,!1,null,null,c,f,y,b,A,j,null),r[pi]=o.current,P0(r),new Q0(o)},Md.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var f=!1,y="",b=B_,A=F_,j=H_,F=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),o=pE(r,1,!0,o,c??null,f,y,b,A,j,F,Z),o.context=gE(null),c=o.current,f=Ui(),f=Os(f),y=ya(f),y.callback=null,va(c,y,f),c=f,o.current.lanes=c,Dn(o,c),Ys(o),r[pi]=o.current,P0(r),new bm(o)},Md.version="19.1.0",Md}var DE;function rD(){if(DE)return ev.exports;DE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ev.exports=sD(),ev.exports}var aD=rD();const oD=mk(aD);var Dd={},OE;function lD(){if(OE)return Dd;OE=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.parse=l,Dd.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,_){const E=new a,C=x.length;if(C<2)return E;const S=(_==null?void 0:_.decode)||p;let N=0;do{const U=x.indexOf("=",N);if(U===-1)break;const V=x.indexOf(";",N),$=V===-1?C:V;if(U>$){N=x.lastIndexOf(";",U-1)+1;continue}const q=u(x,N,U),J=h(x,U,q),z=x.slice(q,J);if(E[z]===void 0){let k=u(x,U+1,$),P=h(x,$,k);const O=S(x.slice(k,P));E[z]=O}N=$+1}while(N<C);return E}function u(x,_,E){do{const C=x.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<E);return E}function h(x,_,E){for(;_>E;){const C=x.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return E}function m(x,_,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=C(_);if(!e.test(S))throw new TypeError(`argument val is invalid: ${_}`);let N=x+"="+S;if(!E)return N;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);N+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);N+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);N+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);N+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(N+="; HttpOnly"),E.secure&&(N+="; Secure"),E.partitioned&&(N+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return N}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return s.call(x)==="[object Date]"}return Dd}lD();var LE="popstate";function cD(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:h=""}=Rl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Kv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=s.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof a=="string"?a:mh(a))}function i(s,a){ms(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return dD(e,n,i,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uD(){return Math.random().toString(36).substring(2,10)}function VE(t,e){return{usr:t.state,key:t.key,idx:e}}function Kv(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||i||uD()}}function mh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function dD(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,u="POP",h=null,m=p();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function p(){return(l.state||{idx:null}).idx}function v(){u="POP";let S=p(),N=S==null?null:S-m;m=S,h&&h({action:u,location:C.location,delta:N})}function x(S,N){u="PUSH";let U=Kv(C.location,S,N);n&&n(U,S),m=p()+1;let V=VE(U,m),$=C.createHref(U);try{l.pushState(V,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign($)}a&&h&&h({action:u,location:C.location,delta:1})}function _(S,N){u="REPLACE";let U=Kv(C.location,S,N);n&&n(U,S),m=p();let V=VE(U,m),$=C.createHref(U);l.replaceState(V,"",$),a&&h&&h({action:u,location:C.location,delta:0})}function E(S){let N=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof S=="string"?S:mh(S);return U=U.replace(/ $/,"%20"),qt(N,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,N)}let C={get action(){return u},get location(){return t(s,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(LE,v),h=S,()=>{s.removeEventListener(LE,v),h=null}},createHref(S){return e(s,S)},createURL:E,encodeLocation(S){let N=E(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:_,go(S){return l.go(S)}};return C}function pk(t,e,n="/"){return hD(t,e,n,!1)}function hD(t,e,n,i){let s=typeof e=="string"?Rl(e):e,a=Zr(s.pathname||"/",n);if(a==null)return null;let l=gk(t);fD(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=TD(a);u=_D(l[h],m,i)}return u}function gk(t,e=[],n=[],i=""){let s=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(qt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=Gr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(qt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),gk(a.children,e,p,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:xD(m,a.index),routesMeta:p})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let h of yk(a.path))s(a,l,h)}),e}function yk(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=yk(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function fD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var mD=/^:[\w-]+$/,pD=3,gD=2,yD=1,vD=10,bD=-2,zE=t=>t==="*";function xD(t,e){let n=t.split("/"),i=n.length;return n.some(zE)&&(i+=bD),e&&(i+=gD),n.filter(s=>!zE(s)).reduce((s,a)=>s+(mD.test(a)?pD:a===""?yD:vD),i)}function wD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function _D(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],m=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",v=yp({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),x=h.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=yp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Gr([a,v.pathname]),pathnameBase:kD(Gr([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=Gr([a,v.pathnameBase]))}return l}function yp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ED(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((m,{paramName:p,isOptional:v},x)=>{if(p==="*"){let E=u[x]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[x];return v&&!_?m[p]=void 0:m[p]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function ED(t,e=!1,n=!0){ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function TD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ms(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function AD(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Rl(t):t;return{pathname:n?n.startsWith("/")?n:SD(n,e):e,search:RD(i),hash:ND(s)}}function SD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sv(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tx(t){let e=CD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function nx(t,e,n,i=!1){let s;typeof t=="string"?s=Rl(t):(s={...t},qt(!s.pathname||!s.pathname.includes("?"),sv("?","pathname","search",s)),qt(!s.pathname||!s.pathname.includes("#"),sv("#","pathname","hash",s)),qt(!s.search||!s.search.includes("#"),sv("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}u=v>=0?e[v]:"/"}let h=AD(s,u),m=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var Gr=t=>t.join("/").replace(/\/\/+/g,"/"),kD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ND=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var vk=["POST","PUT","PATCH","DELETE"];new Set(vk);var ID=["GET",...vk];new Set(ID);var gu=I.createContext(null);gu.displayName="DataRouter";var pg=I.createContext(null);pg.displayName="DataRouterState";var bk=I.createContext({isTransitioning:!1});bk.displayName="ViewTransition";var PD=I.createContext(new Map);PD.displayName="Fetchers";var MD=I.createContext(null);MD.displayName="Await";var Is=I.createContext(null);Is.displayName="Navigation";var Dh=I.createContext(null);Dh.displayName="Location";var Ps=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ps.displayName="Route";var ix=I.createContext(null);ix.displayName="RouteError";function DD(t,{relative:e}={}){qt(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Is),{hash:s,pathname:a,search:l}=Oh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Gr([n,a])),i.createHref({pathname:u,search:l,hash:s})}function yu(){return I.useContext(Dh)!=null}function fr(){return qt(yu(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Dh).location}var xk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wk(t){I.useContext(Is).static||I.useLayoutEffect(t)}function mr(){let{isDataRoute:t}=I.useContext(Ps);return t?YD():OD()}function OD(){qt(yu(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(gu),{basename:e,navigator:n}=I.useContext(Is),{matches:i}=I.useContext(Ps),{pathname:s}=fr(),a=JSON.stringify(tx(i)),l=I.useRef(!1);return wk(()=>{l.current=!0}),I.useCallback((h,m={})=>{if(ms(l.current,xk),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=nx(h,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gr([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,a,s,t])}I.createContext(null);function LD(){let{matches:t}=I.useContext(Ps),e=t[t.length-1];return e?e.params:{}}function Oh(t,{relative:e}={}){let{matches:n}=I.useContext(Ps),{pathname:i}=fr(),s=JSON.stringify(tx(n));return I.useMemo(()=>nx(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function VD(t,e){return _k(t,e)}function _k(t,e,n,i){var U;qt(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=I.useContext(Is),{matches:l}=I.useContext(Ps),u=l[l.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let V=v&&v.path||"";Ek(m,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let x=fr(),_;if(e){let V=typeof e=="string"?Rl(e):e;qt(p==="/"||((U=V.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),_=V}else _=x;let E=_.pathname||"/",C=E;if(p!=="/"){let V=p.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(V.length).join("/")}let S=!a&&n&&n.matches&&n.matches.length>0?n.matches:pk(t,{pathname:C});ms(v||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ms(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=HD(S&&S.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Gr([p,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:Gr([p,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,n,i);return e&&N?I.createElement(Dh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function zD(){let t=KD(),e=jD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,l)}var UD=I.createElement(zD,null),BD=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Ps.Provider,{value:this.props.routeContext},I.createElement(ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FD({routeContext:t,match:e,children:n}){let i=I.useContext(gu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ps.Provider,{value:t},n)}function HD(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);qt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:v}=n,x=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,m,p)=>{let v,x=!1,_=null,E=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,_=m.route.errorElement||UD,l&&(u<0&&p===0?(Ek("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===p&&(x=!0,E=m.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,p+1)),S=()=>{let N;return v?N=_:x?N=E:m.route.Component?N=I.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,I.createElement(FD,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?I.createElement(BD,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}function sx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qD(t){let e=I.useContext(gu);return qt(e,sx(t)),e}function $D(t){let e=I.useContext(pg);return qt(e,sx(t)),e}function WD(t){let e=I.useContext(Ps);return qt(e,sx(t)),e}function rx(t){let e=WD(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function GD(){return rx("useRouteId")}function KD(){var i;let t=I.useContext(ix),e=$D("useRouteError"),n=rx("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function YD(){let{router:t}=qD("useNavigate"),e=rx("useNavigate"),n=I.useRef(!1);return wk(()=>{n.current=!0}),I.useCallback(async(s,a={})=>{ms(n.current,xk),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var UE={};function Ek(t,e,n){!e&&!UE[t]&&(UE[t]=!0,ms(!1,n))}I.memo(XD);function XD({routes:t,future:e,state:n}){return _k(t,void 0,n,e)}function QD({to:t,replace:e,state:n,relative:i}){qt(yu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=I.useContext(Is);ms(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=I.useContext(Ps),{pathname:l}=fr(),u=mr(),h=nx(t,tx(a),l,i==="path"),m=JSON.stringify(h);return I.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:i})},[u,m,i,e,n]),null}function Xn(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZD({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){qt(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Rl(n));let{pathname:h="/",search:m="",hash:p="",state:v=null,key:x="default"}=n,_=I.useMemo(()=>{let E=Zr(h,l);return E==null?null:{location:{pathname:E,search:m,hash:p,state:v,key:x},navigationType:i}},[l,h,m,p,v,x,i]);return ms(_!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:I.createElement(Is.Provider,{value:u},I.createElement(Dh.Provider,{children:e,value:_}))}function JD({children:t,location:e}){return VD(Yv(t),e)}function Yv(t,e=[]){let n=[];return I.Children.forEach(t,(i,s)=>{if(!I.isValidElement(i))return;let a=[...e,s];if(i.type===I.Fragment){n.push.apply(n,Yv(i.props.children,a));return}qt(i.type===Xn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Yv(i.props.children,a)),n.push(l)}),n}var Km="get",Ym="application/x-www-form-urlencoded";function gg(t){return t!=null&&typeof t.tagName=="string"}function eO(t){return gg(t)&&t.tagName.toLowerCase()==="button"}function tO(t){return gg(t)&&t.tagName.toLowerCase()==="form"}function nO(t){return gg(t)&&t.tagName.toLowerCase()==="input"}function iO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sO(t,e){return t.button===0&&(!e||e==="_self")&&!iO(t)}var wm=null;function rO(){if(wm===null)try{new FormData(document.createElement("form"),0),wm=!1}catch{wm=!0}return wm}var aO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rv(t){return t!=null&&!aO.has(t)?(ms(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ym}"`),null):t}function oO(t,e){let n,i,s,a,l;if(tO(t)){let u=t.getAttribute("action");i=u?Zr(u,e):null,n=t.getAttribute("method")||Km,s=rv(t.getAttribute("enctype"))||Ym,a=new FormData(t)}else if(eO(t)||nO(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(i=h?Zr(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Km,s=rv(t.getAttribute("formenctype"))||rv(u.getAttribute("enctype"))||Ym,a=new FormData(u,t),!rO()){let{name:m,type:p,value:v}=t;if(p==="image"){let x=m?`${m}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else m&&a.append(m,v)}}else{if(gg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Km,i=null,s=Ym,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function ax(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function lO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uO(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await lO(a,n);return l.links?l.links():[]}return[]}));return mO(i.flat(1).filter(cO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function BE(t,e,n,i,s,a){let l=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,u=(h,m)=>{var p;return n[m].pathname!==h.pathname||((p=n[m].route.path)==null?void 0:p.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>l(h,m)||u(h,m)):a==="data"?e.filter((h,m)=>{var v;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function dO(t,e,{includeHydrateFallback:n}={}){return hO(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function hO(t){return[...new Set(t)]}function fO(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function mO(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(fO(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}var pO=new Set([100,101,204,205]);function gO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Zr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Tk(){let t=I.useContext(gu);return ax(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yO(){let t=I.useContext(pg);return ax(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ox=I.createContext(void 0);ox.displayName="FrameworkContext";function Ak(){let t=I.useContext(ox);return ax(t,"You must render this element inside a <HydratedRouter> element"),t}function vO(t,e){let n=I.useContext(ox),[i,s]=I.useState(!1),[a,l]=I.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:v}=e,x=I.useRef(null);I.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=N=>{N.forEach(U=>{l(U.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[t]),I.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Od(u,_),onBlur:Od(h,E),onMouseEnter:Od(m,_),onMouseLeave:Od(p,E),onTouchStart:Od(v,_)}]:[!1,x,{}]}function Od(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bO({page:t,...e}){let{router:n}=Tk(),i=I.useMemo(()=>pk(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(wO,{page:t,matches:i,...e}):null}function xO(t){let{manifest:e,routeModules:n}=Ak(),[i,s]=I.useState([]);return I.useEffect(()=>{let a=!1;return uO(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),i}function wO({page:t,matches:e,...n}){let i=fr(),{manifest:s,routeModules:a}=Ak(),{basename:l}=Tk(),{loaderData:u,matches:h}=yO(),m=I.useMemo(()=>BE(t,e,h,s,i,"data"),[t,e,h,s,i]),p=I.useMemo(()=>BE(t,e,h,s,i,"assets"),[t,e,h,s,i]),v=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,C=!1;if(e.forEach(N=>{var V;let U=s.routes[N.route.id];!U||!U.hasLoader||(!m.some($=>$.route.id===N.route.id)&&N.route.id in u&&((V=a[N.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?C=!0:E.add(N.route.id))}),E.size===0)return[];let S=gO(t,l);return C&&E.size>0&&S.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[l,u,i,s,m,e,t,a]),x=I.useMemo(()=>dO(p,s),[p,s]),_=xO(p);return I.createElement(I.Fragment,null,v.map(E=>I.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>I.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:C})=>I.createElement("link",{key:E,...C})))}function _O(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sk&&(window.__reactRouterVersion="7.5.3")}catch{}function EO({basename:t,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=cD({window:n,v5Compat:!0}));let s=i.current,[a,l]=I.useState({action:s.action,location:s.location}),u=I.useCallback(h=>{I.startTransition(()=>l(h))},[l]);return I.useLayoutEffect(()=>s.listen(u),[s,u]),I.createElement(ZD,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var Ck=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:m,preventScrollReset:p,viewTransition:v,...x},_){let{basename:E}=I.useContext(Is),C=typeof m=="string"&&Ck.test(m),S,N=!1;if(typeof m=="string"&&C&&(S=m,Sk))try{let P=new URL(window.location.href),O=m.startsWith("//")?new URL(P.protocol+m):new URL(m),L=Zr(O.pathname,E);O.origin===P.origin&&L!=null?m=L+O.search+O.hash:N=!0}catch{ms(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=DD(m,{relative:s}),[V,$,q]=vO(i,x),J=CO(m,{replace:l,state:u,target:h,preventScrollReset:p,relative:s,viewTransition:v});function z(P){e&&e(P),P.defaultPrevented||J(P)}let k=I.createElement("a",{...x,...q,href:S||U,onClick:N||a?e:z,ref:_O(_,$),target:h,"data-discover":!C&&n==="render"?"true":void 0});return V&&!C?I.createElement(I.Fragment,null,k,I.createElement(bO,{page:U})):k});at.displayName="Link";var TO=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...m},p){let v=Oh(l,{relative:m.relative}),x=fr(),_=I.useContext(pg),{navigator:E,basename:C}=I.useContext(Is),S=_!=null&&IO(v)&&u===!0,N=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,U=x.pathname,V=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(U=U.toLowerCase(),V=V?V.toLowerCase():null,N=N.toLowerCase()),V&&C&&(V=Zr(V,C)||V);const $=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let q=U===N||!s&&U.startsWith(N)&&U.charAt($)==="/",J=V!=null&&(V===N||!s&&V.startsWith(N)&&V.charAt(N.length)==="/"),z={isActive:q,isPending:J,isTransitioning:S},k=q?e:void 0,P;typeof i=="function"?P=i(z):P=[i,q?"active":null,J?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(z):a;return I.createElement(at,{...m,"aria-current":k,className:P,ref:p,style:O,to:l,viewTransition:u},typeof h=="function"?h(z):h)});TO.displayName="NavLink";var AO=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Km,action:u,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:v,...x},_)=>{let E=NO(),C=jO(u,{relative:m}),S=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&Ck.test(u),U=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,q=($==null?void 0:$.getAttribute("formmethod"))||l;E($||V.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:s,state:a,relative:m,preventScrollReset:p,viewTransition:v})};return I.createElement("form",{ref:_,method:S,action:C,onSubmit:i?h:U,...x,"data-discover":!N&&t==="render"?"true":void 0})});AO.displayName="Form";function SO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kk(t){let e=I.useContext(gu);return qt(e,SO(t)),e}function CO(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=mr(),h=fr(),m=Oh(t,{relative:a});return I.useCallback(p=>{if(sO(p,e)){p.preventDefault();let v=n!==void 0?n:mh(h)===mh(m);u(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,m,n,i,e,t,s,a,l])}var kO=0,RO=()=>`__${String(++kO)}__`;function NO(){let{router:t}=kk("useSubmit"),{basename:e}=I.useContext(Is),n=GD();return I.useCallback(async(i,s={})=>{let{action:a,method:l,encType:u,formData:h,body:m}=oO(i,e);if(s.navigate===!1){let p=s.fetcherKey||RO();await t.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function jO(t,{relative:e}={}){let{basename:n}=I.useContext(Is),i=I.useContext(Ps);qt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Oh(t||".",{relative:e})},l=fr();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Gr([n,a.pathname])),mh(a)}function IO(t,e={}){let n=I.useContext(bk);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kk("useViewTransitionState"),s=Oh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Zr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Zr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yp(s.pathname,l)!=null||yp(s.pathname,a)!=null}new TextEncoder;[...pO];function ml(){return d.jsxs("footer",{className:"footer",children:[d.jsxs("div",{className:"footer-content",children:[d.jsxs("div",{className:"footer-column",children:[d.jsx("h3",{className:"footer-logo",children:" Moitos"}),d.jsx("p",{className:"footer-text",children:"Productos de calidad para cada ocasin."})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{className:"footer-column-title",children:"Enlaces Rpidos"}),d.jsxs("ul",{className:"footer-list",children:[d.jsx("li",{className:"footer-list-item",children:"Inicio"}),d.jsx("li",{className:"footer-list-item",children:"Productos"}),d.jsx("li",{className:"footer-list-item",children:"Cmo Funciona"}),d.jsx("li",{className:"footer-list-item",children:"Blog"}),d.jsx("li",{className:"footer-list-item",children:"Contacto"})]})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{className:"footer-column-title",children:"Legal"}),d.jsxs("ul",{className:"footer-list",children:[d.jsx("li",{className:"footer-list-item",children:"Poltica de Privacidad"}),d.jsx("li",{className:"footer-list-item",children:"Trminos de Servicio"}),d.jsx("li",{className:"footer-list-item",children:"Poltica de Envos"}),d.jsx("li",{className:"footer-list-item",children:"Devoluciones y Reembolsos"})]})]}),d.jsxs("div",{className:"footer-column",children:[d.jsx("h4",{className:"footer-column-title",children:"Conctate con Nosotros"}),d.jsxs("div",{className:"footer-social-icons",children:[d.jsx("span",{className:"footer-social-icon",children:""}),d.jsx("span",{className:"footer-social-icon",children:""}),d.jsx("span",{className:"footer-social-icon",children:""}),d.jsx("span",{className:"footer-social-icon",children:""})]}),d.jsx("p",{className:"footer-text",children:"Suscrbete para recibir ofertas especiales."}),d.jsxs("div",{className:"footer-email-form",children:[d.jsx("input",{type:"email",placeholder:"Tu correo electrnico",className:"footer-email-input"}),d.jsx("button",{className:"footer-send-button",children:""})]})]})]}),d.jsx("div",{className:"footer-bottom",children:d.jsx("p",{children:" 2025 Moitos. Todos los derechos reservados. Hecho con orgullo en Colombia."})})]})}const PO=()=>{};var FE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MO=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Nk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let x=(u&15)<<2|m>>6,_=m&63;h||(_=64,l||(x=64)),i.push(n[p],n[v],n[x],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||m==null||v==null)throw new DO;const x=a<<2|u>>4;if(i.push(x),m!==64){const _=u<<4&240|m>>2;if(i.push(_),v!==64){const E=m<<6&192|v;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OO=function(t){const e=Rk(t);return Nk.encodeByteArray(e,!0)},vp=function(t){return OO(t).replace(/\./g,"")},jk=function(t){try{return Nk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=()=>LO().__FIREBASE_DEFAULTS__,zO=()=>{if(typeof process>"u"||typeof FE>"u")return;const t=FE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jk(t[1]);return e&&JSON.parse(e)},yg=()=>{try{return PO()||VO()||zO()||UO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ik=t=>{var e,n;return(n=(e=yg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Pk=t=>{const e=Ik(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Mk=()=>{var t;return(t=yg())===null||t===void 0?void 0:t.config},Dk=t=>{var e;return(e=yg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vp(JSON.stringify(n)),vp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function HO(){var t;const e=(t=yg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $O(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GO(){const t=si();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KO(){return!HO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YO(){try{return typeof indexedDB=="object"}catch{return!1}}function XO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="FirebaseError";class pr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=QO,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lh.prototype.create)}}class Lh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?ZO(a,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new pr(s,u,i)}}function ZO(t,e){return t.replace(JO,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const JO=/\{\$([^}]+)}/g;function e5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],l=e[s];if(HE(a)&&HE(l)){if(!bl(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function HE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function qd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function t5(t,e){const n=new n5(t,e);return n.subscribe.bind(n)}class n5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");i5(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=av),s.error===void 0&&(s.error=av),s.complete===void 0&&(s.complete=av);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new BO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a5(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:r5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r5(t){return t===rl?void 0:t}function a5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const l5={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},c5=Ze.INFO,u5={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},d5=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=u5[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lx{constructor(e){this.name=e,this._logLevel=c5,this._logHandler=d5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const h5=(t,e)=>e.some(n=>t instanceof n);let qE,$E;function f5(){return qE||(qE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m5(){return $E||($E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lk=new WeakMap,Xv=new WeakMap,Vk=new WeakMap,ov=new WeakMap,cx=new WeakMap;function p5(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ya(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Lk.set(n,t)}).catch(()=>{}),cx.set(e,t),e}function g5(t){if(Xv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Xv.set(t,e)}let Qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y5(t){Qv=t(Qv)}function v5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(lv(this),e,...n);return Vk.set(i,e.sort?e.sort():[e]),Ya(i)}:m5().includes(t)?function(...e){return t.apply(lv(this),e),Ya(Lk.get(this))}:function(...e){return Ya(t.apply(lv(this),e))}}function b5(t){return typeof t=="function"?v5(t):(t instanceof IDBTransaction&&g5(t),h5(t,f5())?new Proxy(t,Qv):t)}function Ya(t){if(t instanceof IDBRequest)return p5(t);if(ov.has(t))return ov.get(t);const e=b5(t);return e!==t&&(ov.set(t,e),cx.set(e,t)),e}const lv=t=>cx.get(t);function x5(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Ya(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Ya(l.result),h.oldVersion,h.newVersion,Ya(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const w5=["get","getKey","getAll","getAllKeys","count"],_5=["put","add","delete","clear"],cv=new Map;function WE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cv.get(e))return cv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=_5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||w5.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&h.done]))[0]};return cv.set(e,a),a}y5(t=>({...t,get:(e,n,i)=>WE(e,n)||t.get(e,n,i),has:(e,n)=>!!WE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function T5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",GE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new lx("@firebase/app"),A5="@firebase/app-compat",S5="@firebase/analytics-compat",C5="@firebase/analytics",k5="@firebase/app-check-compat",R5="@firebase/app-check",N5="@firebase/auth",j5="@firebase/auth-compat",I5="@firebase/database",P5="@firebase/data-connect",M5="@firebase/database-compat",D5="@firebase/functions",O5="@firebase/functions-compat",L5="@firebase/installations",V5="@firebase/installations-compat",z5="@firebase/messaging",U5="@firebase/messaging-compat",B5="@firebase/performance",F5="@firebase/performance-compat",H5="@firebase/remote-config",q5="@firebase/remote-config-compat",$5="@firebase/storage",W5="@firebase/storage-compat",G5="@firebase/firestore",K5="@firebase/vertexai",Y5="@firebase/firestore-compat",X5="firebase",Q5="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="[DEFAULT]",Z5={[Zv]:"fire-core",[A5]:"fire-core-compat",[C5]:"fire-analytics",[S5]:"fire-analytics-compat",[R5]:"fire-app-check",[k5]:"fire-app-check-compat",[N5]:"fire-auth",[j5]:"fire-auth-compat",[I5]:"fire-rtdb",[P5]:"fire-data-connect",[M5]:"fire-rtdb-compat",[D5]:"fire-fn",[O5]:"fire-fn-compat",[L5]:"fire-iid",[V5]:"fire-iid-compat",[z5]:"fire-fcm",[U5]:"fire-fcm-compat",[B5]:"fire-perf",[F5]:"fire-perf-compat",[H5]:"fire-rc",[q5]:"fire-rc-compat",[$5]:"fire-gcs",[W5]:"fire-gcs-compat",[G5]:"fire-fst",[Y5]:"fire-fst-compat",[K5]:"fire-vertex","fire-js":"fire-js",[X5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new Map,J5=new Map,eb=new Map;function KE(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xl(t){const e=t.name;if(eb.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;eb.set(e,t);for(const n of bp.values())KE(n,t);for(const n of J5.values())KE(n,t);return!0}function vg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _i(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new Lh("app","Firebase",e6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=Q5;function zk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Jv,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Xa.create("bad-app-name",{appName:String(s)});if(n||(n=Mk()),!n)throw Xa.create("no-options");const a=bp.get(s);if(a){if(bl(n,a.options)&&bl(i,a.config))return a;throw Xa.create("duplicate-app",{appName:s})}const l=new o5(s);for(const h of eb.values())l.addComponent(h);const u=new t6(n,i,l);return bp.set(s,u),u}function ux(t=Jv){const e=bp.get(t);if(!e&&t===Jv&&Mk())return zk();if(!e)throw Xa.create("no-app",{appName:t});return e}function nr(t,e,n){var i;let s=(i=Z5[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(u.join(" "));return}xl(new no(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="firebase-heartbeat-database",i6=1,ph="firebase-heartbeat-store";let uv=null;function Uk(){return uv||(uv=x5(n6,i6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ph)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xa.create("idb-open",{originalErrorMessage:t.message})})),uv}async function s6(t){try{const n=(await Uk()).transaction(ph),i=await n.objectStore(ph).get(Bk(t));return await n.done,i}catch(e){if(e instanceof pr)Jr.warn(e.message);else{const n=Xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function YE(t,e){try{const i=(await Uk()).transaction(ph,"readwrite");await i.objectStore(ph).put(e,Bk(t)),await i.done}catch(n){if(n instanceof pr)Jr.warn(n.message);else{const i=Xa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(i.message)}}}function Bk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=1024,a6=30;class o6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=XE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>a6){const l=u6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=XE(),{heartbeatsToSend:i,unsentEntries:s}=l6(this._heartbeatsCache.heartbeats),a=vp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Jr.warn(n),""}}}function XE(){return new Date().toISOString().substring(0,10)}function l6(t,e=r6){const n=[];let i=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),QE(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),QE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class c6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YO()?XO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await s6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function QE(t){return vp(JSON.stringify({version:2,heartbeats:t})).length}function u6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){xl(new no("platform-logger",e=>new E5(e),"PRIVATE")),xl(new no("heartbeat",e=>new o6(e),"PRIVATE")),nr(Zv,GE,t),nr(Zv,GE,"esm2017"),nr("fire-js","")}d6("");var h6="firebase",f6="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(h6,f6,"app");function dx(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Fk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m6=Fk,Hk=new Lh("auth","Firebase",Fk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new lx("@firebase/auth");function p6(t,...e){xp.logLevel<=Ze.WARN&&xp.warn(`Auth (${Nl}): ${t}`,...e)}function Xm(t,...e){xp.logLevel<=Ze.ERROR&&xp.error(`Auth (${Nl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,...e){throw fx(t,...e)}function Rs(t,...e){return fx(t,...e)}function hx(t,e,n){const i=Object.assign(Object.assign({},m6()),{[e]:n});return new Lh("auth","Firebase",i).create(e,{appName:t.name})}function Kr(t){return hx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g6(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ps(t,"argument-error"),hx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fx(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Hk.create(t,...e)}function Oe(t,e,...n){if(!t)throw fx(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xm(e),new Error(e)}function ea(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y6(){return ZE()==="http:"||ZE()==="https:"}function ZE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y6()||$O()||"connection"in navigator)?navigator.onLine:!0}function b6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=FO()||WO()}get(){return v6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_6=new zh(3e4,6e4);function aa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ms(t,e,n,i,s={}){return $k(t,s,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=Vh(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return qO()||(m.referrerPolicy="no-referrer"),qk.fetch()(await Wk(t,t.config.apiHost,n,u),m)})}async function $k(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},x6),e);try{const s=new T6(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw _m(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw _m(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw _m(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw _m(t,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw hx(t,p,m);ps(t,p)}}catch(s){if(s instanceof pr)throw s;ps(t,"network-request-failed",{message:String(s)})}}async function Uh(t,e,n,i,s={}){const a=await Ms(t,e,n,i,s);return"mfaPendingCredential"in a&&ps(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Wk(t,e,n,i){const s=`${e}${n}?${i}`,a=t,l=a.config.emulator?mx(t.config,s):`${t.config.apiScheme}://${s}`;return w6.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function E6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Rs(this.auth,"network-request-failed")),_6.get())})}}function _m(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Rs(t,e,i);return s.customData._tokenResponse=n,s}function JE(t){return t!==void 0&&t.enterprise!==void 0}class A6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S6(t,e){return Ms(t,"GET","/v2/recaptchaConfig",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e){return Ms(t,"POST","/v1/accounts:delete",e)}async function wp(t,e){return Ms(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k6(t,e=!1){const n=$t(t),i=await n.getIdToken(e),s=px(i);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:eh(dv(s.auth_time)),issuedAtTime:eh(dv(s.iat)),expirationTime:eh(dv(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dv(t){return Number(t)*1e3}function px(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Xm("JWT malformed, contained fewer than 3 sections"),null;try{const s=jk(n);return s?JSON.parse(s):(Xm("Failed to decode base64 JWT payload"),null)}catch(s){return Xm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eT(t){const e=px(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof pr&&R6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function R6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _p(t){var e;const n=t.auth,i=await t.getIdToken(),s=await wl(t,wp(n,{idToken:i}));Oe(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Gk(a.providerUserInfo):[],u=I6(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),p=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new nb(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function j6(t){const e=$t(t);await _p(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I6(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Gk(t){return t.map(e=>{var{providerId:n}=e,i=dx(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e){const n=await $k(t,{},async()=>{const i=Vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await Wk(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",qk.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M6(t,e){return Ms(t,"POST","/v2/accounts:revokeToken",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=eT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await P6(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new Wc;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Oe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Oe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=dx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k6(this,e)}reload(){return j6(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await _p(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await wl(this,C6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,l,u,h,m,p;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,_=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,S=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,N=(m=n.createdAt)!==null&&m!==void 0?m:void 0,U=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:V,emailVerified:$,isAnonymous:q,providerData:J,stsTokenManager:z}=n;Oe(V&&z,e,"internal-error");const k=Wc.fromJSON(this.name,z);Oe(typeof V=="string",e,"internal-error"),Oa(v,e.name),Oa(x,e.name),Oe(typeof $=="boolean",e,"internal-error"),Oe(typeof q=="boolean",e,"internal-error"),Oa(_,e.name),Oa(E,e.name),Oa(C,e.name),Oa(S,e.name),Oa(N,e.name),Oa(U,e.name);const P=new Cs({uid:V,auth:e,email:x,emailVerified:$,displayName:v,isAnonymous:q,photoURL:E,phoneNumber:_,tenantId:C,stsTokenManager:k,createdAt:N,lastLoginAt:U});return J&&Array.isArray(J)&&(P.providerData=J.map(O=>Object.assign({},O))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,i=!1){const s=new Wc;s.updateFromServerResponse(n);const a=new Cs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await _p(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Gk(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),u=new Wc;u.updateFromIdToken(i);const h=new Cs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Map;function Wr(t){ea(t instanceof Function,"Expected a class definition");let e=tT.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kk.type="NONE";const nT=Kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t,e,n){return`firebase:${t}:${e}:${n}`}class Gc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Qm(this.userKey,s.apiKey,a),this.fullPersistenceKey=Qm("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wp(this.auth,{idToken:e}).catch(()=>{});return n?Cs._fromGetAccountInfoResponse(this.auth,n,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Gc(Wr(nT),e,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||Wr(nT);const l=Qm(i,e.config.apiKey,e.name);let u=null;for(const m of n)try{const p=await m._get(l);if(p){let v;if(typeof p=="string"){const x=await wp(e,{idToken:p}).catch(()=>{});if(!x)break;v=await Cs._fromGetAccountInfoResponse(e,x,p)}else v=Cs._fromJSON(e,p);m!==a&&(u=v),a=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Gc(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Gc(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eR(e))return"Blackberry";if(tR(e))return"Webos";if(Xk(e))return"Safari";if((e.includes("chrome/")||Qk(e))&&!e.includes("edge/"))return"Chrome";if(Jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Yk(t=si()){return/firefox\//i.test(t)}function Xk(t=si()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qk(t=si()){return/crios\//i.test(t)}function Zk(t=si()){return/iemobile/i.test(t)}function Jk(t=si()){return/android/i.test(t)}function eR(t=si()){return/blackberry/i.test(t)}function tR(t=si()){return/webos/i.test(t)}function gx(t=si()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D6(t=si()){var e;return gx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O6(){return GO()&&document.documentMode===10}function nR(t=si()){return gx(t)||Jk(t)||tR(t)||eR(t)||/windows phone/i.test(t)||Zk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e=[]){let n;switch(t){case"Browser":n=iT(si());break;case"Worker":n=`${iT(si())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e={}){return Ms(t,"GET","/v2/passwordPolicy",aa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=6;class U6{constructor(e){var n,i,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:z6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sT(this),this.idTokenSubscription=new sT(this),this.beforeStateQueue=new L6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Gc.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wp(this,{idToken:e}),i=await Cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_i(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _p(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(Kr(this));const n=e?$t(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V6(this),n=new U6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await M6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Gc.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(t){return $t(t)}class sT{constructor(e){this.auth=e,this.observer=null,this.addObserver=t5(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F6(t){bg=t}function sR(t){return bg.loadJS(t)}function H6(){return bg.recaptchaEnterpriseScript}function q6(){return bg.gapiScript}function $6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class W6{constructor(){this.enterprise=new G6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const K6="recaptcha-enterprise",rR="NO_RECAPTCHA";class Y6{constructor(e){this.type=K6,this.auth=oa(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{S6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new A6(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;JE(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(rR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W6().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!n&&JE(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=H6();h.length!==0&&(h+=u),sR(h).then(()=>{s(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function rT(t,e,n,i=!1,s=!1){const a=new Y6(t);let l;if(s)l=rR;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ep(t,e,n,i,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await rT(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await rT(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e){const n=vg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(bl(a,e??{}))return s;ps(s,"already-initialized")}return n.initialize({options:e})}function Q6(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Z6(t,e,n){const i=oa(t);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=aR(e),{host:l,port:u}=J6(e),h=u===null?"":`:${u}`,m={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(bl(m,i.config.emulator)&&bl(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,e3()}function aR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J6(t){const e=aR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:aT(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:aT(l)}}}function aT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function t3(t,e){return Ms(t,"POST","/v1/accounts:update",e)}async function n3(t,e){return Ms(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){return Uh(t,"POST","/v1/accounts:signInWithPassword",aa(t,e))}async function s3(t,e){return Ms(t,"POST","/v1/accounts:sendOobCode",aa(t,e))}async function r3(t,e){return s3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){return Uh(t,"POST","/v1/accounts:signInWithEmailLink",aa(t,e))}async function o3(t,e){return Uh(t,"POST","/v1/accounts:signInWithEmailLink",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends yx{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new gh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new gh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,n,"signInWithPassword",i3);case"emailLink":return a3(e,{email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,i,"signUpPassword",n3);case"emailLink":return o3(e,{idToken:n,email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e){return Uh(t,"POST","/v1/accounts:signInWithIdp",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="http://localhost";class _l extends yx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,a=dx(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new _l(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Kc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Kc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kc(e,n)}buildRequest(){const e={requestUri:l3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u3(t){const e=Hd(qd(t)).link,n=e?Hd(qd(e)).deep_link_id:null,i=Hd(qd(t)).deep_link_id;return(i?Hd(qd(i)).link:null)||i||n||e||t}class vx{constructor(e){var n,i,s,a,l,u;const h=Hd(qd(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=c3((s=h.mode)!==null&&s!==void 0?s:null);Oe(m&&p&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=u3(e);try{return new vx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.providerId=vu.PROVIDER_ID}static credential(e,n){return gh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=vx.parseLink(n);return Oe(i,"argument-error"),gh._fromEmailAndCode(e,i.code,i.tenantId)}}vu.PROVIDER_ID="password";vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Bh{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _l._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qr.credential(n,i)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Bh{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.GITHUB_SIGN_IN_METHOD="github.com";Ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Bh{constructor(){super("twitter.com")}static credential(e,n){return _l._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ba.credential(n,i)}catch{return null}}}Ba.TWITTER_SIGN_IN_METHOD="twitter.com";Ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return Uh(t,"POST","/v1/accounts:signUp",aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await Cs._fromIdTokenResponse(e,i,s),l=oT(i);return new El({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=oT(i);return new El({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function oT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends pr{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Tp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Tp(e,n,i,s)}}function oR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Tp._fromErrorAndOperation(t,a,e,i):a})}async function h3(t,e,n=!1){const i=await wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return El._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e,n=!1){const{auth:i}=t;if(_i(i.app))return Promise.reject(Kr(i));const s="reauthenticate";try{const a=await wl(t,oR(i,s,e,t),n);Oe(a.idToken,i,"internal-error");const l=px(a.idToken);Oe(l,i,"internal-error");const{sub:u}=l;return Oe(t.uid===u,i,"user-mismatch"),El._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ps(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n=!1){if(_i(t.app))return Promise.reject(Kr(t));const i="signIn",s=await oR(t,i,e),a=await El._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function m3(t,e){return lR(oa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t){const e=oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p3(t,e,n){const i=oa(t);await Ep(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",r3)}async function g3(t,e,n){if(_i(t.app))return Promise.reject(Kr(t));const i=oa(t),l=await Ep(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&cR(t),h}),u=await El._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function y3(t,e,n){return _i(t.app)?Promise.reject(Kr(t)):m3($t(t),vu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cR(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){return Ms(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=$t(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await wl(i,v3(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function b3(t,e){return x3($t(t),null,e)}async function x3(t,e,n){const{auth:i}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await wl(t,t3(i,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){return $t(t).setPersistence(e)}function w3(t,e,n,i){return $t(t).onIdTokenChanged(e,n,i)}function _3(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function fo(t,e,n,i){return $t(t).onAuthStateChanged(e,n,i)}function E3(t){return $t(t).signOut()}async function T3(t){return $t(t).delete()}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=1e3,S3=10;class dR extends uR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);O6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,S3):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},A3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dR.type="LOCAL";const ib=dR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends uR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hR.type="SESSION";const Sp=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new xg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async m=>m(n.origin,a)),h=await C3(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const m=xx("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function R3(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function N3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I3(){return fR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebaseLocalStorageDb",P3=1,Cp="firebaseLocalStorage",pR="fbase_key";class Fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wg(t,e){return t.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function M3(){const t=indexedDB.deleteDatabase(mR);return new Fh(t).toPromise()}function sb(){const t=indexedDB.open(mR,P3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Cp,{keyPath:pR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Cp)?e(i):(i.close(),await M3(),e(await sb()))})})}async function uT(t,e,n){const i=wg(t,!0).put({[pR]:e,value:n});return new Fh(i).toPromise()}async function D3(t,e){const n=wg(t,!1).get(e),i=await new Fh(n).toPromise();return i===void 0?null:i.value}function dT(t,e){const n=wg(t,!0).delete(e);return new Fh(n).toPromise()}const O3=800,L3=3;class gR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>L3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(I3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await N3(),!this.activeServiceWorker)return;this.sender=new k3(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sb();return await uT(e,Ap,"1"),await dT(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>uT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>D3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=wg(s,!1).getAll();return new Fh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gR.type="LOCAL";const V3=gR;new zh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){return e?Wr(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends yx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z3(t){return lR(t.auth,new wx(t),t.bypassAuthState)}function U3(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),f3(n,new wx(t),t.bypassAuthState)}async function B3(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),h3(n,new wx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z3;case"linkViaPopup":case"linkViaRedirect":return B3;case"reauthViaPopup":case"reauthViaRedirect":return U3;default:ps(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new zh(2e3,1e4);async function H3(t,e,n){if(_i(t.app))return Promise.reject(Rs(t,"operation-not-supported-in-this-environment"));const i=oa(t);g6(t,e,bx);const s=yR(i,n);return new ll(i,"signInViaPopup",e,s).executeNotNull()}class ll extends vR{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=xx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F3.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="pendingRedirect",Zm=new Map;class $3 extends vR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Zm.get(this.auth._key());if(!e){try{const i=await W3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Zm.set(this.auth._key(),e)}return this.bypassAuthState||Zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W3(t,e){const n=Y3(e),i=K3(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function G3(t,e){Zm.set(t._key(),e)}function K3(t){return Wr(t._redirectPersistence)}function Y3(t){return Qm(q3,t.config.apiKey,t.name)}async function X3(t,e,n=!1){if(_i(t.app))return Promise.reject(Kr(t));const i=oa(t),s=yR(i,e),l=await new $3(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=10*60*1e3;class Z3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!bR(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(e))}saveEventToCache(e){this.cachedEventUids.add(hT(e)),this.lastProcessedEventTime=Date.now()}}function hT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e={}){return Ms(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nL=/^https?/;async function iL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eL(t);for(const n of e)try{if(sL(n))return}catch{}ps(t,"unauthorized-domain")}function sL(t){const e=tb(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!nL.test(n))return!1;if(tL.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new zh(3e4,6e4);function fT(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aL(t){return new Promise((e,n)=>{var i,s,a;function l(){fT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fT(),n(Rs(t,"network-request-failed"))},timeout:rL.get()})}if(!((s=(i=ir().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ir().gapi)===null||a===void 0)&&a.load)l();else{const u=$6("iframefcb");return ir()[u]=()=>{gapi.load?l():n(Rs(t,"network-request-failed"))},sR(`${q6()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Jm=null,e})}let Jm=null;function oL(t){return Jm=Jm||aL(t),Jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new zh(5e3,15e3),cL="__/auth/iframe",uL="emulator/auth/iframe",dL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fL(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mx(e,uL):`https://${t.config.authDomain}/${cL}`,i={apiKey:e.apiKey,appName:t.name,v:Nl},s=hL.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Vh(i).slice(1)}`}async function mL(t){const e=await oL(t),n=ir().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:fL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dL,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Rs(t,"network-request-failed"),u=ir().setTimeout(()=>{a(l)},lL.get());function h(){ir().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gL=500,yL=600,vL="_blank",bL="http://localhost";class mT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xL(t,e,n,i=gL,s=yL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},pL),{width:i.toString(),height:s.toString(),top:a,left:l}),m=si().toLowerCase();n&&(u=Qk(m)?vL:n),Yk(m)&&(e=e||bL,h.scrollbars="yes");const p=Object.entries(h).reduce((x,[_,E])=>`${x}${_}=${E},`,"");if(D6(m)&&u!=="_self")return wL(e||"",u),new mT(null);const v=window.open(e||"",u,p);Oe(v,t,"popup-blocked");try{v.focus()}catch{}return new mT(v)}function wL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="__/auth/handler",EL="emulator/auth/handler",TL=encodeURIComponent("fac");async function pT(t,e,n,i,s,a){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Nl,eventId:s};if(e instanceof bx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",e5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof Bh){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await t._getAppCheckToken(),m=h?`#${TL}=${encodeURIComponent(h)}`:"";return`${AL(t)}?${Vh(u).slice(1)}${m}`}function AL({config:t}){return t.emulator?mx(t,EL):`https://${t.authDomain}/${_L}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="webStorageSupport";class SL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sp,this._completeRedirectFn=X3,this._overrideRedirectResult=G3}async _openPopup(e,n,i,s){var a;ea((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await pT(e,n,i,tb(),s);return xL(e,l,xx())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await pT(e,n,i,tb(),s);return R3(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ea(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await mL(e),i=new Z3(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hv,{type:hv},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[hv];l!==void 0&&n(!!l),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nR()||Xk()||gx()}}const CL=SL;var gT="@firebase/auth",yT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NL(t){xl(new no("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iR(t)},m=new B6(i,s,a,h);return Q6(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),xl(new no("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(i=>new kL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(gT,yT,RL(t)),nr(gT,yT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=5*60,IL=Dk("authIdTokenMaxAge")||jL;let vT=null;const PL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>IL)return;const s=n==null?void 0:n.token;vT!==s&&(vT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ML(t=ux()){const e=vg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X6(t,{popupRedirectResolver:CL,persistence:[V3,ib,Sp]}),i=Dk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=PL(a.toString());_3(n,l,()=>l(n.currentUser)),w3(n,u=>l(u))}}const s=Ik("auth");return s&&Z6(n,`http://${s}`),n}function DL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}F6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Rs("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",DL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NL("Browser");var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,xR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,k){function P(){}P.prototype=k.prototype,z.D=k.prototype,z.prototype=new P,z.prototype.constructor=z,z.C=function(O,L,D){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return k.prototype[L].apply(O,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(z,k,P){P||(P=0);var O=Array(16);if(typeof k=="string")for(var L=0;16>L;++L)O[L]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(L=0;16>L;++L)O[L]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=z.g[0],P=z.g[1],L=z.g[2];var D=z.g[3],R=k+(D^P&(L^D))+O[0]+3614090360&4294967295;k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[1]+3905402710&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[2]+606105819&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[3]+3250441966&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(D^P&(L^D))+O[4]+4118548399&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[5]+1200080426&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[6]+2821735955&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[7]+4249261313&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(D^P&(L^D))+O[8]+1770035416&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[9]+2336552879&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[10]+4294925233&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[11]+2304563134&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(D^P&(L^D))+O[12]+1804603682&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[13]+4254626195&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[14]+2792965006&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[15]+1236535329&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(L^D&(P^L))+O[1]+4129170786&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[6]+3225465664&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[11]+643717713&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[0]+3921069994&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(L^D&(P^L))+O[5]+3593408605&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[10]+38016083&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[15]+3634488961&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[4]+3889429448&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(L^D&(P^L))+O[9]+568446438&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[14]+3275163606&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[3]+4107603335&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[8]+1163531501&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(L^D&(P^L))+O[13]+2850285829&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[2]+4243563512&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[7]+1735328473&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[12]+2368359562&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(P^L^D)+O[5]+4294588738&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[8]+2272392833&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[11]+1839030562&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[14]+4259657740&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(P^L^D)+O[1]+2763975236&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[4]+1272893353&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[7]+4139469664&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[10]+3200236656&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(P^L^D)+O[13]+681279174&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[0]+3936430074&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[3]+3572445317&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[6]+76029189&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(P^L^D)+O[9]+3654602809&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[12]+3873151461&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[15]+530742520&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[2]+3299628645&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(L^(P|~D))+O[0]+4096336452&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[7]+1126891415&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[14]+2878612391&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[5]+4237533241&4294967295,P=L+(R<<21&4294967295|R>>>11),R=k+(L^(P|~D))+O[12]+1700485571&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[3]+2399980690&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[10]+4293915773&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[1]+2240044497&4294967295,P=L+(R<<21&4294967295|R>>>11),R=k+(L^(P|~D))+O[8]+1873313359&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[15]+4264355552&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[6]+2734768916&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[13]+1309151649&4294967295,P=L+(R<<21&4294967295|R>>>11),R=k+(L^(P|~D))+O[4]+4149444226&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[11]+3174756917&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[2]+718787259&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[9]+3951481745&4294967295,z.g[0]=z.g[0]+k&4294967295,z.g[1]=z.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,z.g[2]=z.g[2]+L&4294967295,z.g[3]=z.g[3]+D&4294967295}i.prototype.u=function(z,k){k===void 0&&(k=z.length);for(var P=k-this.blockSize,O=this.B,L=this.h,D=0;D<k;){if(L==0)for(;D<=P;)s(this,z,D),D+=this.blockSize;if(typeof z=="string"){for(;D<k;)if(O[L++]=z.charCodeAt(D++),L==this.blockSize){s(this,O),L=0;break}}else for(;D<k;)if(O[L++]=z[D++],L==this.blockSize){s(this,O),L=0;break}}this.h=L,this.o+=k},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var k=1;k<z.length-8;++k)z[k]=0;var P=8*this.o;for(k=z.length-8;k<z.length;++k)z[k]=P&255,P/=256;for(this.u(z),z=Array(16),k=P=0;4>k;++k)for(var O=0;32>O;O+=8)z[P++]=this.g[k]>>>O&255;return z};function a(z,k){var P=u;return Object.prototype.hasOwnProperty.call(P,z)?P[z]:P[z]=k(z)}function l(z,k){this.h=k;for(var P=[],O=!0,L=z.length-1;0<=L;L--){var D=z[L]|0;O&&D==k||(P[L]=D,O=!1)}this.g=P}var u={};function h(z){return-128<=z&&128>z?a(z,function(k){return new l([k|0],0>k?-1:0)}):new l([z|0],0>z?-1:0)}function m(z){if(isNaN(z)||!isFinite(z))return v;if(0>z)return S(m(-z));for(var k=[],P=1,O=0;z>=P;O++)k[O]=z/P|0,P*=4294967296;return new l(k,0)}function p(z,k){if(z.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(z.charAt(0)=="-")return S(p(z.substring(1),k));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(k,8)),O=v,L=0;L<z.length;L+=8){var D=Math.min(8,z.length-L),R=parseInt(z.substring(L,L+D),k);8>D?(D=m(Math.pow(k,D)),O=O.j(D).add(m(R))):(O=O.j(P),O=O.add(m(R)))}return O}var v=h(0),x=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-S(this).m();for(var z=0,k=1,P=0;P<this.g.length;P++){var O=this.i(P);z+=(0<=O?O:4294967296+O)*k,k*=4294967296}return z},t.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(E(this))return"0";if(C(this))return"-"+S(this).toString(z);for(var k=m(Math.pow(z,6)),P=this,O="";;){var L=$(P,k).g;P=N(P,L.j(k));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(z);if(P=L,E(P))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},t.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function E(z){if(z.h!=0)return!1;for(var k=0;k<z.g.length;k++)if(z.g[k]!=0)return!1;return!0}function C(z){return z.h==-1}t.l=function(z){return z=N(this,z),C(z)?-1:E(z)?0:1};function S(z){for(var k=z.g.length,P=[],O=0;O<k;O++)P[O]=~z.g[O];return new l(P,~z.h).add(x)}t.abs=function(){return C(this)?S(this):this},t.add=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0,L=0;L<=k;L++){var D=O+(this.i(L)&65535)+(z.i(L)&65535),R=(D>>>16)+(this.i(L)>>>16)+(z.i(L)>>>16);O=R>>>16,D&=65535,R&=65535,P[L]=R<<16|D}return new l(P,P[P.length-1]&-2147483648?-1:0)};function N(z,k){return z.add(S(k))}t.j=function(z){if(E(this)||E(z))return v;if(C(this))return C(z)?S(this).j(S(z)):S(S(this).j(z));if(C(z))return S(this.j(S(z)));if(0>this.l(_)&&0>z.l(_))return m(this.m()*z.m());for(var k=this.g.length+z.g.length,P=[],O=0;O<2*k;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<z.g.length;L++){var D=this.i(O)>>>16,R=this.i(O)&65535,ae=z.i(L)>>>16,ee=z.i(L)&65535;P[2*O+2*L]+=R*ee,U(P,2*O+2*L),P[2*O+2*L+1]+=D*ee,U(P,2*O+2*L+1),P[2*O+2*L+1]+=R*ae,U(P,2*O+2*L+1),P[2*O+2*L+2]+=D*ae,U(P,2*O+2*L+2)}for(O=0;O<k;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=k;O<2*k;O++)P[O]=0;return new l(P,0)};function U(z,k){for(;(z[k]&65535)!=z[k];)z[k+1]+=z[k]>>>16,z[k]&=65535,k++}function V(z,k){this.g=z,this.h=k}function $(z,k){if(E(k))throw Error("division by zero");if(E(z))return new V(v,v);if(C(z))return k=$(S(z),k),new V(S(k.g),S(k.h));if(C(k))return k=$(z,S(k)),new V(S(k.g),k.h);if(30<z.g.length){if(C(z)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var P=x,O=k;0>=O.l(z);)P=q(P),O=q(O);var L=J(P,1),D=J(O,1);for(O=J(O,2),P=J(P,2);!E(O);){var R=D.add(O);0>=R.l(z)&&(L=L.add(P),D=R),O=J(O,1),P=J(P,1)}return k=N(z,L.j(k)),new V(L,k)}for(L=v;0<=z.l(k);){for(P=Math.max(1,Math.floor(z.m()/k.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=m(P),R=D.j(k);C(R)||0<R.l(z);)P-=O,D=m(P),R=D.j(k);E(D)&&(D=x),L=L.add(D),z=N(z,R)}return new V(L,z)}t.A=function(z){return $(this,z).h},t.and=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)&z.i(O);return new l(P,this.h&z.h)},t.or=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)|z.i(O);return new l(P,this.h|z.h)},t.xor=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)^z.i(O);return new l(P,this.h^z.h)};function q(z){for(var k=z.g.length+1,P=[],O=0;O<k;O++)P[O]=z.i(O)<<1|z.i(O-1)>>>31;return new l(P,z.h)}function J(z,k){var P=k>>5;k%=32;for(var O=z.g.length-P,L=[],D=0;D<O;D++)L[D]=0<k?z.i(D+P)>>>k|z.i(D+P+1)<<32-k:z.i(D+P);return new l(L,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xR=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,Qa=l}).apply(typeof bT<"u"?bT:typeof self<"u"?self:typeof window<"u"?window:{});var Em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wR,$d,_R,ep,rb,ER,TR,AR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,T){return g==Array.prototype||g==Object.prototype||(g[w]=T.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Em=="object"&&Em];for(var w=0;w<g.length;++w){var T=g[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)e:{var T=i;g=g.split(".");for(var M=0;M<g.length-1;M++){var X=g[M];if(!(X in T))break e;T=T[X]}g=g[g.length-1],M=T[g],w=w(M),w!=M&&w!=null&&e(T,g,{configurable:!0,writable:!0,value:w})}}function a(g,w){g instanceof String&&(g+="");var T=0,M=!1,X={next:function(){if(!M&&T<g.length){var se=T++;return{value:w(se,g[se]),done:!1}}return M=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(g){return g||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function m(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,T){return g.call.apply(g.bind,arguments)}function v(g,w,T){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,M),g.apply(w,X)}}return function(){return g.apply(w,arguments)}}function x(g,w,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,x.apply(null,arguments)}function _(g,w){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function E(g,w){function T(){}T.prototype=w.prototype,g.aa=w.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(M,X,se){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return w.prototype[X].apply(M,ye)}}function C(g){const w=g.length;if(0<w){const T=Array(w);for(let M=0;M<w;M++)T[M]=g[M];return T}return[]}function S(g,w){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(h(M)){const X=g.length||0,se=M.length||0;g.length=X+se;for(let ye=0;ye<se;ye++)g[X+ye]=M[ye]}else g.push(M)}}class N{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(g){return/^[\s\xa0]*$/.test(g)}function V(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function J(g,w,T){for(const M in g)w.call(T,g[M],M,g)}function z(g,w){for(const T in g)w.call(void 0,g[T],T,g)}function k(g){const w={};for(const T in g)w[T]=g[T];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,w){let T,M;for(let X=1;X<arguments.length;X++){M=arguments[X];for(T in M)g[T]=M[T];for(let se=0;se<P.length;se++)T=P[se],Object.prototype.hasOwnProperty.call(M,T)&&(g[T]=M[T])}}function L(g){var w=1;g=g.split(":");const T=[];for(;0<w&&g.length;)T.push(g.shift()),w--;return g.length&&T.push(g.join(":")),T}function D(g){u.setTimeout(()=>{throw g},0)}function R(){var g=ve;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class ae{constructor(){this.h=this.g=null}add(w,T){const M=ee.get();M.set(w,T),this.h?this.h.next=M:this.g=M,this.h=M}}var ee=new N(()=>new W,g=>g.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,he=!1,ve=new ae,B=()=>{const g=u.Promise.resolve(void 0);ne=()=>{g.then(oe)}};var oe=()=>{for(var g;g=R();){try{g.h.call(g.g)}catch(T){D(T)}var w=ee;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}he=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return g}();function Re(g,w){if(me.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(q){e:{try{$(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else T=="mouseover"?w=g.fromElement:T=="mouseout"&&(w=g.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Te[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Re.aa.h.call(this)}}E(Re,me);var Te={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),ft=0;function be(g,w,T,M,X){this.listener=g,this.proxy=null,this.src=w,this.type=T,this.capture=!!M,this.ha=X,this.key=++ft,this.da=this.fa=!1}function Ke(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function We(g){this.src=g,this.g={},this.h=0}We.prototype.add=function(g,w,T,M,X){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var ye=Qe(g,w,M,X);return-1<ye?(w=g[ye],T||(w.fa=!1)):(w=new be(w,this.src,se,!!M,X),w.fa=T,g.push(w)),w};function _n(g,w){var T=w.type;if(T in g.g){var M=g.g[T],X=Array.prototype.indexOf.call(M,w,void 0),se;(se=0<=X)&&Array.prototype.splice.call(M,X,1),se&&(Ke(w),g.g[T].length==0&&(delete g.g[T],g.h--))}}function Qe(g,w,T,M){for(var X=0;X<g.length;++X){var se=g[X];if(!se.da&&se.listener==w&&se.capture==!!T&&se.ha==M)return X}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),zt={};function Mn(g,w,T,M,X){if(Array.isArray(w)){for(var se=0;se<w.length;se++)Mn(g,w[se],T,M,X);return null}return T=$l(T),g&&g[kt]?g.K(w,T,m(M)?!!M.capture:!1,X):$n(g,w,T,!1,M,X)}function $n(g,w,T,M,X,se){if(!w)throw Error("Invalid event type");var ye=m(X)?!!X.capture:!!X,nt=Wn(g);if(nt||(g[mi]=nt=new We(g)),T=nt.add(w,T,M,ye,se),T.proxy)return T;if(M=ql(),T.proxy=M,M.src=g,M.listener=T,g.addEventListener)xe||(X=ye),X===void 0&&(X=!1),g.addEventListener(w.toString(),M,X);else if(g.attachEvent)g.attachEvent(vs(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ql(){function g(T){return w.call(g.src,g.listener,T)}const w=Du;return g}function mt(g,w,T,M,X){if(Array.isArray(w))for(var se=0;se<w.length;se++)mt(g,w[se],T,M,X);else M=m(M)?!!M.capture:!!M,T=$l(T),g&&g[kt]?(g=g.i,w=String(w).toString(),w in g.g&&(se=g.g[w],T=Qe(se,T,M,X),-1<T&&(Ke(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete g.g[w],g.h--)))):g&&(g=Wn(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Qe(w,T,M,X)),(T=-1<g?w[g]:null)&&yr(T))}function yr(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[kt])_n(w.i,g);else{var T=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(T,M,g.capture):w.detachEvent?w.detachEvent(vs(T),M):w.addListener&&w.removeListener&&w.removeListener(M),(T=Wn(w))?(_n(T,g),T.h==0&&(T.src=null,w[mi]=null)):Ke(g)}}}function vs(g){return g in zt?zt[g]:zt[g]="on"+g}function Du(g,w){if(g.da)g=!0;else{w=new Re(w,this);var T=g.listener,M=g.ha||g.src;g.fa&&yr(g),g=T.call(M,w)}return g}function Wn(g){return g=g[mi],g instanceof We?g:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(g){return typeof g=="function"?g:(g[vo]||(g[vo]=function(w){return g.handleEvent(w)}),g[vo])}function Ot(){pe.call(this),this.i=new We(this),this.M=this,this.F=null}E(Ot,pe),Ot.prototype[kt]=!0,Ot.prototype.removeEventListener=function(g,w,T,M){mt(this,g,w,T,M)};function lt(g,w){var T,M=g.F;if(M)for(T=[];M;M=M.F)T.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new me(w,g);else if(w instanceof me)w.target=w.target||g;else{var X=w;w=new me(M,g),O(w,X)}if(X=!0,T)for(var se=T.length-1;0<=se;se--){var ye=w.g=T[se];X=ai(ye,M,!0,w)&&X}if(ye=w.g=g,X=ai(ye,M,!0,w)&&X,X=ai(ye,M,!1,w)&&X,T)for(se=0;se<T.length;se++)ye=w.g=T[se],X=ai(ye,M,!1,w)&&X}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var T=g.g[w],M=0;M<T.length;M++)Ke(T[M]);delete g.g[w],g.h--}}this.F=null},Ot.prototype.K=function(g,w,T,M){return this.i.add(String(g),w,!1,T,M)},Ot.prototype.L=function(g,w,T,M){return this.i.add(String(g),w,!0,T,M)};function ai(g,w,T,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,se=0;se<w.length;++se){var ye=w[se];if(ye&&!ye.da&&ye.capture==T){var nt=ye.listener,pn=ye.ha||ye.src;ye.fa&&_n(g.i,ye),X=nt.call(pn,M)!==!1&&X}}return X&&!M.defaultPrevented}function En(g,w,T){if(typeof g=="function")T&&(g=x(g,T));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(g,w||0)}function Wl(g){g.g=En(()=>{g.g=null,g.i&&(g.i=!1,Wl(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class Ou extends pe{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(g){pe.call(this),this.h=g,this.g={}}E(vr,pe);var Gi=[];function Ki(g){J(g.g,function(w,T){this.g.hasOwnProperty(T)&&yr(w)},g),g.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Ki(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=u.JSON.stringify,ca=u.JSON.parse,Ds=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function bo(){}bo.prototype.h=null;function xo(g){return g.h||(g.h=g.i())}function wo(){}var bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){me.call(this,"d")}E(Dn,me);function _o(){me.call(this,"c")}E(_o,me);var Yi={},Eo=null;function Os(){return Eo=Eo||new Ot}Yi.La="serverreachability";function ua(g){me.call(this,Yi.La,g)}E(ua,me);function ji(g){const w=Os();lt(w,new ua(w))}Yi.STAT_EVENT="statevent";function Gl(g,w){me.call(this,Yi.STAT_EVENT,g),this.stat=w}E(Gl,me);function It(g){const w=Os();lt(w,new Gl(w,g))}Yi.Ma="timingevent";function Jt(g,w){me.call(this,Yi.Ma,g),this.size=w}E(Jt,me);function Wt(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},w)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function da(g,w,T,M,X,se){g.info(function(){if(g.g)if(se)for(var ye="",nt=se.split("&"),pn=0;pn<nt.length;pn++){var it=nt[pn].split("=");if(1<it.length){var Cn=it[0];it=it[1];var gn=Cn.split("_");ye=2<=gn.length&&gn[1]=="type"?ye+(Cn+"="+it+"&"):ye+(Cn+"=redacted&")}}else ye=null;else ye=se;return"XMLHTTP REQ ("+M+") [attempt "+X+"]: "+w+`
`+T+`
`+ye})}function Kl(g,w,T,M,X,se,ye){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+X+"]: "+w+`
`+T+`
`+se+" "+ye})}function xs(g,w,T,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ls(g,T)+(M?" "+M:"")})}function To(g,w){g.info(function(){return"TIMEOUT: "+w})}pi.prototype.info=function(){};function Ls(g,w){if(!g.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var M=T[g];if(!(2>M.length)){var X=M[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return Ni(T)}catch{return w}}var ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function Pi(){}E(Pi,bo),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},Ii=new Pi;function Tn(g,w,T,M){this.j=g,this.i=w,this.l=T,this.R=M||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var ha={},br={};function gi(g,w,T){g.L=1,g.v=Ro(Mi(w)),g.m=T,g.P=!0,Qi(g,null)}function Qi(g,w){g.F=Date.now(),H(g),g.A=Mi(g.v);var T=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),Uu(T.i,"t",M),g.C=0,T=g.j.J,g.h=new Ut,g.g=yf(g.j,T?w:null,!g.m),0<g.O&&(g.M=new Ou(x(g.Y,g,g.g),g.O)),w=g.U,T=g.g,M=g.ca;var X="readystatechange";Array.isArray(X)||(X&&(Gi[0]=X.toString()),X=Gi);for(var se=0;se<X.length;se++){var ye=Mn(T,X[se],M||w.handleEvent,!1,w.h||w);if(!ye)break;w.g[ye.key]=ye}w=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),ji(),da(g.i,g.u,g.A,g.l,g.R,g.m)}Tn.prototype.ca=function(g){g=g.target;const w=this.M;w&&ts(g)==3?w.j():this.Y(g)},Tn.prototype.Y=function(g){try{if(g==this.g)e:{const gn=ts(this.g);var w=this.g.Ba();const Sr=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||cf(this.g)))){this.J||gn!=4||w==7||(w==8||0>=Sr?ji(3):ji(2)),Se(this);var T=this.g.Z();this.X=T;t:if(Ao(this)){var M=cf(this.g);g="";var X=M.length,se=ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){De(this),Ne(this);var ye="";break t}this.h.i=new u.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,g+=this.h.i.decode(M[w],{stream:!(se&&w==X-1)});M.length=0,this.h.g+=g,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=T==200,Kl(this.i,this.u,this.A,this.l,this.R,gn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,pn=this.g;if((nt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(nt)){var it=nt;break t}}it=null}if(T=it)xs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tt(this,T);else{this.o=!1,this.s=3,It(12),De(this),Ne(this);break e}}if(this.P){T=!0;let On;for(;!this.J&&this.C<ye.length;)if(On=So(this,ye),On==br){gn==4&&(this.s=4,It(14),T=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(On==ha){this.s=4,It(15),xs(this.i,this.l,ye,"[Invalid Chunk]"),T=!1;break}else xs(this.i,this.l,On,null),tt(this,On);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||ye.length!=0||this.h.h||(this.s=1,It(16),T=!1),this.o=this.o&&T,!T)xs(this.i,this.l,ye,"[Invalid Chunked Response]"),De(this),Ne(this);else if(0<ye.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Lo(Cn),Cn.M=!0,It(11))}}else xs(this.i,this.l,ye,null),tt(this,ye);gn==4&&De(this),this.o&&!this.J&&(gn==4?mf(this.j,this):(this.o=!1,H(this)))}else ay(this.g),T==400&&0<ye.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),De(this),Ne(this)}}}catch{}finally{}};function Ao(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function So(g,w){var T=g.C,M=w.indexOf(`
`,T);return M==-1?br:(T=Number(w.substring(T,M)),isNaN(T)?ha:(M+=1,M+T>w.length?br:(w=w.slice(M,M+T),g.C=M+T,w)))}Tn.prototype.cancel=function(){this.J=!0,De(this)};function H(g){g.S=Date.now()+g.I,ge(g,g.I)}function ge(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Wt(x(g.ba,g),w)}function Se(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Tn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(To(this.i,this.A),this.L!=2&&(ji(),It(17)),De(this),this.s=2,Ne(this)):ge(this,this.S-g)};function Ne(g){g.j.G==0||g.J||mf(g.j,g)}function De(g){Se(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Ki(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function tt(g,w){try{var T=g.j;if(T.G!=0&&(T.g==g||An(T.h,g))){if(!g.K&&An(T.h,g)&&T.G==3){try{var M=T.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var X=M;if(X[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)sc(T),nc(T);else break e;$u(T),It(18)}}else T.za=X[1],0<T.za-T.T&&37500>X[2]&&T.F&&T.v==0&&!T.C&&(T.C=Wt(x(T.Za,T),6e3));if(1>=mn(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ar(T,11)}else if((g.K||T.g==g)&&sc(T),!U(w))for(X=T.Da.g.parse(w),w=0;w<X.length;w++){let it=X[w];if(T.T=it[0],it=it[1],T.G==2)if(it[0]=="c"){T.K=it[1],T.ia=it[2];const Cn=it[3];Cn!=null&&(T.la=Cn,T.j.info("VER="+T.la));const gn=it[4];gn!=null&&(T.Aa=gn,T.j.info("SVER="+T.Aa));const Sr=it[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(M=1.5*Sr,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const On=g.g;if(On){const qs=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var se=M.h;se.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Bt(se,se.h),se.h=null))}if(M.D){const Gu=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Gu&&(M.ya=Gu,Tt(M.I,M.D,Gu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var ye=g;if(M.qa=gf(M,M.J?M.ia:null,M.W),ye.K){Pt(M.h,ye);var nt=ye,pn=M.L;pn&&(nt.I=pn),nt.B&&(Se(nt),H(nt)),M.g=ye}else hf(M);0<T.i.length&&ic(T)}else it[0]!="stop"&&it[0]!="close"||Ar(T,7);else T.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ar(T,7):Hu(T):it[0]!="noop"&&T.l&&T.l.ta(it),T.v=0)}}ji(4)}catch{}}var Rt=class{constructor(g,w){this.g=g,this.map=w}};function ct(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function mn(g){return g.h?1:g.g?g.g.size:0}function An(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Bt(g,w){g.g?g.g.add(w):g.h=w}function Pt(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}ct.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Yl(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const T of g.g.values())w=w.concat(T.D);return w}return C(g.i)}function ny(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],T=g.length,M=0;M<T;M++)w.push(g[M]);return w}w=[],T=0;for(M in g)w[T++]=g[M];return w}function Xl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var T=0;T<g;T++)w.push(T);return w}w=[],T=0;for(const M in g)w[T++]=M;return w}}}function Lu(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var T=Xl(g),M=ny(g),X=M.length,se=0;se<X;se++)w.call(void 0,M[se],T&&T[se],g)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iy(g,w){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var M=g[T].indexOf("="),X=null;if(0<=M){var se=g[T].substring(0,M);X=g[T].substring(M+1)}else se=g[T];w(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ln(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof ln){this.h=g.h,ko(this,g.j),this.o=g.o,this.g=g.g,fa(this,g.s),this.l=g.l;var w=g.i,T=new wr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),xr(this,T),this.m=g.m}else g&&(w=String(g).match(Co))?(this.h=!1,ko(this,w[1]||"",!0),this.o=Zi(w[2]||""),this.g=Zi(w[3]||"",!0),fa(this,w[4]),this.l=Zi(w[5]||"",!0),xr(this,w[6]||"",!0),this.m=Zi(w[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}ln.prototype.toString=function(){var g=[],w=this.j;w&&g.push(No(w,Vu,!0),":");var T=this.g;return(T||w=="file")&&(g.push("//"),(w=this.o)&&g.push(No(w,Vu,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(No(T,T.charAt(0)=="/"?sy:zu,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",No(T,Ql)),g.join("")};function Mi(g){return new ln(g)}function ko(g,w,T){g.j=T?Zi(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function fa(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function xr(g,w,T){w instanceof wr?(g.i=w,of(g.i,g.h)):(T||(w=No(w,ry)),g.i=new wr(w,g.h))}function Tt(g,w,T){g.i.set(w,T)}function Ro(g){return Tt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Zi(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function No(g,w,T){return typeof g=="string"?(g=encodeURI(g).replace(w,af),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function af(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Vu=/[#\/\?@]/g,zu=/[#\?:]/g,sy=/[#\?]/g,ry=/[#\?@]/g,Ql=/#/g;function wr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Ji(g){g.g||(g.g=new Map,g.h=0,g.i&&iy(g.i,function(w,T){g.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=wr.prototype,t.add=function(g,w){Ji(this),this.i=null,g=Vs(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(w),this.h+=1,this};function _r(g,w){Ji(g),w=Vs(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Er(g,w){return Ji(g),w=Vs(g,w),g.g.has(w)}t.forEach=function(g,w){Ji(this),this.g.forEach(function(T,M){T.forEach(function(X){g.call(w,X,M,this)},this)},this)},t.na=function(){Ji(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let M=0;M<w.length;M++){const X=g[M];for(let se=0;se<X.length;se++)T.push(w[M])}return T},t.V=function(g){Ji(this);let w=[];if(typeof g=="string")Er(this,g)&&(w=w.concat(this.g.get(Vs(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)w=w.concat(g[T])}return w},t.set=function(g,w){return Ji(this),this.i=null,g=Vs(this,g),Er(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function Uu(g,w,T){_r(g,w),0<T.length&&(g.i=null,g.g.set(Vs(g,w),C(T)),g.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var M=w[T];const se=encodeURIComponent(String(M)),ye=this.V(M);for(M=0;M<ye.length;M++){var X=se;ye[M]!==""&&(X+="="+encodeURIComponent(String(ye[M]))),g.push(X)}}return this.i=g.join("&")};function Vs(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function of(g,w){w&&!g.j&&(Ji(g),g.i=null,g.g.forEach(function(T,M){var X=M.toLowerCase();M!=X&&(_r(this,M),Uu(this,X,T))},g)),g.j=w}function jo(g,w){const T=new pi;if(u.Image){const M=new Image;M.onload=_(es,T,"TestLoadImage: loaded",!0,w,M),M.onerror=_(es,T,"TestLoadImage: error",!1,w,M),M.onabort=_(es,T,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(es,T,"TestLoadImage: timeout",!1,w,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function _s(g,w){const T=new pi,M=new AbortController,X=setTimeout(()=>{M.abort(),es(T,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(se=>{clearTimeout(X),se.ok?es(T,"TestPingServer: ok",!0,w):es(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),es(T,"TestPingServer: error",!1,w)})}function es(g,w,T,M,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),M(T)}catch{}}function Io(){this.g=new Ds}function zs(g,w,T){const M=T||"";try{Lu(g,function(X,se){let ye=X;m(X)&&(ye=Ni(X)),w.push(M+se+"="+encodeURIComponent(ye))})}catch(X){throw w.push(M+"type="+encodeURIComponent("_badmap")),X}}function ma(g){this.l=g.Ub||null,this.j=g.eb||!1}E(ma,bo),ma.prototype.g=function(){return new Tr(this.l,this.j)},ma.prototype.i=function(g){return function(){return g}}({});function Tr(g,w){Ot.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Tr,Ot),t=Tr.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Bs(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Us(this):Bs(this),this.readyState==3&&Bu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Us(this))},t.Qa=function(g){this.g&&(this.response=g,Us(this))},t.ga=function(){this.g&&Us(this)};function Us(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Bs(g)}t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=w.next();return g.join(`\r
`)};function Bs(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Fu(g){let w="";return J(g,function(T,M){w+=M,w+=":",w+=T,w+=`\r
`}),w}function Sn(g,w,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=Fu(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):Tt(g,w,T))}function yt(g){Ot.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(yt,Ot);var Zl=/^https?$/i,Po=["POST","PUT"];t=yt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?xo(this.o):xo(Ii),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(se){lf(this,se);return}if(g=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var X in M)T.set(X,M[X]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const se of M.keys())T.set(se,M.get(se));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),X=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Po,w,void 0))||M||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of T)this.g.setRequestHeader(se,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){lf(this,se)}};function lf(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Jl(g),Fs(g)}function Jl(g){g.A||(g.A=!0,lt(g,"complete"),lt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,lt(this,"complete"),lt(this,"abort"),Fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ec(this):this.bb())},t.bb=function(){ec(this)};function ec(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ts(g)!=4||g.Z()!=2)){if(g.u&&ts(g)==4)En(g.Ea,0,g);else if(lt(g,"readystatechange"),ts(g)==4){g.h=!1;try{const ye=g.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var M;if(M=ye===0){var X=String(g.D).match(Co)[1]||null;!X&&u.self&&u.self.location&&(X=u.self.location.protocol.slice(0,-1)),M=!Zl.test(X?X.toLowerCase():"")}T=M}if(T)lt(g,"complete"),lt(g,"success");else{g.m=6;try{var se=2<ts(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",Jl(g)}}finally{Fs(g)}}}}function Fs(g,w){if(g.g){Mo(g);const T=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||lt(g,"ready");try{T.onreadystatechange=M}catch{}}}function Mo(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function ts(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<ts(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),ca(w)}};function cf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ay(g){const w={};g=(g.g&&2<=ts(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(U(g[M]))continue;var T=L(g[M]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=w[X]||[];w[X]=se,se.push(T)}z(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(g,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||w}function tc(g){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Do("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Do("baseRetryDelayMs",5e3,g),this.cb=Do("retryDelaySeedMs",1e4,g),this.Wa=Do("forwardChannelMaxRetries",2,g),this.wa=Do("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ct(g&&g.concurrentRequestLimit),this.Da=new Io,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tc.prototype,t.la=8,t.G=1,t.connect=function(g,w,T,M){It(0),this.W=g,this.H=w||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=gf(this,null,this.W),ic(this)};function Hu(g){if(uf(g),g.G==3){var w=g.U++,T=Mi(g.I);if(Tt(T,"SID",g.K),Tt(T,"RID",w),Tt(T,"TYPE","terminate"),Oo(g,T),w=new Tn(g,g.j,w),w.L=2,w.v=Ro(Mi(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=yf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),H(w)}pf(g)}function nc(g){g.g&&(Lo(g),g.g.cancel(),g.g=null)}function uf(g){nc(g),g.u&&(u.clearTimeout(g.u),g.u=null),sc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function ic(g){if(!ot(g.h)&&!g.s){g.s=!0;var w=g.Ga;ne||B(),he||(ne(),he=!0),ve.add(w,g),g.B=0}}function oy(g,w){return mn(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Wt(x(g.Ga,g,w),Wu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const X=new Tn(this,this.j,g);let se=this.o;if(this.S&&(se?(se=k(se),O(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=df(this,X,w),T=Mi(this.I),Tt(T,"RID",g),Tt(T,"CVER",22),this.D&&Tt(T,"X-HTTP-Session-Id",this.D),Oo(this,T),se&&(this.O?w="headers="+encodeURIComponent(String(Fu(se)))+"&"+w:this.m&&Sn(T,this.m,se)),Bt(this.h,X),this.Ua&&Tt(T,"TYPE","init"),this.P?(Tt(T,"$req",w),Tt(T,"SID","null"),X.T=!0,gi(X,T,null)):gi(X,T,w),this.G=2}}else this.G==3&&(g?qu(this,g):this.i.length==0||ot(this.h)||qu(this))};function qu(g,w){var T;w?T=w.l:T=g.U++;const M=Mi(g.I);Tt(M,"SID",g.K),Tt(M,"RID",T),Tt(M,"AID",g.T),Oo(g,M),g.m&&g.o&&Sn(M,g.m,g.o),T=new Tn(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),w&&(g.i=w.D.concat(g.i)),w=df(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Bt(g.h,T),gi(T,M,w)}function Oo(g,w){g.H&&J(g.H,function(T,M){Tt(w,M,T)}),g.l&&Lu({},function(T,M){Tt(w,M,T)})}function df(g,w,T){T=Math.min(g.i.length,T);var M=g.l?x(g.l.Na,g.l,g):null;e:{var X=g.i;let se=-1;for(;;){const ye=["count="+T];se==-1?0<T?(se=X[0].g,ye.push("ofs="+se)):se=0:ye.push("ofs="+se);let nt=!0;for(let pn=0;pn<T;pn++){let it=X[pn].g;const Cn=X[pn].map;if(it-=se,0>it)se=Math.max(0,X[pn].g-100),nt=!1;else try{zs(Cn,ye,"req"+it+"_")}catch{M&&M(Cn)}}if(nt){M=ye.join("&");break e}}}return g=g.i.splice(0,T),w.D=g,M}function hf(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;ne||B(),he||(ne(),he=!0),ve.add(w,g),g.v=0}}function $u(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Wt(x(g.Fa,g),Wu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,ff(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Wt(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),nc(this),ff(this))};function Lo(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function ff(g){g.g=new Tn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Mi(g.qa);Tt(w,"RID","rpc"),Tt(w,"SID",g.K),Tt(w,"AID",g.T),Tt(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Tt(w,"TO",g.ja),Tt(w,"TYPE","xmlhttp"),Oo(g,w),g.m&&g.o&&Sn(w,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=Ro(Mi(w)),T.m=null,T.P=!0,Qi(T,g)}t.Za=function(){this.C!=null&&(this.C=null,nc(this),$u(this),It(19))};function sc(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function mf(g,w){var T=null;if(g.g==w){sc(g),Lo(g),g.g=null;var M=2}else if(An(g.h,w))T=w.D,Pt(g.h,w),M=1;else return;if(g.G!=0){if(w.o)if(M==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var X=g.B;M=Os(),lt(M,new Jt(M,T)),ic(g)}else hf(g);else if(X=w.s,X==3||X==0&&0<w.X||!(M==1&&oy(g,w)||M==2&&$u(g)))switch(T&&0<T.length&&(w=g.h,w.i=w.i.concat(T)),X){case 1:Ar(g,5);break;case 4:Ar(g,10);break;case 3:Ar(g,6);break;default:Ar(g,2)}}}function Wu(g,w){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*w}function Ar(g,w){if(g.j.info("Error code "+w),w==2){var T=x(g.fb,g),M=g.Xa;const X=!M;M=new ln(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ko(M,"https"),Ro(M),X?jo(M.toString(),T):_s(M.toString(),T)}else It(2);g.G=0,g.l&&g.l.sa(w),pf(g),uf(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function pf(g){if(g.G=0,g.ka=[],g.l){const w=Yl(g.h);(w.length!=0||g.i.length!=0)&&(S(g.ka,w),S(g.ka,g.i),g.h.i.length=0,C(g.i),g.i.length=0),g.l.ra()}}function gf(g,w,T){var M=T instanceof ln?Mi(T):new ln(T);if(M.g!="")w&&(M.g=w+"."+M.g),fa(M,M.s);else{var X=u.location;M=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var se=new ln(null);M&&ko(se,M),w&&(se.g=w),X&&fa(se,X),T&&(se.l=T),M=se}return T=g.D,w=g.ya,T&&w&&Tt(M,T,w),Tt(M,"VER",g.la),Oo(g,M),M}function yf(g,w,T){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new yt(new ma({eb:T})):new yt(g.pa),w.Ha(g.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}t=vf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rc(){}rc.prototype.g=function(g,w){return new oi(g,w)};function oi(g,w){Ot.call(this),this.g=new tc(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!U(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Hs(this)}E(oi,Ot),oi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oi.prototype.close=function(){Hu(this.g)},oi.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Ni(g),g=T);w.i.push(new Rt(w.Ya++,g)),w.G==3&&ic(w)},oi.prototype.N=function(){this.g.l=null,delete this.j,Hu(this.g),delete this.g,oi.aa.N.call(this)};function bf(g){Dn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const T in w){g=T;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(bf,Dn);function xf(){_o.call(this),this.status=1}E(xf,_o);function Hs(g){this.g=g}E(Hs,vf),Hs.prototype.ua=function(){lt(this.g,"a")},Hs.prototype.ta=function(g){lt(this.g,new bf(g))},Hs.prototype.sa=function(g){lt(this.g,new xf)},Hs.prototype.ra=function(){lt(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,oi.prototype.send=oi.prototype.o,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,AR=function(){return new rc},TR=function(){return Os()},ER=Yi,rb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,ep=ws,Xi.COMPLETE="complete",_R=Xi,wo.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,$d=wo,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,wR=yt}).apply(typeof Em<"u"?Em:typeof self<"u"?self:typeof window<"u"?window:{});const xT="@firebase/firestore",wT="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new lx("@firebase/firestore");function Oc(){return Tl.logLevel}function _e(t,...e){if(Tl.logLevel<=Ze.DEBUG){const n=e.map(_x);Tl.debug(`Firestore (${bu}): ${t}`,...n)}}function ta(t,...e){if(Tl.logLevel<=Ze.ERROR){const n=e.map(_x);Tl.error(`Firestore (${bu}): ${t}`,...n)}}function tu(t,...e){if(Tl.logLevel<=Ze.WARN){const n=e.map(_x);Tl.warn(`Firestore (${bu}): ${t}`,...n)}}function _x(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,SR(t,i,n)}function SR(t,e,n){let i=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ta(i),new Error(i)}function bt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||SR(e,s,i)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class LL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VL{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string",31837,{l:i}),new CR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class zL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new zL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const i=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _T(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _T(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=FL(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=e.charAt(s[a]%62))}return i}}function $e(t,e){return t<e?-1:t>e?1:0}function ab(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return $e(i,s);{const a=kR(),l=HL(a.encode(ET(t,n)),a.encode(ET(e,n)));return l!==0?l:$e(i,s)}}n+=i>65535?2:1}return $e(t.length,e.length)}function ET(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function HL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return $e(t[n],e[n]);return $e(t.length,e.length)}function nu(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=-62135596800,AT=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*AT);return new xn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TT)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-TT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new xn(0,0))}static max(){return new Ue(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__name__";class Js{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Le(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Js?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const a=Js.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return $e(e.length,n.length)}static compareSegments(e,n){const i=Js.isNumericId(e),s=Js.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Js.extractNumericId(e).compare(Js.extractNumericId(n)):ab(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class Vt extends Js{construct(e,n,i){return new Vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const qL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Js{construct(e,n,i){return new Fn(e,n,i)}static isValidIdentifier(e){return qL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new Fn([ST])}static fromServerFormat(e){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Ee(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Ee(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ee(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(a(),s++)}if(a(),l)throw new Ee(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Vt.fromString(e))}static fromName(e){return new ke(Vt.fromString(e).popFirst(5))}static empty(){return new ke(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=-1;function $L(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(i===1e9?new xn(n+1,0):new xn(n,i));return new io(s,ke.empty(),e)}function WL(t){return new io(t.readTime,t.key,yh)}class io{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new io(Ue.min(),ke.empty(),yh)}static max(){return new io(Ue.max(),ke.empty(),yh)}}function GL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==KL)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,i)=>{n(e)})}static reject(e){return new fe((n,i)=>{i(e)})}static waitFor(e){return new fe((n,i)=>{let s=0,a=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next(s=>s?fe.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(e,n){return new fe((i,s)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next(p=>{l[m]=p,++u,u===a&&i(l)},p=>s(p))}})}static doWhile(e,n){return new fe((i,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):i()};a()})}}function XL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}_g.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=-1;function Eg(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function QL(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="";function ZL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=JL(t.get(n),e);return CT(e)}function JL(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case NR:n+="";break;default:n+=a}}return n}function CT(t){return t+NR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tm(this.root,e,this.comparator,!0)}}class Tm{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??Bn.RED,this.left=s??Bn.EMPTY,this.right=a??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,a){return new Bn(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Bn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,i,s,a){return this}insert(e,n,i){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RT(this.data.getIterator())}getIteratorFrom(e){return new RT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class RT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Hi([])}unionWith(e){let n=new wn(Fn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IR("Invalid base64 string: "+a):a}}(e);return new qn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const eV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=eV.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ro(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="server_timestamp",MR="__type__",DR="__previous_value__",OR="__local_write_time__";function Tx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[MR])===null||n===void 0?void 0:n.stringValue)===PR}function Tg(t){const e=t.mapValue.fields[DR];return Tx(e)?Tg(e):e}function vh(t){const e=so(t.mapValue.fields[OR].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,i,s,a,l,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m}}const Rp="(default)";class bh{constructor(e,n){this.projectId=e,this.database=n||Rp}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Rp}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="__type__",nV="__max__",Am={mapValue:{}},VR="__vector__",Np="value";function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tx(t)?4:sV(t)?9007199254740991:iV(t)?10:11:Le(28295,{value:t})}function ur(t,e){if(t===e)return!0;const n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vh(t).isEqual(vh(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=so(s.timestampValue),u=so(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return ro(s.bytesValue).isEqual(ro(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return rn(s.geoPointValue.latitude)===rn(a.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return rn(s.integerValue)===rn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=rn(s.doubleValue),u=rn(a.doubleValue);return l===u?kp(l)===kp(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return nu(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(kT(l)!==kT(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ur(l[h],u[h])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function xh(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function iu(t,e){if(t===e)return 0;const n=ao(t),i=ao(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=rn(a.integerValue||a.doubleValue),h=rn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return NT(t.timestampValue,e.timestampValue);case 4:return NT(vh(t),vh(e));case 5:return ab(t.stringValue,e.stringValue);case 6:return function(a,l){const u=ro(a),h=ro(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const p=$e(u[m],h[m]);if(p!==0)return p}return $e(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=$e(rn(a.latitude),rn(l.latitude));return u!==0?u:$e(rn(a.longitude),rn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jT(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,m,p;const v=a.fields||{},x=l.fields||{},_=(u=v[Np])===null||u===void 0?void 0:u.arrayValue,E=(h=x[Np])===null||h===void 0?void 0:h.arrayValue,C=$e(((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return C!==0?C:jT(_,E)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===Am.mapValue&&l===Am.mapValue)return 0;if(a===Am.mapValue)return 1;if(l===Am.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),m=l.fields||{},p=Object.keys(m);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const x=ab(h[v],p[v]);if(x!==0)return x;const _=iu(u[h[v]],m[p[v]]);if(_!==0)return _}return $e(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{Pe:n})}}function NT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=so(t),i=so(e),s=$e(n.seconds,i.seconds);return s!==0?s:$e(n.nanos,i.nanos)}function jT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=iu(n[s],i[s]);if(a)return a}return $e(n.length,i.length)}function su(t){return ob(t)}function ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=so(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ro(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ke.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=ob(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${ob(n.fields[l])}`;return s+"}"}(t.mapValue):Le(61005,{value:t})}function tp(t){switch(ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tg(t);return e?16+tp(e):16;case 5:return 2*t.stringValue.length;case 6:return ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+tp(a),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return mo(i.fields,(a,l)=>{s+=a.length+tp(l)}),s}(t.mapValue);default:throw Le(13486,{value:t})}}function IT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lb(t){return!!t&&"integerValue"in t}function Ax(t){return!!t&&"arrayValue"in t}function PT(t){return!!t&&"nullValue"in t}function MT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function np(t){return!!t&&"mapValue"in t}function iV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[LR])===null||n===void 0?void 0:n.stringValue)===VR}function th(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=th(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=th(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(n)}setAll(e){let n=Fn.emptyPath(),i={},s=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=u.popLast()}l?i[u.lastSegment()]=th(l):s.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(e){const n=this.field(e.popLast());np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];np(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){mo(n,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new Ei(th(this.value))}}function zR(t){const e=[];return mo(t.fields,(n,i)=>{const s=new Fn([n]);if(np(i)){const a=zR(i.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,i,s,a,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Zn(e,0,Ue.min(),Ue.min(),Ue.min(),Ei.empty(),0)}static newFoundDocument(e,n,i,s){return new Zn(e,1,n,Ue.min(),i,s,0)}static newNoDocument(e,n){return new Zn(e,2,n,Ue.min(),Ue.min(),Ei.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,Ue.min(),Ue.min(),Ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.position=e,this.inclusive=n}}function DT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?i=ke.comparator(ke.fromName(l.referenceValue),n.key):i=iu(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{}class fn extends UR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new oV(e,n,i):n==="array-contains"?new uV(e,i):n==="in"?new dV(e,i):n==="not-in"?new hV(e,i):n==="array-contains-any"?new fV(e,i):new fn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new lV(e,i):new cV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(iu(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(iu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends UR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ns(e,n)}matches(e){return BR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function BR(t){return t.op==="and"}function FR(t){return aV(t)&&BR(t)}function aV(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function cb(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+su(t.value);if(FR(t))return t.filters.map(e=>cb(e)).join(",");{const e=t.filters.map(n=>cb(n)).join(",");return`${t.op}(${e})`}}function HR(t,e){return t instanceof fn?function(i,s){return s instanceof fn&&i.op===s.op&&i.field.isEqual(s.field)&&ur(i.value,s.value)}(t,e):t instanceof Ns?function(i,s){return s instanceof Ns&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,u)=>a&&HR(l,s.filters[u]),!0):!1}(t,e):void Le(19439)}function qR(t){return t instanceof fn?function(n){return`${n.field.canonicalString()} ${n.op} ${su(n.value)}`}(t):t instanceof Ns?function(n){return n.op.toString()+" {"+n.getFilters().map(qR).join(" ,")+"}"}(t):"Filter"}class oV extends fn{constructor(e,n,i){super(e,n,i),this.key=ke.fromName(i.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class lV extends fn{constructor(e,n){super(e,"in",n),this.keys=$R("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cV extends fn{constructor(e,n){super(e,"not-in",n),this.keys=$R("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $R(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ke.fromName(i.referenceValue))}class uV extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ax(n)&&xh(n.arrayValue,this.value)}}class dV extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xh(this.value.arrayValue,n)}}class hV extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xh(this.value.arrayValue,n)}}class fV extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ax(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n=null,i=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function LT(t,e=null,n=[],i=[],s=null,a=null,l=null){return new mV(t,e,n,i,s,a,l)}function Sx(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>cb(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>su(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>su(i)).join(",")),e.Ie=n}return e.Ie}function Cx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function ub(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n=null,i=[],s=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pV(t,e,n,i,s,a,l,u){return new _u(t,e,n,i,s,a,l,u)}function Ag(t){return new _u(t)}function VT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WR(t){return t.collectionGroup!==null}function nh(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new wn(Fn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new wh(a,i))}),n.has(Fn.keyField().canonicalString())||e.Ee.push(new wh(Fn.keyField(),i))}return e.Ee}function sr(t){const e=Fe(t);return e.de||(e.de=gV(e,nh(t))),e.de}function gV(t,e){if(t.limitType==="F")return LT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new wh(s.field,a)});const n=t.endAt?new jp(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new jp(t.startAt.position,t.startAt.inclusive):null;return LT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function db(t,e){const n=t.filters.concat([e]);return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ip(t,e,n){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sg(t,e){return Cx(sr(t),sr(e))&&t.limitType===e.limitType}function GR(t){return`${Sx(sr(t))}|lt:${t.limitType}`}function Lc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>qR(s)).join(", ")}]`),Eg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>su(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>su(s)).join(",")),`Target(${i})`}(sr(t))}; limitType=${t.limitType})`}function Cg(t,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ke.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,s){for(const a of nh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,u,h){const m=DT(l,u,h);return l.inclusive?m<=0:m<0}(i.startAt,nh(i),s)||i.endAt&&!function(l,u,h){const m=DT(l,u,h);return l.inclusive?m>=0:m>0}(i.endAt,nh(i),s))}(t,e)}function yV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KR(t){return(e,n)=>{let i=!1;for(const s of nh(t)){const a=vV(s,e,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function vV(t,e,n){const i=t.field.isKeyField()?ke.comparator(e.key,n.key):function(a,l,u){const h=l.data.field(a),m=u.data.field(a);return h!==null&&m!==null?iu(h,m):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(n,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return jR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new Yt(ke.comparator);function na(){return bV}const YR=new Yt(ke.comparator);function Wd(...t){let e=YR;for(const n of t)e=e.insert(n.key,n);return e}function XR(t){let e=YR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function cl(){return ih()}function QR(){return ih()}function ih(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const xV=new Yt(ke.comparator),wV=new wn(ke.comparator);function Je(...t){let e=wV;for(const n of t)e=e.add(n);return e}const _V=new wn($e);function EV(){return _V}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function ZR(t){return{integerValue:""+t}}function JR(t,e){return QL(e)?ZR(e):kx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this._=void 0}}function TV(t,e,n){return t instanceof Pp?function(s,a){const l={fields:{[MR]:{stringValue:PR},[OR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Tx(a)&&(a=Tg(a)),a&&(l.fields[DR]=a),{mapValue:l}}(n,e):t instanceof _h?tN(t,e):t instanceof Eh?nN(t,e):function(s,a){const l=eN(s,a),u=zT(l)+zT(s.Re);return lb(l)&&lb(s.Re)?ZR(u):kx(s.serializer,u)}(t,e)}function AV(t,e,n){return t instanceof _h?tN(t,e):t instanceof Eh?nN(t,e):n}function eN(t,e){return t instanceof Th?function(i){return lb(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Pp extends kg{}class _h extends kg{constructor(e){super(),this.elements=e}}function tN(t,e){const n=iN(e);for(const i of t.elements)n.some(s=>ur(s,i))||n.push(i);return{arrayValue:{values:n}}}class Eh extends kg{constructor(e){super(),this.elements=e}}function nN(t,e){let n=iN(e);for(const i of t.elements)n=n.filter(s=>!ur(s,i));return{arrayValue:{values:n}}}class Th extends kg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function zT(t){return rn(t.integerValue||t.doubleValue)}function iN(t){return Ax(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.field=e,this.transform=n}}function CV(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof _h&&s instanceof _h||i instanceof Eh&&s instanceof Eh?nu(i.elements,s.elements,ur):i instanceof Th&&s instanceof Th?ur(i.Re,s.Re):i instanceof Pp&&s instanceof Pp}(t.transform,e.transform)}class kV{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rg{}function sN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rx(t.key,hs.none()):new Hh(t.key,t.data,hs.none());{const n=t.data,i=Ei.empty();let s=new wn(Fn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new po(t.key,i,new Hi(s.toArray()),hs.none())}}function RV(t,e,n){t instanceof Hh?function(s,a,l){const u=s.value.clone(),h=BT(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof po?function(s,a,l){if(!ip(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=BT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(rN(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function sh(t,e,n,i){return t instanceof Hh?function(a,l,u,h){if(!ip(a.precondition,l))return u;const m=a.value.clone(),p=FT(a.fieldTransforms,h,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof po?function(a,l,u,h){if(!ip(a.precondition,l))return u;const m=FT(a.fieldTransforms,h,l),p=l.data;return p.setAll(rN(a)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(a,l,u){return ip(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function NV(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),a=eN(i.transform,s||null);a!=null&&(n===null&&(n=Ei.empty()),n.set(i.field,a))}return n||null}function UT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&nu(i,s,(a,l)=>CV(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hh extends Rg{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class po extends Rg{constructor(e,n,i,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function BT(t,e,n){const i=new Map;bt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);i.set(a.field,AV(l,u,n[s]))}return i}function FT(t,e,n){const i=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);i.set(s.field,TV(a,l,e))}return i}class Rx extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jV extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&RV(a,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=sh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=sh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=QR();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const h=sN(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ue.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(n,i)=>UT(n,i))&&nu(this.baseMutations,e.baseMutations,(n,i)=>UT(n,i))}}class Nx{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){bt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return xV}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new Nx(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,rt;function DV(t){switch(t){case de.OK:return Le(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function aN(t){if(t===void 0)return ta("GRPC error has no .code"),de.UNKNOWN;switch(t){case dn.OK:return de.OK;case dn.CANCELLED:return de.CANCELLED;case dn.UNKNOWN:return de.UNKNOWN;case dn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case dn.INTERNAL:return de.INTERNAL;case dn.UNAVAILABLE:return de.UNAVAILABLE;case dn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case dn.NOT_FOUND:return de.NOT_FOUND;case dn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case dn.ABORTED:return de.ABORTED;case dn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case dn.DATA_LOSS:return de.DATA_LOSS;default:return Le(39323,{code:t})}}(rt=dn||(dn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new Qa([4294967295,4294967295],0);function HT(t){const e=kR().encode(t),n=new xR;return n.update(e),new Uint8Array(n.digest())}function qT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qa([n,i],0),new Qa([s,a],0)]}class jx{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Gd(`Invalid padding: ${n}`);if(i<0)throw new Gd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Gd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Gd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Qa.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(Qa.fromNumber(i)));return s.compare(OV)===1&&(s=new Qa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=HT(e),[i,s]=qT(n);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);if(!this.be(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new jx(a,s,n);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=HT(e),[i,s]=qT(n);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,i,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,qh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ng(Ue.min(),s,new Yt($e),na(),Je())}}class qh{constructor(e,n,i,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new qh(i,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class oN{constructor(e,n){this.targetId=e,this.Ce=n}}class lN{constructor(e,n,i=qn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class $T{constructor(){this.Fe=0,this.Me=WT(),this.xe=qn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),n=Je(),i=Je();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Le(38017,{changeType:a})}}),new qh(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=WT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LV{constructor(e){this.ze=e,this.je=new Map,this.He=na(),this.Je=Sm(),this.Ye=Sm(),this.Ze=new Yt($e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(ub(a))if(i===0){const l=new ke(a.path);this.tt(n,l,Zn.newNoDocument(l,Ue.min()))}else bt(i===1,20013,{expectedCount:i});else{const l=this.ut(n);if(l!==i){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=ro(i).toUint8Array()}catch(h){if(h instanceof IR)return tu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new jx(l,s,a)}catch(h){return tu(h instanceof Gd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&ub(u.target)){const h=new ke(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,Zn.newNoDocument(h,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let i=Je();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const m=this._t(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new Ng(e,n,this.Ze,this.He,i);return this.He=na(),this.Je=Sm(),this.Ye=Sm(),this.Ze=new Yt($e),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new $T,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wn($e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wn($e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $T),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Sm(){return new Yt(ke.comparator)}function WT(){return new Yt(ke.comparator)}const VV={asc:"ASCENDING",desc:"DESCENDING"},zV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UV={and:"AND",or:"OR"};class BV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hb(t,e){return t.useProto3Json||Eg(e)?e:{value:e}}function Mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FV(t,e){return Mp(t,e.toTimestamp())}function rr(t){return bt(!!t,49232),Ue.fromTimestamp(function(n){const i=so(n);return new xn(i.seconds,i.nanos)}(t))}function Ix(t,e){return fb(t,e).canonicalString()}function fb(t,e){const n=function(s){return new Vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uN(t){const e=Vt.fromString(t);return bt(pN(e),10190,{key:e.toString()}),e}function mb(t,e){return Ix(t.databaseId,e.path)}function fv(t,e){const n=uN(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(hN(n))}function dN(t,e){return Ix(t.databaseId,e)}function HV(t){const e=uN(t);return e.length===4?Vt.emptyPath():hN(e)}function pb(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hN(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GT(t,e,n){return{name:mb(t,e),fields:n.value.mapValue.fields}}function qV(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,p){return m.useProto3Json?(bt(p===void 0||typeof p=="string",58123),qn.fromBase64String(p||"")):(bt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),qn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const p=m.code===void 0?de.UNKNOWN:aN(m.code);return new Ee(p,m.message||"")}(l);n=new lN(i,s,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=fv(t,i.document.name),a=rr(i.document.updateTime),l=i.document.createTime?rr(i.document.createTime):Ue.min(),u=new Ei({mapValue:{fields:i.document.fields}}),h=Zn.newFoundDocument(s,a,l,u),m=i.targetIds||[],p=i.removedTargetIds||[];n=new sp(m,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=fv(t,i.document),a=i.readTime?rr(i.readTime):Ue.min(),l=Zn.newNoDocument(s,a),u=i.removedTargetIds||[];n=new sp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=fv(t,i.document),a=i.removedTargetIds||[];n=new sp([],a,s,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new MV(s,a),u=i.targetId;n=new oN(u,l)}}return n}function $V(t,e){let n;if(e instanceof Hh)n={update:GT(t,e.key,e.value)};else if(e instanceof Rx)n={delete:mb(t,e.key)};else if(e instanceof po)n={update:GT(t,e.key,e.data),updateMask:e8(e.fieldMask)};else{if(!(e instanceof jV))return Le(16599,{ft:e.type});n={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Pp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _h)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Eh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Th)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Le(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:FV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)}(t,e.precondition)),n}function WV(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?rr(s.updateTime):rr(a);return l.isEqual(Ue.min())&&(l=rr(a)),new kV(l,s.transformResults||[])}(n,e))):[]}function GV(t,e){return{documents:[dN(t,e.path)]}}function KV(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=dN(t,s);const a=function(m){if(m.length!==0)return mN(Ns.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(p=>function(x){return{field:Vc(x.field),direction:QV(x.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=hb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:s}}function YV(t){let e=HV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){bt(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=function(v){const x=fN(v);return x instanceof Ns&&FR(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(x=>function(E){return new wh(zc(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(x))}(n.orderBy));let u=null;n.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Eg(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(v){const x=!!v.before,_=v.values||[];return new jp(_,x)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const x=!v.before,_=v.values||[];return new jp(_,x)}(n.endAt)),pV(e,s,l,a,u,"F",h,m)}function XV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=zc(n.unaryFilter.field);return fn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=zc(n.unaryFilter.field);return fn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zc(n.unaryFilter.field);return fn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zc(n.unaryFilter.field);return fn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return fn.create(zc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ns.create(n.compositeFilter.filters.map(i=>fN(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function QV(t){return VV[t]}function ZV(t){return zV[t]}function JV(t){return UV[t]}function Vc(t){return{fieldPath:t.canonicalString()}}function zc(t){return Fn.fromServerFormat(t.fieldPath)}function mN(t){return t instanceof fn?function(n){if(n.op==="=="){if(MT(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NAN"}};if(PT(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MT(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NAN"}};if(PT(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(n.field),op:ZV(n.op),value:n.value}}}(t):t instanceof Ns?function(n){const i=n.getFilters().map(s=>mN(s));return i.length===1?i[0]:{compositeFilter:{op:JV(n.op),filters:i}}}(t):Le(54877,{filter:t})}function e8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,i,s,a=Ue.min(),l=Ue.min(),u=qn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.wt=e}}function n8(t){const e=YV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.yn=new s8}addToCollectionParentIndex(e,n){return this.yn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(io.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class s8{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new wn(Vt.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new wn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gN=41943040;class wi{static withCacheSize(e){return new wi(e,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(gN,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ru(0)}static ir(){return new ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="LruGarbageCollector",r8=1048576;function XT([t,e],[n,i]){const s=$e(t,n);return s===0?$e(e,i):s}class a8{constructor(e){this.cr=e,this.buffer=new wn(XT),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();XT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o8{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){_e(YT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wu(n)?_e(YT,"Ignoring IndexedDB error during garbage collection: ",n):await xu(n)}await this.Ir(3e5)})}}class l8{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(_g.le);const i=new a8(n);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(KT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,s,a,l,u,h,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,n))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(m=Date.now(),Oc()<=Ze.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function c8(t,e){return new l8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this.changes=new jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&sh(i.mutation,s,Hi.empty(),xn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Je()){const s=cl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(a=>{let l=Wd();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=cl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Je()))}populateOverlays(e,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,i,s){let a=na();const l=ih(),u=function(){return ih()}();return n.forEach((h,m)=>{const p=i.get(m.key);s.has(m.key)&&(p===void 0||p.mutation instanceof po)?a=a.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),sh(p.mutation,m,p.mutation.getFieldMask(),xn.now())):l.set(m.key,Hi.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,p)=>l.set(m,p)),n.forEach((m,p)=>{var v;return u.set(m,new d8(p,(v=l.get(m))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const i=ih();let s=new Yt((l,u)=>l-u),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let p=i.get(h)||Hi.empty();p=u.applyToLocalView(m,p),i.set(h,p);const v=(s.get(u.batchId)||Je()).add(h);s=s.insert(u.batchId,v)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,p=h.value,v=QR();p.forEach(x=>{if(!a.has(x)){const _=sN(n.get(x),i.get(x));_!==null&&v.set(x,_),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return fe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-a.size):fe.resolve(cl());let u=yh,h=a;return l.next(m=>fe.forEach(m,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next(x=>{h=h.insert(p,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Je())).next(p=>({batchId:u,changes:XR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next(i=>{let s=Wd();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const a=n.collectionGroup;let l=Wd();return this.indexManager.getCollectionParents(e,a).next(u=>fe.forEach(u,h=>{const m=function(v,x){return new _u(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(p=>{p.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,s))).next(l=>{a.forEach((h,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,Zn.newInvalidDocument(p)))});let u=Wd();return l.forEach((h,m)=>{const p=a.get(h);p!==void 0&&sh(p.mutation,m,Hi.empty(),xn.now()),Cg(n,m)&&(u=u.insert(h,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:rr(s.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:n8(s.bundledQuery),readTime:rr(s.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.overlays=new Yt(ke.comparator),this.Or=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=cl();return fe.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,a)=>{this.St(e,n,a)}),fe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const s=cl(),a=n.length+1,l=new ke(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let a=new Yt((m,p)=>m-p);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let p=a.get(m.largestBatchId);p===null&&(p=cl(),a=a.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const u=cl(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,p)=>u.set(m,p)),!(u.size()>=s)););return fe.resolve(u)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new PV(n,i));let a=this.Or.get(n);a===void 0&&(a=Je(),this.Or.set(n,a)),this.Or.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Nr=new wn(jn.Br),this.Lr=new wn(jn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new jn(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new jn(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new ke(new Vt([])),i=new jn(n,e),s=new jn(n,e+1),a=[];return this.Lr.forEachInRange([i,s],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ke(new Vt([])),i=new jn(n,e),s=new jn(n,e+1);let a=Je();return this.Lr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new jn(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class jn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ke.comparator(e.key,n.key)||$e(e.Gr,n.Gr)}static kr(e,n){return $e(e.Gr,n.Gr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new wn(jn.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new IV(a,n,i,s);this.mutationQueue.push(l);for(const u of s)this.zr=this.zr.add(new jn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,n){return fe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Hr(i),a=s<0?0:s;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Ex:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new jn(n,0),s=new jn(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,s],l=>{const u=this.jr(l.Gr);a.push(u)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new wn($e);return n.forEach(s=>{const a=new jn(s,0),l=new jn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],u=>{i=i.add(u.Gr)})}),fe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let a=i;ke.isDocumentKey(a)||(a=a.child(""));const l=new jn(new ke(a),0);let u=new wn($e);return this.zr.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(u=u.add(h.Gr)),!0)},l),fe.resolve(this.Jr(u))}Jr(e){const n=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){bt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return fe.forEach(n.mutations,s=>{const a=new jn(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new jn(n,0),s=this.zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.Zr=e,this.docs=function(){return new Yt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let i=na();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Zn.newInvalidDocument(s))}),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let a=na();const l=n.path,u=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:p}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||GL(WL(p),i)<=0||(s.has(p.key)||Cg(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,i,s){Le(9500)}Xr(e,n){return fe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new v8(this)}getSize(e){return fe.resolve(this.size)}}class v8 extends u8{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),fe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.persistence=e,this.ei=new jl(n=>Sx(n),Cx),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ti=0,this.ni=new Px,this.targetCount=0,this.ri=ru.rr()}forEachTarget(e,n){return this.ei.forEach((i,s)=>n(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),fe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ru(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.ar(n),fe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let s=0;const a=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),fe.waitFor(a).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.ii={},this.overlays={},this.si=new _g(0),this.oi=!1,this.oi=!0,this._i=new p8,this.referenceDelegate=e(this),this.ai=new b8(this),this.indexManager=new i8,this.remoteDocumentCache=function(s){return new y8(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new t8(n),this.ci=new f8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new g8(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const s=new x8(this.si.next());return this.referenceDelegate.li(),i(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,n){return fe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class x8 extends YL{constructor(e){super(),this.currentSequenceNumber=e}}class Mx{constructor(e){this.persistence=e,this.Ti=new Px,this.Ii=null}static Ei(e){return new Mx(e)}get di(){if(this.Ii)return this.Ii;throw Le(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,i=>{const s=ke.fromPath(i);return this.Ai(e,s).next(a=>{a||n.removeEntry(s,Ue.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return fe.or([()=>fe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Dp{constructor(e,n){this.persistence=e,this.Ri=new jl(i=>ZL(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=c8(this,n)}static Ei(e,n){return new Dp(e,n)}li(){}hi(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return fe.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(a=>a?fe.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,l=>this.gr(e,l,n).next(u=>{u||(i++,a.removeEntry(l,Ue.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tp(e.data.value)),n}gr(e,n,i){return fe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=s}static Ps(e,n){let i=Je(),s=Je();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Dx(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return KO()?8:XL(si())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,s){const a={result:null};return this.Rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new w8;return this.fs(e,n,l).next(u=>{if(a.result=u,this.Is)return this.gs(e,n,l,u.size)})}).next(()=>a.result)}gs(e,n,i,s){return i.documentReadCount<this.Es?(Oc()<=Ze.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(Oc()<=Ze.DEBUG&&_e("QueryEngine","Query:",Lc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Oc()<=Ze.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):fe.resolve())}Rs(e,n){if(VT(n))return fe.resolve(null);let i=sr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ip(n,null,"F"),i=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=Je(...a);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const m=this.ps(n,u);return this.ys(n,m,l,h.readTime)?this.Rs(e,Ip(n,null,"F")):this.ws(e,m,n,h)}))})))}Vs(e,n,i,s){return VT(n)||s.isEqual(Ue.min())?fe.resolve(null):this.As.getDocuments(e,i).next(a=>{const l=this.ps(n,a);return this.ys(n,l,i,s)?fe.resolve(null):(Oc()<=Ze.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lc(n)),this.ws(e,l,n,$L(s,yh)).next(u=>u))})}ps(e,n){let i=new wn(KR(e));return n.forEach((s,a)=>{Cg(e,a)&&(i=i.add(a))}),i}ys(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,n,i){return Oc()<=Ze.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Lc(n)),this.As.getDocumentsMatchingQuery(e,n,io.min(),i)}ws(e,n,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LocalStore",E8=3e8;class T8{constructor(e,n,i,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Yt($e),this.Ds=new jl(a=>Sx(a),Cx),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h8(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function A8(t,e,n,i){return new T8(t,e,n,i)}async function vN(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=Je();for(const m of s){l.push(m.batchId);for(const p of m.mutations)h=h.add(p.key)}for(const m of a){u.push(m.batchId);for(const p of m.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(m=>({Ms:m,removedBatchIds:l,addedBatchIds:u}))})})}function S8(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,m,p){const v=m.batch,x=v.keys();let _=fe.resolve();return x.forEach(E=>{_=_.next(()=>p.getEntry(h,E)).next(C=>{const S=m.docVersions.get(E);bt(S!==null,48541),C.version.compareTo(S)<0&&(v.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),p.addEntry(C)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Je();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function bN(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function C8(t,e){const n=Fe(t),i=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const u=[];e.targetChanges.forEach((p,v)=>{const x=s.get(v);if(!x)return;u.push(n.ai.removeMatchingKeys(a,p.removedDocuments,v).next(()=>n.ai.addMatchingKeys(a,p.addedDocuments,v)));let _=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(qn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),s=s.insert(v,_),function(C,S,N){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=E8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(x,_,p)&&u.push(n.ai.updateTargetData(a,_))});let h=na(),m=Je();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(k8(a,l,e.documentUpdates).next(p=>{h=p.xs,m=p.Os})),!i.isEqual(Ue.min())){const p=n.ai.getLastRemoteSnapshotVersion(a).next(v=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(p)}return fe.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(n.Ss=s,a))}function k8(t,e,n){let i=Je(),s=Je();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let l=na();return n.forEach((u,h)=>{const m=a.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):_e(Ox,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),{xs:l,Os:s}})}function R8(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ex),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function N8(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.ai.getTargetData(i,e).next(a=>a?(s=a,fe.resolve(s)):n.ai.allocateTargetId(i).next(l=>(s=new Fa(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function gb(t,e,n){const i=Fe(t),s=i.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!wu(l))throw l;_e(Ox,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function QT(t,e,n){const i=Fe(t);let s=Ue.min(),a=Je();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,m,p){const v=Fe(h),x=v.Ds.get(p);return x!==void 0?fe.resolve(v.Ss.get(x)):v.ai.getTargetData(m,p)}(i,l,sr(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.bs.getDocumentsMatchingQuery(l,e,n?s:Ue.min(),n?a:Je())).next(u=>(j8(i,yV(e),u),{documents:u,Ns:a})))}function j8(t,e,n){let i=t.vs.get(e)||Ue.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.vs.set(e,i)}class ZT{constructor(){this.activeTargetIds=EV()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I8{constructor(){this.So=new ZT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new ZT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="ConnectivityMonitor";class eA{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){_e(JT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){_e(JT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=null;function yb(){return Cm===null?Cm=function(){return 268435456+Math.round(2147483648*Math.random())}():Cm++,"0x"+Cm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="RestConnection",M8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D8{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Rp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,n,i,s,a){const l=yb(),u=this.$o(e,n.toUriEncodedString());_e(mv,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,s,a),this.Ko(e,u,h,i).then(m=>(_e(mv,`Received RPC '${e}' ${l}: `,m),m),m=>{throw tu(mv,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",i),m})}Wo(e,n,i,s,a,l){return this.Qo(e,n,i,s,a)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),i&&i.headers.forEach((s,a)=>e[a]=s)}$o(e,n){const i=M8[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class L8 extends D8{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,s){const a=yb();return new Promise((l,u)=>{const h=new wR;h.setWithCredentials(!0),h.listenOnce(_R.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ep.NO_ERROR:const p=h.getResponseJson();_e(Yn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case ep.TIMEOUT:_e(Yn,`RPC '${e}' ${a} timed out`),u(new Ee(de.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const v=h.getStatus();if(_e(Yn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const E=function(S){const N=S.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(N)>=0?N:de.UNKNOWN}(_.status);u(new Ee(E,_.message))}else u(new Ee(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ee(de.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{s_:e,streamId:a,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{_e(Yn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);_e(Yn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",m,i,15)})}a_(e,n,i){const s=yb(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=AR(),u=TR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");_e(Yn,`Creating RPC '${e}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);let x=!1,_=!1;const E=new O8({Go:S=>{_?_e(Yn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(x||(_e(Yn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),_e(Yn,`RPC '${e}' stream ${s} sending:`,S),v.send(S))},zo:()=>v.close()}),C=(S,N,U)=>{S.listen(N,V=>{try{U(V)}catch($){setTimeout(()=>{throw $},0)}})};return C(v,$d.EventType.OPEN,()=>{_||(_e(Yn,`RPC '${e}' stream ${s} transport opened.`),E.t_())}),C(v,$d.EventType.CLOSE,()=>{_||(_=!0,_e(Yn,`RPC '${e}' stream ${s} transport closed`),E.r_())}),C(v,$d.EventType.ERROR,S=>{_||(_=!0,tu(Yn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),E.r_(new Ee(de.UNAVAILABLE,"The operation could not be completed")))}),C(v,$d.EventType.MESSAGE,S=>{var N;if(!_){const U=S.data[0];bt(!!U,16349);const V=U,$=(V==null?void 0:V.error)||((N=V[0])===null||N===void 0?void 0:N.error);if($){_e(Yn,`RPC '${e}' stream ${s} received error:`,$);const q=$.status;let J=function(P){const O=dn[P];if(O!==void 0)return aN(O)}(q),z=$.message;J===void 0&&(J=de.INTERNAL,z="Unknown error status: "+q+" with message "+$.message),_=!0,E.r_(new Ee(J,z)),v.close()}else _e(Yn,`RPC '${e}' stream ${s} received:`,U),E.i_(U)}}),C(u,ER.STAT_EVENT,S=>{S.stat===rb.PROXY?_e(Yn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===rb.NOPROXY&&_e(Yn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}function pv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return new BV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,i=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-i);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="PersistentStream";class wN{constructor(e,n,i,s,a,l,u,h){this.bi=e,this.R_=i,this.V_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xN(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===n&&this.B_(i,s)},i=>{e(()=>{const s=new Ee(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return _e(tA,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(_e(tA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V8 extends wN{constructor(e,n,i,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=qV(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ue.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?rr(l.readTime):Ue.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=pb(this.serializer),n.addTarget=function(a,l){let u;const h=l.target;if(u=ub(h)?{documents:GV(a,h)}:{query:KV(a,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=cN(a,l.resumeToken);const m=hb(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ue.min())>0){u.readTime=Mp(a,l.snapshotVersion.toTimestamp());const m=hb(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const i=XV(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=pb(this.serializer),n.removeTarget=e,this.F_(n)}}class z8 extends wN{constructor(e,n,i,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=WV(e.writeResults,e.commitTime),i=rr(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=pb(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>$V(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{}class B8 extends U8{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,fb(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(de.UNKNOWN,a.toString())})}Wo(e,n,i,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,fb(n,i),s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(de.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class F8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ta(n),this.ea=!1):_e("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="RemoteStore";class H8{constructor(e,n,i,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{i.enqueueAndForget(async()=>{Il(this)&&(_e(Al,"Restarting streams for network reachability change."),await async function(h){const m=Fe(h);m.aa.add(4),await $h(m),m.la.set("Unknown"),m.aa.delete(4),await Ig(m)}(this))})}),this.la=new F8(i,s)}}async function Ig(t){if(Il(t))for(const e of t.ua)await e(!0)}async function $h(t){for(const e of t.ua)await e(!1)}function _N(t,e){const n=Fe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Ux(n)?zx(n):Eu(n).b_()&&Vx(n,e))}function Lx(t,e){const n=Fe(t),i=Eu(n);n._a.delete(e),i.b_()&&EN(n,e),n._a.size===0&&(i.b_()?i.v_():Il(n)&&n.la.set("Unknown"))}function Vx(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eu(t).U_(e)}function EN(t,e){t.ha.Ke(e),Eu(t).K_(e)}function zx(t){t.ha=new LV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.la.ta()}function Ux(t){return Il(t)&&!Eu(t).w_()&&t._a.size>0}function Il(t){return Fe(t).aa.size===0}function TN(t){t.ha=void 0}async function q8(t){t.la.set("Online")}async function $8(t){t._a.forEach((e,n)=>{Vx(t,e)})}async function W8(t,e){TN(t),Ux(t)?(t.la.ia(e),zx(t)):t.la.set("Unknown")}async function G8(t,e,n){if(t.la.set("Online"),e instanceof lN&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s._a.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s._a.delete(u),s.ha.removeTarget(u))}(t,e)}catch(i){_e(Al,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Op(t,i)}else if(e instanceof sp?t.ha.Xe(e):e instanceof oN?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ue.min()))try{const i=await bN(t.localStore);n.compareTo(i)>=0&&await function(a,l){const u=a.ha.It(l);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const p=a._a.get(m);p&&a._a.set(m,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,m)=>{const p=a._a.get(h);if(!p)return;a._a.set(h,p.withResumeToken(qn.EMPTY_BYTE_STRING,p.snapshotVersion)),EN(a,h);const v=new Fa(p.target,h,m,p.sequenceNumber);Vx(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){_e(Al,"Failed to raise snapshot:",i),await Op(t,i)}}async function Op(t,e,n){if(!wu(e))throw e;t.aa.add(1),await $h(t),t.la.set("Offline"),n||(n=()=>bN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Al,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Ig(t)})}function AN(t,e){return e().catch(n=>Op(t,n,e))}async function Pg(t){const e=Fe(t),n=oo(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ex;for(;K8(e);)try{const s=await R8(e.localStore,i);if(s===null){e.oa.length===0&&n.v_();break}i=s.batchId,Y8(e,s)}catch(s){await Op(e,s)}SN(e)&&CN(e)}function K8(t){return Il(t)&&t.oa.length<10}function Y8(t,e){t.oa.push(e);const n=oo(t);n.b_()&&n.W_&&n.G_(e.mutations)}function SN(t){return Il(t)&&!oo(t).w_()&&t.oa.length>0}function CN(t){oo(t).start()}async function X8(t){oo(t).H_()}async function Q8(t){const e=oo(t);for(const n of t.oa)e.G_(n.mutations)}async function Z8(t,e,n){const i=t.oa.shift(),s=Nx.from(i,e,n);await AN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pg(t)}async function J8(t,e){e&&oo(t).W_&&await async function(i,s){if(function(l){return DV(l)&&l!==de.ABORTED}(s.code)){const a=i.oa.shift();oo(i).D_(),await AN(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Pg(i)}}(t,e),SN(t)&&CN(t)}async function nA(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),_e(Al,"RemoteStore received new credentials");const i=Il(n);n.aa.add(3),await $h(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Ig(n)}async function e9(t,e){const n=Fe(t);e?(n.aa.delete(2),await Ig(n)):e||(n.aa.add(2),await $h(n),n.la.set("Unknown"))}function Eu(t){return t.Pa||(t.Pa=function(n,i,s){const a=Fe(n);return a.Y_(),new V8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:q8.bind(null,t),Jo:$8.bind(null,t),Zo:W8.bind(null,t),Q_:G8.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Ux(t)?zx(t):t.la.set("Unknown")):(await t.Pa.stop(),TN(t))})),t.Pa}function oo(t){return t.Ta||(t.Ta=function(n,i,s){const a=Fe(n);return a.Y_(),new z8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:X8.bind(null,t),Zo:J8.bind(null,t),z_:Q8.bind(null,t),j_:Z8.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Pg(t)):(await t.Ta.stop(),t.oa.length>0&&(_e(Al,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){const l=Date.now()+i,u=new Bx(e,n,l,s,a);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fx(t,e){if(ta("AsyncQueue",`${e}: ${t}`),wu(t))return new Ee(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{static emptySet(e){return new Yc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ke.comparator(n.key,i.key):(n,i)=>ke.comparator(n.key,i.key),this.keyedMap=Wd(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Yc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.Ia=new Yt(ke.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class au{constructor(e,n,i,s,a,l,u,h,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,s,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new au(e,n,Yc.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class n9{constructor(){this.queries=sA(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const s=Fe(n),a=s.queries;s.queries=sA(),a.forEach((l,u)=>{for(const h of u.Ra)h.onError(i)})})(this,new Ee(de.ABORTED,"Firestore shutting down"))}}function sA(){return new jl(t=>GR(t),Sg)}async function Hx(t,e){const n=Fe(t);let i=3;const s=e.query;let a=n.queries.get(s);a?!a.Va()&&e.ma()&&(i=2):(a=new t9,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await n.onListen(s,!0);break;case 1:a.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=Fx(l,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&$x(n)}async function qx(t,e){const n=Fe(t),i=e.query;let s=3;const a=n.queries.get(i);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function i9(t,e){const n=Fe(t);let i=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Ra)u.pa(s)&&(i=!0);l.Aa=s}}i&&$x(n)}function s9(t,e,n){const i=Fe(t),s=i.queries.get(e);if(s)for(const a of s.Ra)a.onError(n);i.queries.delete(e)}function $x(t){t.fa.forEach(e=>{e.next()})}var vb,rA;(rA=vb||(vb={})).ya="default",rA.Cache="cache";class Wx{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new au(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.key=e}}class RN{constructor(e){this.key=e}}class r9{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Je(),this.mutatedKeys=Je(),this.Ua=KR(e),this.Ka=new Yc(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new iA,s=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const x=s.get(p),_=Cg(this.query,v)?v:null,E=!!x&&this.mutatedKeys.has(x.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;x&&_?x.data.isEqual(_.data)?E!==C&&(i.track({type:3,doc:_}),S=!0):this.ja(x,_)||(i.track({type:2,doc:_}),S=!0,(h&&this.Ua(_,h)>0||m&&this.Ua(_,m)<0)&&(u=!0)):!x&&_?(i.track({type:0,doc:_}),S=!0):x&&!_&&(i.track({type:1,doc:x}),S=!0,(h||m)&&(u=!0)),S&&(_?(l=l.add(_),a=C?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{Ka:l,za:i,ys:u,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((p,v)=>function(_,E){const C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:S})}};return C(_)-C(E)}(p.type,v.type)||this.Ua(p.doc,v.doc)),this.Ha(i),s=s!=null&&s;const u=n&&!s?this.Ja():[],h=this.$a.size===0&&this.current&&!s?1:0,m=h!==this.Qa;return this.Qa=h,l.length!==0||m?{snapshot:new au(this.query,e.Ka,a,l,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new iA,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Je(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new RN(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new kN(i))}),n}Xa(e){this.qa=e.Ns,this.$a=Je();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return au.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Gx="SyncEngine";class a9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class o9{constructor(e){this.key=e,this.tu=!1}}class l9{constructor(e,n,i,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new jl(u=>GR(u),Sg),this.iu=new Map,this.su=new Set,this.ou=new Yt(ke.comparator),this._u=new Map,this.au=new Px,this.uu={},this.cu=new Map,this.lu=ru.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function c9(t,e,n=!0){const i=DN(t);let s;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await NN(i,e,n,!0),s}async function u9(t,e){const n=DN(t);await NN(n,e,!0,!1)}async function NN(t,e,n,i){const s=await N8(t.localStore,sr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return i&&(u=await d9(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&_N(t.remoteStore,s),u}async function d9(t,e,n,i,s){t.Pu=(v,x,_)=>async function(C,S,N,U){let V=S.view.Ga(N);V.ys&&(V=await QT(C.localStore,S.query,!1).then(({documents:z})=>S.view.Ga(z,V)));const $=U&&U.targetChanges.get(S.targetId),q=U&&U.targetMismatches.get(S.targetId)!=null,J=S.view.applyChanges(V,C.isPrimaryClient,$,q);return oA(C,S.targetId,J.Ya),J.snapshot}(t,v,x,_);const a=await QT(t.localStore,e,!0),l=new r9(e,a.Ns),u=l.Ga(a.documents),h=qh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),m=l.applyChanges(u,t.isPrimaryClient,h);oA(t,n,m.Ya);const p=new a9(e,n,l);return t.ru.set(e,p),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),m.snapshot}async function h9(t,e,n){const i=Fe(t),s=i.ru.get(e),a=i.iu.get(s.targetId);if(a.length>1)return i.iu.set(s.targetId,a.filter(l=>!Sg(l,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await gb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Lx(i.remoteStore,s.targetId),bb(i,s.targetId)}).catch(xu)):(bb(i,s.targetId),await gb(i.localStore,s.targetId,!0))}async function f9(t,e){const n=Fe(t),i=n.ru.get(e),s=n.iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Lx(n.remoteStore,i.targetId))}async function m9(t,e,n){const i=w9(t);try{const s=await function(l,u){const h=Fe(l),m=xn.now(),p=u.reduce((_,E)=>_.add(E.key),Je());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=na(),C=Je();return h.Cs.getEntries(_,p).next(S=>{E=S,E.forEach((N,U)=>{U.isValidDocument()||(C=C.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,E)).next(S=>{v=S;const N=[];for(const U of u){const V=NV(U,v.get(U.key).overlayedDocument);V!=null&&N.push(new po(U.key,V,zR(V.value.mapValue),hs.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,N,u)}).next(S=>{x=S;const N=S.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(_,S.batchId,N)})}).then(()=>({batchId:x.batchId,changes:XR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let m=l.uu[l.currentUser.toKey()];m||(m=new Yt($e)),m=m.insert(u,h),l.uu[l.currentUser.toKey()]=m}(i,s.batchId,n),await Wh(i,s.changes),await Pg(i.remoteStore)}catch(s){const a=Fx(s,"Failed to persist write");n.reject(a)}}async function jN(t,e){const n=Fe(t);try{const i=await C8(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n._u.get(a);l&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.tu=!0:s.modifiedDocuments.size>0?bt(l.tu,14607):s.removedDocuments.size>0&&(bt(l.tu,42227),l.tu=!1))}),await Wh(n,i,e)}catch(i){await xu(i)}}function aA(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ru.forEach((a,l)=>{const u=l.view.ga(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=Fe(l);h.onlineState=u;let m=!1;h.queries.forEach((p,v)=>{for(const x of v.Ra)x.ga(u)&&(m=!0)}),m&&$x(h)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function p9(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i._u.get(e),a=s&&s.key;if(a){let l=new Yt(ke.comparator);l=l.insert(a,Zn.newNoDocument(a,Ue.min()));const u=Je().add(a),h=new Ng(Ue.min(),new Map,new Yt($e),l,u);await jN(i,h),i.ou=i.ou.remove(a),i._u.delete(e),Kx(i)}else await gb(i.localStore,e,!1).then(()=>bb(i,e,n)).catch(xu)}async function g9(t,e){const n=Fe(t),i=e.batch.batchId;try{const s=await S8(n.localStore,e);PN(n,i,null),IN(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Wh(n,s)}catch(s){await xu(s)}}async function y9(t,e,n){const i=Fe(t);try{const s=await function(l,u){const h=Fe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let p;return h.mutationQueue.lookupMutationBatch(m,u).next(v=>(bt(v!==null,37113),p=v.keys(),h.mutationQueue.removeMutationBatch(m,v))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p)).next(()=>h.localDocuments.getDocuments(m,p))})}(i.localStore,e);PN(i,e,n),IN(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Wh(i,s)}catch(s){await xu(s)}}function IN(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function PN(t,e,n){const i=Fe(t);let s=i.uu[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function bb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.iu.get(e))t.ru.delete(i),n&&t.nu.Tu(i,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(i=>{t.au.containsKey(i)||MN(t,i)})}function MN(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Lx(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Kx(t))}function oA(t,e,n){for(const i of n)i instanceof kN?(t.au.addReference(i.key,e),v9(t,i)):i instanceof RN?(_e(Gx,"Document no longer in limbo: "+i.key),t.au.removeReference(i.key,e),t.au.containsKey(i.key)||MN(t,i.key)):Le(19791,{Iu:i})}function v9(t,e){const n=e.key,i=n.path.canonicalString();t.ou.get(n)||t.su.has(i)||(_e(Gx,"New document in limbo: "+n),t.su.add(i),Kx(t))}function Kx(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ke(Vt.fromString(e)),i=t.lu.next();t._u.set(i,new o9(n)),t.ou=t.ou.insert(n,i),_N(t.remoteStore,new Fa(sr(Ag(n.path)),i,"TargetPurposeLimboResolution",_g.le))}}async function Wh(t,e,n){const i=Fe(t),s=[],a=[],l=[];i.ru.isEmpty()||(i.ru.forEach((u,h)=>{l.push(i.Pu(h,e,n).then(m=>{var p;if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(m){s.push(m);const v=Dx.Ps(h.targetId,m);a.push(v)}}))}),await Promise.all(l),i.nu.Q_(s),await async function(h,m){const p=Fe(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(m,x=>fe.forEach(x.ls,_=>p.persistence.referenceDelegate.addReference(v,x.targetId,_)).next(()=>fe.forEach(x.hs,_=>p.persistence.referenceDelegate.removeReference(v,x.targetId,_)))))}catch(v){if(!wu(v))throw v;_e(Ox,"Failed to update sequence numbers: "+v)}for(const v of m){const x=v.targetId;if(!v.fromCache){const _=p.Ss.get(x),E=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(E);p.Ss=p.Ss.insert(x,C)}}}(i.localStore,a))}async function b9(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){_e(Gx,"User change. New user:",e.toKey());const i=await vN(n.localStore,e);n.currentUser=e,function(a,l){a.cu.forEach(u=>{u.forEach(h=>{h.reject(new Ee(de.CANCELLED,l))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wh(n,i.Ms)}}function x9(t,e){const n=Fe(t),i=n._u.get(e);if(i&&i.tu)return Je().add(i.key);{let s=Je();const a=n.iu.get(e);if(!a)return s;for(const l of a){const u=n.ru.get(l);s=s.unionWith(u.view.Wa)}return s}}function DN(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p9.bind(null,e),e.nu.Q_=i9.bind(null,e.eventManager),e.nu.Tu=s9.bind(null,e.eventManager),e}function w9(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y9.bind(null,e),e}class Lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jg(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return A8(this.persistence,new _8,e.initialUser,this.serializer)}Ru(e){return new yN(Mx.Ei,this.serializer)}Au(e){return new I8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lp.provider={build:()=>new Lp};class _9 extends Lp{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){bt(this.persistence.referenceDelegate instanceof Dp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new o8(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new yN(i=>Dp.Ei(i,n),this.serializer)}}class xb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>aA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=b9.bind(null,this.syncEngine),await e9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n9}()}createDatastore(e){const n=jg(e.databaseInfo.databaseId),i=function(a){return new L8(a)}(e.databaseInfo);return function(a,l,u,h){return new B8(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,a,l,u){return new H8(i,s,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>aA(this.syncEngine,n,0),function(){return eA.C()?new eA:new P8}())}createSyncEngine(e,n){return function(s,a,l,u,h,m,p){const v=new l9(s,a,l,u,h,m);return p&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Fe(s);_e(Al,"RemoteStore shutting down."),a.aa.add(5),await $h(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xb.provider={build:()=>new xb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class E9{constructor(e,n,i,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Qn.UNAUTHENTICATED,this.clientId=RR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{_e(lo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(_e(lo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Fx(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gv(t,e){t.asyncQueue.verifyOperationInProgress(),_e(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await vN(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await T9(t);_e(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>nA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>nA(e.remoteStore,s)),t._onlineComponents=e}async function T9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(lo,"Using user provided OfflineComponentProvider");try{await gv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;tu("Error using user provided cache. Falling back to memory cache: "+n),await gv(t,new Lp)}}else _e(lo,"Using default OfflineComponentProvider"),await gv(t,new _9(void 0));return t._offlineComponents}async function ON(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(lo,"Using user provided OnlineComponentProvider"),await lA(t,t._uninitializedComponentsProvider._online)):(_e(lo,"Using default OnlineComponentProvider"),await lA(t,new xb))),t._onlineComponents}function A9(t){return ON(t).then(e=>e.syncEngine)}async function Vp(t){const e=await ON(t),n=e.eventManager;return n.onListen=c9.bind(null,e.syncEngine),n.onUnlisten=h9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f9.bind(null,e.syncEngine),n}function S9(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const p=new Yx({next:x=>{p.yu(),l.enqueueAndForget(()=>qx(a,v));const _=x.docs.has(u);!_&&x.fromCache?m.reject(new Ee(de.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&h&&h.source==="server"?m.reject(new Ee(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new Wx(Ag(u.path),p,{includeMetadataChanges:!0,Fa:!0});return Hx(a,v)}(await Vp(t),t.asyncQueue,e,n,i)),i.promise}function C9(t,e,n={}){const i=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const p=new Yx({next:x=>{p.yu(),l.enqueueAndForget(()=>qx(a,v)),x.fromCache&&h.source==="server"?m.reject(new Ee(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new Wx(u,p,{includeMetadataChanges:!0,Fa:!0});return Hx(a,v)}(await Vp(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e,n){if(!n)throw new Ee(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k9(t,e,n,i){if(e===!0&&i===!0)throw new Ee(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uA(t){if(!ke.isDocumentKey(t))throw new Ee(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dA(t){if(ke.isDocumentKey(t))throw new Ee(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mg(t);throw new Ee(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firestore.googleapis.com",hA=!0;class fA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zN,this.ssl=hA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r8)throw new Ee(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LN((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dg{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new OL;switch(i.type){case"firstParty":return new UL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=cA.get(n);i&&(_e("ComponentProvider","Removing Datastore"),cA.delete(n),i.terminate())}(this),Promise.resolve()}}function R9(t,e,n,i={}){var s;const a=(t=ki(t,Dg))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a.host!==zN&&a.host!==u&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:i});if(!bl(h,l)&&(t._setSettings(h),i.mockUserToken)){let m,p;if(typeof i.mockUserToken=="string")m=i.mockUserToken,p=Qn.MOCK_USER;else{m=Ok(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ee(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qn(v)}t._authCredentials=new LL(new CR(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class ti{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class Za extends la{constructor(e,n,i){super(e,n,Ag(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new ke(e))}withConverter(e){return new Za(this.firestore,e,this._path)}}function Jn(t,e,...n){if(t=$t(t),VN("collection","path",e),t instanceof Dg){const i=Vt.fromString(e,...n);return dA(i),new Za(t,null,i)}{if(!(t instanceof ti||t instanceof Za))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return dA(i),new Za(t.firestore,null,i)}}function et(t,e,...n){if(t=$t(t),arguments.length===1&&(e=RR.newId()),VN("doc","path",e),t instanceof Dg){const i=Vt.fromString(e,...n);return uA(i),new ti(t,null,new ke(i))}{if(!(t instanceof ti||t instanceof Za))throw new Ee(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return uA(i),new ti(t.firestore,t instanceof Za?t.converter:null,new ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="AsyncQueue";class pA{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xN(this,"async_queue_retry"),this.ju=()=>{const i=pv();i&&_e(mA,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=pv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Yr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wu(e))throw e;_e(mA,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,ta("INTERNAL UNHANDLED ERROR: ",gA(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Bx.createAndSchedule(this,e,n,i,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Le(47125,{ec:gA(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function gA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class ia extends Dg{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new pA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pA(e),this._firestoreClient=void 0,await e}}}function N9(t,e){const n=typeof t=="object"?t:ux(),i=typeof t=="string"?t:Rp,s=vg(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=Pk("firestore");a&&R9(s,...a)}return s}function Og(t){if(t._terminated)throw new Ee(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j9(t),t._firestoreClient}function j9(t){var e,n,i;const s=t._freezeSettings(),a=function(u,h,m,p){return new tV(u,h,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,LN(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new E9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ou(qn.fromBase64String(e))}catch(n){throw new Ee(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ou(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=/^__.*__$/;class P9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hh(e,this.data,n,this.fieldTransforms)}}class UN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{oc:t})}}class Zx{constructor(e,n,i,s,a,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Zx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return zp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(BN(this.oc)&&I9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class M9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||jg(e)}dc(e,n,i,s=!1){return new Zx({oc:e,methodName:n,Ec:i,path:Fn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zg(t){const e=t._freezeSettings(),n=jg(t._databaseId);return new M9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FN(t,e,n,i,s,a={}){const l=t.dc(a.merge||a.mergeFields?2:0,e,n,s);ew("Data must be an object, but it was:",l,i);const u=HN(i,l);let h,m;if(a.merge)h=new Hi(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const x=wb(e,v,n);if(!l.contains(x))throw new Ee(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);$N(p,x)||p.push(x)}h=new Hi(p),m=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,m=l.fieldTransforms;return new P9(new Ei(u),h,m)}class Ug extends Vg{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ug}}class Jx extends Vg{constructor(e,n){super(e),this.Rc=n}_toFieldTransform(e){const n=new Th(e.serializer,JR(e.serializer,this.Rc));return new SV(e.path,n)}isEqual(e){return e instanceof Jx&&this.Rc===e.Rc}}function D9(t,e,n,i){const s=t.dc(1,e,n);ew("Data must be an object, but it was:",s,i);const a=[],l=Ei.empty();mo(i,(h,m)=>{const p=tw(e,h,n);m=$t(m);const v=s.hc(p);if(m instanceof Ug)a.push(p);else{const x=Gh(m,v);x!=null&&(a.push(p),l.set(p,x))}});const u=new Hi(a);return new UN(l,u,s.fieldTransforms)}function O9(t,e,n,i,s,a){const l=t.dc(1,e,n),u=[wb(e,i,n)],h=[s];if(a.length%2!=0)throw new Ee(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(wb(e,a[x])),h.push(a[x+1]);const m=[],p=Ei.empty();for(let x=u.length-1;x>=0;--x)if(!$N(m,u[x])){const _=u[x];let E=h[x];E=$t(E);const C=l.hc(_);if(E instanceof Ug)m.push(_);else{const S=Gh(E,C);S!=null&&(m.push(_),p.set(_,S))}}const v=new Hi(m);return new UN(p,v,l.fieldTransforms)}function L9(t,e,n,i=!1){return Gh(n,t.dc(i?4:3,e))}function Gh(t,e){if(qN(t=$t(t)))return ew("Unsupported field value:",e,t),HN(t,e);if(t instanceof Vg)return function(i,s){if(!BN(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const u of i){let h=Gh(u,s.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(i,s){if((i=$t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JR(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xn.fromDate(i);return{timestampValue:Mp(s.serializer,a)}}if(i instanceof xn){const a=new xn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mp(s.serializer,a)}}if(i instanceof Xx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ou)return{bytesValue:cN(s.serializer,i._byteString)};if(i instanceof ti){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ix(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Qx)return function(l,u){return{mapValue:{fields:{[LR]:{stringValue:VR},[Np]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.Tc("VectorValues must only contain numeric values.");return kx(u.serializer,m)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${Mg(i)}`)}(t,e)}function HN(t,e){const n={};return jR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(t,(i,s)=>{const a=Gh(s,e.uc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function qN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof Xx||t instanceof ou||t instanceof ti||t instanceof Vg||t instanceof Qx)}function ew(t,e,n){if(!qN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Mg(n);throw i==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+i)}}function wb(t,e,n){if((e=$t(e))instanceof Lg)return e._internalPath;if(typeof e=="string")return tw(t,e);throw zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const V9=new RegExp("[~\\*/\\[\\]]");function tw(t,e,n){if(e.search(V9)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lg(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zp(t,e,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Ee(de.INVALID_ARGUMENT,u+t+h)}function $N(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,i,s,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z9 extends WN{data(){return super.data()}}function Bg(t,e){return typeof e=="string"?tw(t,e):e instanceof Lg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nw{}class iw extends nw{}function Ja(t,e,...n){let i=[];e instanceof nw&&i.push(e),i=i.concat(n),function(a){const l=a.filter(h=>h instanceof sw).length,u=a.filter(h=>h instanceof Fg).length;if(l>1||l>0&&u>0)throw new Ee(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Fg extends iw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Fg(e,n,i)}_apply(e){const n=this._parse(e);return KN(e._query,n),new la(e.firestore,e.converter,db(e._query,n))}_parse(e){const n=zg(e.firestore);return function(a,l,u,h,m,p,v){let x;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){xA(v,p);const E=[];for(const C of v)E.push(bA(h,a,C));x={arrayValue:{values:E}}}else x=bA(h,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||xA(v,p),x=L9(u,l,v,p==="in"||p==="not-in");return fn.create(m,p,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sl(t,e,n){const i=e,s=Bg("where",t);return Fg._create(s,i,n)}class sw extends nw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sw(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ns.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)KN(l,h),l=db(l,h)}(e._query,n),new la(e.firestore,e.converter,db(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rw extends iw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rw(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ee(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(a,l)}(e._query,this._field,this._direction);return new la(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new _u(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function U9(t,e="asc"){const n=e,i=Bg("orderBy",t);return rw._create(i,n)}class aw extends iw{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new aw(e,n,i)}_apply(e){return new la(e.firestore,e.converter,Ip(e._query,this._limit,this._limitType))}}function vA(t){return aw._create("limit",t,"F")}function bA(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new Ee(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WR(e)&&n.indexOf("/")!==-1)throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Vt.fromString(n));if(!ke.isDocumentKey(i))throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return IT(t,new ke(i))}if(n instanceof ti)return IT(t,n._key);throw new Ee(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mg(n)}.`)}function xA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KN(t,e){const n=function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B9{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return mo(e,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,s;const a=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Np].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>rn(l.doubleValue));return new Qx(a)}convertGeoPoint(e){return new Xx(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Tg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const n=so(e);return new xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Vt.fromString(e);bt(pN(i),9688,{name:e});const s=new bh(i.get(1),i.get(3)),a=new ke(i.popFirst(5));return s.isEqual(n)||ta(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XN extends WN{constructor(e,n,i,s,a,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Bg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class rp extends XN{data(e={}){return super.data(e)}}class QN{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Kd(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new rp(this._firestore,this._userDataWriter,i.key,i,new Kd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new rp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new rp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:F9(u.type),doc:h,oldIndex:m,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function F9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){t=ki(t,ti);const e=ki(t.firestore,ia);return S9(Og(e),t._key).then(n=>ZN(e,t,n))}class ow extends B9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,n)}}function Uc(t){t=ki(t,la);const e=ki(t.firestore,ia),n=Og(e),i=new ow(e);return GN(t._query),C9(n,t._query).then(s=>new QN(e,i,t,s))}function ar(t,e,n){t=ki(t,ti);const i=ki(t.firestore,ia),s=YN(t.converter,e,n);return Hg(i,[FN(zg(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,hs.none())])}function tr(t,e,n,...i){t=ki(t,ti);const s=ki(t.firestore,ia),a=zg(s);let l;return l=typeof(e=$t(e))=="string"||e instanceof Lg?O9(a,"updateDoc",t._key,e,n,i):D9(a,"updateDoc",t._key,e),Hg(s,[l.toMutation(t._key,hs.exists(!0))])}function Ha(t){return Hg(ki(t.firestore,ia),[new Rx(t._key,hs.none())])}function Up(t,e){const n=ki(t.firestore,ia),i=et(t),s=YN(t.converter,e);return Hg(n,[FN(zg(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,hs.exists(!1))]).then(()=>i)}function Xr(t,...e){var n,i,s;t=$t(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||yA(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(yA(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,m,p;if(t instanceof ti)m=ki(t.firestore,ia),p=Ag(t._key.path),h={next:v=>{e[l]&&e[l](ZN(m,t,v))},error:e[l+1],complete:e[l+2]};else{const v=ki(t,la);m=ki(v.firestore,ia),p=v._query;const x=new ow(m);h={next:_=>{e[l]&&e[l](new QN(m,x,v,_))},error:e[l+1],complete:e[l+2]},GN(t._query)}return function(x,_,E,C){const S=new Yx(C),N=new Wx(_,S,E);return x.asyncQueue.enqueueAndForget(async()=>Hx(await Vp(x),N)),()=>{S.yu(),x.asyncQueue.enqueueAndForget(async()=>qx(await Vp(x),N))}}(Og(m),p,u,h)}function Hg(t,e){return function(i,s){const a=new Yr;return i.asyncQueue.enqueueAndForget(async()=>m9(await A9(i),s,a)),a.promise}(Og(t),e)}function ZN(t,e,n){const i=n.docs.get(e._key),s=new ow(t);return new XN(t,s,e._key,i,new Kd(n.hasPendingWrites,n.fromCache),e.converter)}function H9(t){return new Jx("increment",t)}(function(e,n=!0){(function(s){bu=s})(Nl),xl(new no("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new ia(new VL(i.getProvider("auth-internal")),new BL(l,i.getProvider("app-check-internal")),function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(m.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),nr(xT,wT,e),nr(xT,wT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebasestorage.googleapis.com",q9="storageBucket",$9=2*60*1e3,W9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends pr{constructor(e,n,i=0){super(yv(e),`Firebase Storage: ${n} (${yv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function yv(t){return"storage/"+t}function G9(){const t="An unknown error occurred, please check the error payload for server response.";return new gr(dr.UNKNOWN,t)}function K9(){return new gr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y9(){return new gr(dr.CANCELED,"User canceled the upload/download.")}function X9(t){return new gr(dr.INVALID_URL,"Invalid URL '"+t+"'.")}function Q9(t){return new gr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wA(t){return new gr(dr.INVALID_ARGUMENT,t)}function ej(){return new gr(dr.APP_DELETED,"The Firebase app was deleted.")}function Z9(t){return new gr(dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ks.makeFromUrl(e,n)}catch{return new ks(e,"")}if(i.path==="")return i;throw Q9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function m($){$.path_=decodeURIComponent($.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",_=new RegExp(`^https?://${v}/${p}/b/${s}/o${x}`,"i"),E={bucket:1,path:3},C=n===JN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",N=new RegExp(`^https?://${C}/${s}/${S}`,"i"),V=[{regex:u,indices:h,postModify:a},{regex:_,indices:E,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let $=0;$<V.length;$++){const q=V[$],J=q.regex.exec(e);if(J){const z=J[q.indices.bucket];let k=J[q.indices.path];k||(k=""),i=new ks(z,k),q.postModify(i);break}}if(i==null)throw X9(e);return i}}class J9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t,e,n){let i=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let m=!1;function p(...S){m||(m=!0,e.apply(null,S))}function v(S){s=setTimeout(()=>{s=null,t(_,h())},S)}function x(){a&&clearTimeout(a)}function _(S,...N){if(m){x();return}if(S){x(),p.call(null,S,...N);return}if(h()||l){x(),p.call(null,S,...N);return}i<64&&(i*=2);let V;u===1?(u=2,V=0):V=(i+Math.random())*1e3,v(V)}let E=!1;function C(S){E||(E=!0,x(),!m&&(s!==null?(S||(u=2),clearTimeout(s),v(0)):S||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,C(!0)},n),C}function tz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t){return t!==void 0}function _A(t,e,n,i){if(i<e)throw wA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw wA(`Invalid value for '${t}'. Expected ${n} or less.`)}function iz(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Bp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bp||(Bp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n,i,s,a,l,u,h,m,p,v,x=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=p,this.connectionFactory_=v,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new km(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Bp.NO_ERROR,h=a.getStatus();if(!u||sz(h,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Bp.ABORT;i(!1,new km(!1,null,p));return}const m=this.successCodes_.indexOf(h)!==-1;i(!0,new km(m,a))})},n=(i,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());nz(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=G9();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?ej():Y9();l(h)}else{const h=K9();l(h)}};this.canceled_?n(!1,new km(!1,null,!0)):this.backoffId_=ez(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class km{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function az(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function oz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function uz(t,e,n,i,s,a,l=!0){const u=iz(t.urlParams),h=t.url+u,m=Object.assign({},t.headers);return lz(m,e),az(m,n),oz(m,a),cz(m,i),new rz(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this._service=e,n instanceof ks?this._location=n:this._location=ks.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fp(e,n)}get root(){const e=new ks(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hz(this._location.path)}get storage(){return this._service}get parent(){const e=dz(this._location.path);if(e===null)return null;const n=new ks(this._location.bucket,e);return new Fp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z9(e)}}function EA(t,e){const n=e==null?void 0:e[q9];return n==null?null:ks.makeFromBucketSpec(n,t)}function fz(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:Ok(s,t.app.options.projectId))}class mz{constructor(e,n,i,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=JN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$9,this._maxUploadRetryTime=W9,this._requests=new Set,s!=null?this._bucket=ks.makeFromBucketSpec(s,this._host):this._bucket=EA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ks.makeFromBucketSpec(this._url,e):this._bucket=EA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fp(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new J9(ej());{const l=uz(e,this._appId,i,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const TA="@firebase/storage",AA="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="storage";function pz(t=ux(),e){t=$t(t);const i=vg(t,tj).getImmediate({identifier:e}),s=Pk("storage");return s&&gz(i,...s),i}function gz(t,e,n,i={}){fz(t,e,n,i)}function yz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new mz(n,i,s,e,Nl)}function vz(){xl(new no(tj,yz,"PUBLIC").setMultipleInstances(!0)),nr(TA,AA,""),nr(TA,AA,"esm2017")}vz();const bz={apiKey:"AIzaSyAQCwDr8Sh7GLZSUlCAnCcal7rAqBxG5-0",authDomain:"fir-app-7d6ea.firebaseapp.com",projectId:"fir-app-7d6ea",storageBucket:"fir-app-7d6ea.appspot.com",messagingSenderId:"340764694664",appId:"1:340764694664:web:6b92e4af5476eeeb4c273d"},lw=zk(bz),bn=ML(lw),Me=N9(lw);pz(lw);const nj=I.createContext(),xz=({children:t})=>{const[e,n]=I.useState(null),[i,s]=I.useState([]),[a,l]=I.useState([]),[u,h]=I.useState([]),[m,p]=I.useState(null),[v,x]=I.useState(!0),[_,E]=I.useState(!0);I.useEffect(()=>{let L=null;x(!0);const D=bn.currentUser;if(D){n(D);const ae=et(Me,"users",D.uid);lu(ae).then(ee=>{ee.exists()&&n({...D,...ee.data()}),x(!1)}).catch(()=>{x(!1)})}else x(!1);const R=fo(bn,async ae=>{if(x(!0),L&&(L(),L=null),ae){n(ae);const ee=et(Me,"users",ae.uid);L=Xr(ee,async W=>{W.exists()?n({...ae,...W.data()}):(await ar(ee,{email:ae.email,uid:ae.uid,rol:"user",displayName:ae.displayName||"",createdAt:new Date}),n({...ae,displayName:ae.displayName||"",rol:"user"})),x(!1)},W=>{console.error("Error en user listener:",W),x(!1)})}else n(null),x(!1)});return()=>{L&&L(),R()}},[]);const C=I.useCallback(async()=>{if(!m){if(i.length>0){console.log("Usando productos en cach:",i.length);return}console.log("Iniciando carga de productos desde Firestore..."),E(!0);try{const L=Ja(Jn(Me,"products"),vA(20)),D=await Uc(L);if(!D.empty){const W=D.docs.map(he=>({id:he.id,...he.data()}));s(W);const ne=[...W].sort((he,ve)=>(ve.rating||0)-(he.rating||0)).slice(0,4);l(ne),console.log("Productos cargados inicialmente (parcial):",W.length)}const R=Ja(Jn(Me,"products")),ae=await Uc(R);if(!ae.empty){const W=ae.docs.map(he=>({id:he.id,...he.data()}));s(W);const ne=[...W].sort((he,ve)=>(ve.rating||0)-(he.rating||0)).slice(0,4);l(ne),E(!1),console.log("Productos cargados completamente:",W.length)}const ee=Xr(R,W=>{if(!W.metadata.hasPendingWrites&&!W.metadata.fromCache){const ne=W.docs.map(ve=>({id:ve.id,...ve.data()}));s(ne);const he=[...ne].sort((ve,B)=>(B.rating||0)-(ve.rating||0)).slice(0,4);l(he),console.log("Productos actualizados en tiempo real:",ne.length)}},W=>{console.error("Error en products listener:",W),E(!1)});p(()=>ee)}catch(L){console.error("Error al cargar productos:",L),E(!1)}}},[m,i.length]);I.useEffect(()=>()=>{m&&m()},[m]);const S=I.useCallback(async()=>{try{const D=(await Uc(Jn(Me,"users"))).docs.map(R=>({id:R.id,...R.data()}));return h(D),D}catch(L){return console.error("Error al obtener usuarios:",L),[]}},[]),N=I.useCallback(async(L,D)=>{try{const ae=(await g3(bn,L,D)).user;return await ar(et(Me,"users",ae.uid),{email:ae.email,uid:ae.uid,rol:"user",displayName:ae.displayName||"",createdAt:new Date}),ae}catch(R){throw console.error("Error al registrar usuario:",R),R}},[]),U=I.useCallback(async(L,D,R=!1)=>{try{return await cT(bn,R?ib:Sp),(await y3(bn,L,D)).user}catch(ae){throw console.error("Error al iniciar sesin:",ae),ae}},[]),V=I.useCallback(async(L=!1)=>{try{await cT(bn,L?ib:Sp);const D=new qr,ae=(await H3(bn,D)).user,ee=et(Me,"users",ae.uid);return(await lu(ee)).exists()||await ar(ee,{email:ae.email,uid:ae.uid,rol:"user",displayName:ae.displayName||"",createdAt:new Date}),ae}catch(D){throw console.error("Error al iniciar sesin con Google:",D),D}},[]),$=I.useCallback(L=>p3(bn,L),[]),q=I.useCallback(async()=>{try{await E3(bn),n(null)}catch(L){throw console.error("Error al cerrar sesin:",L),L}},[]),J=I.useCallback(async L=>{try{const D=Ja(Jn(Me,"products"),Sl("category","==",L),vA(20));return(await Uc(D)).docs.map(ae=>({id:ae.id,...ae.data()}))}catch(D){return console.error("Error al obtener productos por categora:",D),[]}},[]),z=I.useCallback(async L=>{try{const D=L.toLowerCase();return i.filter(R=>{var ae,ee;return((ae=R.name)==null?void 0:ae.toLowerCase().includes(D))||((ee=R.description)==null?void 0:ee.toLowerCase().includes(D))})}catch(D){return console.error("Error al buscar productos:",D),[]}},[i]),k=I.useCallback(async(L,D)=>{try{const R=et(Me,"users",L);return await tr(R,{rol:D}),e&&e.uid===L&&n(ae=>({...ae,rol:D})),!0}catch(R){throw console.error("Error al actualizar rol de usuario:",R),R}},[e]),P=I.useCallback(async L=>{try{const D=et(Me,"users",L);return await Ha(D),!0}catch(D){throw console.error("Error al eliminar usuario:",D),D}},[]),O=I.useMemo(()=>({user:e,isLoadingUser:v,registerUser:N,loginUser:U,loginWithGoogle:V,resetPassword:$,logoutUser:q,products:i,featuredProducts:a,isLoadingProducts:_,fetchProducts:C,usuarios:u,fetchUsers:S,getProductsByCategory:J,searchProducts:z,updateUserRoleInDB:k,deleteUserFromDB:P}),[e,v,N,U,V,$,q,i,a,_,C,u,S,J,z,k,P]);return d.jsx(nj.Provider,{value:O,children:t})},go=()=>I.useContext(nj),ij=I.createContext(),Pl=()=>I.useContext(ij),wz=({children:t})=>{const[e,n]=I.useState([]),[i,s]=I.useState([]),[a,l]=I.useState(null),[u,h]=I.useState(!0),[m,p]=I.useState(!0),v=I.useRef(!0),x=I.useRef(!0);I.useEffect(()=>{const D=fo(bn,R=>{l(R),n([]),s([]),h(!0),p(!0),v.current=!0,x.current=!0});return()=>D()},[]);const _=I.useCallback(async D=>{if(!D)return[];try{const R=et(Me,"carritos",D),ae=await lu(R);return ae.exists()?ae.data().products||[]:[]}catch(R){return console.error("Error al obtener carrito:",R),[]}},[]),E=I.useCallback(async D=>{if(!D)return[];try{const R=et(Me,"favoritos",D),ae=await lu(R);return ae.exists()?ae.data().products||[]:[]}catch(R){return console.error("Error al obtener favoritos:",R),[]}},[]);I.useEffect(()=>{(async()=>{if(!a){h(!1),p(!1);return}try{const R=await _(a.uid);n(R)}finally{h(!1)}try{const R=await E(a.uid);s(R)}finally{p(!1)}})()},[a,_,E]);const C=I.useCallback(async(D,R)=>{if(R)try{const ae=D.map(ee=>{var W;return{id:ee.id,name:ee.name,price:ee.price,quantity:ee.quantity,image:ee.image||ee.mainImage||((W=ee.images)==null?void 0:W[0])||"",material:ee.material||"N/A",color:ee.color||"N/A",stock:ee.stock||0}});await ar(et(Me,"carritos",R),{products:ae})}catch(ae){console.error("Error guardando carrito:",ae)}},[]),S=I.useCallback(async(D,R)=>{if(R)try{const ae=D.map(ee=>{var W;return{id:ee.id,name:ee.name,price:ee.price,image:ee.image||ee.mainImage||((W=ee.images)==null?void 0:W[0])||"",stock:ee.stock||0,category:ee.category||"Sin categora",type:ee.type||"Producto",material:ee.material||"N/A",color:ee.color||"N/A",status:ee.stock>0?"In Stock":"Out of Stock"}});await ar(et(Me,"favoritos",R),{products:ae})}catch(ae){console.error("Error guardando favoritos:",ae)}},[]);I.useEffect(()=>{if(!a||u||v.current){v.current=!1;return}const D=setTimeout(()=>{C(e,a.uid)},500);return()=>clearTimeout(D)},[e,a,u,C]),I.useEffect(()=>{if(!a||m||x.current){x.current=!1;return}const D=setTimeout(()=>{S(i,a.uid)},500);return()=>clearTimeout(D)},[i,a,m,S]);const N=I.useCallback(D=>{n(R=>R.find(ee=>ee.id===D.id)?R.map(ee=>ee.id===D.id?{...ee,quantity:ee.quantity+1}:ee):[...R,{...D,quantity:1}])},[]),U=I.useCallback(D=>{n(R=>R.filter(ae=>ae.id!==D))},[]),V=I.useCallback((D,R)=>{R<1||n(ae=>ae.map(ee=>ee.id===D?{...ee,quantity:R}:ee))},[]),$=I.useCallback(D=>{s(R=>R.find(ee=>ee.id===D.id)?R:[...R,D])},[]),q=I.useCallback(D=>{s(R=>R.filter(ae=>ae.id!==D))},[]),J=I.useMemo(()=>e.reduce((D,R)=>D+R.price*R.quantity,0),[e]),z=I.useMemo(()=>e.reduce((D,R)=>D+R.quantity,0),[e]),k=I.useCallback(D=>i.some(R=>R.id===D),[i]),P=I.useCallback(D=>e.some(R=>R.id===D),[e]),O=I.useCallback(()=>{n([])},[]),L=I.useMemo(()=>({cart:e,favoritos:i,cargandoCarrito:u,cargandoFavoritos:m,agregarAlCarrito:N,quitarDelCarrito:U,actualizarCantidad:V,agregarAFavoritos:$,quitarDeFavoritos:q,totalCarrito:J,cantidadItems:z,estaEnFavoritos:k,estaEnCarrito:P,vaciarCarrito:O}),[e,i,u,m,N,U,V,$,q,J,z,k,P,O]);return d.jsx(ij.Provider,{value:L,children:t})},_z=()=>{const[t,e]=I.useState(0),[n,i]=I.useState(null);return I.useEffect(()=>{const s=fo(bn,a=>{i(a),a||e(0)});return()=>s()},[]),I.useEffect(()=>{if(!n){e(0);return}const s=Ja(Jn(Me,"orders"),Sl("userId","==",n.uid)),a=Xr(s,l=>{e(l.docs.length)});return()=>a()},[n]),{orderCount:t,currentUser:n}};var Ez=I.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Tu=function(e,n,i){var s=i.get(e);return s?s(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function SA(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Ml=I.forwardRef(function(t,e){var n=t.alt,i=t.color,s=t.size,a=t.weight,l=t.mirrored,u=t.children,h=t.renderPath,m=SA(t,["alt","color","size","weight","mirrored","children","renderPath"]),p=I.useContext(Ez),v=p.color,x=v===void 0?"currentColor":v,_=p.size,E=p.weight,C=E===void 0?"regular":E,S=p.mirrored,N=S===void 0?!1:S,U=SA(p,["color","size","weight","mirrored"]);return Y.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s??_,height:s??_,fill:i??x,viewBox:"0 0 256 256",transform:l||N?"scale(-1, 1)":void 0},U,m),!!n&&Y.createElement("title",null,n),u,Y.createElement("rect",{width:"256",height:"256",fill:"none"}),h(a??C,i??x))});Ml.displayName="IconBase";var Dl=new Map;Dl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"44",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Dl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M229.6,106,203.7,91.6a73.6,73.6,0,0,0-6.3-10.9l.5-29.7a102.6,102.6,0,0,0-38.2-22L134.3,44.2a88.3,88.3,0,0,0-12.6,0L96.2,28.9A104,104,0,0,0,58.1,51l.5,29.7a73.6,73.6,0,0,0-6.3,10.9L26.3,106a103.6,103.6,0,0,0,.1,44l25.9,14.4a80.1,80.1,0,0,0,6.3,11L58.1,205a102.6,102.6,0,0,0,38.2,22l25.4-15.2a88.3,88.3,0,0,0,12.6,0l25.5,15.3A104,104,0,0,0,197.9,205l-.5-29.7a73.6,73.6,0,0,0,6.3-10.9l26-14.4A102,102,0,0,0,229.6,106ZM128,176a48,48,0,1,1,48-48A48,48,0,0,1,128,176Z",opacity:"0.2"}),Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a103.6,103.6,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Dl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M237.5,104.3a8,8,0,0,0-4-5.3L209.7,85.8q-1.9-3.9-4.2-7.5l.4-27.2a8.3,8.3,0,0,0-2.6-6.1,112,112,0,0,0-41.1-23.7,8.1,8.1,0,0,0-6.6.8l-23.3,14c-2.9-.1-5.7-.1-8.6,0l-23.3-14a8.1,8.1,0,0,0-6.6-.8A111.1,111.1,0,0,0,52.7,45.1a7.9,7.9,0,0,0-2.6,6l.5,27.2c-1.6,2.4-3,4.9-4.4,7.5L22.5,99a7.7,7.7,0,0,0-4,5.3,111.4,111.4,0,0,0,0,47.4,8,8,0,0,0,4,5.3l23.8,13.2a69.3,69.3,0,0,0,4.3,7.5l-.5,27.2a8.3,8.3,0,0,0,2.6,6.1,112.9,112.9,0,0,0,41.1,23.7,8.1,8.1,0,0,0,6.6-.8l23.3-14h8.6l23.4,14a7.3,7.3,0,0,0,4.1,1.2,10,10,0,0,0,2.4-.4,111.1,111.1,0,0,0,41.1-23.8,7.9,7.9,0,0,0,2.6-6l-.4-27.2c1.5-2.4,2.9-4.9,4.3-7.5L233.6,157a7.9,7.9,0,0,0,3.9-5.3A111.4,111.4,0,0,0,237.5,104.3ZM172,128a44,44,0,1,1-44-44A44,44,0,0,1,172,128Z"}))});Dl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Dl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Dl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Tz=function(e,n){return Tu(e,n,Dl)},ap=I.forwardRef(function(t,e){return Y.createElement(Ml,Object.assign({ref:e},t,{renderPath:Tz}))});ap.displayName="GearSix";var Ol=new Map;Ol.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ol.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",opacity:"0.2"}),Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ol.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"}))});Ol.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ol.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ol.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Az=function(e,n){return Tu(e,n,Ol)},sj=I.forwardRef(function(t,e){return Y.createElement(Ml,Object.assign({ref:e},t,{renderPath:Az}))});sj.displayName="Heart";var Ll=new Map;Ll.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ll.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ll.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M216,120H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),Y.createElement("path",{d:"M40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),Y.createElement("path",{d:"M216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))});Ll.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ll.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ll.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Sz=function(e,n){return Tu(e,n,Ll)},rj=I.forwardRef(function(t,e){return Y.createElement(Ml,Object.assign({ref:e},t,{renderPath:Sz}))});rj.displayName="List";var Vl=new Map;Vl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Vl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48Z",opacity:"0.2"}),Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Vl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M223.9,65.4l-12.2,66.9A24,24,0,0,1,188.1,152H72.1l4.4,24H184a24,24,0,1,1-24,24,23.6,23.6,0,0,1,1.4-8H102.6a23.6,23.6,0,0,1,1.4,8,24,24,0,1,1-42.2-15.6L34.1,32H16a8,8,0,0,1,0-16H34.1A16,16,0,0,1,49.8,29.1L54.7,56H216a7.9,7.9,0,0,1,6.1,2.9A7.7,7.7,0,0,1,223.9,65.4Z"}))});Vl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Vl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Vl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Cz=function(e,n){return Tu(e,n,Vl)},aj=I.forwardRef(function(t,e){return Y.createElement(Ml,Object.assign({ref:e},t,{renderPath:Cz}))});aj.displayName="ShoppingCart";var zl=new Map;zl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});zl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});zl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});zl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});zl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});zl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var kz=function(e,n){return Tu(e,n,zl)},oj=I.forwardRef(function(t,e){return Y.createElement(Ml,Object.assign({ref:e},t,{renderPath:kz}))});oj.displayName="SignOut";var Ul=new Map;Ul.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ul.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",opacity:"0.2"}),Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ul.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M231.9,212a120.7,120.7,0,0,0-67.1-54.2,72,72,0,1,0-73.6,0A120.7,120.7,0,0,0,24.1,212a7.7,7.7,0,0,0,0,8,7.8,7.8,0,0,0,6.9,4H225a7.8,7.8,0,0,0,6.9-4A7.7,7.7,0,0,0,231.9,212Z"}))});Ul.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ul.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ul.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Rz=function(e,n){return Tu(e,n,Ul)},op=I.forwardRef(function(t,e){return Y.createElement(Ml,Object.assign({ref:e},t,{renderPath:Rz}))});op.displayName="User";function ni(){var kt,ft;const{user:t,logoutUser:e,updateUserRoleInDB:n}=go(),{favoritos:i=[],cart:s=[],cantidadItems:a}=Pl(),{orderCount:l}=_z(),[u,h]=I.useState(!1),[m,p]=I.useState(!1),[v,x]=I.useState(!1),[_,E]=I.useState("profile"),[C,S]=I.useState(""),[N,U]=I.useState(""),[V,$]=I.useState(!1),[q,J]=I.useState({displayName:"",photoURL:"",email:""}),[z,k]=I.useState(!1),[P,O]=I.useState(""),[L,D]=I.useState(""),[R,ae]=I.useState(!1),ee=mr(),W=fr(),ne=async()=>{await e(),h(!1),p(!1)},he=()=>h(!u),ve=()=>p(!m),B=(t==null?void 0:t.rol)==="admin"||(t==null?void 0:t.role)==="admin",oe=async()=>{try{if(!t)return;await n(t.uid,"admin"),alert("Ahora eres administrador! La pgina se recargar."),window.location.reload()}catch(be){console.error("Error al convertir en administrador:",be),alert("Error al convertir en administrador: "+be.message)}};console.log("Usuario actual:",t),console.log("Rol del usuario:",t==null?void 0:t.rol),console.log("Role del usuario:",t==null?void 0:t.role),console.log("Es admin?",B);const pe=be=>!!(be==="/"&&W.pathname==="/"||be!=="/"&&W.pathname.startsWith(be));I.useEffect(()=>{t!=null&&t.email&&(async()=>{try{const Ke=await lu(et(Me,"users",t.uid));if(Ke.exists()){const We=Ke.data();J({displayName:We.displayName||t.displayName||"ARK Technology",photoURL:We.photoURL||t.photoURL||"",email:t.email}),O(We.displayName||t.displayName||"ARK Technology"),D(We.photoURL||t.photoURL||"")}else await ar(et(Me,"users",t.uid),{displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email,createdAt:new Date}),J({displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email}),O(t.displayName||"ARK Technology"),D(t.photoURL||"")}catch(Ke){console.error("Error al cargar datos del usuario:",Ke),J({displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email}),O(t.displayName||"ARK Technology"),D(t.photoURL||"")}})()},[t]);const me=be=>new Promise(Ke=>{const We=document.createElement("canvas"),_n=We.getContext("2d"),Qe=new Image;Qe.onload=()=>{let{width:zt,height:Mn}=Qe;zt>Mn?zt>150&&(Mn=Mn*150/zt,zt=150):Mn>150&&(zt=zt*150/Mn,Mn=150),We.width=zt,We.height=Mn,_n.drawImage(Qe,0,0,zt,Mn),We.toBlob(Ke,"image/jpeg",.4)},Qe.src=URL.createObjectURL(be)}),xe=async()=>{if(!P.trim()){alert("El nombre no puede estar vaco");return}ae(!0);try{const be=bn.currentUser;if(be){let Ke=q.photoURL;if(L&&L!==q.photoURL)try{console.log("Procesando nueva imagen...");const We=await fetch(L);if(!We.ok)throw new Error("Error al obtener la imagen del preview");const _n=await We.blob();if(console.log("Blob creado, tamao:",_n.size),_n.size>500*1024)throw new Error("La imagen es demasiado grande. Mximo 500KB permitido.");const Qe=new FileReader,mi=new Promise((Mn,$n)=>{Qe.onload=()=>Mn(Qe.result),Qe.onerror=$n});Qe.readAsDataURL(_n);const zt=await mi;zt.length>1800&&console.log("URL demasiado larga para Auth, se guardar solo en Firestore"),Ke=zt,console.log("Imagen procesada exitosamente como base64, longitud:",zt.length)}catch(We){console.error("Error al procesar imagen:",We),alert("Error al procesar la imagen: "+We.message+". Se mantendr la foto actual."),Ke=q.photoURL}await lT(be,{displayName:P.trim(),photoURL:Ke.length>2e3?null:Ke}),await ar(et(Me,"users",be.uid),{displayName:P.trim(),photoURL:Ke,email:be.email,updatedAt:new Date,lastProfileUpdate:new Date},{merge:!0}),J({...q,displayName:P.trim(),photoURL:Ke}),Ke.length<=1800&&await lT(be,{displayName:P.trim(),photoURL:Ke}),k(!1),alert("Perfil actualizado exitosamente. La foto se ha guardado correctamente."),p(!1),setTimeout(()=>{p(!0)},100)}}catch(be){console.error("Error al actualizar perfil:",be),alert("Error al actualizar el perfil: "+be.message)}finally{ae(!1)}},Re=async()=>{if(C!==N){alert("Las contraseas no coinciden");return}if(C.length<6){alert("La contrasea debe tener al menos 6 caracteres");return}ae(!0);try{const be=bn.currentUser;be&&(await b3(be,C),await tr(et(Me,"users",be.uid),{passwordUpdatedAt:new Date,lastPasswordChange:new Date}),S(""),U(""),$(!1),alert("Contrasea cambiada exitosamente"))}catch(be){console.error("Error al cambiar contrasea:",be),be.code==="auth/requires-recent-login"?alert("Por seguridad, necesitas volver a iniciar sesin para cambiar tu contrasea"):alert("Error al cambiar la contrasea: "+be.message)}finally{ae(!1)}},Te=async()=>{if(window.confirm("Ests seguro de que quieres eliminar tu cuenta? Esta accin no se puede deshacer.")){ae(!0);try{const be=bn.currentUser;be&&(await Ha(et(Me,"carritos",be.uid)),await Ha(et(Me,"favoritos",be.uid)),await Ha(et(Me,"users",be.uid)),await T3(be),await e(),alert("Cuenta eliminada exitosamente"))}catch(be){console.error("Error al eliminar la cuenta:",be),be.code==="auth/requires-recent-login"?alert("Por seguridad, necesitas volver a iniciar sesin para eliminar tu cuenta"):alert("Error al eliminar la cuenta: "+be.message)}finally{ae(!1)}}};return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:"navbar",children:[d.jsxs("div",{className:"navbar-container",children:[d.jsxs("div",{className:"navbar-left",children:[d.jsxs("div",{className:"hamburger",onClick:he,children:[d.jsx("div",{className:"bar"}),d.jsx("div",{className:"bar"}),d.jsx("div",{className:"bar"})]}),d.jsxs("h2",{className:"navbar-logo",children:[d.jsx("span",{className:"logo-shop",children:"SHOP"}),d.jsx("span",{className:"logo-cart",children:"CART"})]})]}),d.jsxs("div",{className:"navbar-links",children:[d.jsx(at,{to:"/",className:`nav-link ${pe("/")?"active":""}`,children:"Home"}),d.jsx(at,{to:"/productos",className:`nav-link ${pe("/productos")?"active":""}`,children:"Productos"}),d.jsx(at,{to:"/blog",className:`nav-link ${pe("/blog")?"active":""}`,children:"Blog"}),d.jsx(at,{to:"/contacto",className:`nav-link ${pe("/contacto")?"active":""}`,children:"Contacto"})]}),d.jsxs("div",{className:"navbar-icons",children:[d.jsxs(at,{to:"/favoritos",title:"Favoritos",className:"icon-link",children:[d.jsx(sj,{weight:"regular",size:24}),i.length>0&&d.jsx("span",{className:"notification-badge",children:i.length},`fav-${i.length}`)]}),d.jsxs(at,{to:"/carrito",title:"Carrito",className:"icon-link",children:[d.jsx(aj,{weight:"regular",size:24}),s.length>0&&d.jsx("span",{className:"notification-badge",children:s.length},`cart-${s.length}`)]}),d.jsxs(at,{to:"/mis-ordenes",title:"Mis rdenes",className:"icon-link",children:[d.jsx(rj,{weight:"regular",size:24}),l>0&&d.jsx("span",{className:"notification-badge",children:l})]}),t&&d.jsxs("div",{className:"user-menu",children:[d.jsxs("span",{className:"icon-link user-icon",onClick:ve,children:[q.photoURL||t!=null&&t.photoURL?d.jsx("img",{src:q.photoURL||(t==null?void 0:t.photoURL),alt:"Avatar",className:"nav-user-avatar",onError:be=>{be.target.style.display="none";const Ke=be.target.nextSibling;Ke&&(Ke.style.display="flex")}}):null,d.jsx("span",{className:"nav-user-initials",style:{display:q.photoURL||t!=null&&t.photoURL?"none":"flex"},children:(q.displayName||(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"US").split(" ").map(be=>be[0]).join("").substring(0,2).toUpperCase()})]}),m&&d.jsxs("div",{className:"user-dropdown",children:[d.jsxs("div",{className:"user-info",children:[d.jsxs("div",{className:"user-avatar",children:[q.photoURL?d.jsx("img",{src:q.photoURL,alt:"Profile",className:"user-avatar-image",onError:be=>{be.target.style.display="none",be.target.nextSibling.style.display="flex"}}):null,d.jsx("span",{className:"user-initials",style:{display:q.photoURL?"none":"flex"},children:((kt=q.displayName)==null?void 0:kt.split(" ").map(be=>be[0]).join("").toUpperCase())||"AT"})]}),d.jsxs("div",{className:"user-details",children:[d.jsx("p",{className:"user-name",children:q.displayName||"ARK Technology"}),d.jsx("p",{className:"user-email",children:t==null?void 0:t.email})]})]}),d.jsx("div",{className:"dropdown-separator"}),B?d.jsxs("button",{onClick:()=>{ee("/admin"),p(!1),h(!1)},className:"dropdown-button admin-button",children:[d.jsx(ap,{weight:"regular",size:20}),"Administrar pgina"]}):d.jsxs("button",{onClick:()=>{oe(),p(!1)},className:"dropdown-button admin-button",children:[d.jsx(ap,{weight:"regular",size:20}),"Convertirme en administrador"]}),d.jsxs("button",{onClick:()=>{x(!0),p(!1),h(!1)},className:"dropdown-button edit-profile-button",children:[d.jsx(op,{weight:"regular",size:20}),"Editar perfil"]}),d.jsxs("button",{onClick:ne,className:"dropdown-button logout-button",children:[d.jsx(oj,{weight:"regular",size:20}),"Cerrar sesin"]})]})]}),!t&&d.jsx(at,{to:"/login",title:"Iniciar sesin",className:"icon-link",children:d.jsx(op,{weight:"regular",size:24})})]})]}),d.jsx("div",{className:`mobile-menu-overlay ${u?"open":""}`,children:d.jsxs("div",{className:"mobile-menu-content",children:[d.jsx("button",{className:"close-menu",onClick:he,children:""}),d.jsxs("div",{className:"mobile-logo",children:[d.jsx("span",{className:"logo-shop",children:"SHOP"}),d.jsx("span",{className:"logo-cart",children:"CART"})]}),d.jsxs("div",{className:"mobile-nav-links",children:[d.jsx(at,{to:"/",onClick:()=>h(!1),className:`mobile-link ${pe("/")?"active":""}`,children:"Home"}),d.jsx(at,{to:"/productos",onClick:()=>h(!1),className:`mobile-link ${pe("/productos")?"active":""}`,children:"Productos"}),d.jsx(at,{to:"/blog",onClick:()=>h(!1),className:`mobile-link ${pe("/blog")?"active":""}`,children:"Blog"}),d.jsx(at,{to:"/contacto",onClick:()=>h(!1),className:`mobile-link ${pe("/contacto")?"active":""}`,children:"Contacto"})]}),d.jsxs("div",{className:"mobile-social-icons",children:[d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:""})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:""})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"in"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"f"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"#"})})]})]})})]}),v&&d.jsx("div",{className:"profile-modal-overlay",onClick:()=>x(!1),children:d.jsxs("div",{className:"profile-modal",onClick:be=>be.stopPropagation(),children:[d.jsx("button",{className:"modal-close-btn",onClick:()=>x(!1),children:""}),d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-left-panel",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{className:"modal-title",children:"Account"}),d.jsx("p",{className:"modal-subtitle",children:"Manage your account info."})]}),d.jsxs("nav",{className:"modal-nav",children:[d.jsxs("button",{className:`nav-tab ${_==="profile"?"active":""}`,onClick:()=>E("profile"),children:[d.jsx(op,{weight:"regular",size:20}),"Profile"]}),d.jsxs("button",{className:`nav-tab ${_==="security"?"active":""}`,onClick:()=>E("security"),children:[d.jsx(ap,{weight:"regular",size:20}),"Security"]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsxs("p",{className:"secured-by",children:["Secured by ",d.jsx("span",{className:"clerk-logo",children:"clerk"})]}),d.jsx("p",{className:"dev-mode",children:"Development mode"})]})]}),d.jsxs("div",{className:"modal-right-panel",children:[_==="profile"&&d.jsxs("div",{className:"tab-content",children:[d.jsx("h3",{className:"tab-title",children:"Profile details"}),d.jsxs("div",{className:"profile-section",children:[d.jsx("h4",{children:"Profile"}),z?d.jsxs("div",{className:"update-profile-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre"}),d.jsx("input",{type:"text",value:P,onChange:be=>O(be.target.value),placeholder:"Nombre completo",className:"profile-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Foto de perfil"}),d.jsxs("div",{className:"photo-upload-container",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:async be=>{const Ke=be.target.files[0];if(Ke)try{const We=await me(Ke),_n=URL.createObjectURL(We);D(_n)}catch(We){console.error("Error al procesar imagen:",We),alert("Error al procesar la imagen. Intenta con otra imagen.")}},className:"photo-input",id:"photo-upload"}),d.jsx("label",{htmlFor:"photo-upload",className:"photo-upload-btn",children:L?"Cambiar foto":"Seleccionar foto"}),L&&d.jsxs("div",{className:"photo-preview",children:[d.jsx("img",{src:L,alt:"Preview",className:"preview-image"}),d.jsx("button",{type:"button",className:"remove-photo-btn",onClick:()=>{D(""),document.getElementById("photo-upload").value=""},children:""})]})]})]}),d.jsxs("div",{className:"profile-form-actions",children:[d.jsx("button",{className:"save-profile-btn",onClick:xe,disabled:R,children:R?"Guardando...":"Guardar"}),d.jsx("button",{className:"cancel-profile-btn",onClick:()=>{k(!1),O(q.displayName),D(q.photoURL),document.getElementById("photo-upload").value=""},disabled:R,children:"Cancelar"})]})]}):d.jsxs("div",{className:"profile-info",children:[d.jsxs("div",{className:"profile-avatar",children:[q.photoURL?d.jsx("img",{src:q.photoURL,alt:"Profile",className:"profile-image",onError:be=>{be.target.style.display="none",be.target.nextSibling.style.display="flex"}}):null,d.jsx("span",{className:"avatar-initials",style:{display:q.photoURL?"none":"flex"},children:((ft=q.displayName)==null?void 0:ft.split(" ").map(be=>be[0]).join("").toUpperCase())||"AT"})]}),d.jsx("div",{className:"profile-details",children:d.jsx("p",{className:"profile-name",children:q.displayName||"ARK Technology"})}),d.jsx("button",{className:"update-profile-btn",onClick:()=>k(!0),children:"Update profile"})]})]}),d.jsxs("div",{className:"email-section",children:[d.jsx("h4",{children:"Email addresses"}),d.jsxs("div",{className:"email-item",children:[d.jsx("span",{className:"email-address",children:t==null?void 0:t.email}),d.jsx("span",{className:"primary-tag",children:"Primary"})]})]}),d.jsxs("div",{className:"connected-accounts-section",children:[d.jsx("h4",{children:"Connected accounts"}),d.jsxs("div",{className:"connected-account",children:[d.jsxs("div",{className:"account-info",children:[d.jsx("span",{className:"google-icon",children:"G"}),d.jsx("span",{className:"account-name",children:"Google"}),d.jsx("span",{className:"account-email",children:(t==null?void 0:t.email)||"technologyark05@gmail.com"})]}),d.jsx("button",{className:"account-options",children:""})]})]})]}),_==="security"&&d.jsxs("div",{className:"tab-content",children:[d.jsx("h3",{className:"tab-title",children:"Security"}),d.jsxs("div",{className:"security-section",children:[d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Password"}),V?d.jsxs("div",{className:"password-form",children:[d.jsx("input",{type:"password",value:C,onChange:be=>S(be.target.value),placeholder:"Nueva contrasea",className:"password-input"}),d.jsx("input",{type:"password",value:N,onChange:be=>U(be.target.value),placeholder:"Confirmar contrasea",className:"password-input"}),d.jsxs("div",{className:"password-actions",children:[d.jsx("button",{className:"save-password-btn",onClick:Re,disabled:R,children:R?"Guardando...":"Guardar"}),d.jsx("button",{className:"cancel-password-btn",onClick:()=>{$(!1),S(""),U("")},disabled:R,children:"Cancelar"})]})]}):d.jsx("button",{className:"security-action",onClick:()=>$(!0),children:"Set password"})]}),d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Active devices"}),d.jsxs("div",{className:"device-info",children:[d.jsx("span",{className:"device-icon",children:""}),d.jsx("span",{className:"device-name",children:"Windows This device"}),d.jsx("span",{className:"device-browser",children:"Opera 120.0.0.0"}),d.jsx("span",{className:"device-ip",children:"2803:e5e3:2c00:fa00:cd80:b62b:bc91:ba2d (Anaime, CO)"}),d.jsx("span",{className:"device-time",children:"Today at 10:17 AM"})]})]}),d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Delete account"}),d.jsx("button",{className:"security-action delete-account",onClick:Te,disabled:R,children:R?"Eliminando...":"Delete account"})]})]})]})]})]})]})}),d.jsx("style",{children:`
        .navbar {
          background-color: #ffffff;  
          font-family: 'Arial', sans-serif;
          position: sticky;
          top: 0;
          z-index: 1000;
          border-bottom: 1px solid #e0e0e0;
        }

        .navbar-container {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }

        .navbar-left {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .hamburger {
          display: flex;
          flex-direction: column;
          gap: 3px;
          cursor: pointer;
          padding: 6px;
          border-radius: 4px;
          transition: background-color 0.3s ease;
        }

        .hamburger .bar {
          width: 18px;
          height: 2px;
          background-color: #333333;
          border-radius: 2px;
          transition: all 0.3s ease;
        }

        .hamburger:hover {
          background-color: rgba(0, 0, 0, 0.05);
        }

        .navbar-logo {
          font-size: 20px;
          font-weight: bold;
          letter-spacing: -0.5px;
          display: flex;
          align-items: center;
        }

        .logo-shop {
          color: #1a5f3c;
        }

        .logo-cart {
          color: #2d8a4e;
          text-decoration: underline;
          text-decoration-color: #2d8a4e;
          text-underline-offset: 2px;
        }

        .navbar-links {
          display: flex;
          gap: 25px;
        }

        .nav-link {
          text-decoration: none;
          color: #666666;
          font-weight: 500;
          font-size: 14px;
          position: relative;
          padding: 6px 0;
          transition: all 0.3s ease;
        }

        .nav-link.active {
          color: #2d8a4e;
        }

        .nav-link.active::after {
          content: '';
          position: absolute;
          bottom: -2px;
          left: 0;
          width: 100%;
          height: 2px;
          background-color: #2d8a4e;
        }

        .nav-link:hover {
          color: #2d8a4e;
        }

        .navbar-icons {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .icon-link {
          color: #666666;
          cursor: pointer;
          transition: all 0.3s ease;
          padding: 6px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          text-decoration: none;
        }

        .icon-link:hover {
          color: #333333;
          background-color: rgba(0, 0, 0, 0.05);
        }

        .notification-badge {
          position: absolute;
          top: 0;
          right: 0;
          background-color: #2d8a4e;
          color: white;
          font-size: 10px;
          font-weight: bold;
          width: 16px;
          height: 16px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .user-dropdown {
          position: absolute;
          right: 0;
          top: 60px;
          background-color: #2d2d2d;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
          width: 280px;
          border: 1px solid #404040;
          animation: dropdownFade 0.3s ease;
        }

        .user-info {
          display: flex;
          gap: 15px;
          padding-bottom: 15px;
          margin-bottom: 15px;
        }

        .user-avatar {
          width: 50px;
          height: 50px;
          background-color: #000000;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .user-initials {
          color: white;
          font-size: 18px;
          font-weight: bold;
          font-family: 'Arial', sans-serif;
        }

        .user-avatar-image {
          width: 100%;
          height: 100%;
          border-radius: 50%;
          object-fit: cover;
        }

        .user-details {
          flex: 1;
        }

        .user-name {
          margin: 0 0 5px 0;
          font-size: 16px;
          font-weight: 600;
          color: white;
        }

        .user-email {
          margin: 0;
          font-size: 14px;
          color: #cccccc;
        }

        .dropdown-separator {
          height: 1px;
          background-color: #404040;
          margin: 15px 0;
        }

        @keyframes dropdownFade {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .dropdown-button {
          margin-top: 8px;
          background-color: transparent;
          color: white;
          border: none;
          padding: 12px 15px;
          border-radius: 8px;
          cursor: pointer;
          width: 100%;
          font-weight: 500;
          font-size: 14px;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 12px;
          justify-content: flex-start;
          text-align: left;
        }

        .dropdown-button:hover {
          background-color: #404040;
          transform: translateX(5px);
        }

        .dropdown-button .admin-button {
          background-color: #00b894;
        }

        .dropdown-button .admin-button:hover {
          background-color: #00a884;
        }

        .dropdown-button .edit-profile-button {
          background-color: transparent;
        }

        .dropdown-button .edit-profile-button:hover {
          background-color: #404040;
        }

        .dropdown-button .logout-button {
          background-color: transparent;
        }

        .dropdown-button .logout-button:hover {
          background-color: #e74c3c;
        }

        /* Men mvil overlay */
        .mobile-menu-overlay {
          position: fixed;
          top: 0;
          left: -100%;
          height: 100vh;
          width: 35%;
          background-color: #ffffff;
          transition: all 0.3s ease-in-out;
          z-index: 1001;
          border-right: 1px solid #e0e0e0;
        }

        .mobile-menu-overlay.open {
          left: 0;
        }

        .mobile-menu-content {
          padding: 20px 20px;
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .close-menu {
          background-color: transparent;
          color: #333333;
          font-size: 24px;
          width: 30px;
          height: 30px;
          border: none;
          cursor: pointer;
          align-self: flex-end;
          margin-bottom: 25px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .close-menu:hover {
          color: #2d8a4e;
        }

        .mobile-logo {
          margin-bottom: 30px;
        }

        .mobile-logo .logo-shop {
          color: #1a5f3c;
          font-size: 22px;
          font-weight: bold;
        }

        .mobile-logo .logo-cart {
          color: #2d8a4e;
          font-size: 22px;
          font-weight: normal;
          text-decoration: underline;
          text-decoration-color: #2d8a4e;
          text-underline-offset: 3px;
        }

        .mobile-nav-links {
          display: flex;
          flex-direction: column;
          gap: 15px;
          margin-bottom: 20px;
        }

        .mobile-link {
          text-decoration: none;
          color: #666666;
          font-weight: 500;
          font-size: 16px;
          padding: 8px 0;
          transition: all 0.3s ease;
        }

        .mobile-link.active {
          color: #2d8a4e;
        }

        .mobile-link:hover {
          color: #2d8a4e;
        }

        .mobile-social-icons {
          display: flex;
          gap: 12px;
          margin-top: 0;
        }

        .social-icon {
          width: 32px;
          height: 32px;
          border: 1px solid #666666;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          text-decoration: none;
          transition: all 0.3s ease;
        }

        .social-icon:hover {
          border-color: #2d8a4e;
          background-color: #2d8a4e;
        }

        .social-icon-inner {
          color: #666666;
          font-size: 12px;
          font-weight: bold;
        }

        .social-icon:hover .social-icon-inner {
          color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .navbar-links {
            display: none;
          }

          .hamburger {
            display: flex;
          }

          .mobile-menu-overlay {
            width: 70%;
          }

          .mobile-menu-content {
            padding: 15px 15px;
          }

          .mobile-logo .logo-shop,
          .mobile-logo .logo-cart {
            font-size: 20px;
          }

          .mobile-nav-links {
            gap: 12px;
            margin-bottom: 15px;
          }

          .mobile-link {
            font-size: 15px;
            padding: 6px 0;
          }

          .mobile-social-icons {
            gap: 10px;
          }

          .social-icon {
            width: 28px;
            height: 28px;
          }

          .social-icon-inner {
            font-size: 11px;
          }
        }

        @media (min-width: 769px) {
          .hamburger {
          display: none;
        }

          .mobile-menu-overlay {
          display: none;
          }
        }

        /* Modal de Editar Perfil */
        .profile-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          padding: 20px;
        }

        .profile-modal {
          background-color: #f8f9fa;
          border-radius: 16px;
          width: 100%;
          max-width: 900px;
          height: 80vh;
          overflow: hidden;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          position: relative;
        }

        .modal-close-btn {
          position: absolute;
          top: 20px;
          right: 20px;
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #666;
          z-index: 10;
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
          background-color: #e9ecef;
          color: #333;
        }

        .modal-content {
          display: flex;
          max-width: none;
          height: 100%;
        }

        /* Panel izquierdo */
        .modal-left-panel {
          width: 280px;
          background-color: #e9ecef;
          padding: 30px 20px;
          display: flex;
          flex-direction: column;
          flex-shrink: 0;
        }

        .modal-header {
          margin-bottom: 30px;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          color: #212529;
          margin: 0 0 8px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          color: #6c757d;
          margin: 0;
        }

        .modal-nav {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .nav-tab {
          background: none;
          border: none;
          padding: 12px 16px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
          color: #495057;
          transition: all 0.2s ease;
          text-align: left;
        }

        .nav-tab:hover {
          background-color: #dee2e6;
        }

        .nav-tab.active {
          background-color: #ced4da;
          color: #212529;
        }

        .modal-footer {
          margin-top: auto;
          padding-top: 20px;
          border-top: 1px solid #dee2e6;
        }

        .secured-by {
          font-size: 12px;
          color: #6c757d;
          margin: 0 0 4px 0;
        }

        .clerk-logo {
          font-weight: 600;
          color: #495057;
        }

        .dev-mode {
          font-size: 12px;
          color: #fd7e14;
          margin: 0;
          font-weight: 500;
        }

        /* Panel derecho */
        .modal-right-panel {
          flex: 1;
          padding: 30px;
          overflow-y: auto;
          min-height: 0;
        }

        .tab-content {
          max-width: 500px;
        }

        .tab-title {
          font-size: 20px;
          font-weight: 600;
          color: #212529;
          margin: 0 0 30px 0;
        }

        /* Seccin de perfil */
        .profile-section {
          margin-bottom: 30px;
        }

        .profile-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .profile-info {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .profile-avatar {
          width: 60px;
          height: 60px;
          background-color: #000;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .avatar-initials {
          color: white;
          font-size: 20px;
          font-weight: 600;
        }

        .profile-details {
          flex: 1;
        }

        .profile-name {
          font-size: 16px;
          font-weight: 500;
          color: #212529;
          margin: 0;
        }

        .update-profile-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .update-profile-btn:hover {
          background-color: #0056b3;
        }

        /* Formulario de actualizacin de perfil */
        .update-profile-form {
          padding: 20px;
          background-color: #f8f9fa;
          border-radius: 6px;
          border: 1px solid #e9ecef;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-group label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #495057;
          margin-bottom: 6px;
        }

        .profile-input {
          width: 100%;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
          box-sizing: border-box;
        }

        .profile-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .profile-form-actions {
          display: flex;
          gap: 10px;
          margin-top: 20px;
        }

        .save-profile-btn,
        .cancel-profile-btn {
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          border: none;
          transition: background-color 0.2s ease;
          flex: 1;
        }

        .save-profile-btn {
          background-color: #007bff;
          color: white;
        }

        .save-profile-btn:hover:not(:disabled) {
          background-color: #0056b3;
        }

        .save-profile-btn:disabled {
          background-color: #6c757d;
          cursor: not-allowed;
        }

        .cancel-profile-btn {
          background-color: #6c757d;
          color: white;
        }

        .cancel-profile-btn:hover:not(:disabled) {
          background-color: #5a6268;
        }

        .cancel-profile-btn:disabled {
          background-color: #adb5bd;
          cursor: not-allowed;
        }

        .profile-image {
          width: 100%;
          height: 100%;
          border-radius: 50%;
          object-fit: cover;
        }

        /* Upload de foto */
        .photo-upload-container {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .photo-input {
          display: none;
        }

        .photo-upload-btn {
          display: inline-block;
          padding: 8px 16px;
          background-color: #007bff;
          color: white;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          text-align: center;
          transition: background-color 0.2s ease;
          border: none;
        }

        .photo-upload-btn:hover {
          background-color: #0056b3;
        }

        .photo-preview {
          position: relative;
          display: inline-block;
          margin-top: 8px;
        }

        .preview-image {
          width: 80px;
          height: 80px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid #e9ecef;
        }

        .remove-photo-btn {
          position: absolute;
          top: -8px;
          right: -8px;
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background-color: #dc3545;
          color: white;
          border: none;
          cursor: pointer;
          font-size: 16px;
          font-weight: bold;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.2s ease;
        }

        .remove-photo-btn:hover {
          background-color: #c82333;
        }

        /* Seccin de email */
        .email-section {
          margin-bottom: 30px;
        }

        .email-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .email-item {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 12px;
        }

        .email-address {
          font-size: 14px;
          color: #212529;
          flex: 1;
        }

        .primary-tag {
          background-color: #e9ecef;
          color: #495057;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
        }

        .email-actions {
          display: flex;
          gap: 8px;
          margin-left: auto;
        }

        .email-action-btn {
          background: none;
          border: none;
          font-size: 16px;
          color: #6c757d;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
          transition: background-color 0.2s ease;
        }

        .email-action-btn:hover {
          background-color: #e9ecef;
        }

        .email-action-btn:disabled {
          color: #adb5bd;
          cursor: not-allowed;
        }

        .email-action-btn:disabled:hover {
          background-color: transparent;
        }

        .add-email-form {
          display: flex;
          gap: 10px;
          margin-top: 15px;
        }

        .email-input {
          flex: 1;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
        }

        .email-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .email-form-actions {
          display: flex;
          gap: 10px;
        }

        .save-email-btn,
        .cancel-email-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .save-email-btn:hover {
          background-color: #0056b3;
        }

        .cancel-email-btn:hover {
          background-color: #6c757d;
        }

        .add-email-btn {
          background: none;
          border: none;
          color: #007bff;
          font-size: 14px;
          cursor: pointer;
          padding: 8px 0;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: color 0.2s ease;
        }

        .add-email-btn:hover {
          color: #0056b3;
        }

        .add-email-btn span {
          font-size: 18px;
          font-weight: 600;
        }

        /* Formulario de contrasea */
        .password-form {
            display: flex;
            flex-direction: column;
          gap: 10px;
          min-width: 250px;
        }

        .password-input {
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
        }

        .password-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .password-actions {
          display: flex;
          gap: 10px;
        }

        .save-password-btn,
        .cancel-password-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
            cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .save-password-btn:hover {
          background-color: #0056b3;
        }

        .cancel-password-btn {
          background-color: #6c757d;
        }

        .cancel-password-btn:hover {
          background-color: #5a6268;
        }

        /* Seccin de cuentas conectadas */
        .connected-accounts-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .connected-account {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 0;
        }

        .account-info {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .google-icon {
            width: 24px;
          height: 24px;
          background-color: #4285f4;
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 14px;
          font-weight: 600;
        }

        .account-name {
          font-size: 14px;
          font-weight: 500;
          color: #212529;
        }

        .account-email {
          font-size: 14px;
          color: #6c757d;
        }

        .account-options {
          background: none;
          border: none;
          font-size: 18px;
          color: #6c757d;
          cursor: pointer;
          padding: 4px;
            border-radius: 4px;
          transition: background-color 0.2s ease;
          }

        .account-options:hover {
          background-color: #e9ecef;
          }

        /* Seccin de seguridad */
        .security-section {
            display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .security-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding: 16px 0;
          border-bottom: 1px solid #e9ecef;
        }

        .security-item:last-child {
          border-bottom: none;
        }

        .security-label {
          font-size: 14px;
          font-weight: 500;
          color: #495057;
        }

        .security-action {
          background: none;
          border: none;
          color: #007bff;
          font-size: 14px;
          cursor: pointer;
          padding: 0;
          transition: color 0.2s ease;
        }

        .security-action:hover {
          color: #0056b3;
        }

        .security-action.delete-account {
          color: #dc3545;
        }

        .security-action.delete-account:hover {
          color: #c82333;
        }

        .security-action:disabled {
          color: #6c757d;
          cursor: not-allowed;
        }

        .save-password-btn:disabled,
        .cancel-password-btn:disabled {
          background-color: #6c757d;
          cursor: not-allowed;
        }

        .device-info {
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          gap: 4px;
          text-align: right;
        }

        .device-icon {
          font-size: 16px;
          color: #212529;
        }

        .device-name {
          font-size: 14px;
          font-weight: 500;
          color: #212529;
        }

        .device-browser {
          font-size: 12px;
          color: #6c757d;
        }

        .device-ip {
          font-size: 12px;
          color: #6c757d;
          max-width: 200px;
          word-break: break-all;
        }

        .device-time {
          font-size: 12px;
          color: #6c757d;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .modal-content {
            flex-direction: column;
          }

          .modal-left-panel {
            width: 100%;
            padding: 20px;
          }

          .modal-right-panel {
            padding: 20px;
          }

          .profile-modal {
            max-height: 95vh;
          }
        }

        .nav-user-avatar{width:28px;height:28px;border-radius:50%;object-fit:cover}
        .nav-user-initials{width:28px;height:28px;border-radius:50%;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700}
      `})]})}const Et=({variant:t="primary",size:e="md",fullWidth:n=!1,onClick:i,disabled:s=!1,children:a,...l})=>{const u={display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"500",borderRadius:"0.375rem",transition:"all 0.2s ease",cursor:s?"not-allowed":"pointer",opacity:s?"0.7":"1",width:n?"100%":"auto"},h={sm:{padding:"0.375rem 0.75rem",fontSize:"0.875rem"},md:{padding:"0.5rem 1rem",fontSize:"1rem"},lg:{padding:"0.75rem 1.5rem",fontSize:"1.125rem"}},m={primary:{backgroundColor:"#16a34a",color:"white",border:"none","&:hover":{backgroundColor:"#15803d"}},secondary:{backgroundColor:"#f0fdf4",color:"#16a34a",border:"1px solid #16a34a","&:hover":{backgroundColor:"#dcfce7"}},outline:{backgroundColor:"transparent",color:"#16a34a",border:"1px solid #16a34a","&:hover":{backgroundColor:"#f0fdf4"}},danger:{backgroundColor:"#ef4444",color:"white",border:"none","&:hover":{backgroundColor:"#dc2626"}}},p={...u,...h[e],...m[t]};return d.jsx("button",{style:p,onClick:i,disabled:s,...l,children:a})},Nz=({src:t,alt:e,placeholderSrc:n="https://via.placeholder.com/300?text=Cargando...",style:i={},className:s="",preload:a=!1,...l})=>{const[u,h]=I.useState(a?t:n),[m,p]=I.useState(a),v=I.useRef(null),x=I.useRef(null);return I.useEffect(()=>{t!==u&&m&&(h(n),p(!1));const _=new Image;_.src=t;const E=()=>{h(t),p(!0)},C=()=>{console.error(`Error al cargar la imagen: ${t}`),p(!1)};return a?(_.onload=E,_.onerror=C):"IntersectionObserver"in window&&v.current?(x.current=new IntersectionObserver(S=>{S.forEach(N=>{N.isIntersecting&&(_.onload=E,_.onerror=C,x.current.disconnect())})},{rootMargin:"100px"}),x.current.observe(v.current)):(_.onload=E,_.onerror=C),()=>{_.onload=null,_.onerror=null,x.current&&x.current.disconnect()}},[t,n,a,u,m]),d.jsx("img",{ref:v,src:u,alt:e,className:`lazy-image ${m?"loaded":"loading"} ${s}`,style:i,loading:"lazy",...l})},cu=I.memo(Nz),Bl=({size:t="md",color:e="primary",text:n=""})=>{const i={sm:{width:"1.5rem",height:"1.5rem",borderWidth:"0.2rem"},md:{width:"2.5rem",height:"2.5rem",borderWidth:"0.25rem"},lg:{width:"3.5rem",height:"3.5rem",borderWidth:"0.3rem"}},s={primary:"#16a34a",secondary:"#4b5563",white:"#ffffff"},a={display:"inline-block",width:i[t].width,height:i[t].height,border:`${i[t].borderWidth} solid rgba(0, 0, 0, 0.1)`,borderLeftColor:s[e],borderRadius:"50%",animation:"spin 1s linear infinite"},l={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},u={marginTop:"0.75rem",fontSize:t==="sm"?"0.875rem":t==="md"?"1rem":"1.125rem",color:s[e==="white"?"secondary":e]};return d.jsxs("div",{style:l,className:"loader-container",children:[d.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),d.jsx("div",{style:a,className:"loader","aria-label":"Cargando"}),n&&d.jsx("p",{style:u,className:"loader-text",children:n})]})},jz=({isOpen:t,onClose:e,title:n,children:i,size:s="md",closeOnClickOutside:a=!0})=>(I.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?d.jsx("div",{className:"modal-overlay",onClick:a?l=>l.target===l.currentTarget&&e():void 0,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:d.jsxs("div",{className:`modal-container size-${s}`,children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{id:"modal-title",className:"modal-title",children:n}),d.jsx("button",{className:"modal-close-button",onClick:e,"aria-label":"Cerrar modal",children:""})]}),d.jsx("div",{className:"modal-content",children:i})]})}):null);var lj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CA=Y.createContext&&Y.createContext(lj),Iz=["attr","size","title"];function Pz(t,e){if(t==null)return{};var n=Mz(t,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Mz(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hp.apply(this,arguments)}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(i){Dz(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Dz(t,e,n){return e=Oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oz(t){var e=Lz(t,"string");return typeof e=="symbol"?e:e+""}function Lz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cj(t){return t&&t.map((e,n)=>Y.createElement(e.tag,qp({key:n},e.attr),cj(e.child)))}function hi(t){return e=>Y.createElement(Vz,Hp({attr:qp({},t.attr)},e),cj(t.child))}function Vz(t){var e=n=>{var{attr:i,size:s,title:a}=t,l=Pz(t,Iz),u=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Y.createElement("svg",Hp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:qp(qp({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Y.createElement("title",null,a),t.children)};return CA!==void 0?Y.createElement(CA.Consumer,null,n=>e(n)):e(lj)}function zz(t){return hi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(t)}function Uz(t){return hi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"},child:[]}]})(t)}function Bz(t){return hi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function RA(t){return hi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(t)}function Fz(t){return hi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function uj(t){return hi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Hz(t){return hi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function vv(t){return hi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M6.1 444.3c-9.6 10.8-7.5 27.6 4.5 35.7l68.8 27.9c9.9 6.7 23.3 5 31.3-3.8l91.8-101.9-79.2-87.9-117.2 130zm435.8 0s-292-324.6-295.4-330.1c15.4-8.4 40.2-17.9 77.5-17.9s62.1 9.5 77.5 17.9c-3.3 5.6-56 64.6-56 64.6l79.1 87.7 34.2-38c28.7-31.9 33.3-78.6 11.4-115.5l-43.7-73.5c-4.3-7.2-9.9-13.3-16.8-18-40.7-27.6-127.4-29.7-171.4 0-6.9 4.7-12.5 10.8-16.8 18l-43.6 73.2c-1.5 2.5-37.1 62.2 11.5 116L337.5 504c8 8.9 21.4 10.5 31.3 3.8l68.8-27.9c11.9-8 14-24.8 4.3-35.6z"},child:[]}]})(t)}function qz(t){return hi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function $z(t){return hi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(t)}function Wz(t){return hi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}const dj=({producto:t,toggleFavorito:e,agregarAlCarrito:n,favoritos:i=[],showActions:s=!0})=>{var u;if(!t)return null;const a=i==null?void 0:i.some(h=>h.id===t.id),l=(h=0)=>{const m=Math.floor(h),p=h%1>=.5?1:0,v=5-m-p;return d.jsxs("span",{className:"stars",children:[Array(m).fill(0).map((x,_)=>d.jsx("i",{className:"fas fa-star"},`f${_}`)),p===1&&d.jsx("i",{className:"fas fa-star-half-alt"}),Array(v).fill(0).map((x,_)=>d.jsx("i",{className:"far fa-star"},`e${_}`))]})};return d.jsxs("div",{className:"producto-card",children:[d.jsxs("div",{className:"producto-img-wrapper",children:[t.onSale&&d.jsx("div",{className:"sale-badge",children:"Sale!"}),s&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:`fav-btn ${a?"active":""}`,title:a?"Quitar de favoritos":"Agregar a favoritos",onClick:()=>e(t),"aria-label":a?"Quitar de favoritos":"Agregar a favoritos",children:a?d.jsx(uj,{}):d.jsx(Wz,{})}),d.jsx(at,{to:`/producto/${t.id}`,className:"view-btn",title:"Ver detalles","aria-label":"Ver detalles del producto",children:d.jsx(Bz,{})})]}),d.jsx(at,{to:`/producto/${t.id}`,children:d.jsx("img",{src:t.image||((u=t.images)==null?void 0:u[0])||"https://via.placeholder.com/300",alt:t.name,className:"producto-img",loading:"lazy"})})]}),d.jsxs("div",{className:"producto-info",children:[d.jsx(at,{to:`/producto/${t.id}`,className:"producto-nombre",children:t.name}),d.jsx("div",{className:"producto-rating",children:l(t.rating)}),d.jsxs("div",{className:"producto-precio-stock",children:[d.jsx("div",{className:"producto-precio-container",children:t.oldPrice&&t.onSale?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"producto-precio-original",children:["$",Math.round(t.oldPrice).toLocaleString("es-CO")]}),d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})]}):d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})}),d.jsx("span",{className:`producto-stock ${t.stock<=0?"agotado":""}`,children:t.stock<=0?"Agotado":`${t.stock} disponibles`})]}),s&&d.jsx("button",{className:"add-to-cart-btn",onClick:()=>n(t),disabled:t.stock<=0,children:t.stock<=0?"Sin stock":"Agregar al carrito"})]})]})},_b=({rating:t=0,interactive:e=!1,onChange:n,size:i="md"})=>{const s=Math.floor(t),a=t%1>=.5,l=5-s-(a?1:0),u=h=>{e&&n&&n(h+1)};return d.jsxs("div",{className:"star-rating",children:[[...Array(s)].map((h,m)=>d.jsx("i",{className:`fas fa-star star size-${i} ${e?"interactive":""}`,onClick:()=>u(m),"aria-label":`${m+1} estrellas`},`full-${m}`)),a&&d.jsx("i",{className:`fas fa-star-half-alt star size-${i} ${e?"interactive":""}`,onClick:()=>u(s),"aria-label":`${s+.5} estrellas`}),[...Array(l)].map((h,m)=>d.jsx("i",{className:`far fa-star star empty size-${i} ${e?"interactive":""}`,onClick:()=>u(s+(a?1:0)+m),"aria-label":`${s+(a?1:0)+m+1} estrellas`},`empty-${m}`))]})};/*!
* sweetalert2 v11.21.0
* Released under the MIT License.
*/function hj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Gz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NA(t,e){return t.get(hj(t,e))}function Kz(t,e,n){Gz(t,e),e.set(t,n)}function Yz(t,e,n){return t.set(hj(t,e),n),n}const Xz=100,je={},Qz=()=>{je.previousActiveElement instanceof HTMLElement?(je.previousActiveElement.focus(),je.previousActiveElement=null):document.body&&document.body.focus()},Zz=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;je.restoreFocusTimeout=setTimeout(()=>{Qz(),e()},Xz),window.scrollTo(n,i)}),fj="swal2-",Jz=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],re=Jz.reduce((t,e)=>(t[e]=fj+e,t),{}),e7=["success","warning","info","question","error"],$p=e7.reduce((t,e)=>(t[e]=fj+e,t),{}),mj="SweetAlert2:",cw=t=>t.charAt(0).toUpperCase()+t.slice(1),di=t=>{console.warn(`${mj} ${typeof t=="object"?t.join(" "):t}`)},Fl=t=>{console.error(`${mj} ${t}`)},jA=[],t7=t=>{jA.includes(t)||(jA.push(t),di(t))},pj=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;t7(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},qg=t=>typeof t=="function"?t():t,uw=t=>t&&typeof t.toPromise=="function",Kh=t=>uw(t)?t.toPromise():Promise.resolve(t),dw=t=>t&&Promise.resolve(t)===t,fi=()=>document.body.querySelector(`.${re.container}`),Yh=t=>{const e=fi();return e?e.querySelector(t):null},$i=t=>Yh(`.${t}`),ht=()=>$i(re.popup),Au=()=>$i(re.icon),n7=()=>$i(re["icon-content"]),gj=()=>$i(re.title),hw=()=>$i(re["html-container"]),yj=()=>$i(re.image),fw=()=>$i(re["progress-steps"]),$g=()=>$i(re["validation-message"]),hr=()=>Yh(`.${re.actions} .${re.confirm}`),Su=()=>Yh(`.${re.actions} .${re.cancel}`),Hl=()=>Yh(`.${re.actions} .${re.deny}`),i7=()=>$i(re["input-label"]),Cu=()=>Yh(`.${re.loader}`),Xh=()=>$i(re.actions),vj=()=>$i(re.footer),Wg=()=>$i(re["timer-progress-bar"]),mw=()=>$i(re.close),s7=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,pw=()=>{const t=ht();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),h=parseInt(l.getAttribute("tabindex")||"0");return u>h?1:u<h?-1:0}),i=t.querySelectorAll(s7),s=Array.from(i).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(a=>Ri(a))},gw=()=>Qr(document.body,re.shown)&&!Qr(document.body,re["toast-shown"])&&!Qr(document.body,re["no-backdrop"]),Gg=()=>{const t=ht();return t?Qr(t,re.toast):!1},r7=()=>{const t=ht();return t?t.hasAttribute("data-loading"):!1},Wi=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),s=i.querySelector("head");s&&Array.from(s.childNodes).forEach(l=>{t.appendChild(l)});const a=i.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},Qr=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},a7=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(re).includes(n)&&!Object.values($p).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},qi=(t,e,n)=>{if(a7(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){di(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}gt(t,i)}},Kg=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${re.popup} > .${re[e]}`);case"checkbox":return t.querySelector(`.${re.popup} > .${re.checkbox} input`);case"radio":return t.querySelector(`.${re.popup} > .${re.radio} input:checked`)||t.querySelector(`.${re.popup} > .${re.radio} input:first-child`);case"range":return t.querySelector(`.${re.popup} > .${re.range} input`);default:return t.querySelector(`.${re.popup} > .${re.input}`)}},bj=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},xj=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(i):s.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},gt=(t,e)=>{xj(t,e,!0)},gs=(t,e)=>{xj(t,e,!1)},qa=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const s=n[i];if(s instanceof HTMLElement&&Qr(s,e))return s}},pl=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Pn=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},ri=t=>{t&&(t.style.display="none")},yw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{Qh(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},IA=(t,e,n,i)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,i)},Qh=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?Pn(t,n):ri(t)},Ri=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),o7=()=>!Ri(hr())&&!Ri(Hl())&&!Ri(Su()),PA=t=>t.scrollHeight>t.clientHeight,wj=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},vw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Wg();n&&Ri(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},l7=()=>{const t=Wg();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},c7=()=>typeof window>"u"||typeof document>"u",u7=`
 <div aria-labelledby="${re.title}" aria-describedby="${re["html-container"]}" class="${re.popup}" tabindex="-1">
   <button type="button" class="${re.close}"></button>
   <ul class="${re["progress-steps"]}"></ul>
   <div class="${re.icon}"></div>
   <img class="${re.image}" />
   <h2 class="${re.title}" id="${re.title}"></h2>
   <div class="${re["html-container"]}" id="${re["html-container"]}"></div>
   <input class="${re.input}" id="${re.input}" />
   <input type="file" class="${re.file}" />
   <div class="${re.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${re.select}" id="${re.select}"></select>
   <div class="${re.radio}"></div>
   <label class="${re.checkbox}">
     <input type="checkbox" id="${re.checkbox}" />
     <span class="${re.label}"></span>
   </label>
   <textarea class="${re.textarea}" id="${re.textarea}"></textarea>
   <div class="${re["validation-message"]}" id="${re["validation-message"]}"></div>
   <div class="${re.actions}">
     <div class="${re.loader}"></div>
     <button type="button" class="${re.confirm}"></button>
     <button type="button" class="${re.deny}"></button>
     <button type="button" class="${re.cancel}"></button>
   </div>
   <div class="${re.footer}"></div>
   <div class="${re["timer-progress-bar-container"]}">
     <div class="${re["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),d7=()=>{const t=fi();return t?(t.remove(),gs([document.documentElement,document.body],[re["no-backdrop"],re["toast-shown"],re["has-column"]]),!0):!1},Jo=()=>{je.currentInstance.resetValidationMessage()},h7=()=>{const t=ht(),e=qa(t,re.input),n=qa(t,re.file),i=t.querySelector(`.${re.range} input`),s=t.querySelector(`.${re.range} output`),a=qa(t,re.select),l=t.querySelector(`.${re.checkbox} input`),u=qa(t,re.textarea);e.oninput=Jo,n.onchange=Jo,a.onchange=Jo,l.onchange=Jo,u.oninput=Jo,i.oninput=()=>{Jo(),s.value=i.value},i.onchange=()=>{Jo(),s.value=i.value}},f7=t=>typeof t=="string"?document.querySelector(t):t,m7=t=>{const e=ht();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},p7=t=>{window.getComputedStyle(t).direction==="rtl"&&gt(fi(),re.rtl)},g7=t=>{const e=d7();if(c7()){Fl("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=re.container,e&&gt(n,re["no-transition"]),Wi(n,u7),n.dataset.swal2Theme=t.theme;const i=f7(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),m7(t),p7(i),h7()},bw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?y7(t,e):t&&Wi(e,t)},y7=(t,e)=>{t.jquery?v7(e,t):Wi(e,t.toString())},v7=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},b7=(t,e)=>{const n=Xh(),i=Cu();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ri(n):Pn(n),qi(n,e,"actions"),x7(n,i,e),Wi(i,e.loaderHtml||""),qi(i,e,"loader"))};function x7(t,e,n){const i=hr(),s=Hl(),a=Su();!i||!s||!a||(xv(i,"confirm",n),xv(s,"deny",n),xv(a,"cancel",n),w7(i,s,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,i),t.insertBefore(s,i)):(t.insertBefore(a,e),t.insertBefore(s,e),t.insertBefore(i,e))))}function w7(t,e,n,i){if(!i.buttonsStyling){gs([t,e,n],re.styled);return}gt([t,e,n],re.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),bv(t),bv(e),bv(n)}function bv(t){const e=window.getComputedStyle(t),n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-outline",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function xv(t,e,n){const i=cw(e);Qh(t,n[`show${i}Button`],"inline-block"),Wi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=re[e],qi(t,n,`${e}Button`)}const _7=(t,e)=>{const n=mw();n&&(Wi(n,e.closeButtonHtml||""),qi(n,e,"closeButton"),Qh(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},E7=(t,e)=>{const n=fi();n&&(T7(n,e.backdrop),A7(n,e.position),S7(n,e.grow),qi(n,e,"container"))};function T7(t,e){typeof e=="string"?t.style.background=e:e||gt([document.documentElement,document.body],re["no-backdrop"])}function A7(t,e){e&&(e in re?gt(t,re[e]):(di('The "position" parameter is not valid, defaulting to "center"'),gt(t,re.center)))}function S7(t,e){e&&gt(t,re[`grow-${e}`])}var Dt={innerParams:new WeakMap,domCache:new WeakMap};const C7=["input","file","range","select","radio","checkbox","textarea"],k7=(t,e)=>{const n=ht();if(!n)return;const i=Dt.innerParams.get(t),s=!i||e.input!==i.input;C7.forEach(a=>{const l=qa(n,re[a]);l&&(j7(a,e.inputAttributes),l.className=re[a],s&&ri(l))}),e.input&&(s&&R7(e),I7(e))},R7=t=>{if(!t.input)return;if(!sn[t.input]){Fl(`Unexpected type of input! Expected ${Object.keys(sn).join(" | ")}, got "${t.input}"`);return}const e=_j(t.input);if(!e)return;const n=sn[t.input](e,t);Pn(e),t.inputAutoFocus&&setTimeout(()=>{bj(n)})},N7=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},j7=(t,e)=>{const n=ht();if(!n)return;const i=Kg(n,t);if(i){N7(i);for(const s in e)i.setAttribute(s,e[s])}},I7=t=>{if(!t.input)return;const e=_j(t.input);e&&qi(e,t,"input")},xw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Zh=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),s=re["input-label"];i.setAttribute("for",t.id),i.className=s,typeof n.customClass=="object"&&gt(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},_j=t=>{const e=ht();if(e)return qa(e,re[t]||re.input)},Wp=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:dw(e)||di(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},sn={};sn.text=sn.email=sn.password=sn.number=sn.tel=sn.url=sn.search=sn.date=sn["datetime-local"]=sn.time=sn.week=sn.month=(t,e)=>(Wp(t,e.inputValue),Zh(t,t,e),xw(t,e),t.type=e.input,t);sn.file=(t,e)=>(Zh(t,t,e),xw(t,e),t);sn.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return Wp(n,e.inputValue),n.type=e.input,Wp(i,e.inputValue),Zh(n,t,e),t};sn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Wi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Zh(t,t,e),t};sn.radio=t=>(t.textContent="",t);sn.checkbox=(t,e)=>{const n=Kg(ht(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return Wi(i,e.inputPlaceholder||e.inputLabel),n};sn.textarea=(t,e)=>{Wp(t,e.inputValue),xw(t,e),Zh(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(ht()).width),s=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>i?ht().style.width=`${a}px`:pl(ht(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const P7=(t,e)=>{const n=hw();n&&(yw(n),qi(n,e,"htmlContainer"),e.html?(bw(e.html,n),Pn(n,"block")):e.text?(n.textContent=e.text,Pn(n,"block")):ri(n),k7(t,e))},M7=(t,e)=>{const n=vj();n&&(yw(n),Qh(n,e.footer,"block"),e.footer&&bw(e.footer,n),qi(n,e,"footer"))},D7=(t,e)=>{const n=Dt.innerParams.get(t),i=Au();if(!i)return;if(n&&e.icon===n.icon){DA(i,e),MA(i,e);return}if(!e.icon&&!e.iconHtml){ri(i);return}if(e.icon&&Object.keys($p).indexOf(e.icon)===-1){Fl(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ri(i);return}Pn(i),DA(i,e),MA(i,e),gt(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ej)},MA=(t,e)=>{for(const[n,i]of Object.entries($p))e.icon!==n&&gs(t,i);gt(t,e.icon&&$p[e.icon]),V7(t,e),Ej(),qi(t,e,"icon")},Ej=()=>{const t=ht();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},O7=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,L7=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,DA=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=OA(e.iconHtml):e.icon==="success"?(i=O7,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=L7:e.icon&&(i=OA({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Wi(t,i)},V7=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])IA(t,n,"background-color",e.iconColor);IA(t,".swal2-success-ring","border-color",e.iconColor)}},OA=t=>`<div class="${re["icon-content"]}">${t}</div>`,z7=(t,e)=>{const n=yj();if(n){if(!e.imageUrl){ri(n);return}Pn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),pl(n,"width",e.imageWidth),pl(n,"height",e.imageHeight),n.className=re.image,qi(n,e,"image")}};let ww=!1,Tj=0,Aj=0,Sj=0,Cj=0;const U7=t=>{t.addEventListener("mousedown",Gp),document.body.addEventListener("mousemove",Kp),t.addEventListener("mouseup",Yp),t.addEventListener("touchstart",Gp),document.body.addEventListener("touchmove",Kp),t.addEventListener("touchend",Yp)},B7=t=>{t.removeEventListener("mousedown",Gp),document.body.removeEventListener("mousemove",Kp),t.removeEventListener("mouseup",Yp),t.removeEventListener("touchstart",Gp),document.body.removeEventListener("touchmove",Kp),t.removeEventListener("touchend",Yp)},Gp=t=>{const e=ht();if(t.target===e||Au().contains(t.target)){ww=!0;const n=kj(t);Tj=n.clientX,Aj=n.clientY,Sj=parseInt(e.style.insetInlineStart)||0,Cj=parseInt(e.style.insetBlockStart)||0,gt(e,"swal2-dragging")}},Kp=t=>{const e=ht();if(ww){let{clientX:n,clientY:i}=kj(t);e.style.insetInlineStart=`${Sj+(n-Tj)}px`,e.style.insetBlockStart=`${Cj+(i-Aj)}px`}},Yp=()=>{const t=ht();ww=!1,gs(t,"swal2-dragging")},kj=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},F7=(t,e)=>{const n=fi(),i=ht();if(!(!n||!i)){if(e.toast){pl(n,"width",e.width),i.style.width="100%";const s=Cu();s&&i.insertBefore(s,Au())}else pl(i,"width",e.width);pl(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),ri($g()),H7(i,e),e.draggable&&!e.toast?(gt(i,re.draggable),U7(i)):(gs(i,re.draggable),B7(i))}},H7=(t,e)=>{const n=e.showClass||{};t.className=`${re.popup} ${Ri(t)?n.popup:""}`,e.toast?(gt([document.documentElement,document.body],re["toast-shown"]),gt(t,re.toast)):gt(t,re.modal),qi(t,e,"popup"),typeof e.customClass=="string"&&gt(t,e.customClass),e.icon&&gt(t,re[`icon-${e.icon}`])},q7=(t,e)=>{const n=fw();if(!n)return;const{progressSteps:i,currentProgressStep:s}=e;if(!i||i.length===0||s===void 0){ri(n);return}Pn(n),n.textContent="",s>=i.length&&di("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((a,l)=>{const u=$7(a);if(n.appendChild(u),l===s&&gt(u,re["active-progress-step"]),l!==i.length-1){const h=W7(e);n.appendChild(h)}})},$7=t=>{const e=document.createElement("li");return gt(e,re["progress-step"]),Wi(e,t),e},W7=t=>{const e=document.createElement("li");return gt(e,re["progress-step-line"]),t.progressStepsDistance&&pl(e,"width",t.progressStepsDistance),e},G7=(t,e)=>{const n=gj();n&&(yw(n),Qh(n,e.title||e.titleText,"block"),e.title&&bw(e.title,n),e.titleText&&(n.innerText=e.titleText),qi(n,e,"title"))},Rj=(t,e)=>{F7(t,e),E7(t,e),q7(t,e),D7(t,e),z7(t,e),G7(t,e),_7(t,e),P7(t,e),b7(t,e),M7(t,e);const n=ht();typeof e.didRender=="function"&&n&&e.didRender(n),je.eventEmitter.emit("didRender",n)},K7=()=>Ri(ht()),Nj=()=>{var t;return(t=hr())===null||t===void 0?void 0:t.click()},Y7=()=>{var t;return(t=Hl())===null||t===void 0?void 0:t.click()},X7=()=>{var t;return(t=Su())===null||t===void 0?void 0:t.click()},ku=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),jj=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Q7=(t,e,n)=>{jj(t),e.toast||(t.keydownHandler=i=>J7(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:ht(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Eb=(t,e)=>{var n;const i=pw();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=ht())===null||n===void 0||n.focus()},Ij=["ArrowRight","ArrowDown"],Z7=["ArrowLeft","ArrowUp"],J7=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?eU(e,t):e.key==="Tab"?tU(e):[...Ij,...Z7].includes(e.key)?nU(e.key):e.key==="Escape"&&iU(e,t,n)))},eU=(t,e)=>{if(!qg(e.allowEnterKey))return;const n=Kg(ht(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Nj(),t.preventDefault()}},tU=t=>{const e=t.target,n=pw();let i=-1;for(let s=0;s<n.length;s++)if(e===n[s]){i=s;break}t.shiftKey?Eb(i,-1):Eb(i,1),t.stopPropagation(),t.preventDefault()},nU=t=>{const e=Xh(),n=hr(),i=Hl(),s=Su();if(!e||!n||!i||!s)return;const a=[n,i,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=Ij.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let h=0;h<e.children.length;h++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&Ri(u))break}u instanceof HTMLButtonElement&&u.focus()}},iU=(t,e,n)=>{qg(e.allowEscapeKey)&&(t.preventDefault(),n(ku.esc))};var uu={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const sU=()=>{const t=fi();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Pj=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Mj=typeof window<"u"&&!!window.GestureEvent,rU=()=>{if(Mj&&!Qr(document.body,re.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,gt(document.body,re.iosfix),aU()}},aU=()=>{const t=fi();if(!t)return;let e;t.ontouchstart=n=>{e=oU(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},oU=t=>{const e=t.target,n=fi(),i=hw();return!n||!i||lU(t)||cU(t)?!1:e===n||!PA(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(PA(i)&&i.contains(e))},lU=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",cU=t=>t.touches&&t.touches.length>1,uU=()=>{if(Qr(document.body,re.iosfix)){const t=parseInt(document.body.style.top,10);gs(document.body,re.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},dU=()=>{const t=document.createElement("div");t.className=re["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Xc=null;const hU=t=>{Xc===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Xc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Xc+dU()}px`)},fU=()=>{Xc!==null&&(document.body.style.paddingRight=`${Xc}px`,Xc=null)};function Dj(t,e,n,i){Gg()?LA(t,i):(Zz(n).then(()=>LA(t,i)),jj(je)),Mj?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),gw()&&(fU(),uU(),Pj()),mU()}function mU(){gs([document.documentElement,document.body],[re.shown,re["height-auto"],re["no-backdrop"],re["toast-shown"]])}function $a(t){t=gU(t);const e=uu.swalPromiseResolve.get(this),n=pU(this);this.isAwaitingPromise?t.isDismissed||(Jh(this),e(t)):n&&e(t)}const pU=t=>{const e=ht();if(!e)return!1;const n=Dt.innerParams.get(t);if(!n||Qr(e,n.hideClass.popup))return!1;gs(e,n.showClass.popup),gt(e,n.hideClass.popup);const i=fi();return gs(i,n.showClass.backdrop),gt(i,n.hideClass.backdrop),yU(t,e,n),!0};function Oj(t){const e=uu.swalPromiseReject.get(this);Jh(this),e&&e(t)}const Jh=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Dt.innerParams.get(t)||t._destroy())},gU=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),yU=(t,e,n)=>{var i;const s=fi(),a=wj(e);typeof n.willClose=="function"&&n.willClose(e),(i=je.eventEmitter)===null||i===void 0||i.emit("willClose",e),a?vU(t,e,s,n.returnFocus,n.didClose):Dj(t,s,n.returnFocus,n.didClose)},vU=(t,e,n,i,s)=>{je.swalCloseEventFinishedCallback=Dj.bind(null,t,n,i,s);const a=function(l){if(l.target===e){var u;(u=je.swalCloseEventFinishedCallback)===null||u===void 0||u.call(je),delete je.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},LA=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=je.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},du=t=>{let e=ht();if(e||new we,e=ht(),!e)return;const n=Cu();Gg()?ri(Au()):bU(e,t),Pn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},bU=(t,e)=>{const n=Xh(),i=Cu();!n||!i||(!e&&Ri(hr())&&(e=hr()),Pn(n),e&&(ri(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),gt([t,n],re.loading))},xU=(t,e)=>{e.input==="select"||e.input==="radio"?AU(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(uw(e.inputValue)||dw(e.inputValue))&&(du(hr()),SU(t,e))},wU=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return _U(n);case"radio":return EU(n);case"file":return TU(n);default:return e.inputAutoTrim?n.value.trim():n.value}},_U=t=>t.checked?1:0,EU=t=>t.checked?t.value:null,TU=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,AU=(t,e)=>{const n=ht();if(!n)return;const i=s=>{e.input==="select"?CU(n,Xp(s),e):e.input==="radio"&&kU(n,Xp(s),e)};uw(e.inputOptions)||dw(e.inputOptions)?(du(hr()),Kh(e.inputOptions).then(s=>{t.hideLoading(),i(s)})):typeof e.inputOptions=="object"?i(e.inputOptions):Fl(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},SU=(t,e)=>{const n=t.getInput();n&&(ri(n),Kh(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Pn(n),n.focus(),t.hideLoading()}).catch(i=>{Fl(`Error in inputValue promise: ${i}`),n.value="",Pn(n),n.focus(),t.hideLoading()}))};function CU(t,e,n){const i=qa(t,re.select);if(!i)return;const s=(a,l,u)=>{const h=document.createElement("option");h.value=u,Wi(h,l),h.selected=Lj(u,n.inputValue),a.appendChild(h)};e.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const h=document.createElement("optgroup");h.label=l,h.disabled=!1,i.appendChild(h),u.forEach(m=>s(h,m[1],m[0]))}else s(i,u,l)}),i.focus()}function kU(t,e,n){const i=qa(t,re.radio);if(!i)return;e.forEach(a=>{const l=a[0],u=a[1],h=document.createElement("input"),m=document.createElement("label");h.type="radio",h.name=re.radio,h.value=l,Lj(l,n.inputValue)&&(h.checked=!0);const p=document.createElement("span");Wi(p,u),p.className=re.label,m.appendChild(h),m.appendChild(p),i.appendChild(m)});const s=i.querySelectorAll("input");s.length&&s[0].focus()}const Xp=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let s=n;typeof s=="object"&&(s=Xp(s)),e.push([i,s])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=Xp(i)),e.push([n,i])}),e},Lj=(t,e)=>!!e&&e.toString()===t.toString(),RU=t=>{const e=Dt.innerParams.get(t);t.disableButtons(),e.input?Vj(t,"confirm"):Ew(t,!0)},NU=t=>{const e=Dt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Vj(t,"deny"):_w(t,!1)},jU=(t,e)=>{t.disableButtons(),e(ku.cancel)},Vj=(t,e)=>{const n=Dt.innerParams.get(t);if(!n.input){Fl(`The "input" parameter is needed to be set when using returnInputValueOn${cw(e)}`);return}const i=t.getInput(),s=wU(t,n);n.inputValidator?IU(t,s,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?_w(t,s):Ew(t,s)},IU=(t,e,n)=>{const i=Dt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Kh(i.inputValidator(e,i.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?_w(t,e):Ew(t,e)})},_w=(t,e)=>{const n=Dt.innerParams.get(t||void 0);n.showLoaderOnDeny&&du(Hl()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Kh(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),Jh(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>zj(t||void 0,s))):t.close({isDenied:!0,value:e})},VA=(t,e)=>{t.close({isConfirmed:!0,value:e})},zj=(t,e)=>{t.rejectPromise(e)},Ew=(t,e)=>{const n=Dt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&du(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Kh(n.preConfirm(e,n.validationMessage))).then(s=>{Ri($g())||s===!1?(t.hideLoading(),Jh(t)):VA(t,typeof s>"u"?e:s)}).catch(s=>zj(t||void 0,s))):VA(t,e)};function Qp(){const t=Dt.innerParams.get(this);if(!t)return;const e=Dt.domCache.get(this);ri(e.loader),Gg()?t.icon&&Pn(Au()):PU(e),gs([e.popup,e.actions],re.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const PU=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Pn(e[0],"inline-block"):o7()&&ri(t.actions)};function Uj(){const t=Dt.innerParams.get(this),e=Dt.domCache.get(this);return e?Kg(e.popup,t.input):null}function Bj(t,e,n){const i=Dt.domCache.get(t);e.forEach(s=>{i[s].disabled=n})}function Fj(t,e){const n=ht();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${re.radio}"]`);for(let s=0;s<i.length;s++)i[s].disabled=e}else t.disabled=e}function Hj(){Bj(this,["confirmButton","denyButton","cancelButton"],!1)}function qj(){Bj(this,["confirmButton","denyButton","cancelButton"],!0)}function $j(){Fj(this.getInput(),!1)}function Wj(){Fj(this.getInput(),!0)}function Gj(t){const e=Dt.domCache.get(this),n=Dt.innerParams.get(this);Wi(e.validationMessage,t),e.validationMessage.className=re["validation-message"],n.customClass&&n.customClass.validationMessage&&gt(e.validationMessage,n.customClass.validationMessage),Pn(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",re["validation-message"]),bj(i),gt(i,re.inputerror))}function Kj(){const t=Dt.domCache.get(this);t.validationMessage&&ri(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),gs(e,re.inputerror))}const Qc={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},MU=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],DU={allowEnterKey:void 0},OU=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Yj=t=>Object.prototype.hasOwnProperty.call(Qc,t),Xj=t=>MU.indexOf(t)!==-1,Qj=t=>DU[t],LU=t=>{Yj(t)||di(`Unknown parameter "${t}"`)},VU=t=>{OU.includes(t)&&di(`The parameter "${t}" is incompatible with toasts`)},zU=t=>{const e=Qj(t);e&&pj(t,e)},Zj=t=>{t.backdrop===!1&&t.allowOutsideClick&&di('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe"].includes(t.theme)&&di(`Invalid theme "${t.theme}". Expected "light", "dark", "auto", "minimal", "borderless", or "embed-iframe"`);for(const e in t)LU(e),t.toast&&VU(e),zU(e)};function Jj(t){const e=fi(),n=ht(),i=Dt.innerParams.get(this);if(!n||Qr(n,i.hideClass.popup)){di("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=UU(t),a=Object.assign({},i,s);Zj(a),e.dataset.swal2Theme=a.theme,Rj(this,a),Dt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const UU=t=>{const e={};return Object.keys(t).forEach(n=>{Xj(n)?e[n]=t[n]:di(`Invalid parameter to update: ${n}`)}),e};function eI(){const t=Dt.domCache.get(this),e=Dt.innerParams.get(this);if(!e){tI(this);return}t.popup&&je.swalCloseEventFinishedCallback&&(je.swalCloseEventFinishedCallback(),delete je.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),je.eventEmitter.emit("didDestroy"),BU(this)}const BU=t=>{tI(t),delete t.params,delete je.keydownHandler,delete je.keydownTarget,delete je.currentInstance},tI=t=>{t.isAwaitingPromise?(wv(Dt,t),t.isAwaitingPromise=!0):(wv(uu,t),wv(Dt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},wv=(t,e)=>{for(const n in t)t[n].delete(e)};var FU=Object.freeze({__proto__:null,_destroy:eI,close:$a,closeModal:$a,closePopup:$a,closeToast:$a,disableButtons:qj,disableInput:Wj,disableLoading:Qp,enableButtons:Hj,enableInput:$j,getInput:Uj,handleAwaitingPromise:Jh,hideLoading:Qp,rejectPromise:Oj,resetValidationMessage:Kj,showValidationMessage:Gj,update:Jj});const HU=(t,e,n)=>{t.toast?qU(t,e,n):(WU(e),GU(e),KU(t,e,n))},qU=(t,e,n)=>{e.popup.onclick=()=>{t&&($U(t)||t.timer||t.input)||n(ku.close)}},$U=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Zp=!1;const WU=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Zp=!0)}}},GU=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Zp=!0)}}},KU=(t,e,n)=>{e.container.onclick=i=>{if(Zp){Zp=!1;return}i.target===e.container&&qg(t.allowOutsideClick)&&n(ku.backdrop)}},YU=t=>typeof t=="object"&&t.jquery,zA=t=>t instanceof Element||YU(t),XU=t=>{const e={};return typeof t[0]=="object"&&!zA(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const s=t[i];typeof s=="string"||zA(s)?e[n]=s:s!==void 0&&Fl(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function QU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function ZU(t){class e extends this{_main(i,s){return super._main(i,Object.assign({},t,s))}}return e}const JU=()=>je.timeout&&je.timeout.getTimerLeft(),nI=()=>{if(je.timeout)return l7(),je.timeout.stop()},iI=()=>{if(je.timeout){const t=je.timeout.start();return vw(t),t}},eB=()=>{const t=je.timeout;return t&&(t.running?nI():iI())},tB=t=>{if(je.timeout){const e=je.timeout.increase(t);return vw(e,!0),e}},nB=()=>!!(je.timeout&&je.timeout.isRunning());let UA=!1;const Tb={};function iB(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Tb[t]=this,UA||(document.body.addEventListener("click",sB),UA=!0)}const sB=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Tb){const i=e.getAttribute(n);if(i){Tb[n].fire({template:i});return}}};class rB{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){var i=this;const s=function(){i.removeListener(e,s);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n.apply(i,l)};this.on(e,s)}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(a=>{try{a.apply(this,i)}catch(l){console.error(l)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),s=i.indexOf(n);s>-1&&i.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}je.eventEmitter=new rB;const aB=(t,e)=>{je.eventEmitter.on(t,e)},oB=(t,e)=>{je.eventEmitter.once(t,e)},lB=(t,e)=>{if(!t){je.eventEmitter.reset();return}e?je.eventEmitter.removeListener(t,e):je.eventEmitter.removeAllListeners(t)};var cB=Object.freeze({__proto__:null,argsToParams:XU,bindClickHandler:iB,clickCancel:X7,clickConfirm:Nj,clickDeny:Y7,enableLoading:du,fire:QU,getActions:Xh,getCancelButton:Su,getCloseButton:mw,getConfirmButton:hr,getContainer:fi,getDenyButton:Hl,getFocusableElements:pw,getFooter:vj,getHtmlContainer:hw,getIcon:Au,getIconContent:n7,getImage:yj,getInputLabel:i7,getLoader:Cu,getPopup:ht,getProgressSteps:fw,getTimerLeft:JU,getTimerProgressBar:Wg,getTitle:gj,getValidationMessage:$g,increaseTimer:tB,isDeprecatedParameter:Qj,isLoading:r7,isTimerRunning:nB,isUpdatableParameter:Xj,isValidParameter:Yj,isVisible:K7,mixin:ZU,off:lB,on:aB,once:oB,resumeTimer:iI,showLoading:du,stopTimer:nI,toggleTimer:eB});class uB{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const sI=["swal-title","swal-html","swal-footer"],dB=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return bB(n),Object.assign(hB(n),fB(n),mB(n),pB(n),gB(n),yB(n),vB(n,sI))},hB=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Cl(i,["name","value"]);const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(typeof Qc[s]=="boolean"?e[s]=a!=="false":typeof Qc[s]=="object"?e[s]=JSON.parse(a):e[s]=a)}),e},fB=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(e[s]=new Function(`return ${a}`)())}),e},mB=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Cl(i,["type","color","aria-label"]);const s=i.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=i.innerHTML,e[`show${cw(s)}Button`]=!0,i.hasAttribute("color")&&(e[`${s}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},pB=t=>{const e={},n=t.querySelector("swal-image");return n&&(Cl(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},gB=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Cl(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},yB=t=>{const e={},n=t.querySelector("swal-input");n&&(Cl(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(s=>{Cl(s,["value"]);const a=s.getAttribute("value");if(!a)return;const l=s.innerHTML;e.inputOptions[a]=l})),e},vB=(t,e)=>{const n={};for(const i in e){const s=e[i],a=t.querySelector(s);a&&(Cl(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},bB=t=>{const e=sI.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||di(`Unrecognized element <${i}>`)})},Cl=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&di([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},rI=10,xB=t=>{const e=fi(),n=ht();typeof t.willOpen=="function"&&t.willOpen(n),je.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;EB(e,n,t),setTimeout(()=>{wB(e,n)},rI),gw()&&(_B(e,t.scrollbarPadding,s),sU()),!Gg()&&!je.previousActiveElement&&(je.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),je.eventEmitter.emit("didOpen",n),gs(e,re["no-transition"])},Jp=t=>{const e=ht();if(t.target!==e)return;const n=fi();e.removeEventListener("animationend",Jp),e.removeEventListener("transitionend",Jp),n.style.overflowY="auto"},wB=(t,e)=>{wj(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Jp),e.addEventListener("transitionend",Jp)):t.style.overflowY="auto"},_B=(t,e,n)=>{rU(),e&&n!=="hidden"&&hU(n),setTimeout(()=>{t.scrollTop=0})},EB=(t,e,n)=>{gt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Pn(e,"grid"),setTimeout(()=>{gt(e,n.showClass.popup),e.style.removeProperty("opacity")},rI)):Pn(e,"grid"),gt([document.documentElement,document.body],re.shown),n.heightAuto&&n.backdrop&&!n.toast&&gt([document.documentElement,document.body],re["height-auto"])};var BA={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function TB(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=BA.email),t.input==="url"&&(t.inputValidator=BA.url))}function AB(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(di('Target parameter is not valid, defaulting to "body"'),t.target="body")}function SB(t){TB(t),t.showLoaderOnConfirm&&!t.preConfirm&&di(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),AB(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),g7(t)}let er;var Rm=new WeakMap;class on{constructor(){if(Kz(this,Rm,void 0),typeof window>"u")return;er=this;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const s=Object.freeze(this.constructor.argsToParams(n));this.params=s,this.isAwaitingPromise=!1,Yz(Rm,this,this._main(er.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Zj(Object.assign({},n,e)),je.currentInstance){const a=uu.swalPromiseResolve.get(je.currentInstance),{isAwaitingPromise:l}=je.currentInstance;je.currentInstance._destroy(),l||a({isDismissed:!0}),gw()&&Pj()}je.currentInstance=er;const i=kB(e,n);SB(i),Object.freeze(i),je.timeout&&(je.timeout.stop(),delete je.timeout),clearTimeout(je.restoreFocusTimeout);const s=RB(er);return Rj(er,i),Dt.innerParams.set(er,i),CB(er,s,i)}then(e){return NA(Rm,this).then(e)}finally(e){return NA(Rm,this).finally(e)}}const CB=(t,e,n)=>new Promise((i,s)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};uu.swalPromiseResolve.set(t,i),uu.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{RU(t)},e.denyButton.onclick=()=>{NU(t)},e.cancelButton.onclick=()=>{jU(t,a)},e.closeButton.onclick=()=>{a(ku.close)},HU(n,e,a),Q7(je,n,a),xU(t,n),xB(n),NB(je,n,a),jB(e,n),setTimeout(()=>{e.container.scrollTop=0})}),kB=(t,e)=>{const n=dB(t),i=Object.assign({},Qc,e,n,t);return i.showClass=Object.assign({},Qc.showClass,i.showClass),i.hideClass=Object.assign({},Qc.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},RB=t=>{const e={popup:ht(),container:fi(),actions:Xh(),confirmButton:hr(),denyButton:Hl(),cancelButton:Su(),loader:Cu(),closeButton:mw(),validationMessage:$g(),progressSteps:fw()};return Dt.domCache.set(t,e),e},NB=(t,e,n)=>{const i=Wg();ri(i),e.timer&&(t.timeout=new uB(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Pn(i),qi(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&vw(e.timer)})))},jB=(t,e)=>{if(!e.toast){if(!qg(e.allowEnterKey)){pj("allowEnterKey"),MB();return}IB(t)||PB(t,e)||Eb(-1,1)}},IB=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Ri(n))return n.focus(),!0;return!1},PB=(t,e)=>e.focusDeny&&Ri(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ri(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Ri(t.confirmButton)?(t.confirmButton.focus(),!0):!1,MB=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}on.prototype.disableButtons=qj;on.prototype.enableButtons=Hj;on.prototype.getInput=Uj;on.prototype.disableInput=Wj;on.prototype.enableInput=$j;on.prototype.hideLoading=Qp;on.prototype.disableLoading=Qp;on.prototype.showValidationMessage=Gj;on.prototype.resetValidationMessage=Kj;on.prototype.close=$a;on.prototype.closePopup=$a;on.prototype.closeModal=$a;on.prototype.closeToast=$a;on.prototype.rejectPromise=Oj;on.prototype.update=Jj;on.prototype._destroy=eI;Object.assign(on,cB);Object.keys(FU).forEach(t=>{on[t]=function(){return er&&er[t]?er[t](...arguments):null}});on.DismissReason=ku;on.version="11.21.0";const we=on;we.default=we;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.1s, box-shadow 0.1s;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.1s, box-shadow 0.1s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-button-darken-hover: rgba(0, 0, 0, 0.1);--swal2-button-darken-active: rgba(0, 0, 0, 0.2);--swal2-button-transition: box-shadow 0.1s;--swal2-confirm-button-border: 0;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-deny-button-border: 0;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-cancel-button-border: 0;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(var(--swal2-button-darken-hover), var(--swal2-button-darken-hover))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(var(--swal2-button-darken-active), var(--swal2-button-darken-active))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-button-transition);box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:var(--swal2-confirm-button-border);border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:var(--swal2-deny-button-border);border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:var(--swal2-cancel-button-border);border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-outline)}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:1px solid #d9d9d9;border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function DB({onAddressSelect:t,selectedAddress:e}){const[n,i]=I.useState([]),[s,a]=I.useState(!1),[l,u]=I.useState(null),[h,m]=I.useState(!0),[p,v]=I.useState({name:"",street:"",city:"",state:"",zipCode:"",country:"",phone:"",isDefault:!1});I.useEffect(()=>{const V=fo(bn,$=>{u($),$||(i([]),m(!1))});return()=>V()},[]),I.useEffect(()=>{if(l){const V=Xr(et(Me,"addresses",l.uid),$=>{$.exists()?i($.data().addresses||[]):i([]),m(!1)},$=>{console.error("Error fetching addresses:",$),m(!1)});return()=>V()}},[l]);const x=V=>{const{name:$,value:q,type:J,checked:z}=V.target;v(k=>({...k,[$]:J==="checkbox"?z:q}))},_=()=>{const{name:V,street:$,city:q,state:J,zipCode:z,country:k,phone:P}=p;return!V||!$||!q||!J||!z||!k||!P?(we.fire("Error","All fields are required","error"),!1):!0},E=async()=>{if(_())try{const V={...p,id:Date.now().toString(),createdAt:new Date};let $=[...n,V];p.isDefault&&($=$.map(q=>q.id===V.id?q:{...q,isDefault:!1})),n.length===0&&(V.isDefault=!0),await ar(et(Me,"addresses",l.uid),{addresses:$}),we.fire("Success","Address saved successfully","success"),a(!1),N()}catch(V){console.error("Error saving address:",V),we.fire("Error","Failed to save address","error")}},C=async V=>{try{if((await we.fire({title:"Are you sure?",text:"This action cannot be undone",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){const q=n.filter(J=>J.id!==V);await ar(et(Me,"addresses",l.uid),{addresses:q}),we.fire("Deleted","Address has been deleted","success")}}catch($){console.error("Error deleting address:",$),we.fire("Error","Failed to delete address","error")}},S=async V=>{try{const $=n.map(q=>({...q,isDefault:q.id===V}));await ar(et(Me,"addresses",l.uid),{addresses:$}),we.fire("Success","Default address updated","success")}catch($){console.error("Error updating default address:",$),we.fire("Error","Failed to update default address","error")}},N=()=>{v({name:"",street:"",city:"",state:"",zipCode:"",country:"",phone:"",isDefault:!1})},U=V=>`${V.name} - ${V.street}, ${V.city}, ${V.state} ${V.zipCode}, ${V.country}`;return h?d.jsx("div",{children:"Loading addresses..."}):d.jsxs("div",{className:"address-selector",children:[d.jsx("div",{className:"address-header",children:d.jsxs("button",{className:"address-btn",onClick:()=>a(!0),children:[d.jsx("span",{children:e?U(e):"Select Address"}),d.jsx("i",{className:"fas fa-chevron-down"})]})}),s&&d.jsx("div",{className:"address-modal",children:d.jsxs("div",{className:"address-modal-content",children:[d.jsxs("div",{className:"address-modal-header",children:[d.jsx("h3",{children:"Manage Addresses"}),d.jsx("button",{className:"close-btn",onClick:()=>a(!1),children:""})]}),d.jsxs("div",{className:"address-modal-body",children:[d.jsxs("div",{className:"existing-addresses",children:[d.jsx("h4",{children:"Your Addresses"}),n.length===0?d.jsx("p",{children:"No addresses saved yet"}):d.jsx("div",{className:"address-list",children:n.map(V=>d.jsx("div",{className:`address-item ${V.isDefault?"default":""} ${(e==null?void 0:e.id)===V.id?"selected":""}`,children:d.jsxs("div",{className:"address-content",children:[d.jsxs("div",{className:"address-text",children:[d.jsx("strong",{children:V.name}),d.jsx("br",{}),V.street,d.jsx("br",{}),V.city,", ",V.state," ",V.zipCode,d.jsx("br",{}),V.country,d.jsx("br",{}),"Phone: ",V.phone,V.isDefault&&d.jsx("span",{className:"default-badge",children:"Default"})]}),d.jsxs("div",{className:"address-actions",children:[d.jsx("button",{className:"select-btn",onClick:()=>{t(V),a(!1)},children:"Select"}),!V.isDefault&&d.jsx("button",{className:"default-btn",onClick:()=>S(V.id),children:"Set Default"}),d.jsx("button",{className:"delete-btn",onClick:()=>C(V.id),children:"Delete"})]})]})},V.id))})]}),d.jsxs("div",{className:"add-address-form",children:[d.jsx("h4",{children:"Add New Address"}),d.jsxs("div",{className:"form-grid",children:[d.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:p.name,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:p.phone,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"street",placeholder:"Street Address",value:p.street,onChange:x,className:"form-input full-width"}),d.jsx("input",{type:"text",name:"city",placeholder:"City",value:p.city,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"state",placeholder:"State/Province",value:p.state,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"zipCode",placeholder:"ZIP/Postal Code",value:p.zipCode,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"country",placeholder:"Country",value:p.country,onChange:x,className:"form-input"})]}),d.jsx("div",{className:"checkbox-container",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",name:"isDefault",checked:p.isDefault,onChange:x}),"Set as default address"]})}),d.jsx("button",{className:"save-address-btn",onClick:E,children:"Save Address"})]})]})]})}),d.jsx("style",{children:`
        .address-selector {
          position: relative;
        }

        .address-btn {
          width: 100%;
          padding: 12px 16px;
          background: #374151;
          border: 1px solid #6b7280;
          border-radius: 8px;
          color: white;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          font-size: 14px;
        }

        .address-btn:hover {
          background: #4b5563;
        }

        .address-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .address-modal-content {
          background: white;
          border-radius: 12px;
          width: 90%;
          max-width: 600px;
          max-height: 80vh;
          overflow-y: auto;
        }

        .address-modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          border-bottom: 1px solid #e5e7eb;
        }

        .address-modal-header h3 {
          margin: 0;
          font-size: 1.25rem;
          font-weight: 600;
        }

        .close-btn {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
        }

        .close-btn:hover {
          color: #374151;
        }

        .address-modal-body {
          padding: 20px;
        }

        .existing-addresses {
          margin-bottom: 30px;
        }

        .existing-addresses h4 {
          margin-bottom: 15px;
          font-size: 1.1rem;
          font-weight: 600;
        }

        .address-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .address-item {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 15px;
          position: relative;
        }

        .address-item.default {
          border-color: #16a34a;
          background: #f0fdf4;
        }

        .address-item.selected {
          border-color: #ea580c;
          background: #fff7ed;
        }

        .address-content {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 15px;
        }

        .address-text {
          flex: 1;
          font-size: 14px;
          line-height: 1.5;
        }

        .default-badge {
          display: inline-block;
          background: #16a34a;
          color: white;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 12px;
          margin-left: 10px;
        }

        .address-actions {
          display: flex;
          gap: 8px;
          flex-direction: column;
        }

        .select-btn, .default-btn, .delete-btn {
          padding: 6px 12px;
          border: none;
          border-radius: 4px;
          font-size: 12px;
          cursor: pointer;
          white-space: nowrap;
        }

        .select-btn {
          background: #ea580c;
          color: white;
        }

        .default-btn {
          background: #16a34a;
          color: white;
        }

        .delete-btn {
          background: #dc2626;
          color: white;
        }

        .add-address-form h4 {
          margin-bottom: 15px;
          font-size: 1.1rem;
          font-weight: 600;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
          margin-bottom: 15px;
        }

        .form-input {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
        }

        .form-input.full-width {
          grid-column: 1 / -1;
        }

        .form-input:focus {
          outline: none;
          border-color: #ea580c;
        }

        .checkbox-container {
          margin-bottom: 15px;
        }

        .checkbox-container label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
        }

        .save-address-btn {
          background: #16a34a;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
        }

        .save-address-btn:hover {
          background: #15803d;
        }

        @media (max-width: 768px) {
          .form-grid {
            grid-template-columns: 1fr;
          }

          .address-content {
            flex-direction: column;
            gap: 10px;
          }

          .address-actions {
            flex-direction: row;
            justify-content: flex-start;
          }
        }
      `})]})}function OB(){const{user:t,products:e,featuredProducts:n,fetchProducts:i,isLoadingProducts:s}=go(),{agregarAlCarrito:a,agregarAFavoritos:l,quitarDeFavoritos:u,estaEnFavoritos:h}=Pl();I.useEffect(()=>{e.length===0&&!s&&(console.log("Cargando productos en Home..."),i())},[i,e.length,s]);const m=p=>{h(p.id)?u(p.id):l(p)};return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsxs("div",{className:"hero-section",children:[d.jsxs("div",{className:"text-content",children:[d.jsx("h1",{className:"title",children:"Descubre Nuestra Coleccin Exclusiva"}),d.jsx("p",{className:"description",children:"Explora nuestra seleccin de productos de alta calidad con los mejores precios del mercado. Envos rpidos y seguros a todo el pas."}),d.jsxs("div",{className:"button-group",children:[d.jsx(at,{to:"/productos",style:{textDecoration:"none"},children:d.jsx(Et,{variant:"primary",size:"lg",children:"Ver Catlogo"})}),d.jsx(at,{to:"/contacto",style:{textDecoration:"none"},children:d.jsx(Et,{variant:"outline",size:"lg",children:"Contactar"})})]})]}),d.jsxs("div",{className:"image-container",children:[d.jsx(cu,{src:"https://images.pexels.com/photos/5632381/pexels-photo-5632381.jpeg?auto=compress&cs=tinysrgb&h=400",alt:"Productos destacados",className:"main-image"}),d.jsxs("div",{className:"color-analysis-card",children:[d.jsxs("div",{className:"color-dot-container",children:[d.jsx("span",{className:"color-dot",style:{backgroundColor:"#16a34a"}}),d.jsx("span",{className:"color-dot",style:{backgroundColor:"#22c55e"}}),d.jsx("span",{className:"color-dot",style:{backgroundColor:"#4ade80"}}),d.jsx("span",{className:"color-dot",style:{backgroundColor:"#86efac"}})]}),d.jsx("p",{style:{margin:0,fontSize:"12px",textAlign:"center"},children:"Colores de temporada"})]})]})]}),t?d.jsxs("div",{className:"products-section",children:[d.jsx("h2",{className:"section-title",children:"Productos Destacados"}),d.jsx("div",{className:"productos-grid",children:s?Array(4).fill(0).map((p,v)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-button"})]},`skeleton-featured-${v}`)):n.length>0?n.map(p=>d.jsx(dj,{producto:p,agregarAlCarrito:()=>a(p),toggleFavorito:()=>m(p),favoritos:h(p.id)?[p]:[]},p.id)):d.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:d.jsx("p",{children:"No se encontraron productos destacados."})})}),d.jsx("div",{className:"view-all-container",children:d.jsx(at,{to:"/productos",className:"view-all-link",children:"Ver todos los productos"})})]}):d.jsx("div",{className:"login-prompt-section",children:d.jsxs("div",{className:"login-prompt-card",children:[d.jsx("i",{className:"fas fa-lock lock-icon"}),d.jsx("h2",{className:"login-prompt-title",children:"Acceso Exclusivo"}),d.jsx("p",{className:"login-prompt-text",children:"Inicia sesin para descubrir nuestro catlogo completo de productos exclusivos con los mejores precios del mercado."}),d.jsxs("div",{className:"login-buttons-container",children:[d.jsx(at,{to:"/login",style:{textDecoration:"none"},children:d.jsx(Et,{variant:"primary",size:"md",children:"Iniciar Sesin"})}),d.jsx(at,{to:"/register",style:{textDecoration:"none"},children:d.jsx(Et,{variant:"outline",size:"md",children:"Registrarse"})})]})]})}),d.jsx("div",{className:"stats-container",children:[{icon:"",label:"Envo Gratis",value:"Pedidos +$150.000"},{icon:"",label:"Calificacin Promedio",value:"4.8/5"},{icon:"",label:"Pago Seguro",value:"100%"},{icon:"",label:"Garanta de Devolucin",value:"30 das"}].map((p,v)=>d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{style:{fontSize:"30px"},children:p.icon}),d.jsx("h3",{style:{color:"#16a34a"},children:p.value}),d.jsx("p",{children:p.label})]},v))}),d.jsxs("div",{className:"categories-section",children:[d.jsx("h2",{className:"section-title",children:"Explora Nuestras Categoras"}),d.jsx("div",{className:"categories-grid",children:[{name:"Electrnicos",icon:"",color:"#e0f2fe"},{name:"Moda",icon:"",color:"#fef3c7"},{name:"Hogar",icon:"",color:"#dcfce7"},{name:"Belleza",icon:"",color:"#fce7f3"},{name:"Deportes",icon:"",color:"#dbeafe"},{name:"Juguetes",icon:"",color:"#f3e8ff"}].map((p,v)=>d.jsx(at,{to:"/productos",style:{textDecoration:"none"},children:d.jsxs("div",{className:"category-card",style:{backgroundColor:p.color},children:[d.jsx("div",{className:"category-icon",children:p.icon}),d.jsx("h3",{className:"category-name",children:p.name})]})},v))})]}),d.jsx("div",{className:"about-section",children:d.jsxs("div",{className:"about-content",children:[d.jsxs("div",{className:"about-text",children:[d.jsx("h2",{className:"section-title about-title",children:"Sobre Nosotros"}),d.jsxs("p",{className:"about-paragraph",children:["En ",d.jsx("strong",{style:{color:"#16a34a"},children:"Moitos"}),", nos dedicamos a ofrecer productos de la ms alta calidad que mejoran tu vida cotidiana."]}),d.jsx("p",{className:"about-paragraph",children:"Fundada en 2020, nuestra tienda ha crecido hasta convertirse en un referente de innovacin y excelencia en el mercado colombiano."}),d.jsx("p",{className:"about-paragraph",children:"Nuestro equipo trabaja incansablemente para seleccionar los mejores productos y garantizar una experiencia de compra excepcional."}),d.jsx(at,{to:"/nosotros",style:{textDecoration:"none"},children:d.jsx(Et,{variant:"outline",size:"md",children:"Conoce Nuestra Historia"})})]}),d.jsx("div",{className:"about-image-container",children:d.jsx(cu,{src:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&h=400",alt:"Nuestro equipo",className:"about-image"})})]})}),d.jsxs("div",{className:"testimonials-section",children:[d.jsx("h2",{className:"section-title",children:"Lo Que Dicen Nuestros Clientes"}),d.jsx("div",{className:"testimonials-grid",children:[{name:"Mara Gonzlez",role:"Cliente Frecuente",image:"https://randomuser.me/api/portraits/women/44.jpg",text:"Los productos son de excelente calidad y el servicio al cliente es excepcional. Totalmente recomendado!",rating:5},{name:"Carlos Rodrguez",role:"Comprador Nuevo",image:"https://randomuser.me/api/portraits/men/32.jpg",text:"Me encant la rapidez del envo y la calidad del producto. Definitivamente volver a comprar.",rating:4},{name:"Laura Martnez",role:"Cliente Habitual",image:"https://randomuser.me/api/portraits/women/68.jpg",text:"Siempre encuentro lo que necesito a precios muy competitivos. El servicio post-venta es inmejorable.",rating:5}].map((p,v)=>d.jsxs("div",{className:"testimonial-card",children:[d.jsxs("div",{className:"testimonial-header",children:[d.jsx("img",{src:p.image,alt:p.name,className:"testimonial-image"}),d.jsxs("div",{children:[d.jsx("h4",{className:"testimonial-name",children:p.name}),d.jsx("p",{className:"testimonial-role",children:p.role})]})]}),d.jsxs("p",{className:"testimonial-text",children:['"',p.text,'"']}),d.jsx("div",{className:"testimonial-rating",children:d.jsx(_b,{rating:p.rating,maxStars:5})})]},v))})]}),d.jsxs("div",{className:"blog-section",children:[d.jsx("h2",{className:"section-title",children:"ltimas Publicaciones"}),d.jsx("div",{className:"blog-grid",children:[{title:"Cmo elegir el producto perfecto para tus necesidades",excerpt:"Descubre los factores clave que debes considerar antes de realizar tu prxima compra...",image:"https://images.pexels.com/photos/1181605/pexels-photo-1181605.jpeg?auto=compress&cs=tinysrgb&h=200",date:"15 Jun 2023"},{title:"Tendencias de este ao que no te puedes perder",excerpt:"Las ltimas innovaciones y diseos que estn revolucionando el mercado...",image:"https://images.pexels.com/photos/196655/pexels-photo-196655.jpeg?auto=compress&cs=tinysrgb&h=200",date:"2 Jul 2023"},{title:"Gua de mantenimiento para prolongar la vida de tus productos",excerpt:"Consejos prcticos para cuidar tus artculos y mantenerlos como nuevos por ms tiempo...",image:"https://images.pexels.com/photos/4195342/pexels-photo-4195342.jpeg?auto=compress&cs=tinysrgb&h=200",date:"28 Jul 2023"}].map((p,v)=>d.jsxs("div",{className:"blog-card",children:[d.jsxs("div",{className:"blog-image-container",children:[d.jsx("img",{src:p.image,alt:p.title,className:"blog-image"}),d.jsx("div",{className:"blog-date",children:p.date})]}),d.jsxs("div",{className:"blog-content",children:[d.jsx("h3",{className:"blog-title",children:p.title}),d.jsx("p",{className:"blog-excerpt",children:p.excerpt}),d.jsx(at,{to:"/blog",className:"blog-read-more",children:"Leer ms "})]})]},v))}),d.jsx("div",{className:"view-all-container",children:d.jsx(at,{to:"/blog",className:"view-all-link",children:"Ver todas las publicaciones"})})]}),d.jsx("div",{className:"contact-section",children:d.jsxs("div",{className:"contact-content",children:[d.jsxs("div",{className:"contact-info",children:[d.jsx("h2",{className:"section-title contact-title",children:"Contctanos"}),d.jsx("p",{className:"contact-text",children:"Estamos aqu para ayudarte. No dudes en ponerte en contacto con nosotros para cualquier consulta o sugerencia."}),d.jsxs("div",{className:"contact-method",children:[d.jsx("div",{className:"contact-icon",children:""}),d.jsxs("div",{children:[d.jsx("h4",{className:"contact-method-title",children:"Direccin"}),d.jsx("p",{className:"contact-method-text",children:"Calle Principal #123, Bogot, Colombia"})]})]}),d.jsxs("div",{className:"contact-method",children:[d.jsx("div",{className:"contact-icon",children:""}),d.jsxs("div",{children:[d.jsx("h4",{className:"contact-method-title",children:"Telfono"}),d.jsx("p",{className:"contact-method-text",children:"+57 123 456 7890"})]})]}),d.jsxs("div",{className:"contact-method",children:[d.jsx("div",{className:"contact-icon",children:""}),d.jsxs("div",{children:[d.jsx("h4",{className:"contact-method-title",children:"Email"}),d.jsx("p",{className:"contact-method-text",children:"info@monitos.com"})]})]}),d.jsxs("div",{className:"contact-social",children:[d.jsx("span",{className:"contact-social-icon",children:""}),d.jsx("span",{className:"contact-social-icon",children:""}),d.jsx("span",{className:"contact-social-icon",children:""}),d.jsx("span",{className:"contact-social-icon",children:""})]})]}),d.jsxs("div",{className:"contact-form",children:[d.jsx("h3",{className:"contact-form-title",children:"Envanos un mensaje"}),d.jsx("div",{className:"form-group",children:d.jsx("input",{type:"text",placeholder:"Nombre completo",className:"form-input"})}),d.jsx("div",{className:"form-group",children:d.jsx("input",{type:"email",placeholder:"Correo electrnico",className:"form-input"})}),d.jsx("div",{className:"form-group",children:d.jsx("input",{type:"text",placeholder:"Asunto",className:"form-input"})}),d.jsx("div",{className:"form-group",children:d.jsx("textarea",{placeholder:"Tu mensaje",className:"form-textarea"})}),d.jsx(Et,{variant:"primary",size:"md",children:"Enviar Mensaje"})]})]})}),d.jsx("div",{className:"newsletter-section",children:d.jsxs("div",{className:"newsletter-content",children:[d.jsx("h2",{className:"newsletter-title",children:"Suscrbete a Nuestro Newsletter"}),d.jsx("p",{className:"newsletter-text",children:"Recibe las ltimas novedades, ofertas exclusivas y consejos directamente en tu bandeja de entrada."}),d.jsxs("div",{className:"newsletter-form",children:[d.jsx("input",{type:"email",placeholder:"Tu correo electrnico",className:"newsletter-input"}),d.jsx(Et,{variant:"primary",size:"md",children:"Suscribirse"})]})]})}),d.jsx(ml,{}),d.jsx("style",{children:`
        .productos-grid { 
          display: grid; 
          grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
          gap: 18px; 
        }
        .skeleton-card {
          background-color: #fff;
          border-radius: 8px;
          padding: 16px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.05);
          display: flex;
          flex-direction: column;
          gap: 12px;
          height: 300px;
        }
        .skeleton-image {
          width: 100%;
          height: 150px;
          background-color: #f0f0f0;
          border-radius: 6px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-title {
          height: 24px;
          width: 80%;
          background-color: #f0f0f0;
          border-radius: 4px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-price {
          height: 18px;
          width: 40%;
          background-color: #f0f0f0;
          border-radius: 4px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-button {
          height: 36px;
          width: 100%;
          background-color: #f0f0f0;
          border-radius: 4px;
          margin-top: auto;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .no-products-message {
          grid-column: 1 / -1;
          text-align: center;
          padding: 40px 0;
          color: #666;
        }
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }
      `})]})}function LB(t){return hi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function FA(t){return hi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m2 22 14-5-9-9zM14.53 12.53l5.59-5.59a1.25 1.25 0 0 1 1.77 0l.59.59 1.06-1.06-.59-.59a2.758 2.758 0 0 0-3.89 0l-5.59 5.59 1.06 1.06zM10.06 6.88l-.59.59 1.06 1.06.59-.59a2.758 2.758 0 0 0 0-3.89l-.59-.59-1.06 1.07.59.59c.48.48.48 1.28 0 1.76zM17.06 11.88l-1.59 1.59 1.06 1.06 1.59-1.59a1.25 1.25 0 0 1 1.77 0l1.61 1.61 1.06-1.06-1.61-1.61a2.758 2.758 0 0 0-3.89 0zM15.06 5.88l-3.59 3.59 1.06 1.06 3.59-3.59a2.758 2.758 0 0 0 0-3.89l-1.59-1.59-1.06 1.06 1.59 1.59c.48.49.48 1.29 0 1.77z"},child:[]}]})(t)}function VB(t){return hi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function zB(t){return hi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"},child:[]}]})(t)}function UB(){const[t,e]=I.useState(null),n=[{id:1,title:"Moos de satn: Elegancia en cada detalle",summary:"Descubre por qu los moos de satn son perfectos para ocasiones especiales.",icon:d.jsx(vv,{size:80,color:"#ff6b6b"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Los moos de satn son una de las opciones ms elegantes para cualquier ocasin especial. Su brillo caracterstico y textura suave los convierten en el accesorio perfecto para eventos formales como bodas, graduaciones o fiestas de gala."}),d.jsx("p",{children:"En nuestra coleccin encontrars moos de satn en una amplia gama de colores, desde los clsicos negro y blanco hasta tonos pastel y vibrantes que aadirn un toque de color a cualquier conjunto."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#000000"},children:"Negro"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ffffff",color:"#333"},children:"Blanco"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ff6b6b"},children:"Coral"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#48dbfb"},children:"Azul cielo"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#1dd1a1"},children:"Menta"})]}),d.jsx("h3",{children:"Cmo cuidar tus moos de satn"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Gurdalos en un lugar seco y protegido del polvo"}),d.jsx("li",{children:"Evita el contacto con perfumes o productos qumicos"}),d.jsx("li",{children:"Si necesitas plancharlos, hazlo a baja temperatura"}),d.jsx("li",{children:"Para manchas leves, limpia con un pao hmedo y jabn neutro"}),d.jsx("li",{children:"Deja secar al aire libre, evitando la exposicin directa al sol"})]}),d.jsx("p",{children:"Sabas que el satn fue originalmente fabricado con seda pura? Hoy en da, nuestros moos de satn combinan fibras naturales y sintticas para ofrecer durabilidad sin sacrificar la elegancia."}),d.jsx("h3",{children:"Ocasiones perfectas para moos de satn"}),d.jsxs("div",{className:"occasion-icons",children:[d.jsxs("div",{className:"occasion-item",children:[d.jsx(Fz,{size:30}),d.jsx("span",{children:"Graduaciones"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(FA,{size:30}),d.jsx("span",{children:"Bodas"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(zz,{size:30}),d.jsx("span",{children:"Cumpleaos"})]})]})]})},{id:2,title:"Moos de organza: Ligereza y volumen",summary:"La organza es perfecta para crear moos voluminosos y llamativos.",icon:d.jsx(vv,{size:80,color:"#48dbfb"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"La organza es un tejido ligero y transparente que permite crear moos con mucho volumen y un aspecto etreo. Es ideal para decoraciones de eventos, regalos especiales o como complemento en peinados infantiles."}),d.jsx("p",{children:"Nuestros moos de organza estn disponibles en colores pastel, nen y multicolor, perfectos para aadir un toque de fantasa a cualquier ocasin."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ff9ff3"},children:"Rosa pastel"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#feca57"},children:"Amarillo"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#54a0ff"},children:"Azul"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ff6b6b"},children:"Coral"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#1dd1a1"},children:"Menta"})]}),d.jsx("h3",{children:"Ventajas de los moos de organza"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Mantienen su forma y volumen durante ms tiempo"}),d.jsx("li",{children:"Son ligeros y no aaden peso al cabello"}),d.jsx("li",{children:"Permiten crear diseos ms elaborados y fantasiosos"}),d.jsx("li",{children:"Disponibles en acabados brillantes o mate"}),d.jsx("li",{children:"Ideales para combinar con otros materiales"})]}),d.jsx("p",{children:"La organza es uno de los materiales ms verstiles para la creacin de moos, permitiendo desde diseos delicados hasta extravagantes creaciones multicolor."}),d.jsx("h3",{children:"Usos populares de moos de organza"}),d.jsxs("div",{className:"occasion-icons",children:[d.jsxs("div",{className:"occasion-item",children:[d.jsx(RA,{size:30}),d.jsx("span",{children:"Decoracin de regalos"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(Uz,{size:30}),d.jsx("span",{children:"Accesorios infantiles"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(uj,{size:30}),d.jsx("span",{children:"Decoracin de bodas"})]})]})]})},{id:3,title:"Moos de terciopelo: Lujo y calidez",summary:"El terciopelo aporta textura y sofisticacin a nuestros moos de temporada.",icon:d.jsx(vv,{size:80,color:"#8e44ad"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Los moos de terciopelo son sinnimo de lujo y calidez, perfectos para la temporada otoo-invierno. Su textura suave y aspecto aterciopelado los convierte en un accesorio sofisticado para cualquier ocasin."}),d.jsx("p",{children:"Nuestra coleccin de moos de terciopelo incluye tonos joya como burdeos, esmeralda y zafiro, as como clsicos como negro y azul marino que combinan con cualquier atuendo."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#8e44ad"},children:"Prpura"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#c0392b"},children:"Burdeos"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#27ae60"},children:"Esmeralda"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#2c3e50"},children:"Azul marino"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#000000"},children:"Negro"})]}),d.jsx("h3",{children:"Ocasiones ideales para moos de terciopelo"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Celebraciones navideas y de fin de ao"}),d.jsx("li",{children:"Eventos formales durante el invierno"}),d.jsx("li",{children:"Como complemento para peinados de fiesta"}),d.jsx("li",{children:"Ceremonias de premiacin y galas"}),d.jsx("li",{children:"Eventos de temporada otoo-invierno"})]}),d.jsx("p",{children:"El terciopelo es un material atemporal que nunca pasa de moda, por lo que un moo de terciopelo es una inversin que podrs utilizar durante muchas temporadas."}),d.jsx("h3",{children:"Combinaciones perfectas"}),d.jsx("p",{children:"Los moos de terciopelo combinan perfectamente con:"}),d.jsxs("div",{className:"occasion-icons",children:[d.jsxs("div",{className:"occasion-item",children:[d.jsx(qz,{size:30}),d.jsx("span",{children:"Vestidos de noche"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx($z,{size:30}),d.jsx("span",{children:"Eventos de gala"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(Hz,{size:30}),d.jsx("span",{children:"Atuendos monocromticos"})]})]})]})},{id:4,title:"Moos para ocasiones especiales: Gua completa",summary:"Aprende a elegir el moo perfecto segn la ocasin y tu estilo personal.",icon:d.jsx(FA,{size:80,color:"#ff6b6b"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Elegir el moo adecuado para cada ocasin puede marcar la diferencia en tu look. En esta gua te ofrecemos consejos para seleccionar el material, color y tamao perfectos segn el evento y tu estilo personal."}),d.jsx("h3",{children:"Bodas y eventos formales"}),d.jsx("p",{children:"Para bodas y eventos formales, recomendamos moos de satn o encaje en tonos que complementen tu atuendo. Los moos pequeos o medianos son ms elegantes y sofisticados."}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para eventos formales:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moos de satn en tonos metlicos (plata, oro, champagne)"}),d.jsx("li",{children:"Moos de encaje que combinen con el vestido"}),d.jsx("li",{children:"Moos con detalles de pedrera para ocasiones muy especiales"}),d.jsx("li",{children:"Tamaos medianos que no compitan con el resto del atuendo"})]})]}),d.jsx("h3",{children:"Eventos casuales"}),d.jsx("p",{children:"Para el da a da o eventos casuales, los moos de algodn o cintas de grosgrain en colores vivos son perfectos. Puedes optar por diseos ms grandes y llamativos."}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para eventos casuales:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moos de algodn estampado (lunares, rayas, flores)"}),d.jsx("li",{children:"Moos de grosgrain en colores vibrantes"}),d.jsx("li",{children:"Moos con temticas divertidas segn la ocasin"}),d.jsx("li",{children:"Tamaos ms grandes y llamativos"})]})]}),d.jsx("h3",{children:"Eventos infantiles"}),d.jsx("p",{children:"Para las ms pequeas, los moos de organza multicolor o con estampados divertidos son ideales. Tambin puedes considerar moos con adornos como lentejuelas o pequeos apliques."}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para nias:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moos de organza en colores pastel o multicolor"}),d.jsx("li",{children:"Moos con personajes infantiles o temticas divertidas"}),d.jsx("li",{children:"Moos con apliques de flores, estrellas o corazones"}),d.jsx("li",{children:"Sets de moos pequeos en diferentes colores"})]})]}),d.jsx("p",{children:"Recuerda que lo ms importante es que el moo refleje tu personalidad y te haga sentir cmoda y segura."})]})},{id:5,title:"Tendencias en moos para esta temporada",summary:"Descubre los colores, materiales y estilos que estn marcando tendencia.",icon:d.jsx(LB,{size:80,color:"#ff6b6b"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Las tendencias en moos cambian cada temporada, y estar al da te ayudar a mantener tu look fresco y actual. Este ao, estamos viendo un regreso a los materiales naturales y sostenibles."}),d.jsx("h3",{children:"Colores tendencia"}),d.jsx("p",{children:"Los tonos tierra como terracota, ocre y marrn estn dominando las colecciones de esta temporada, junto con el siempre elegante verde oliva y el azul ndigo."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#d35400"},children:"Terracota"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#f39c12"},children:"Ocre"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#795548"},children:"Marrn"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#556b2f"},children:"Verde oliva"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#3498db"},children:"Azul ndigo"})]}),d.jsx("h3",{children:"Materiales innovadores"}),d.jsx("p",{children:"Los moos fabricados con materiales reciclados o sostenibles estn ganando popularidad. Tambin vemos un aumento en el uso de materiales con textura como el lino y el camo."}),d.jsxs("div",{className:"material-gallery",children:[d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#dfe6e9"}}),d.jsx("span",{children:"Lino"})]}),d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#c7ecee"}}),d.jsx("span",{children:"Algodn orgnico"})]}),d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#fab1a0"}}),d.jsx("span",{children:"Camo"})]}),d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#ffeaa7"}}),d.jsx("span",{children:"Materiales reciclados"})]})]}),d.jsx("h3",{children:"Estilos destacados"}),d.jsx("p",{children:"Los moos oversized continan siendo tendencia, especialmente para eventos casuales. Para ocasiones formales, los moos minimalistas con detalles metlicos estn captando todas las miradas."}),d.jsx("p",{children:"Nuestra nueva coleccin incorpora todas estas tendencias, permitindote estar a la vanguardia de la moda en accesorios."})]})},{id:6,title:"Moos para eventos escolares y acadmicos",summary:"Descubre los mejores moos para uniformes y eventos educativos.",icon:d.jsx(zB,{size:80,color:"#3498db"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Los moos son un complemento clsico para uniformes escolares y eventos acadmicos. En este artculo te presentamos opciones elegantes y prcticas para el entorno educativo."}),d.jsx("h3",{children:"Moos para uniformes escolares"}),d.jsx("p",{children:"Los moos para uniformes escolares deben ser prcticos, duraderos y fciles de colocar. Recomendamos opciones en colores clsicos como azul marino, burdeos, verde oscuro o negro, que combinan con la mayora de los uniformes."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#2c3e50"},children:"Azul marino"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#c0392b"},children:"Burdeos"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#27ae60"},children:"Verde oscuro"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#000000"},children:"Negro"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#7f8c8d"},children:"Gris"})]}),d.jsx("h3",{children:"Caractersticas ideales"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Fabricados con materiales resistentes como grosgrain o polister"}),d.jsx("li",{children:"Con clip o elstico para fcil colocacin"}),d.jsx("li",{children:"Diseos clsicos que cumplan con las normas escolares"}),d.jsx("li",{children:"Resistentes al lavado frecuente"}),d.jsx("li",{children:"Disponibles en packs de varios colores para alternar"})]}),d.jsx("h3",{children:"Para eventos acadmicos especiales"}),d.jsx("p",{children:"Para graduaciones, premiaciones o eventos acadmicos especiales, recomendamos moos ms elaborados que mantengan la elegancia y formalidad:"}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para eventos acadmicos:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moos de satn en colores institucionales"}),d.jsx("li",{children:"Moos con pequeos detalles metlicos"}),d.jsx("li",{children:"Moos con bordes en colores contrastantes"}),d.jsx("li",{children:"Sets coordinados para grupos o equipos"})]})]}),d.jsx("p",{children:"Nuestra coleccin escolar incluye opciones para todas las edades, desde preescolar hasta universidad, siempre manteniendo la calidad y durabilidad que caracteriza a nuestros productos."})]})},{id:7,title:"Cmo hacer tus propios moos: Tutorial paso a paso",summary:"Aprende a crear moos personalizados con materiales que tienes en casa.",icon:d.jsx(RA,{size:80,color:"#2ecc71"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Crear tus propios moos es una actividad divertida y creativa que te permite personalizar tus accesorios. En este tutorial te enseamos cmo hacer moos bsicos con materiales sencillos."}),d.jsx("h3",{children:"Materiales necesarios"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Cinta del material de tu preferencia (satn, grosgrain, organza)"}),d.jsx("li",{children:"Tijeras"}),d.jsx("li",{children:"Aguja e hilo o pistola de silicona"}),d.jsx("li",{children:"Clip para el cabello, diadema o elstico"}),d.jsx("li",{children:"Encendedor (opcional, para sellar bordes)"}),d.jsx("li",{children:"Adornos adicionales (opcional: pedrera, botones, apliques)"})]}),d.jsx("h3",{children:"Paso a paso: Moo bsico"}),d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Corta la cinta:"})," Para un moo mediano, corta aproximadamente 30 cm de cinta."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Dobla en forma de lazo:"})," Forma un lazo con la cinta, dejando los extremos iguales."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Asegura el centro:"})," Pellizca el centro del lazo y asegralo con hilo, creando la forma caracterstica del moo."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Cubre el centro:"})," Corta un pequeo trozo de cinta y envulvelo alrededor del centro para darle un acabado profesional."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Aade el soporte:"})," Cose o pega el clip, diadema o elstico en la parte posterior del moo."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Decora (opcional):"})," Aade pedrera, lentejuelas o cualquier adorno que desees para personalizar tu creacin."]})]}),d.jsx("h3",{children:"Variaciones creativas"}),d.jsx("p",{children:"Una vez que domines la tcnica bsica, puedes experimentar con estas variaciones:"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Moo doble:"})," Superpn dos lazos de diferentes tamaos o colores."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Moo en capas:"})," Utiliza varias capas de cinta para crear volumen."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Moo con cola:"})," Deja extremos largos para crear un efecto cascada."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Moo con centro decorativo:"})," Utiliza un botn, perla o aplique como centro del moo."]})]}),d.jsx("p",{children:"Recuerda que la prctica hace al maestro. No te desanimes si tus primeros intentos no quedan perfectos! Con el tiempo mejorars tu tcnica y podrs crear diseos cada vez ms elaborados."})]})}];return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsxs("div",{className:"blog-container",children:[d.jsxs("div",{className:"blog-header",children:[d.jsx("h1",{children:"Blog de Lazos para el Cabello"}),d.jsx("p",{children:"Consejos, tendencias y tutoriales para lucir lazos perfectos a cualquier edad"})]}),t?d.jsxs("div",{className:"article-detail",children:[d.jsx("button",{className:"back-button",onClick:()=>e(null),children:" Volver"}),d.jsx("h2",{children:n.find(i=>i.id===t).title}),d.jsx("div",{className:"article-icon-large",children:n.find(i=>i.id===t).icon}),d.jsx("div",{className:"article-content",children:n.find(i=>i.id===t).content})]}):d.jsx("div",{className:"articles-grid",children:n.map(i=>d.jsxs("div",{className:"article-card",children:[d.jsx("div",{className:"article-icon",children:i.icon}),d.jsx("h3",{children:i.title}),d.jsx("p",{children:i.summary}),d.jsxs("div",{className:"content-preview",children:[i.title.includes("Satn")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Colores populares:"})," Rosa pastel, Azul cielo, Blanco perla"]}),i.title.includes("Organza")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Ideal para:"})," Eventos formales, Bodas, Ceremonias"]}),i.title.includes("Terciopelo")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Temporada:"})," Otoo-Invierno, Eventos nocturnos"]}),i.title.includes("Ocasiones")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Eventos:"})," Cumpleaos, Graduaciones, Fiestas temticas"]}),i.title.includes("Tendencias")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Destacados:"})," Lazos XL, Diseos geomtricos, Tonos metlicos"]}),i.title.includes("Escolares")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Estilos:"})," Clsicos, Uniformes, Colores institucionales"]}),i.title.includes("Tutorial")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Dificultad:"})," Media, 20 minutos aprox., Materiales bsicos"]})]}),d.jsxs("button",{className:"read-more",onClick:()=>e(i.id),children:["Ver artculo completo ",d.jsx(VB,{style:{marginLeft:"5px"}})]})]},i.id))})]})]})}function BB(){return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsxs("div",{className:"contact-container",children:[d.jsx("h2",{className:"contact-title",children:"Get In Touch"}),d.jsx("p",{className:"contact-subtitle",children:"Have questions about our products or services? Reach out to our team of experts."}),d.jsxs("div",{className:"contact-section",children:[d.jsxs("div",{className:"contact-info",children:[d.jsx("p",{children:" Cajamarca, Tolima, Colombia"}),d.jsx("p",{children:" +1 (555) 123-4567"}),d.jsx("p",{children:" info@monitos.com"}),d.jsx("p",{children:" Monday - Friday: 9 AM - 6 PM"}),d.jsxs("div",{className:"contact-social-icons",children:[d.jsx("span",{children:""}),d.jsx("span",{children:""}),d.jsx("span",{children:""}),d.jsx("span",{children:""})]})]}),d.jsxs("form",{className:"contact-form",children:[d.jsx("input",{type:"text",placeholder:"Your Name",className:"contact-input"}),d.jsx("input",{type:"email",placeholder:"Your Email",className:"contact-input"}),d.jsx("input",{type:"text",placeholder:"Subject",className:"contact-input"}),d.jsx("textarea",{placeholder:"Your Message",rows:"5",className:"contact-textarea"}),d.jsx(Et,{type:"submit",variant:"primary",className:"contact-button-override",children:"Send Message"})]})]}),d.jsx("div",{className:"contact-map-container",children:d.jsx("iframe",{title:"map",width:"100%",height:"300",frameBorder:"0",style:{border:0},src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1591.9000000000001!2d-75.65000000000001!3d4.433333333333334!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e38c51f00000001%3A0x0!2sCajamarca%2C%20Tolima%2C%20Colombia!5e0!3m2!1ses-419!2sco!4v1678888888888!5m2!1ses-419!2sco",allowFullScreen:"",loading:"lazy"})})]})]})}function FB(){const{user:t,loginUser:e,loginWithGoogle:n}=go(),[i,s]=I.useState(""),[a,l]=I.useState(""),[u,h]=I.useState(!1),[m,p]=I.useState(!1),[v,x]=I.useState(!1),_=mr();I.useEffect(()=>{t&&_("/")},[t]);const E=async S=>{S.preventDefault(),x(!0);try{await e(i,a,m),we.fire({icon:"success",title:"Bienvenido!",text:"Inicio de sesin exitoso",timer:1500,showConfirmButton:!1}),_("/")}catch(N){console.error("Error al iniciar sesin:",N);let U="Error al iniciar sesin",V="error";(N==null?void 0:N.code)==="auth/invalid-credential"&&(U="Credenciales invlidas"),(N==null?void 0:N.code)==="auth/user-not-found"&&(U="Usuario no encontrado"),(N==null?void 0:N.code)==="auth/wrong-password"&&(U="Contrasea incorrecta"),(N==null?void 0:N.code)==="auth/too-many-requests"&&(U="Demasiados intentos. Intenta ms tarde.",V="warning"),we.fire({icon:V,title:"Error",text:U})}finally{x(!1)}},C=async()=>{x(!0);try{await n(m),we.fire({icon:"success",title:"Bienvenido!",text:"Inicio de sesin con Google exitoso",timer:1500,showConfirmButton:!1}),_("/")}catch(S){console.error("Error al iniciar sesin con Google:",S),we.fire({icon:"error",title:"Error",text:"Error al iniciar sesin con Google"})}finally{x(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:v?d.jsx("div",{className:"loader-container",children:d.jsx(Bl,{size:"lg",color:"#3b82f6",text:"Iniciando sesin..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Welcome Back"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your email and password to access your account."}),d.jsxs("form",{onSubmit:E,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:i,onChange:S=>s(S.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:u?"text":"password",placeholder:"Sellostore.",value:a,onChange:S=>l(S.target.value),required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!u),children:u?d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),d.jsxs("div",{className:"auth-options",children:[d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:m,onChange:S=>p(S.target.checked)}),d.jsx("span",{className:"checkmark"}),"Remember Me"]}),d.jsx(at,{to:"/reset-password",className:"forgot-link",children:"Forgot Your Password?"})]}),d.jsx(Et,{type:"submit",variant:"primary",fullWidth:!0,className:"login-btn-override",disabled:v,children:"Log In"})]}),d.jsx("div",{className:"divider",children:d.jsx("span",{children:"Or Login With"})}),d.jsxs("div",{className:"social-buttons",children:[d.jsxs(Et,{className:"social-btn google-btn",onClick:C,disabled:v,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"G"}),"Google"]}),d.jsxs(Et,{className:"social-btn apple-btn",disabled:!0,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:""}),"Apple"]})]}),d.jsxs("div",{className:"auth-switch",children:[d.jsx("span",{children:"Don't Have An Account? "}),d.jsx(at,{to:"/register",children:"Register Now."})]})]})})})]})}function HB(){const{user:t,registerUser:e,loginWithGoogle:n}=go(),[i,s]=I.useState(""),[a,l]=I.useState(""),[u,h]=I.useState(""),[m,p]=I.useState(!1),[v,x]=I.useState(!1),_=mr();I.useEffect(()=>{t&&_("/")},[t]);const E=async S=>{S.preventDefault(),x(!0);try{await e(i,a,u),we.fire({icon:"success",title:"Cuenta creada!",text:"Tu registro se ha completado exitosamente",timer:1500,showConfirmButton:!1}),_("/")}catch{we.fire({icon:"error",title:"Error",text:"Error al registrarse. Por favor, intenta nuevamente."})}finally{x(!1)}},C=async()=>{x(!0);try{await n(),_("/")}catch{we.fire({icon:"error",title:"Error",text:"Error al registrarse con Google. Por favor, intenta nuevamente."})}finally{x(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:v?d.jsx("div",{className:"loader-container",children:d.jsx(Bl,{size:"lg",color:"#3b82f6",text:"Creando cuenta..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Create Account"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your details to create your account."}),d.jsxs("form",{onSubmit:E,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"fullName",children:"Full Name"}),d.jsx("input",{id:"fullName",type:"text",placeholder:"John Doe",value:u,onChange:S=>h(S.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:i,onChange:S=>s(S.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:m?"text":"password",placeholder:"Create a strong password",value:a,onChange:S=>l(S.target.value),required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>p(!m),children:m?d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),d.jsx(Et,{type:"submit",variant:"primary",fullWidth:!0,className:"register-btn-override",disabled:v,children:"Create Account"})]}),d.jsx("div",{className:"divider",children:d.jsx("span",{children:"Or Register With"})}),d.jsxs("div",{className:"social-buttons",children:[d.jsxs(Et,{className:"social-btn google-btn",onClick:C,disabled:v,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"G"}),"Google"]}),d.jsxs(Et,{className:"social-btn apple-btn",disabled:!0,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:""}),"Apple"]})]}),d.jsxs("div",{className:"auth-switch",children:[d.jsx("span",{children:"Already Have An Account? "}),d.jsx(at,{to:"/login",children:"Sign In"})]})]})})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ef(t){return t+.5|0}const Wa=(t,e,n)=>Math.max(Math.min(t,n),e);function Yd(t){return Wa(ef(t*2.55),0,255)}function eo(t){return Wa(ef(t*255),0,255)}function Hr(t){return Wa(ef(t/2.55)/100,0,1)}function HA(t){return Wa(ef(t*100),0,100)}const cs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ab=[..."0123456789ABCDEF"],qB=t=>Ab[t&15],$B=t=>Ab[(t&240)>>4]+Ab[t&15],Nm=t=>(t&240)>>4===(t&15),WB=t=>Nm(t.r)&&Nm(t.g)&&Nm(t.b)&&Nm(t.a);function GB(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&cs[t[1]]*17,g:255&cs[t[2]]*17,b:255&cs[t[3]]*17,a:e===5?cs[t[4]]*17:255}:(e===7||e===9)&&(n={r:cs[t[1]]<<4|cs[t[2]],g:cs[t[3]]<<4|cs[t[4]],b:cs[t[5]]<<4|cs[t[6]],a:e===9?cs[t[7]]<<4|cs[t[8]]:255})),n}const KB=(t,e)=>t<255?e(t):"";function YB(t){var e=WB(t)?qB:$B;return t?"#"+e(t.r)+e(t.g)+e(t.b)+KB(t.a,e):void 0}const XB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aI(t,e,n){const i=e*Math.min(n,1-n),s=(a,l=(a+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function QB(t,e,n){const i=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function ZB(t,e,n){const i=aI(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function JB(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Tw(t){const n=t.r/255,i=t.g/255,s=t.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),u=(a+l)/2;let h,m,p;return a!==l&&(p=a-l,m=u>.5?p/(2-a-l):p/(a+l),h=JB(n,i,s,p,a),h=h*60+.5),[h|0,m||0,u]}function Aw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(eo)}function Sw(t,e,n){return Aw(aI,t,e,n)}function eF(t,e,n){return Aw(ZB,t,e,n)}function tF(t,e,n){return Aw(QB,t,e,n)}function oI(t){return(t%360+360)%360}function nF(t){const e=XB.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Yd(+e[5]):eo(+e[5]));const s=oI(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=eF(s,a,l):e[1]==="hsv"?i=tF(s,a,l):i=Sw(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function iF(t,e){var n=Tw(t);n[0]=oI(n[0]+e),n=Sw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function sF(t){if(!t)return;const e=Tw(t),n=e[0],i=HA(e[1]),s=HA(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Hr(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const qA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$A={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rF(){const t={},e=Object.keys($A),n=Object.keys(qA);let i,s,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],s=0;s<n.length;s++)a=n[s],u=u.replace(a,qA[a]);a=parseInt($A[l],16),t[u]=[a>>16&255,a>>8&255,a&255]}return t}let jm;function aF(t){jm||(jm=rF(),jm.transparent=[0,0,0,0]);const e=jm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const oF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lF(t){const e=oF.exec(t);let n=255,i,s,a;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Yd(l):Wa(l*255,0,255)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?Yd(i):Wa(i,0,255)),s=255&(e[4]?Yd(s):Wa(s,0,255)),a=255&(e[6]?Yd(a):Wa(a,0,255)),{r:i,g:s,b:a,a:n}}}function cF(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Hr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const _v=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Mc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function uF(t,e,n){const i=Mc(Hr(t.r)),s=Mc(Hr(t.g)),a=Mc(Hr(t.b));return{r:eo(_v(i+n*(Mc(Hr(e.r))-i))),g:eo(_v(s+n*(Mc(Hr(e.g))-s))),b:eo(_v(a+n*(Mc(Hr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Im(t,e,n){if(t){let i=Tw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Sw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function lI(t,e){return t&&Object.assign(e||{},t)}function WA(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=eo(t[3]))):(e=lI(t,{r:0,g:0,b:0,a:1}),e.a=eo(e.a)),e}function dF(t){return t.charAt(0)==="r"?lF(t):nF(t)}class Ah{constructor(e){if(e instanceof Ah)return e;const n=typeof e;let i;n==="object"?i=WA(e):n==="string"&&(i=GB(e)||aF(e)||dF(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=lI(this._rgb);return e&&(e.a=Hr(e.a)),e}set rgb(e){this._rgb=WA(e)}rgbString(){return this._valid?cF(this._rgb):void 0}hexString(){return this._valid?YB(this._rgb):void 0}hslString(){return this._valid?sF(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let a;const l=n===a?.5:n,u=2*l-1,h=i.a-s.a,m=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-m,i.r=255&m*i.r+a*s.r+.5,i.g=255&m*i.g+a*s.g+.5,i.b=255&m*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=uF(this._rgb,e._rgb,n)),this}clone(){return new Ah(this.rgb)}alpha(e){return this._rgb.a=eo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ef(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Im(this._rgb,2,e),this}darken(e){return Im(this._rgb,2,-e),this}saturate(e){return Im(this._rgb,1,e),this}desaturate(e){return Im(this._rgb,1,-e),this}rotate(e){return iF(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const hF=(()=>{let t=0;return()=>t++})();function jt(t){return t==null}function In(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function dt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ys(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Xs(t,e){return ys(t)?t:e}function vt(t,e){return typeof t>"u"?e:t}const fF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Lt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function _t(t,e,n,i){let s,a,l;if(In(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(dt(t))for(l=Object.keys(t),a=l.length,s=0;s<a;s++)e.call(n,t[l[s]],l[s])}function eg(t,e){let n,i,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function tg(t){if(In(t))return t.map(tg);if(dt(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=tg(t[n[s]]);return e}return t}function cI(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mF(t,e,n,i){if(!cI(t))return;const s=e[t],a=n[t];dt(s)&&dt(a)?Sh(s,a,i):e[t]=tg(a)}function Sh(t,e,n){const i=In(e)?e:[e],s=i.length;if(!dt(t))return t;n=n||{};const a=n.merger||mF;let l;for(let u=0;u<s;++u){if(l=i[u],!dt(l))continue;const h=Object.keys(l);for(let m=0,p=h.length;m<p;++m)a(h[m],t,l,n)}return t}function rh(t,e){return Sh(t,e,{merger:pF})}function pF(t,e,n){if(!cI(t))return;const i=e[t],s=n[t];dt(i)&&dt(s)?rh(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=tg(s))}const GA={"":t=>t,x:t=>t.x,y:t=>t.y};function gF(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function yF(t){const e=gF(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function hu(t,e){return(GA[e]||(GA[e]=yF(e)))(t)}function Cw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ch=t=>typeof t<"u",co=t=>typeof t=="function",KA=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function vF(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ii=Math.PI,ui=2*ii,ng=Number.POSITIVE_INFINITY,bF=ii/180,Hn=ii/2,el=ii/4,YA=ii*2/3,uI=Math.log10,to=Math.sign;function lp(t,e,n){return Math.abs(t-e)<n}function XA(t){const e=Math.round(t);t=lp(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(uI(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function xF(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function wF(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ig(t){return!wF(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function _F(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function EF(t,e,n){let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function ul(t){return t*(ii/180)}function TF(t){return t*(180/ii)}function QA(t){if(!ys(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function dI(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*ii&&(a+=ui),{angle:a,distance:s}}function AF(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function tl(t){return(t%ui+ui)%ui}function hI(t,e,n,i){const s=tl(t),a=tl(e),l=tl(n),u=tl(a-s),h=tl(l-s),m=tl(s-a),p=tl(s-l);return s===a||s===l||i&&a===l||u>h&&m<p}function Ai(t,e,n){return Math.max(e,Math.min(n,t))}function SF(t){return Ai(t,-32768,32767)}function dl(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function kw(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Sb=(t,e,n,i)=>kw(t,n,i?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),CF=(t,e,n)=>kw(t,n,i=>t[i][e]>=n);function kF(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const fI=["push","pop","shift","splice","unshift"];function RF(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),fI.forEach(n=>{const i="_onData"+Cw(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function ZA(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(fI.forEach(a=>{delete t[a]}),delete t._chartjs)}function mI(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const pI=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function gI(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,pI.call(window,()=>{i=!1,t.apply(e,n)}))}}function NF(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const yI=t=>t==="start"?"left":t==="end"?"right":"center",Fi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,jF=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Pm=t=>t===0||t===1,JA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ui/n)),eS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ui/n)+1,ah={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Hn)+1,easeOutSine:t=>Math.sin(t*Hn),easeInOutSine:t=>-.5*(Math.cos(ii*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Pm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Pm(t)?t:JA(t,.075,.3),easeOutElastic:t=>Pm(t)?t:eS(t,.075,.3),easeInOutElastic(t){return Pm(t)?t:t<.5?.5*JA(t*2,.1125,.45):.5+.5*eS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ah.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ah.easeInBounce(t*2)*.5:ah.easeOutBounce(t*2-1)*.5+.5};function vI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function tS(t){return vI(t)?t:new Ah(t)}function Ev(t){return vI(t)?t:new Ah(t).saturate(.5).darken(.1).hexString()}const IF=["x","y","borderWidth","radius","tension"],PF=["color","borderColor","backgroundColor"];function MF(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:PF},numbers:{type:"number",properties:IF}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function DF(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const nS=new Map;function OF(t,e){e=e||{};const n=t+JSON.stringify(e);let i=nS.get(n);return i||(i=new Intl.NumberFormat(t,e),nS.set(n,i)),i}function bI(t,e,n){return OF(e,n).format(t)}const LF={values(t){return In(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,a=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(s="scientific"),a=VF(t,n)}const l=uI(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),bI(t,i,h)}};function VF(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var xI={formatters:LF};function zF(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const kl=Object.create(null),Cb=Object.create(null);function oh(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function Tv(t,e,n){return typeof e=="string"?Sh(oh(t,e),n):Sh(oh(t,""),e)}class UF{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Ev(s.backgroundColor),this.hoverBorderColor=(i,s)=>Ev(s.borderColor),this.hoverColor=(i,s)=>Ev(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Tv(this,e,n)}get(e){return oh(this,e)}describe(e,n){return Tv(Cb,e,n)}override(e,n){return Tv(kl,e,n)}route(e,n,i,s){const a=oh(this,e),l=oh(this,i),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],m=l[s];return dt(h)?Object.assign({},m,h):vt(h,m)},set(h){this[u]=h}}})}apply(e){e.forEach(n=>n(this))}}var an=new UF({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[MF,DF,zF]);function BF(t){return!t||jt(t.size)||jt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function iS(t,e,n,i,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>i&&(i=a),i}function nl(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function sS(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function rS(t,e,n,i){wI(t,e,n,i,null)}function wI(t,e,n,i,s){let a,l,u,h,m,p,v,x;const _=e.pointStyle,E=e.rotation,C=e.radius;let S=(E||0)*bF;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(S),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),_){default:s?t.ellipse(n,i,s/2,C,0,0,ui):t.arc(n,i,C,0,ui),t.closePath();break;case"triangle":p=s?s/2:C,t.moveTo(n+Math.sin(S)*p,i-Math.cos(S)*C),S+=YA,t.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*C),S+=YA,t.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*C),t.closePath();break;case"rectRounded":m=C*.516,h=C-m,l=Math.cos(S+el)*h,v=Math.cos(S+el)*(s?s/2-m:h),u=Math.sin(S+el)*h,x=Math.sin(S+el)*(s?s/2-m:h),t.arc(n-v,i-u,m,S-ii,S-Hn),t.arc(n+x,i-l,m,S-Hn,S),t.arc(n+v,i+u,m,S,S+Hn),t.arc(n-x,i+l,m,S+Hn,S+ii),t.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*C,p=s?s/2:h,t.rect(n-p,i-h,2*p,2*h);break}S+=el;case"rectRot":v=Math.cos(S)*(s?s/2:C),l=Math.cos(S)*C,u=Math.sin(S)*C,x=Math.sin(S)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+x,i-l),t.lineTo(n+v,i+u),t.lineTo(n-x,i+l),t.closePath();break;case"crossRot":S+=el;case"cross":v=Math.cos(S)*(s?s/2:C),l=Math.cos(S)*C,u=Math.sin(S)*C,x=Math.sin(S)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-l),t.lineTo(n-x,i+l);break;case"star":v=Math.cos(S)*(s?s/2:C),l=Math.cos(S)*C,u=Math.sin(S)*C,x=Math.sin(S)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-l),t.lineTo(n-x,i+l),S+=el,v=Math.cos(S)*(s?s/2:C),l=Math.cos(S)*C,u=Math.sin(S)*C,x=Math.sin(S)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-l),t.lineTo(n-x,i+l);break;case"line":l=s?s/2:Math.cos(S)*C,u=Math.sin(S)*C,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(S)*(s?s/2:C),i+Math.sin(S)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _I(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Rw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Nw(t){t.restore()}function FF(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),jt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function HF(t,e,n,i,s){if(s.strikethrough||s.underline){const a=t.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,m=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function qF(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function sg(t,e,n,i,s,a={}){const l=In(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,m;for(t.save(),t.font=s.string,FF(t,a),h=0;h<l.length;++h)m=l[h],a.backdrop&&qF(t,a.backdrop),u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),jt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(m,n,i,a.maxWidth)),t.fillText(m,n,i,a.maxWidth),HF(t,n,i,m,a),i+=Number(s.lineHeight);t.restore()}function rg(t,e){const{x:n,y:i,w:s,h:a,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*ii,ii,!0),t.lineTo(n,i+a-l.bottomLeft),t.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,ii,Hn,!0),t.lineTo(n+s-l.bottomRight,i+a),t.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Hn,0,!0),t.lineTo(n+s,i+l.topRight),t.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-Hn,!0),t.lineTo(n+l.topLeft,i)}const $F=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GF(t,e){const n=(""+t).match($F);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const KF=t=>+t||0;function jw(t,e){const n={},i=dt(e),s=i?Object.keys(e):e,a=dt(t)?i?l=>vt(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=KF(a(l));return n}function EI(t){return jw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Zc(t){return jw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function js(t){const e=EI(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Si(t,e){t=t||{},e=e||an.font;let n=vt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=vt(t.style,e.style);i&&!(""+i).match(WF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:vt(t.family,e.family),lineHeight:GF(vt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:vt(t.weight,e.weight),string:""};return s.string=BF(s),s}function Mm(t,e,n,i){let s,a,l;for(s=0,a=t.length;s<a;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function YF(t,e,n){const{min:i,max:s}=t,a=fF(e,(s-i)/2),l=(u,h)=>n&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Ru(t,e){return Object.assign(Object.create(t),e)}function Iw(t,e=[""],n,i,s=()=>t[0]){const a=n||t;typeof i>"u"&&(i=CI("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>Iw([u,...t],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return AI(u,h,()=>iH(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return oS(u).includes(h)},ownKeys(u){return oS(u)},set(u,h,m){const p=u._storage||(u._storage=s());return u[h]=p[h]=m,delete u._keys,!0}})}function fu(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:TI(t,i),setContext:a=>fu(t,a,n,i),override:a=>fu(t.override(a),e,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,u){return AI(a,l,()=>QF(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,u){return t[l]=u,delete a[l],!0}})}function TI(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:co(n)?n:()=>n,isIndexable:co(i)?i:()=>i}}const XF=(t,e)=>t?t+Cw(e):e,Pw=(t,e)=>dt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function AI(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function QF(t,e,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=t;let u=i[e];return co(u)&&l.isScriptable(e)&&(u=ZF(e,u,t,n)),In(u)&&u.length&&(u=JF(e,u,t,l.isIndexable)),Pw(e,u)&&(u=fu(u,s,a&&a[e],l)),u}function ZF(t,e,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(a,l||i);return u.delete(t),Pw(t,h)&&(h=Mw(s._scopes,s,t,h)),h}function JF(t,e,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=n;if(typeof a.index<"u"&&i(t))return e[a.index%e.length];if(dt(e[0])){const h=e,m=s._scopes.filter(p=>p!==h);e=[];for(const p of h){const v=Mw(m,s,t,p);e.push(fu(v,a,l&&l[t],u))}}return e}function SI(t,e,n){return co(t)?t(e,n):t}const eH=(t,e)=>t===!0?e:typeof t=="string"?hu(e,t):void 0;function tH(t,e,n,i,s){for(const a of e){const l=eH(n,a);if(l){t.add(l);const u=SI(l._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Mw(t,e,n,i){const s=e._rootScopes,a=SI(e._fallback,n,i),l=[...t,...s],u=new Set;u.add(i);let h=aS(u,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=aS(u,l,a,h,i),h===null)?!1:Iw(Array.from(u),[""],s,a,()=>nH(e,n,i))}function aS(t,e,n,i,s){for(;n;)n=tH(t,e,n,i,s);return n}function nH(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return In(s)&&dt(n)?n:s||{}}function iH(t,e,n,i){let s;for(const a of e)if(s=CI(XF(a,t),n),typeof s<"u")return Pw(t,s)?Mw(n,i,t,s):s}function CI(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function oS(t){let e=t._keys;return e||(e=t._keys=sH(t._scopes)),e}function sH(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Dw(){return typeof window<"u"&&typeof document<"u"}function Ow(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ag(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Yg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function rH(t,e){return Yg(t).getPropertyValue(e)}const aH=["top","right","bottom","left"];function gl(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=aH[s];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const oH=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function lH(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=i;let l=!1,u,h;if(oH(s,a,t.target))u=s,h=a;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,h=i.clientY-m.top,l=!0}return{x:u,y:h,box:l}}function al(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Yg(n),a=s.boxSizing==="border-box",l=gl(s,"padding"),u=gl(s,"border","width"),{x:h,y:m,box:p}=lH(t,n),v=l.left+(p&&u.left),x=l.top+(p&&u.top);let{width:_,height:E}=e;return a&&(_-=l.width+u.width,E-=l.height+u.height),{x:Math.round((h-v)/_*n.width/i),y:Math.round((m-x)/E*n.height/i)}}function cH(t,e,n){let i,s;if(e===void 0||n===void 0){const a=t&&Ow(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),u=Yg(a),h=gl(u,"border","width"),m=gl(u,"padding");e=l.width-m.width-h.width,n=l.height-m.height-h.height,i=ag(u.maxWidth,a,"clientWidth"),s=ag(u.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||ng,maxHeight:s||ng}}const Dm=t=>Math.round(t*10)/10;function uH(t,e,n,i){const s=Yg(t),a=gl(s,"margin"),l=ag(s.maxWidth,t,"clientWidth")||ng,u=ag(s.maxHeight,t,"clientHeight")||ng,h=cH(t,e,n);let{width:m,height:p}=h;if(s.boxSizing==="content-box"){const x=gl(s,"border","width"),_=gl(s,"padding");m-=_.width+x.width,p-=_.height+x.height}return m=Math.max(0,m-a.width),p=Math.max(0,i?m/i:p-a.height),m=Dm(Math.min(m,l,h.maxWidth)),p=Dm(Math.min(p,u,h.maxHeight)),m&&!p&&(p=Dm(m/2)),(e!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,m=Dm(Math.floor(p*i))),{width:m,height:p}}function lS(t,e,n){const i=e||1,s=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(t.currentDevicePixelRatio=i,l.height=s,l.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const dH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Dw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function cS(t,e){const n=rH(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const hH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},fH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Jc(t,e,n){return t?hH(e,n):fH()}function kI(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function RI(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Om(t,e,n){return t.options.clip?t[n]:e[n]}function mH(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Om(n,e,"left"),right:Om(n,e,"right"),top:Om(i,e,"top"),bottom:Om(i,e,"bottom")}:e}function pH(t,e){const n=e._clip;if(n.disabled)return!1;const i=mH(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class gH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=pI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,e,"progress")),a.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Br=new gH;const uS="transparent",yH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=tS(t||uS),s=i.valid&&tS(e||uS);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class vH{constructor(e,n,i,s){const a=n[i];s=Mm([e.to,s,a,e.from]);const l=Mm([e.from,a,s]);this._active=!0,this._fn=e.fn||yH[e.type||typeof l],this._easing=ah[e.easing]||ah.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Mm([e.to,n,s,e.from]),this._from=Mm([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||n<i),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class NI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!dt(e))return;const n=Object.keys(an.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!dt(a))return;const l={};for(const u of n)l[u]=a[u];(In(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,s=xH(e,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&bH(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const m=l[h];if(m.charAt(0)==="$")continue;if(m==="options"){s.push(...this._animateOptions(e,n));continue}const p=n[m];let v=a[m];const x=i.get(m);if(v)if(x&&v.active()){v.update(x,p,u);continue}else v.cancel();if(!x||!x.duration){e[m]=p;continue}a[m]=v=new vH(x,e,m,p),s.push(v)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Br.add(this._chart,i),!0}}function bH(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=t[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function xH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function dS(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:s,end:i?s:a}}function wH(t,e,n){if(n===!1)return!1;const i=dS(t,n),s=dS(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function _H(t){let e,n,i,s;return dt(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function jI(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function hS(t,e,n,i={}){const s=t.keys,a=i.mode==="single";let l,u,h,m;if(e===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}m=t.values[h],ys(m)&&(a||e===0||to(e)===to(m))&&(e+=m)}return!p&&!i.all?0:e}function EH(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let h,m,p;for(h=0,m=l.length;h<m;++h)p=l[h],u[h]={[s]:p,[a]:t[p]};return u}function Av(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function TH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function AH(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function SH(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function fS(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function mS(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,m=l.axis,p=TH(a,l,i),v=e.length;let x;for(let _=0;_<v;++_){const E=e[_],{[h]:C,[m]:S}=E,N=E._stacks||(E._stacks={});x=N[m]=SH(s,p,C),x[u]=S,x._top=fS(x,l,!0,i.type),x._bottom=fS(x,l,!1,i.type);const U=x._visualValues||(x._visualValues={});U[u]=S}}function Sv(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function CH(t,e){return Ru(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function kH(t,e,n){return Ru(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ld(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const Cv=t=>t==="reset"||t==="none",pS=(t,e)=>e?t:Object.assign({},t),RH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:jI(n,!0),values:null};class lh{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Av(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ld(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(v,x,_,E)=>v==="x"?x:v==="r"?E:_,a=n.xAxisID=vt(i.xAxisID,Sv(e,"x")),l=n.yAxisID=vt(i.yAxisID,Sv(e,"y")),u=n.rAxisID=vt(i.rAxisID,Sv(e,"r")),h=n.indexAxis,m=n.iAxisID=s(h,a,l,u),p=n.vAxisID=s(h,l,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ZA(this._data,this),e._stacked&&Ld(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(dt(n)){const s=this._cachedMeta;this._data=EH(n,s)}else if(i!==n){if(i){ZA(i,this);const s=this._cachedMeta;Ld(s),s._parsed=[]}n&&Object.isExtensible(n)&&RF(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Av(n.vScale,n),n.stack!==i.stack&&(s=!0,Ld(n),n.stack=i.stack),this._resyncElements(e),(s||a!==n._stacked)&&(mS(this,n._parsed),n._stacked=Av(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&n===s.length?!0:i._sorted,m=e>0&&i._parsed[e-1],p,v,x;if(this._parsing===!1)i._parsed=s,i._sorted=!0,x=s;else{In(s[e])?x=this.parseArrayData(i,s,e,n):dt(s[e])?x=this.parseObjectData(i,s,e,n):x=this.parsePrimitiveData(i,s,e,n);const _=()=>v[u]===null||m&&v[u]<m[u];for(p=0;p<n;++p)i._parsed[p+e]=v=x[p],h&&(_()&&(h=!1),m=v);i._sorted=h}l&&mS(this,x)}parsePrimitiveData(e,n,i,s){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,m=a.getLabels(),p=a===l,v=new Array(s);let x,_,E;for(x=0,_=s;x<_;++x)E=x+i,v[x]={[u]:p||a.parse(m[E],E),[h]:l.parse(n[E],E)};return v}parseArrayData(e,n,i,s){const{xScale:a,yScale:l}=e,u=new Array(s);let h,m,p,v;for(h=0,m=s;h<m;++h)p=h+i,v=n[p],u[h]={x:a.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,n,i,s){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=new Array(s);let p,v,x,_;for(p=0,v=s;p<v;++p)x=p+i,_=n[x],m[p]={x:a.parse(hu(_,u),x),y:l.parse(hu(_,h),x)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,a=this._cachedMeta,l=n[e.axis],u={keys:jI(s,!0),values:n._stacks[e.axis]._visualValues};return hS(u,l,a.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const u=s&&i._stacks[n.axis];s&&u&&(s.values=u,l=hS(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&e===i.iScale,l=s.length,u=this._getOtherScale(e),h=RH(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=AH(u);let x,_;function E(){_=s[x];const C=_[u.axis];return!ys(_[e.axis])||p>C||v<C}for(x=0;x<l&&!(!E()&&(this.updateRangeFromParsed(m,e,_,h),a));++x);if(a){for(x=l-1;x>=0;--x)if(!E()){this.updateRangeFromParsed(m,e,_,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][e.axis],ys(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=_H(vt(this.options.clip,wH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,m=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,a,u,h),p=u;p<u+h;++p){const v=s[p];v.hidden||(v.active&&m?l.push(v):v.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=kH(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=CH(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=e+"-"+n,u=a[l],h=this.enableOptionSharing&&Ch(i);if(u)return pS(u,h);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),v=s?[`${e}Hover`,"hover",e,""]:[e,""],x=m.getOptionScopes(this.getDataset(),p),_=Object.keys(an.elements[e]),E=()=>this.getContext(i,s,n),C=m.resolveNamedOptions(x,_,E,v);return C.$shared&&(C.$shared=h,a[l]=Object.freeze(pS(C,h))),C}_resolveAnimations(e,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,u=a[l];if(u)return u;let h;if(s.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,n),x=p.getOptionScopes(this.getDataset(),v);h=p.createResolver(x,this.getContext(e,i,n))}const m=new NI(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Cv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(e,n,i,s){Cv(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Cv(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,h,m]of this._syncList)this[u](h,m);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,i=!0){const s=this._cachedMeta,a=s.data,l=e+n;let u;const h=m=>{for(m.length+=n,u=m.length-1;u>=l;u--)m[u]=m[u-n]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Ld(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Be(lh,"defaults",{}),Be(lh,"datasetElementType",null),Be(lh,"dataElementType",null);function NH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=mI(i.sort((s,a)=>s-a))}return t._cache.$bar}function jH(t){const e=t.iScale,n=NH(e,t.type);let i=e._length,s,a,l,u;const h=()=>{l===32767||l===-32768||(Ch(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,a=n.length;s<a;++s)l=e.getPixelForValue(n[s]),h();for(u=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),h();return i}function IH(t,e,n,i){const s=n.barThickness;let a,l;return jt(s)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:e.pixels[t]-a/2}}function PH(t,e,n,i){const s=e.pixels,a=s[t];let l=t>0?s[t-1]:null,u=t<s.length-1?s[t+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-l);const m=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:n.barPercentage,start:m}}function MH(t,e,n,i){const s=n.parse(t[0],i),a=n.parse(t[1],i),l=Math.min(s,a),u=Math.max(s,a);let h=l,m=u;Math.abs(l)>Math.abs(u)&&(h=u,m=l),e[n.axis]=m,e._custom={barStart:h,barEnd:m,start:s,end:a,min:l,max:u}}function II(t,e,n,i){return In(t)?MH(t,e,n,i):e[n.axis]=n.parse(t,i),e}function gS(t,e,n,i){const s=t.iScale,a=t.vScale,l=s.getLabels(),u=s===a,h=[];let m,p,v,x;for(m=n,p=n+i;m<p;++m)x=e[m],v={},v[s.axis]=u||s.parse(l[m],m),h.push(II(x,v,a,m));return h}function kv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function DH(t,e,n){return t!==0?to(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function OH(t){let e,n,i,s,a;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:e,top:s,bottom:a}}function LH(t,e,n,i){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:m,bottom:p}=OH(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=m:(n._bottom||0)===i?s=p:(a[yS(p,l,u,h)]=!0,s=m)),a[yS(s,l,u,h)]=!0,t.borderSkipped=a}function yS(t,e,n,i){return i?(t=VH(t,e,n),t=vS(t,n,e)):t=vS(t,e,n),t}function VH(t,e,n){return t===e?n:t===n?e:t}function vS(t,e,n){return t==="start"?e:t==="end"?n:t}function zH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class cp extends lh{parsePrimitiveData(e,n,i,s){return gS(e,n,i,s)}parseArrayData(e,n,i,s){return gS(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:a,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=a.axis==="x"?u:h,p=l.axis==="x"?u:h,v=[];let x,_,E,C;for(x=i,_=i+s;x<_;++x)C=n[x],E={},E[a.axis]=a.parse(hu(C,m),x),v.push(II(hu(C,p),E,l,x));return v}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(e),l=a._custom,u=kv(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,s);for(let _=n;_<n+i;_++){const E=this.getParsed(_),C=a||jt(E[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),S=this._calculateBarIndexPixels(_,p),N=(E._stacks||{})[u.axis],U={horizontal:m,base:C.base,enableBorderRadius:!N||kv(E._custom)||l===N._top||l===N._bottom,x:m?C.head:S.center,y:m?S.center:C.head,height:m?S.size:Math.abs(C.size),width:m?Math.abs(C.size):S.size};x&&(U.options=v||this.resolveDataElementOptions(_,e[_].active?"active":s));const V=U.options||e[_].options;LH(U,V,N,l),zH(U,V,p.ratio),this.updateElement(e[_],_,U,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),h=u&&u[i.axis],m=p=>{const v=p._parsed.find(_=>_[i.axis]===h),x=v&&v[p.vScale.axis];if(jt(x)||isNaN(x))return!0};for(const p of s)if(!(n!==void 0&&m(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=e.barThickness;return{min:u||jH(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(e),m=h._custom,p=kv(m);let v=h[n.axis],x=0,_=i?this.applyStack(n,h,i):v,E,C;_!==v&&(x=_-v,_=v),p&&(v=m.barStart,_=m.barEnd-m.barStart,v!==0&&to(v)!==to(m.barEnd)&&(x=0),x+=v);const S=!jt(a)&&!p?a:x;let N=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?E=n.getPixelForValue(x+_):E=N,C=E-N,Math.abs(C)<l){C=DH(C,n,u)*l,v===u&&(N-=C/2);const U=n.getPixelForDecimal(0),V=n.getPixelForDecimal(1),$=Math.min(U,V),q=Math.max(U,V);N=Math.max(Math.min(N,q),$),E=N+C,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(N))}if(N===n.getPixelForValue(u)){const U=to(C)*n.getLineWidthForValue(u)/2;N+=U,C-=U}return{size:C,base:N,head:E,center:E+C/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,a=s.skipNull,l=vt(s.maxBarThickness,1/0);let u,h;if(n.grouped){const m=a?this._getStackCount(e):n.stackCount,p=s.barThickness==="flex"?PH(e,n,s,m):IH(e,n,s,m),v=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);u=p.start+p.chunk*v+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,n.min*n.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Be(cp,"id","bar"),Be(cp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Be(cp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function il(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lw{constructor(e){Be(this,"options");this.options=e||{}}static override(e){Object.assign(Lw.prototype,e)}init(){}formats(){return il()}parse(){return il()}format(){return il()}add(){return il()}diff(){return il()}startOf(){return il()}endOf(){return il()}}var UH={_date:Lw};function BH(t,e,n,i){const{controller:s,data:a,_sorted:l}=t,u=s._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const m=u._reversePixels?CF:Sb;if(i){if(s._sharedOptions){const p=a[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const x=m(a,e,n-v),_=m(a,e,n+v);return{lo:x.lo,hi:_.hi}}}}else{const p=m(a,e,n);if(h){const{vScale:v}=s._cachedMeta,{_parsed:x}=t,_=x.slice(0,p.lo+1).reverse().findIndex(C=>!jt(C[v.axis]));p.lo-=Math.max(0,_);const E=x.slice(p.hi).findIndex(C=>!jt(C[v.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:a.length-1}}function Xg(t,e,n,i,s){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,h=a.length;u<h;++u){const{index:m,data:p}=a[u],{lo:v,hi:x}=BH(a[u],e,l,s);for(let _=v;_<=x;++_){const E=p[_];E.skip||i(E,m,_)}}}function FH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const a=e?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Rv(t,e,n,i,s){const a=[];return!s&&!t.isPointInArea(e)||Xg(t,n,e,function(u,h,m){!s&&!_I(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:m})},!0),a}function HH(t,e,n,i){let s=[];function a(l,u,h){const{startAngle:m,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:v}=dI(l,{x:e.x,y:e.y});hI(v,m,p)&&s.push({element:l,datasetIndex:u,index:h})}return Xg(t,n,e,a),s}function qH(t,e,n,i,s,a){let l=[];const u=FH(n);let h=Number.POSITIVE_INFINITY;function m(p,v,x){const _=p.inRange(e.x,e.y,s);if(i&&!_)return;const E=p.getCenterPoint(s);if(!(!!a||t.isPointInArea(E))&&!_)return;const S=u(e,E);S<h?(l=[{element:p,datasetIndex:v,index:x}],h=S):S===h&&l.push({element:p,datasetIndex:v,index:x})}return Xg(t,n,e,m),l}function Nv(t,e,n,i,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?HH(t,e,n,s):qH(t,e,n,i,s,a)}function bS(t,e,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Xg(t,n,e,(h,m,p)=>{h[l]&&h[l](e[n],s)&&(a.push({element:h,datasetIndex:m,index:p}),u=u||h.inRange(e.x,e.y,s))}),i&&!u?[]:a}var $H={modes:{index(t,e,n,i){const s=al(e,t),a=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Rv(t,s,a,i,l):Nv(t,s,a,!1,i,l),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,v=m.data[p];v&&!v.skip&&h.push({element:v,datasetIndex:m.index,index:p})}),h):[]},dataset(t,e,n,i){const s=al(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Rv(t,s,a,i,l):Nv(t,s,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,m=t.getDatasetMeta(h).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:h,index:p})}return u},point(t,e,n,i){const s=al(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Rv(t,s,a,i,l)},nearest(t,e,n,i){const s=al(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Nv(t,s,a,n.intersect,i,l)},x(t,e,n,i){const s=al(e,t);return bS(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=al(e,t);return bS(t,s,"y",n.intersect,i)}}};const PI=["left","top","right","bottom"];function Vd(t,e){return t.filter(n=>n.pos===e)}function xS(t,e){return t.filter(n=>PI.indexOf(n.pos)===-1&&n.box.axis===e)}function zd(t,e){return t.sort((n,i)=>{const s=e?i:n,a=e?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function WH(t){const e=[];let n,i,s,a,l,u;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:a,options:{stack:l,stackWeight:u=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return e}function GH(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!PI.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function KH(t,e){const n=GH(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let a,l,u;for(a=0,l=t.length;a<l;++a){u=t[a];const{fullSize:h}=u.box,m=n[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:h&&e.availableHeight)}return n}function YH(t){const e=WH(t),n=zd(e.filter(m=>m.box.fullSize),!0),i=zd(Vd(e,"left"),!0),s=zd(Vd(e,"right")),a=zd(Vd(e,"top"),!0),l=zd(Vd(e,"bottom")),u=xS(e,"x"),h=xS(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Vd(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(u)}}function wS(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function MI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function XH(t,e,n,i){const{pos:s,box:a}=n,l=t.maxPadding;if(!dt(s)){n.size&&(t[s]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?a.height:a.width),n.size=v.size/v.count,t[s]+=n.size}a.getPadding&&MI(l,a.getPadding());const u=Math.max(0,e.outerWidth-wS(l,t,"left","right")),h=Math.max(0,e.outerHeight-wS(l,t,"top","bottom")),m=u!==t.w,p=h!==t.h;return t.w=u,t.h=h,n.horizontal?{same:m,other:p}:{same:p,other:m}}function QH(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ZH(t,e){const n=e.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return i(t?["left","right"]:["top","bottom"])}function Xd(t,e,n,i){const s=[];let a,l,u,h,m,p;for(a=0,l=t.length,m=0;a<l;++a){u=t[a],h=u.box,h.update(u.width||e.w,u.height||e.h,ZH(u.horizontal,e));const{same:v,other:x}=XH(e,n,u,i);m|=v&&s.length,p=p||x,h.fullSize||s.push(u)}return m&&Xd(s,e,n,i)||p}function Lm(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function _S(t,e,n,i){const s=n.padding;let{x:a,y:l}=e;for(const u of t){const h=u.box,m=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const v=e.w*p,x=m.size||h.height;Ch(m.start)&&(l=m.start),h.fullSize?Lm(h,s.left,l,n.outerWidth-s.right-s.left,x):Lm(h,e.left+m.placed,l,v,x),m.start=l,m.placed+=v,l=h.bottom}else{const v=e.h*p,x=m.size||h.width;Ch(m.start)&&(a=m.start),h.fullSize?Lm(h,a,s.top,x,n.outerHeight-s.bottom-s.top):Lm(h,a,e.top+m.placed,x,v),m.start=a,m.placed+=v,a=h.right}}e.x=a,e.y=l}var Ga={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=js(t.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(n-s.height,0),u=YH(t.boxes),h=u.vertical,m=u.horizontal;_t(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const p=h.reduce((C,S)=>S.box.options&&S.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),x=Object.assign({},s);MI(x,js(i));const _=Object.assign({maxPadding:x,w:a,h:l,x:s.left,y:s.top},s),E=KH(h.concat(m),v);Xd(u.fullSize,_,v,E),Xd(h,_,v,E),Xd(m,_,v,E)&&Xd(h,_,v,E),QH(_),_S(u.leftAndTop,_,v,E),_.x+=_.w,_.y+=_.h,_S(u.rightAndBottom,_,v,E),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},_t(u.chartArea,C=>{const S=C.box;Object.assign(S,t.chartArea),S.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class DI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class JH extends DI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const up="$chartjs",eq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ES=t=>t===null||t==="";function tq(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[up]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ES(s)){const a=cS(t,"width");a!==void 0&&(t.width=a)}if(ES(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=cS(t,"height");a!==void 0&&(t.height=a)}return t}const OI=dH?{passive:!0}:!1;function nq(t,e,n){t&&t.addEventListener(e,n,OI)}function iq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,OI)}function sq(t,e){const n=eq[t.type]||t.type,{x:i,y:s}=al(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function og(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function rq(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||og(u.addedNodes,i),l=l&&!og(u.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function aq(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||og(u.removedNodes,i),l=l&&!og(u.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const kh=new Map;let TS=0;function LI(){const t=window.devicePixelRatio;t!==TS&&(TS=t,kh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oq(t,e){kh.size||window.addEventListener("resize",LI),kh.set(t,e)}function lq(t){kh.delete(t),kh.size||window.removeEventListener("resize",LI)}function cq(t,e,n){const i=t.canvas,s=i&&Ow(i);if(!s)return;const a=gI((u,h)=>{const m=s.clientWidth;n(u,h),m<s.clientWidth&&n()},window),l=new ResizeObserver(u=>{const h=u[0],m=h.contentRect.width,p=h.contentRect.height;m===0&&p===0||a(m,p)});return l.observe(s),oq(t,a),l}function jv(t,e,n){n&&n.disconnect(),e==="resize"&&lq(t)}function uq(t,e,n){const i=t.canvas,s=gI(a=>{t.ctx!==null&&n(sq(a,t))},t);return nq(i,e,s),s}class dq extends DI{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(tq(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[up])return!1;const i=n[up].initial;["height","width"].forEach(a=>{const l=i[a];jt(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[up],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:rq,detach:aq,resize:cq}[n]||uq;s[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:jv,detach:jv,resize:jv}[n]||iq)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return uH(e,n,i,s)}isAttached(e){const n=e&&Ow(e);return!!(n&&n.isConnected)}}function hq(t){return!Dw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?JH:dq}var Gm;let Nu=(Gm=class{constructor(){Be(this,"x");Be(this,"y");Be(this,"active",!1);Be(this,"options");Be(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ig(this.x)&&ig(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},Be(Gm,"defaults",{}),Be(Gm,"defaultRoutes"),Gm);function fq(t,e){const n=t.options.ticks,i=mq(t),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?gq(e):[],l=a.length,u=a[0],h=a[l-1],m=[];if(l>s)return yq(e,m,a,l/s),m;const p=pq(a,e,s);if(l>0){let v,x;const _=l>1?Math.round((h-u)/(l-1)):null;for(Vm(e,m,p,jt(_)?0:u-_,u),v=0,x=l-1;v<x;v++)Vm(e,m,p,a[v],a[v+1]);return Vm(e,m,p,h,jt(_)?e.length:h+_),m}return Vm(e,m,p),m}function mq(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function pq(t,e,n){const i=vq(t),s=e.length/n;if(!i)return Math.max(s,1);const a=xF(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function gq(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function yq(t,e,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===a&&(e.push(t[l]),s++,a=n[s*i])}function Vm(t,e,n,i,s){const a=vt(i,0),l=Math.min(vt(s,t.length),t.length);let u=0,h,m,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)u++,p=Math.round(a+u*n);for(m=Math.max(a,0);m<l;m++)m===p&&(e.push(t[m]),u++,p=Math.round(a+u*n))}function vq(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const bq=t=>t==="left"?"right":t==="right"?"left":t,AS=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,SS=(t,e)=>Math.min(e||t,t);function CS(t,e){const n=[],i=t.length/e,s=t.length;let a=0;for(;a<s;a+=i)n.push(t[Math.floor(a)]);return n}function xq(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),a=t._startPixel,l=t._endPixel,u=1e-6;let h=t.getPixelForTick(s),m;if(!(n&&(i===1?m=Math.max(h-a,l-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(s-1))/2,h+=s<e?m:-m,h<a-u||h>l+u)))return h}function wq(t,e){_t(t,n=>{const i=n.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function Ud(t){return t.drawTicks?t.tickLength:0}function kS(t,e){if(!t.display)return 0;const n=Si(t.font,e),i=js(t.padding);return(In(t.text)?t.text.length:1)*n.lineHeight+i.height}function _q(t,e){return Ru(t,{scale:e,type:"scale"})}function Eq(t,e,n){return Ru(t,{tick:n,index:e,type:"tick"})}function Tq(t,e,n){let i=yI(t);return(n&&e!=="right"||!n&&e==="right")&&(i=bq(i)),i}function Aq(t,e,n,i){const{top:s,left:a,bottom:l,right:u,chart:h}=t,{chartArea:m,scales:p}=h;let v=0,x,_,E;const C=l-s,S=u-a;if(t.isHorizontal()){if(_=Fi(i,a,u),dt(n)){const N=Object.keys(n)[0],U=n[N];E=p[N].getPixelForValue(U)+C-e}else n==="center"?E=(m.bottom+m.top)/2+C-e:E=AS(t,n,e);x=u-a}else{if(dt(n)){const N=Object.keys(n)[0],U=n[N];_=p[N].getPixelForValue(U)-S+e}else n==="center"?_=(m.left+m.right)/2-S+e:_=AS(t,n,e);E=Fi(i,l,s),v=n==="left"?-Hn:Hn}return{titleX:_,titleY:E,maxWidth:x,rotation:v}}class ju extends Nu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Xs(e,Number.POSITIVE_INFINITY),n=Xs(n,Number.NEGATIVE_INFINITY),i=Xs(i,Number.POSITIVE_INFINITY),s=Xs(s,Number.NEGATIVE_INFINITY),{min:Xs(e,i),max:Xs(n,s),minDefined:ys(e),maxDefined:ys(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,m=u.length;h<m;++h)l=u[h].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:Xs(n,Xs(i,n)),max:Xs(i,Xs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=YF(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?CS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=fq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lt(this.options.afterUpdate,[this])}beforeSetDimensions(){Lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i],a.label=Lt(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=SS(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,u,h,m;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),v=p.widest.width,x=p.highest.height,_=Ai(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-Ud(e.grid)-n.padding-kS(e.title,this.chart.options.font),m=Math.sqrt(v*v+x*x),l=TF(Math.min(Math.asin(Ai((p.highest.height+6)/u,-1,1)),Math.asin(Ai(h/m,-1,1))-Math.asin(Ai(x/m,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=kS(s,n.options.font);if(u?(e.width=this.maxWidth,e.height=Ud(a)+h):(e.height=this.maxHeight,e.width=Ud(a)+h),i.display&&this.ticks.length){const{first:m,last:p,widest:v,highest:x}=this._getLabelSizes(),_=i.padding*2,E=ul(this.labelRotation),C=Math.cos(E),S=Math.sin(E);if(u){const N=i.mirror?0:S*v.width+C*x.height;e.height=Math.min(this.maxHeight,e.height+N+_)}else{const N=i.mirror?0:C*v.width+S*x.height;e.width=Math.min(this.maxWidth,e.width+N+_)}this._calculatePadding(m,p,S,C)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,_=0;h?m?(x=s*e.width,_=i*n.height):(x=i*e.height,_=s*n.width):a==="start"?_=n.width:a==="end"?x=e.width:a!=="inner"&&(x=e.width/2,_=n.width/2),this.paddingLeft=Math.max((x-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-v+l)*this.width/(this.width-v),0)}else{let p=n.height/2,v=e.height/2;a==="start"?(p=0,v=e.height):a==="end"&&(p=n.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)jt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=CS(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(n/SS(n,i));let m=0,p=0,v,x,_,E,C,S,N,U,V,$,q;for(v=0;v<n;v+=h){if(E=e[v].label,C=this._resolveTickFontOptions(v),s.font=S=C.string,N=a[S]=a[S]||{data:{},gc:[]},U=C.lineHeight,V=$=0,!jt(E)&&!In(E))V=iS(s,N.data,N.gc,V,E),$=U;else if(In(E))for(x=0,_=E.length;x<_;++x)q=E[x],!jt(q)&&!In(q)&&(V=iS(s,N.data,N.gc,V,q),$+=U);l.push(V),u.push($),m=Math.max(V,m),p=Math.max($,p)}wq(a,n);const J=l.indexOf(m),z=u.indexOf(p),k=P=>({width:l[P]||0,height:u[P]||0});return{first:k(0),last:k(n-1),widest:k(J),highest:k(z),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return SF(this._alignToPixels?nl(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Eq(this.getContext(),e,i))}return this.$context||(this.$context=_q(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ul(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,h=a.offset,m=this.isHorizontal(),v=this.ticks.length+(h?1:0),x=Ud(a),_=[],E=u.setContext(this.getContext()),C=E.display?E.width:0,S=C/2,N=function(W){return nl(i,W,C)};let U,V,$,q,J,z,k,P,O,L,D,R;if(l==="top")U=N(this.bottom),z=this.bottom-x,P=U-S,L=N(e.top)+S,R=e.bottom;else if(l==="bottom")U=N(this.top),L=e.top,R=N(e.bottom)-S,z=U+S,P=this.top+x;else if(l==="left")U=N(this.right),J=this.right-x,k=U-S,O=N(e.left)+S,D=e.right;else if(l==="right")U=N(this.left),O=e.left,D=N(e.right)-S,J=U+S,k=this.left+x;else if(n==="x"){if(l==="center")U=N((e.top+e.bottom)/2+.5);else if(dt(l)){const W=Object.keys(l)[0],ne=l[W];U=N(this.chart.scales[W].getPixelForValue(ne))}L=e.top,R=e.bottom,z=U+S,P=z+x}else if(n==="y"){if(l==="center")U=N((e.left+e.right)/2);else if(dt(l)){const W=Object.keys(l)[0],ne=l[W];U=N(this.chart.scales[W].getPixelForValue(ne))}J=U-S,k=J-x,O=e.left,D=e.right}const ae=vt(s.ticks.maxTicksLimit,v),ee=Math.max(1,Math.ceil(v/ae));for(V=0;V<v;V+=ee){const W=this.getContext(V),ne=a.setContext(W),he=u.setContext(W),ve=ne.lineWidth,B=ne.color,oe=he.dash||[],pe=he.dashOffset,me=ne.tickWidth,xe=ne.tickColor,Re=ne.tickBorderDash||[],Te=ne.tickBorderDashOffset;$=xq(this,V,h),$!==void 0&&(q=nl(i,$,ve),m?J=k=O=D=q:z=P=L=R=q,_.push({tx1:J,ty1:z,tx2:k,ty2:P,x1:O,y1:L,x2:D,y2:R,width:ve,color:B,borderDash:oe,borderDashOffset:pe,tickWidth:me,tickColor:xe,tickBorderDash:Re,tickBorderDashOffset:Te}))}return this._ticksLength=v,this._borderValue=U,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:m,padding:p,mirror:v}=a,x=Ud(i.grid),_=x+p,E=v?-p:_,C=-ul(this.labelRotation),S=[];let N,U,V,$,q,J,z,k,P,O,L,D,R="middle";if(s==="top")J=this.bottom-E,z=this._getXAxisLabelAlignment();else if(s==="bottom")J=this.top+E,z=this._getXAxisLabelAlignment();else if(s==="left"){const ee=this._getYAxisLabelAlignment(x);z=ee.textAlign,q=ee.x}else if(s==="right"){const ee=this._getYAxisLabelAlignment(x);z=ee.textAlign,q=ee.x}else if(n==="x"){if(s==="center")J=(e.top+e.bottom)/2+_;else if(dt(s)){const ee=Object.keys(s)[0],W=s[ee];J=this.chart.scales[ee].getPixelForValue(W)+_}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")q=(e.left+e.right)/2-_;else if(dt(s)){const ee=Object.keys(s)[0],W=s[ee];q=this.chart.scales[ee].getPixelForValue(W)}z=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(h==="start"?R="top":h==="end"&&(R="bottom"));const ae=this._getLabelSizes();for(N=0,U=u.length;N<U;++N){V=u[N],$=V.label;const ee=a.setContext(this.getContext(N));k=this.getPixelForTick(N)+a.labelOffset,P=this._resolveTickFontOptions(N),O=P.lineHeight,L=In($)?$.length:1;const W=L/2,ne=ee.color,he=ee.textStrokeColor,ve=ee.textStrokeWidth;let B=z;l?(q=k,z==="inner"&&(N===U-1?B=this.options.reverse?"left":"right":N===0?B=this.options.reverse?"right":"left":B="center"),s==="top"?m==="near"||C!==0?D=-L*O+O/2:m==="center"?D=-ae.highest.height/2-W*O+O:D=-ae.highest.height+O/2:m==="near"||C!==0?D=O/2:m==="center"?D=ae.highest.height/2-W*O:D=ae.highest.height-L*O,v&&(D*=-1),C!==0&&!ee.showLabelBackdrop&&(q+=O/2*Math.sin(C))):(J=k,D=(1-L)*O/2);let oe;if(ee.showLabelBackdrop){const pe=js(ee.backdropPadding),me=ae.heights[N],xe=ae.widths[N];let Re=D-pe.top,Te=0-pe.left;switch(R){case"middle":Re-=me/2;break;case"bottom":Re-=me;break}switch(z){case"center":Te-=xe/2;break;case"right":Te-=xe;break;case"inner":N===U-1?Te-=xe:N>0&&(Te-=xe/2);break}oe={left:Te,top:Re,width:xe+pe.width,height:me+pe.height,color:ee.backdropColor}}S.push({label:$,font:P,textOffset:D,options:{rotation:C,color:ne,strokeColor:he,strokeWidth:ve,textAlign:B,textBaseline:R,translation:[q,J],backdrop:oe}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ul(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let m,p;return n==="left"?s?(p=this.right+a,i==="near"?m="left":i==="center"?(m="center",p+=h/2):(m="right",p+=h)):(p=this.right-u,i==="near"?m="right":i==="center"?(m="center",p-=h/2):(m="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?m="right":i==="center"?(m="center",p-=h/2):(m="left",p-=h)):(p=this.left+u,i==="near"?m="left":i==="center"?(m="center",p+=h/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,m,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,p,v,x;this.isHorizontal()?(m=nl(e,this.left,l)-l/2,p=nl(e,this.right,u)+u/2,v=x=h):(v=nl(e,this.top,l)-l/2,x=nl(e,this.bottom,u)+u/2,m=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(m,v),n.lineTo(p,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Rw(i,s);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,m=l.label,p=l.textOffset;sg(i,m,0,p,h,u)}s&&Nw(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=Si(i.font),l=js(i.padding),u=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||dt(n)?(h+=l.bottom,In(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:m,titleY:p,maxWidth:v,rotation:x}=Aq(this,h,n,u);sg(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:x,textAlign:Tq(u,n,s),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=vt(e.grid&&e.grid.z,-1),s=vt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ju.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const u=n[a];u[i]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Si(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zm{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;kq(n)&&(i=this.register(n));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,Sq(e,l,i),this.override&&an.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in an[s]&&(delete an[s][i],this.override&&delete kl[i])}}function Sq(t,e,n){const i=Sh(Object.create(null),[n?an.get(n):{},an.get(e),t.defaults]);an.set(e,i),t.defaultRoutes&&Cq(e,t.defaultRoutes),t.descriptors&&an.describe(e,t.descriptors)}function Cq(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),a=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),h=l.join(".");an.route(a,s,h,u)})}function kq(t){return"id"in t&&"defaults"in t}class Rq{constructor(){this.controllers=new zm(lh,"datasets",!0),this.elements=new zm(Nu,"elements"),this.plugins=new zm(Object,"plugins"),this.scales=new zm(ju,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):_t(s,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const s=Cw(e);Lt(i["before"+s],[],i),n[e](i),Lt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Zs=new Rq;class Nq{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,s){s=s||{};for(const a of e){const l=a.plugin,u=l[i],h=[n,s,a.options];if(Lt(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=vt(i.options&&i.options.plugins,{}),a=jq(i);return s===!1&&!n?[]:Pq(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function jq(t){const e={},n=[],i=Object.keys(Zs.plugins.items);for(let a=0;a<i.length;a++)n.push(Zs.getPlugin(i[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function Iq(t,e){return!e&&t===!1?null:t===!0?{}:t}function Pq(t,{plugins:e,localIds:n},i,s){const a=[],l=t.getContext();for(const u of e){const h=u.id,m=Iq(i[h],s);m!==null&&a.push({plugin:u,options:Mq(t.config,{plugin:u,local:n[h]},m,l)})}return a}function Mq(t,{plugin:e,local:n},i,s){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(i,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kb(t,e){const n=an.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Dq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Oq(t,e){return t===e?"_index_":"_value_"}function RS(t){if(t==="x"||t==="y"||t==="r")return t}function Lq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Rb(t,...e){if(RS(t))return t;for(const n of e){const i=n.axis||Lq(n.position)||t.length>1&&RS(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function NS(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Vq(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return NS(t,"x",n[0])||NS(t,"y",n[0])}return{}}function zq(t,e){const n=kl[t.type]||{scales:{}},i=e.scales||{},s=kb(t.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!dt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Rb(l,u,Vq(l,t),an.scales[u.type]),m=Oq(h,s),p=n.scales||{};a[l]=rh(Object.create(null),[{axis:h},u,p[h],p[m]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,h=l.indexAxis||kb(u,e),p=(kl[u]||{}).scales||{};Object.keys(p).forEach(v=>{const x=Dq(v,h),_=l[x+"AxisID"]||x;a[_]=a[_]||Object.create(null),rh(a[_],[{axis:x},i[_],p[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];rh(u,[an.scales[u.type],an.scale])}),a}function VI(t){const e=t.options||(t.options={});e.plugins=vt(e.plugins,{}),e.scales=zq(t,e)}function zI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Uq(t){return t=t||{},t.data=zI(t.data),VI(t),t}const jS=new Map,UI=new Set;function Um(t,e){let n=jS.get(t);return n||(n=e(),jS.set(t,n),UI.add(n)),n}const Bd=(t,e,n)=>{const i=hu(e,n);i!==void 0&&t.add(i)};class Bq{constructor(e){this._config=Uq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=zI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),VI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Um(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Um(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Um(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Um(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:a}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const h=new Set;n.forEach(p=>{e&&(h.add(e),p.forEach(v=>Bd(h,e,v))),p.forEach(v=>Bd(h,s,v)),p.forEach(v=>Bd(h,kl[a]||{},v)),p.forEach(v=>Bd(h,an,v)),p.forEach(v=>Bd(h,Cb,v))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),UI.has(n)&&l.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,kl[n]||{},an.datasets[n]||{},{type:n},an,Cb]}resolveNamedOptions(e,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=IS(this._resolverCache,e,s);let h=l;if(Hq(l,n)){a.$shared=!1,i=co(i)?i():i;const m=this.createResolver(e,i,u);h=fu(l,i,m)}for(const m of n)a[m]=h[m];return a}createResolver(e,n,i=[""],s){const{resolver:a}=IS(this._resolverCache,e,i);return dt(n)?fu(a,n,void 0,s):a}}function IS(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let a=i.get(s);return a||(a={resolver:Iw(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const Fq=t=>dt(t)&&Object.getOwnPropertyNames(t).some(e=>co(t[e]));function Hq(t,e){const{isScriptable:n,isIndexable:i}=TI(t);for(const s of e){const a=n(s),l=i(s),u=(l||a)&&t[s];if(a&&(co(u)||Fq(u))||l&&In(u))return!0}return!1}var qq="4.4.9";const $q=["top","bottom","left","right","chartArea"];function PS(t,e){return t==="top"||t==="bottom"||$q.indexOf(t)===-1&&e==="x"}function MS(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function DS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Lt(n&&n.onComplete,[t],e)}function Wq(t){const e=t.chart,n=e.options.animation;Lt(n&&n.onProgress,[t],e)}function BI(t){return Dw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const dp={},OS=t=>{const e=BI(t);return Object.values(dp).filter(n=>n.canvas===e).pop()};function Gq(t,e,n){const i=Object.keys(t);for(const s of i){const a=+s;if(a>=e){const l=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=l)}}}function Kq(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var La;let Qg=(La=class{static register(...e){Zs.add(...e),LS()}static unregister(...e){Zs.remove(...e),LS()}constructor(e,n){const i=this.config=new Bq(n),s=BI(e),a=OS(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||hq(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,m=h&&h.height,p=h&&h.width;if(this.id=hF(),this.ctx=u,this.canvas=h,this.width=p,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Nq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NF(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],dp[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",DS),Br.listen(this,"progress",Wq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return jt(e)?n&&a?a:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sS(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(e,n){Br.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,lS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Lt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};_t(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const u=n[l],h=Rb(l,u),m=h==="r",p=h==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),_t(a,l=>{const u=l.options,h=u.id,m=Rb(h,u),p=vt(u.type,l.dtype);(u.position===void 0||PS(u.position,m)!==PS(l.dposition))&&(u.position=l.dposition),s[h]=!0;let v=null;if(h in i&&i[h].type===p)v=i[h];else{const x=Zs.getScale(p);v=new x({id:h,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),_t(s,(l,u)=>{l||delete i[u]}),_t(i,l=>{Ga.configure(this,l,l.options),Ga.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(MS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||kb(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Zs.getController(u),{datasetElementType:m,dataElementType:p}=an.datasets[u];Object.assign(h,{dataElementType:Zs.getElement(p),datasetElementType:m&&Zs.getElement(m)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){_t(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:v}=this.getDatasetMeta(m),x=!s&&a.indexOf(v)===-1;v.buildOrUpdateElements(x),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||_t(a,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(MS("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){_t(this.scales,e=>{Ga.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!KA(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;Gq(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!KA(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ga.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],_t(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,co(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),DS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=pH(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Rw(n,s),e.controller.draw(),s&&Nw(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return _I(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const a=$H.modes[n];return typeof a=="function"?a(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ru(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);Ch(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Br.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sS(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete dp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};_t(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},s=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},a=(h,m)=>{this.canvas&&this.resize(h,m)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){_t(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},_t(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let a,l,u,h;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!eg(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,a=(h,m)=>h.filter(p=>!m.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=a(n,e),u=i?e:a(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:a}=this,l=n,u=this._getActiveElements(e,s,i,l),h=vF(e),m=Kq(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Lt(a.onHover,[e,u,this],this),h&&Lt(a.onClick,[e,u,this],this));const p=!eg(u,s);return(p||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=m,p}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},Be(La,"defaults",an),Be(La,"instances",dp),Be(La,"overrides",kl),Be(La,"registry",Zs),Be(La,"version",qq),Be(La,"getChart",OS),La);function LS(){return _t(Qg.instances,t=>t._plugins.invalidate())}function Yq(t,e,n){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:u,innerRadius:h}=e;let m=s/u;t.beginPath(),t.arc(a,l,u,i-m,n+m),h>s?(m=s/h,t.arc(a,l,h,n+m,i-m,!0)):t.arc(a,l,s,n+Hn,i-Hn),t.closePath(),t.clip()}function Xq(t){return jw(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Qq(t,e,n,i){const s=Xq(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,i*e/2),u=h=>{const m=(n-Math.min(a,h))*i/2;return Ai(h,0,Math.min(a,m))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:Ai(s.innerStart,0,l),innerEnd:Ai(s.innerEnd,0,l)}}function Dc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function lg(t,e,n,i,s,a){const{x:l,y:u,startAngle:h,pixelMargin:m,innerRadius:p}=e,v=Math.max(e.outerRadius+i+n-m,0),x=p>0?p+i+n+m:0;let _=0;const E=s-h;if(i){const ee=p>0?p-i:0,W=v>0?v-i:0,ne=(ee+W)/2,he=ne!==0?E*ne/(ne+i):E;_=(E-he)/2}const C=Math.max(.001,E*v-n/ii)/v,S=(E-C)/2,N=h+S+_,U=s-S-_,{outerStart:V,outerEnd:$,innerStart:q,innerEnd:J}=Qq(e,x,v,U-N),z=v-V,k=v-$,P=N+V/z,O=U-$/k,L=x+q,D=x+J,R=N+q/L,ae=U-J/D;if(t.beginPath(),a){const ee=(P+O)/2;if(t.arc(l,u,v,P,ee),t.arc(l,u,v,ee,O),$>0){const ve=Dc(k,O,l,u);t.arc(ve.x,ve.y,$,O,U+Hn)}const W=Dc(D,U,l,u);if(t.lineTo(W.x,W.y),J>0){const ve=Dc(D,ae,l,u);t.arc(ve.x,ve.y,J,U+Hn,ae+Math.PI)}const ne=(U-J/x+(N+q/x))/2;if(t.arc(l,u,x,U-J/x,ne,!0),t.arc(l,u,x,ne,N+q/x,!0),q>0){const ve=Dc(L,R,l,u);t.arc(ve.x,ve.y,q,R+Math.PI,N-Hn)}const he=Dc(z,N,l,u);if(t.lineTo(he.x,he.y),V>0){const ve=Dc(z,P,l,u);t.arc(ve.x,ve.y,V,N-Hn,P)}}else{t.moveTo(l,u);const ee=Math.cos(P)*v+l,W=Math.sin(P)*v+u;t.lineTo(ee,W);const ne=Math.cos(O)*v+l,he=Math.sin(O)*v+u;t.lineTo(ne,he)}t.closePath()}function Zq(t,e,n,i,s){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){lg(t,e,n,i,h,s);for(let m=0;m<a;++m)t.fill();isNaN(u)||(h=l+(u%ui||ui))}return lg(t,e,n,i,h,s),t.fill(),h}function Jq(t,e,n,i,s){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:m,borderJoinStyle:p,borderDash:v,borderDashOffset:x}=h,_=h.borderAlign==="inner";if(!m)return;t.setLineDash(v||[]),t.lineDashOffset=x,_?(t.lineWidth=m*2,t.lineJoin=p||"round"):(t.lineWidth=m,t.lineJoin=p||"bevel");let E=e.endAngle;if(a){lg(t,e,n,i,E,s);for(let C=0;C<a;++C)t.stroke();isNaN(u)||(E=l+(u%ui||ui))}_&&Yq(t,e,E),a||(lg(t,e,n,i,E,s),t.stroke())}class Qd extends Nu{constructor(n){super();Be(this,"circumference");Be(this,"endAngle");Be(this,"fullCircles");Be(this,"innerRadius");Be(this,"outerRadius");Be(this,"pixelMargin");Be(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.getProps(["x","y"],s),{angle:l,distance:u}=dI(a,{x:n,y:i}),{startAngle:h,endAngle:m,innerRadius:p,outerRadius:v,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,E=vt(x,m-h),C=hI(l,h,m)&&h!==m,S=E>=ui||C,N=dl(u,p+_,v+_);return S&&N}getCenterPoint(n){const{x:i,y:s,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:m,spacing:p}=this.options,v=(a+l)/2,x=(u+h+p+m)/2;return{x:i+Math.cos(v)*x,y:s+Math.sin(v)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>ui?Math.floor(s/ui):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*a,Math.sin(h)*a);const m=1-Math.sin(Math.min(ii,s||0)),p=a*m;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,Zq(n,this,p,l,u),Jq(n,this,p,l,u),n.restore()}}Be(Qd,"id","arc"),Be(Qd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Be(Qd,"defaultRoutes",{backgroundColor:"backgroundColor"}),Be(Qd,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function FI(t,e){const{x:n,y:i,base:s,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let u,h,m,p,v;return t.horizontal?(v=l/2,u=Math.min(n,s),h=Math.max(n,s),m=i-v,p=i+v):(v=a/2,u=n-v,h=n+v,m=Math.min(i,s),p=Math.max(i,s)),{left:u,top:m,right:h,bottom:p}}function Ka(t,e,n,i){return t?0:Ai(e,n,i)}function e$(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,a=EI(i);return{t:Ka(s.top,a.top,0,n),r:Ka(s.right,a.right,0,e),b:Ka(s.bottom,a.bottom,0,n),l:Ka(s.left,a.left,0,e)}}function t$(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=Zc(s),l=Math.min(e,n),u=t.borderSkipped,h=i||dt(s);return{topLeft:Ka(!h||u.top||u.left,a.topLeft,0,l),topRight:Ka(!h||u.top||u.right,a.topRight,0,l),bottomLeft:Ka(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Ka(!h||u.bottom||u.right,a.bottomRight,0,l)}}function n$(t){const e=FI(t),n=e.right-e.left,i=e.bottom-e.top,s=e$(t,n/2,i/2),a=t$(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Iv(t,e,n,i){const s=e===null,a=n===null,u=t&&!(s&&a)&&FI(t,i);return u&&(s||dl(e,u.left,u.right))&&(a||dl(n,u.top,u.bottom))}function i$(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function s$(t,e){t.rect(e.x,e.y,e.w,e.h)}function Pv(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+a,h:t.h+l,radius:t.radius}}class hp extends Nu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=n$(this),u=i$(l.radius)?rg:s$;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),u(e,Pv(l,n,a)),e.clip(),u(e,Pv(a,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Pv(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Iv(this,e,n,i)}inXRange(e,n){return Iv(this,e,null,n)}inYRange(e,n){return Iv(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Be(hp,"id","bar"),Be(hp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Be(hp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const VS=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},r$=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class zS extends Nu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Lt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Si(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=VS(i,a);let m,p;n.font=s.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(l,a,u,h)+10):(p=this.maxHeight,m=this._fitCols(l,s,u,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],p=s+u;let v=e;a.textAlign="left",a.textBaseline="middle";let x=-1,_=-p;return this.legendItems.forEach((E,C)=>{const S=i+n/2+a.measureText(E.text).width;(C===0||m[m.length-1]+S+2*u>l)&&(v+=p,m[m.length-(C>0?0:1)]=0,_+=p,x++),h[C]={left:0,top:_,row:x,width:S,height:s},m[m.length-1]+=S+u}),v}_fitCols(e,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],p=l-e;let v=u,x=0,_=0,E=0,C=0;return this.legendItems.forEach((S,N)=>{const{itemWidth:U,itemHeight:V}=a$(i,n,a,S,s);N>0&&_+V+2*u>p&&(v+=x+u,m.push({width:x,height:_}),E+=x+u,C++,x=_=0),h[N]={left:E,top:_,col:C,width:U,height:V},x=Math.max(x,U),_+=V+u}),v+=x,m.push({width:x,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=Jc(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Fi(i,this.left+s,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,h=Fi(i,this.left+s,this.right-this.lineWidths[u])),m.top+=this.top+e+s,m.left=l.leftForLtr(l.x(h),m.width),h+=m.width+s}else{let u=0,h=Fi(i,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,h=Fi(i,this.top+e+s,this.bottom-this.columnSizes[u].height)),m.top=h,m.left+=this.left+s,m.left=l.leftForLtr(l.x(m.left),m.width),h+=m.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rw(e,this),this._draw(),Nw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=e,u=an.color,h=Jc(e.rtl,this.left,this.width),m=Si(l.font),{padding:p}=l,v=m.size,x=v/2;let _;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=m.string;const{boxWidth:E,boxHeight:C,itemHeight:S}=VS(l,v),N=function(J,z,k){if(isNaN(E)||E<=0||isNaN(C)||C<0)return;s.save();const P=vt(k.lineWidth,1);if(s.fillStyle=vt(k.fillStyle,u),s.lineCap=vt(k.lineCap,"butt"),s.lineDashOffset=vt(k.lineDashOffset,0),s.lineJoin=vt(k.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=vt(k.strokeStyle,u),s.setLineDash(vt(k.lineDash,[])),l.usePointStyle){const O={radius:C*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:P},L=h.xPlus(J,E/2),D=z+x;wI(s,O,L,D,l.pointStyleWidth&&E)}else{const O=z+Math.max((v-C)/2,0),L=h.leftForLtr(J,E),D=Zc(k.borderRadius);s.beginPath(),Object.values(D).some(R=>R!==0)?rg(s,{x:L,y:O,w:E,h:C,radius:D}):s.rect(L,O,E,C),s.fill(),P!==0&&s.stroke()}s.restore()},U=function(J,z,k){sg(s,k.text,J,z+S/2,m,{strikethrough:k.hidden,textAlign:h.textAlign(k.textAlign)})},V=this.isHorizontal(),$=this._computeTitleHeight();V?_={x:Fi(a,this.left+p,this.right-i[0]),y:this.top+p+$,line:0}:_={x:this.left+p,y:Fi(a,this.top+$+p,this.bottom-n[0].height),line:0},kI(this.ctx,e.textDirection);const q=S+p;this.legendItems.forEach((J,z)=>{s.strokeStyle=J.fontColor,s.fillStyle=J.fontColor;const k=s.measureText(J.text).width,P=h.textAlign(J.textAlign||(J.textAlign=l.textAlign)),O=E+x+k;let L=_.x,D=_.y;h.setWidth(this.width),V?z>0&&L+O+p>this.right&&(D=_.y+=q,_.line++,L=_.x=Fi(a,this.left+p,this.right-i[_.line])):z>0&&D+q>this.bottom&&(L=_.x=L+n[_.line].width+p,_.line++,D=_.y=Fi(a,this.top+$+p,this.bottom-n[_.line].height));const R=h.x(L);if(N(R,D,J),L=jF(P,L+E+x,V?L+O:this.right,e.rtl),U(h.x(L),D,J),V)_.x+=O+p;else if(typeof J.text!="string"){const ae=m.lineHeight;_.y+=HI(J,ae)+p}else _.y+=q}),RI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Si(n.font),s=js(n.padding);if(!n.display)return;const a=Jc(e.rtl,this.left,this.width),l=this.ctx,u=n.position,h=i.size/2,m=s.top+h;let p,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+m,v=Fi(e.align,v,this.right-x);else{const E=this.columnSizes.reduce((C,S)=>Math.max(C,S.height),0);p=m+Fi(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const _=Fi(u,v,v+x);l.textAlign=a.textAlign(yI(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,sg(l,n.text,_,p,i)}_computeTitleHeight(){const e=this.options.title,n=Si(e.font),i=js(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,a;if(dl(e,this.left,this.right)&&dl(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],dl(e,s.left,s.left+s.width)&&dl(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!c$(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=r$(s,i);s&&!a&&Lt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!a&&Lt(n.onHover,[e,i,this],this)}else i&&Lt(n.onClick,[e,i,this],this)}}function a$(t,e,n,i,s){const a=o$(i,t,e,n),l=l$(s,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function o$(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+i.measureText(s).width}function l$(t,e,n){let i=t;return typeof e.text!="string"&&(i=HI(e,n)),i}function HI(t,e){const n=t.text?t.text.length:0;return e*n}function c$(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var u$={id:"legend",_element:zS,start(t,e,n){const i=t.legend=new zS({ctx:t.ctx,options:n,chart:t});Ga.configure(t,i,n),Ga.addBox(t,i)},stop(t){Ga.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ga.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),p=js(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:s||m.textAlign,borderRadius:l&&(u||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Zd={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=t.length;a<l;++a){const h=t[a].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),p=AF(e,m);p<s&&(s=p,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Qs(t,e){return e&&(In(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function d$(t,e){const{element:n,datasetIndex:i,index:s}=e,a=t.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:t,label:l,parsed:a.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function US(t,e){const n=t.chart.ctx,{body:i,footer:s,title:a}=t,{boxWidth:l,boxHeight:u}=e,h=Si(e.bodyFont),m=Si(e.titleFont),p=Si(e.footerFont),v=a.length,x=s.length,_=i.length,E=js(e.padding);let C=E.height,S=0,N=i.reduce(($,q)=>$+q.before.length+q.lines.length+q.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,v&&(C+=v*m.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),N){const $=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;C+=_*$+(N-_)*h.lineHeight+(N-1)*e.bodySpacing}x&&(C+=e.footerMarginTop+x*p.lineHeight+(x-1)*e.footerSpacing);let U=0;const V=function($){S=Math.max(S,n.measureText($).width+U)};return n.save(),n.font=m.string,_t(t.title,V),n.font=h.string,_t(t.beforeBody.concat(t.afterBody),V),U=e.displayColors?l+2+e.boxPadding:0,_t(i,$=>{_t($.before,V),_t($.lines,V),_t($.after,V)}),U=0,n.font=p.string,_t(t.footer,V),n.restore(),S+=E.width,{width:S,height:C}}function h$(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function f$(t,e,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&s+a+l>e.width||t==="right"&&s-a-l<0)return!0}function m$(t,e,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:u,right:h}}=t;let m="center";return i==="center"?m=s<=(u+h)/2?"left":"right":s<=a/2?m="left":s>=l-a/2&&(m="right"),f$(m,t,e,n)&&(m="center"),m}function BS(t,e,n){const i=n.yAlign||e.yAlign||h$(t,n);return{xAlign:n.xAlign||e.xAlign||m$(t,e,n,i),yAlign:i}}function p$(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function g$(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function FS(t,e,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=t,{xAlign:u,yAlign:h}=n,m=s+a,{topLeft:p,topRight:v,bottomLeft:x,bottomRight:_}=Zc(l);let E=p$(e,u);const C=g$(e,h,m);return h==="center"?u==="left"?E+=m:u==="right"&&(E-=m):u==="left"?E-=Math.max(p,x)+s:u==="right"&&(E+=Math.max(v,_)+s),{x:Ai(E,0,i.width-e.width),y:Ai(C,0,i.height-e.height)}}function Bm(t,e,n){const i=js(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function HS(t){return Qs([],Fr(t))}function y$(t,e,n){return Ru(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function qS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const qI={beforeTitle:Ur,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return jt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function xi(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?qI[e].call(n,i):s}class Nb extends Nu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new NI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=y$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=xi(i,"beforeTitle",this,e),a=xi(i,"title",this,e),l=xi(i,"afterTitle",this,e);let u=[];return u=Qs(u,Fr(s)),u=Qs(u,Fr(a)),u=Qs(u,Fr(l)),u}getBeforeBody(e,n){return HS(xi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return _t(e,a=>{const l={before:[],lines:[],after:[]},u=qS(i,a);Qs(l.before,Fr(xi(u,"beforeLabel",this,a))),Qs(l.lines,xi(u,"label",this,a)),Qs(l.after,Fr(xi(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,n){return HS(xi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=xi(i,"beforeFooter",this,e),a=xi(i,"footer",this,e),l=xi(i,"afterFooter",this,e);let u=[];return u=Qs(u,Fr(s)),u=Qs(u,Fr(a)),u=Qs(u,Fr(l)),u}_createItems(e){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],h,m;for(h=0,m=n.length;h<m;++h)u.push(d$(this.chart,n[h]));return e.filter&&(u=u.filter((p,v,x)=>e.filter(p,v,x,i))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,i))),_t(u,p=>{const v=qS(e.callbacks,p);s.push(xi(v,"labelColor",this,p)),a.push(xi(v,"labelPointStyle",this,p)),l.push(xi(v,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Zd[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=US(this,i),m=Object.assign({},u,h),p=BS(this.chart,i,m),v=FS(i,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const a=this.getCaretPosition(e,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:v}=Zc(u),{x,y:_}=e,{width:E,height:C}=n;let S,N,U,V,$,q;return a==="center"?($=_+C/2,s==="left"?(S=x,N=S-l,V=$+l,q=$-l):(S=x+E,N=S+l,V=$-l,q=$+l),U=S):(s==="left"?N=x+Math.max(h,p)+l:s==="right"?N=x+E-Math.max(m,v)-l:N=this.caretX,a==="top"?(V=_,$=V-l,S=N-l,U=N+l):(V=_+C,$=V+l,S=N+l,U=N-l),q=V),{x1:S,x2:N,x3:U,y1:V,y2:$,y3:q}}drawTitle(e,n,i){const s=this.title,a=s.length;let l,u,h;if(a){const m=Jc(i.rtl,this.x,this.width);for(e.x=Bm(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",l=Si(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],m.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:m}=a,p=Si(a.bodyFont),v=Bm(this,"left",a),x=s.x(v),_=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+_;if(a.usePointStyle){const C={radius:Math.min(m,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=s.leftForLtr(x,m)+m/2,N=E+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,rS(e,C,S,N),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,rS(e,C,S,N)}else{e.lineWidth=dt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const C=s.leftForLtr(x,m),S=s.leftForLtr(s.xPlus(x,1),m-2),N=Zc(l.borderRadius);Object.values(N).some(U=>U!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,rg(e,{x:C,y:E,w:m,h,radius:N}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),rg(e,{x:S,y:E+1,w:m-2,h:h-2,radius:N}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(C,E,m,h),e.strokeRect(C,E,m,h),e.fillStyle=l.backgroundColor,e.fillRect(S,E+1,m-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:m,boxPadding:p}=i,v=Si(i.bodyFont);let x=v.lineHeight,_=0;const E=Jc(i.rtl,this.x,this.width),C=function(k){n.fillText(k,E.x(e.x+_),e.y+x/2),e.y+=x+a},S=E.textAlign(l);let N,U,V,$,q,J,z;for(n.textAlign=l,n.textBaseline="middle",n.font=v.string,e.x=Bm(this,S,i),n.fillStyle=i.bodyColor,_t(this.beforeBody,C),_=u&&S!=="right"?l==="center"?m/2+p:m+2+p:0,$=0,J=s.length;$<J;++$){for(N=s[$],U=this.labelTextColors[$],n.fillStyle=U,_t(N.before,C),V=N.lines,u&&V.length&&(this._drawColorBox(n,e,$,E,i),x=Math.max(v.lineHeight,h)),q=0,z=V.length;q<z;++q)C(V[q]),x=v.lineHeight;_t(N.after,C)}_=0,x=v.lineHeight,_t(this.afterBody,C),e.y-=a}drawFooter(e,n,i){const s=this.footer,a=s.length;let l,u;if(a){const h=Jc(i.rtl,this.x,this.width);for(e.x=Bm(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Si(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<a;++u)n.fillText(s[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:m,height:p}=i,{topLeft:v,topRight:x,bottomLeft:_,bottomRight:E}=Zc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+v,h),l==="top"&&this.drawCaret(e,n,i,s),n.lineTo(u+m-x,h),n.quadraticCurveTo(u+m,h,u+m,h+x),l==="center"&&a==="right"&&this.drawCaret(e,n,i,s),n.lineTo(u+m,h+p-E),n.quadraticCurveTo(u+m,h+p,u+m-E,h+p),l==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(u+_,h+p),n.quadraticCurveTo(u,h+p,u,h+p-_),l==="center"&&a==="left"&&this.drawCaret(e,n,i,s),n.lineTo(u,h+v),n.quadraticCurveTo(u,h,u+v,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Zd[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=US(this,e),h=Object.assign({},l,this._size),m=BS(n,e,h),p=FS(e,h,m,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=js(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,s,n),kI(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),RI(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:u,index:h})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[h],index:h}}),a=!eg(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,i),u=this._positionChanged(l,e),h=n||!eg(l,a)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:s,options:a}=this,l=Zd[a.position].call(this,e,n);return l!==!1&&(i!==l.x||s!==l.y)}}Be(Nb,"positioners",Zd);var v$={id:"tooltip",_element:Nb,positioners:Zd,afterInit(t,e,n){n&&(t.tooltip=new Nb({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const b$=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function x$(t,e,n,i){const s=t.indexOf(e);if(s===-1)return b$(t,e,n,i);const a=t.lastIndexOf(e);return s!==a?n:s}const w$=(t,e)=>t===null?null:Ai(Math.round(t),0,e);function $S(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class jb extends ju{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(jt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:x$(i,e,vt(n,e),this._addedLabels),w$(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return $S.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Be(jb,"id","category"),Be(jb,"defaults",{ticks:{callback:$S}});function _$(t,e){const n=[],{bounds:s,step:a,min:l,max:u,precision:h,count:m,maxTicks:p,maxDigits:v,includeBounds:x}=t,_=a||1,E=p-1,{min:C,max:S}=e,N=!jt(l),U=!jt(u),V=!jt(m),$=(S-C)/(v+1);let q=XA((S-C)/E/_)*_,J,z,k,P;if(q<1e-14&&!N&&!U)return[{value:C},{value:S}];P=Math.ceil(S/q)-Math.floor(C/q),P>E&&(q=XA(P*q/E/_)*_),jt(h)||(J=Math.pow(10,h),q=Math.ceil(q*J)/J),s==="ticks"?(z=Math.floor(C/q)*q,k=Math.ceil(S/q)*q):(z=C,k=S),N&&U&&a&&_F((u-l)/a,q/1e3)?(P=Math.round(Math.min((u-l)/q,p)),q=(u-l)/P,z=l,k=u):V?(z=N?l:z,k=U?u:k,P=m-1,q=(k-z)/P):(P=(k-z)/q,lp(P,Math.round(P),q/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(QA(q),QA(z));J=Math.pow(10,jt(h)?O:h),z=Math.round(z*J)/J,k=Math.round(k*J)/J;let L=0;for(N&&(x&&z!==l?(n.push({value:l}),z<l&&L++,lp(Math.round((z+L*q)*J)/J,l,WS(l,$,t))&&L++):z<l&&L++);L<P;++L){const D=Math.round((z+L*q)*J)/J;if(U&&D>u)break;n.push({value:D})}return U&&x&&k!==u?n.length&&lp(n[n.length-1].value,u,WS(u,$,t))?n[n.length-1].value=u:n.push({value:u}):(!U||k===u)&&n.push({value:k}),n}function WS(t,e,{horizontal:n,minRotation:i}){const s=ul(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class E$ extends ju{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return jt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,u=h=>a=i?a:h;if(e){const h=to(s),m=to(a);h<0&&m<0?u(0):h>0&&m>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);u(a+h),e||l(s-h)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=_$(s,a);return e.bounds==="ticks"&&EF(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return bI(e,this.chart.options.locale,this.options.ticks.format)}}class Ib extends E${determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ys(e)?e:0,this.max=ys(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ul(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Be(Ib,"id","linear"),Be(Ib,"defaults",{ticks:{callback:xI.formatters.numeric}});const Zg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ti=Object.keys(Zg);function GS(t,e){return t-e}function KS(t,e){if(jt(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:a}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),ys(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(ig(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function YS(t,e,n,i){const s=Ti.length;for(let a=Ti.indexOf(t);a<s-1;++a){const l=Zg[Ti[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return Ti[a]}return Ti[s-1]}function T$(t,e,n,i,s){for(let a=Ti.length-1;a>=Ti.indexOf(n);a--){const l=Ti[a];if(Zg[l].common&&t._adapter.diff(s,i,l)>=e-1)return l}return Ti[n?Ti.indexOf(n):0]}function A$(t){for(let e=Ti.indexOf(t)+1,n=Ti.length;e<n;++e)if(Zg[Ti[e]].common)return Ti[e]}function XS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=kw(n,e),a=n[i]>=e?n[i]:n[s];t[a]=!0}}function S$(t,e,n,i){const s=t._adapter,a=+s.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+s.add(u,1,i))h=n[u],h>=0&&(e[h].major=!0);return e}function QS(t,e,n){const i=[],s={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],s[u]=l,i.push({value:u,major:!1});return a===0||!n?i:S$(t,i,s,n)}class cg extends ju{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new UH._date(e.adapters.date);s.init(n),rh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:KS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(m){!l&&!isNaN(m.min)&&(s=Math.min(s,m.min)),!u&&!isNaN(m.max)&&(a=Math.max(a,m.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=ys(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=ys(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=kF(s,a,l);return this._unit=n.unit||(i.autoSkip?YS(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):T$(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:A$(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),QS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Ai(n,0,l),i=Ai(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||YS(a.minUnit,n,i,this._getLabelCapacity(n)),u=vt(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,m=ig(h)||h===!0,p={};let v=n,x,_;if(m&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,m?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(x=v,_=0;x<i;x=+e.add(x,u,l),_++)XS(p,x,E);return(x===i||s.bounds==="ticks"||_===1)&&XS(p,x,E),Object.keys(p).sort(GS).map(C=>+C)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return Lt(l,[e,n,i],this);const u=a.time.displayFormats,h=this._unit,m=this._majorUnit,p=h&&u[h],v=m&&u[m],x=i[n],_=m&&v&&x&&x.major;return this._adapter.format(e,s||(_?v:p))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=ul(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,QS(this,[e],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(KS(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mI(e.sort(GS))}}Be(cg,"id","time"),Be(cg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fm(t,e,n){let i=0,s=t.length-1,a,l,u,h;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Sb(t,"pos",e)),{pos:a,time:u}=t[i],{pos:l,time:h}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Sb(t,"time",e)),{time:a,pos:u}=t[i],{time:l,pos:h}=t[s]);const m=l-a;return m?u+(h-u)*(e-a)/m:u}class ZS extends cg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Fm(n,this.min),this._tableRange=Fm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],a=[];let l,u,h,m,p;for(l=0,u=e.length;l<u;++l)m=e[l],m>=n&&m<=i&&s.push(m);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],h=s[l-1],m=s[l],Math.round((p+h)/2)!==m&&a.push({time:m,pos:l/(u-1)});return a}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Fm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Fm(this._table,i*this._tableRange+this._minPos,!0)}}Be(ZS,"id","timeseries"),Be(ZS,"defaults",cg.defaults);const $I="label";function JS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function C$(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function WI(t,e){t.labels=e}function GI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$I;const i=[];t.datasets=e.map(s=>{const a=t.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function k$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$I;const n={labels:[],datasets:[]};return WI(n,t.labels),GI(n,t.datasets,e),n}function R$(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:m=[],fallbackContent:p,updateMode:v,...x}=t,_=I.useRef(null),E=I.useRef(null),C=()=>{_.current&&(E.current=new Qg(_.current,{type:l,data:k$(u,a),options:h&&{...h},plugins:m}),JS(e,E.current))},S=()=>{JS(e,null),E.current&&(E.current.destroy(),E.current=null)};return I.useEffect(()=>{!s&&E.current&&h&&C$(E.current,h)},[s,h]),I.useEffect(()=>{!s&&E.current&&WI(E.current.config.data,u.labels)},[s,u.labels]),I.useEffect(()=>{!s&&E.current&&u.datasets&&GI(E.current.config.data,u.datasets,a)},[s,u.datasets]),I.useEffect(()=>{E.current&&(s?(S(),setTimeout(C)):E.current.update(v))},[s,h,u.labels,u.datasets,v]),I.useEffect(()=>{E.current&&(S(),setTimeout(C))},[l]),I.useEffect(()=>(C(),()=>S()),[]),Y.createElement("canvas",{ref:_,role:"img",height:n,width:i,...x},p)}const N$=I.forwardRef(R$);function j$(t,e){return Qg.register(e),I.forwardRef((n,i)=>Y.createElement(N$,{...n,ref:i,type:t}))}const Hm=j$("bar",cp);Qg.register(Qd,hp,jb,Ib,v$,u$);function eC(){var da,Kl,xs,To,Ls,ws,Xi,Ii,Pi,Tn,Ut,ha,br,gi,Qi,Ao,So;const t=mr(),{user:e,products:n,fetchProducts:i,usuarios:s,fetchUsers:a,deleteUserFromDB:l,updateUserRoleInDB:u}=go(),[h,m]=I.useState({name:"",price:"",description:"",images:[],stock:"",mainImage:"",rating:"",reviews:"",material:"",color:"",category:""}),[p,v]=I.useState(!1),[x,_]=I.useState(null),[E,C]=I.useState(!1),[S,N]=I.useState(""),[U,V]=I.useState(n||[]),[$,q]=I.useState("analytics"),[J,z]=I.useState(""),[k,P]=I.useState(""),[O,L]=I.useState(!1),[D,R]=I.useState(0),ae=H=>{q(H),L(!1),R(ge=>ge+1)},[ee,W]=I.useState([]),[ne,he]=I.useState(""),[ve,B]=I.useState(!1),[oe,pe]=I.useState(null),[me,xe]=I.useState(""),[Re,Te]=I.useState(5),[kt,ft]=I.useState([]),[be,Ke]=I.useState(!1),[We,_n]=I.useState(null),[Qe,mi]=I.useState({code:"",discount:"",description:"",minOrderAmount:"",expiresAt:"",isActive:!0,usageLimit:"",usageCount:0}),[zt,Mn]=I.useState([]),[$n,ql]=I.useState(!1),[mt,yr]=I.useState(null),[vs,Du]=I.useState("");I.useEffect(()=>{(!e||e.rol!=="admin"&&e.role!=="admin")&&t("/")},[e]),I.useEffect(()=>{console.log("Llamando a fetchProducts y fetchUsers"),i(),a(),n&&n.length>0&&(console.log("Inicializando filteredProducts con productos existentes:",n),V(n))},[i,a,n]),I.useEffect(()=>{const H=Xr(Jn(Me,"reviews"),ge=>{const Se=ge.docs.map(Ne=>({id:Ne.id,...Ne.data()}));Se.sort((Ne,De)=>{var ct,ot,mn,An,Bt,Pt;const tt=(ct=Ne.createdAt)!=null&&ct.toMillis?Ne.createdAt.toMillis():((mn=(ot=Ne.createdAt)==null?void 0:ot.getTime)==null?void 0:mn.call(ot))||0;return((An=De.createdAt)!=null&&An.toMillis?De.createdAt.toMillis():((Pt=(Bt=De.createdAt)==null?void 0:Bt.getTime)==null?void 0:Pt.call(Bt))||0)-tt}),W(Se)});return()=>H()},[]),I.useEffect(()=>{const H=Xr(Jn(Me,"promoCodes"),ge=>{const Se=ge.docs.map(Ne=>({id:Ne.id,...Ne.data()}));Se.sort((Ne,De)=>{var ct,ot,mn,An,Bt,Pt;const tt=(ct=Ne.createdAt)!=null&&ct.toMillis?Ne.createdAt.toMillis():((mn=(ot=Ne.createdAt)==null?void 0:ot.getTime)==null?void 0:mn.call(ot))||0;return((An=De.createdAt)!=null&&An.toMillis?De.createdAt.toMillis():((Pt=(Bt=De.createdAt)==null?void 0:Bt.getTime)==null?void 0:Pt.call(Bt))||0)-tt}),ft(Se)});return()=>H()},[]),I.useEffect(()=>{const H=Xr(Jn(Me,"orders"),ge=>{const Se=ge.docs.map(Ne=>({id:Ne.id,...Ne.data()}));Se.sort((Ne,De)=>{var ct,ot,mn,An,Bt,Pt;const tt=(ct=Ne.createdAt)!=null&&ct.toMillis?Ne.createdAt.toMillis():((mn=(ot=Ne.createdAt)==null?void 0:ot.getTime)==null?void 0:mn.call(ot))||0;return((An=De.createdAt)!=null&&An.toMillis?De.createdAt.toMillis():((Pt=(Bt=De.createdAt)==null?void 0:Bt.getTime)==null?void 0:Pt.call(Bt))||0)-tt}),Mn(Se)});return()=>H()},[]),I.useEffect(()=>{if(console.log("Products actualizados:",n),n&&n.length>0)if(S.trim()){const H=n.filter(ge=>{var Se,Ne;return((Se=ge.name)==null?void 0:Se.toLowerCase().includes(S.toLowerCase()))||((Ne=ge.description)==null?void 0:Ne.toLowerCase().includes(S.toLowerCase()))});V(H)}else V([...n]);else V([])},[S,n]);const Wn=H=>{m({...h,[H.target.name]:H.target.value})},vo=H=>{N(H.target.value)},$l=H=>{const ge=Array.from(H.target.files);if(ge.length<1||ge.length>4){we.fire("Advertencia","Debes seleccionar entre 1 y 4 imgenes.","warning");return}const Se=2;if(ge.some(tt=>tt.size>Se*1024*1024)){we.fire("Error",`Cada imagen debe pesar menos de ${Se}MB.`,"error");return}const De=ge.map(tt=>new Promise((Rt,ct)=>{const ot=new FileReader;ot.onloadend=()=>Rt(ot.result),ot.onerror=ct,ot.readAsDataURL(tt)}));Promise.all(De).then(tt=>{m(Rt=>({...Rt,images:tt,mainImage:Rt.mainImage||tt[0]}))})},Ot=H=>{m(ge=>({...ge,mainImage:H}))},lt=()=>{const{name:H,price:ge,images:Se,stock:Ne,mainImage:De,rating:tt,reviews:Rt}=h;if(!H||!ge||Se.length<1||!Ne||!De)return we.fire("Error","Todos los campos son obligatorios y debe seleccionar una imagen principal.","error"),!1;const ct=tt===""?0:parseFloat(tt);if(isNaN(ct)||ct<0||ct>5)return we.fire("Error","El rating debe estar entre 0 y 5 (puedes usar pasos de 0.5).","error"),!1;const ot=Rt===""?0:parseInt(Rt);return isNaN(ot)||ot<0?(we.fire("Error","Las reviews deben ser un nmero mayor o igual a 0.","error"),!1):!0},ai=async()=>{if(!lt())return;const{name:H,price:ge,images:Se,stock:Ne,mainImage:De,description:tt,rating:Rt,reviews:ct,material:ot,color:mn,category:An}=h;try{await Up(Jn(Me,"products"),{name:H,price:parseFloat(ge),description:tt||"",images:Se,mainImage:De,stock:parseInt(Ne),rating:Rt===""?0:parseFloat(Rt),reviews:ct===""?0:parseInt(ct),material:ot||"",color:mn||"",category:An||""}),we.fire(" Producto agregado correctamente.","","success"),Gi(),i()}catch{we.fire("Error","No se pudo agregar el producto.","error")}},En=async()=>{if(!lt())return;const{name:H,price:ge,description:Se,stock:Ne,images:De,mainImage:tt,rating:Rt,reviews:ct,material:ot,color:mn,category:An}=h,Bt=et(Me,"products",x.id),Pt=De.length?De:x.images;try{await tr(Bt,{name:H,price:parseFloat(ge),description:Se||"",images:Pt,mainImage:tt,stock:parseInt(Ne),rating:Rt===""?x.rating||0:parseFloat(Rt),reviews:ct===""?x.reviews||0:parseInt(ct),material:ot??(x.material||""),color:mn??(x.color||""),category:An??(x.category||"")}),we.fire(" Producto actualizado correctamente.","","success"),Gi(),i()}catch{we.fire("Error","No se pudo actualizar el producto.","error")}},Wl=async H=>{we.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(async ge=>{if(ge.isConfirmed)try{await Ha(et(Me,"products",H)),we.fire("Eliminado","El producto ha sido eliminado.","success"),i()}catch{we.fire("Error","No se pudo eliminar el producto.","error")}})},Ou=async H=>{we.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(async ge=>{if(ge.isConfirmed)try{await l(H),we.fire("Eliminado","El usuario ha sido eliminado.","success"),a()}catch{we.fire("Error","No se pudo eliminar el usuario.","error")}})},vr=H=>{v(!0),_(H),m({name:H.name,price:H.price,description:H.description||"",images:H.images||[],stock:H.stock||0,mainImage:H.mainImage||H.images[0],rating:H.rating??"",reviews:H.reviews??"",material:H.material??"",color:H.color??"",category:H.category??""}),C(!0)},Gi=()=>{m({name:"",price:"",description:"",images:[],stock:"",mainImage:"",rating:"",reviews:"",material:"",color:"",category:""}),v(!1),C(!1)},Ki=H=>Math.round(H).toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}),Ni=s.filter(H=>{const ge=H.email.toLowerCase().includes(J.toLowerCase())||H.displayName&&H.displayName.toLowerCase().includes(J.toLowerCase()),Se=k?k==="admin"?H.email==="admin@gmail.com":H.email!=="admin@gmail.com":!0;return ge&&Se}),ca=H=>{const ge=H.rol==="admin"?"user":"admin";we.fire({title:`Ests seguro de cambiar el rol de este usuario a ${ge}?`,text:`El usuario podr ${ge==="admin"?"acceder al panel de administracin":"perder acceso de administrador"}.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",confirmButtonText:"S, cambiar",cancelButtonText:"Cancelar"}).then(async Se=>{Se.isConfirmed&&(await u(H.id,ge),we.fire("Rol actualizado",`El usuario ahora es ${ge}.`,"success"),a())})},Ds=async H=>{const ge=Ja(Jn(Me,"reviews"),Sl("productId","==",H)),Ne=(await Uc(ge)).docs.map(Rt=>Rt.data()),De=Ne.length,tt=De>0?Math.round(Ne.reduce((Rt,ct)=>Rt+(parseFloat(ct.rating)||0),0)/De*10)/10:0;await tr(et(Me,"products",H),{rating:tt,reviews:De})},bo=H=>{pe(H),xe(H.text||""),Te(H.rating||0),B(!0)},xo=async()=>{if(oe)try{await tr(et(Me,"reviews",oe.id),{text:(me||"").trim(),rating:parseFloat(Re)}),await Ds(oe.productId),B(!1),pe(null),we.fire("Review actualizada","","success")}catch{we.fire("Error","No se pudo actualizar la review","error")}},wo=async H=>{we.fire({title:"Eliminar review?",text:"Esta accin no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(async ge=>{if(ge.isConfirmed)try{await Ha(et(Me,"reviews",H.id)),await Ds(H.productId),we.fire("Eliminada","La review fue eliminada","success")}catch{we.fire("Error","No se pudo eliminar la review","error")}})},bs=ne?ee.filter(H=>H.productId===ne):ee,Dn=H=>{const{name:ge,value:Se,type:Ne,checked:De}=H.target;mi(tt=>({...tt,[ge]:Ne==="checkbox"?De:Se}))},_o=()=>{const{code:H,discount:ge,description:Se}=Qe;return!H||!ge||!Se?(we.fire("Error","El cdigo, descuento y descripcin son obligatorios","error"),!1):parseFloat(ge)<=0||parseFloat(ge)>100?(we.fire("Error","El descuento debe estar entre 1 y 100","error"),!1):!0},Yi=async()=>{if(_o())try{const H={code:Qe.code.toUpperCase(),discount:parseFloat(Qe.discount),description:Qe.description,minOrderAmount:Qe.minOrderAmount?parseFloat(Qe.minOrderAmount):0,expiresAt:Qe.expiresAt?new Date(Qe.expiresAt):null,isActive:Qe.isActive,usageLimit:Qe.usageLimit?parseInt(Qe.usageLimit):null,usageCount:We?We.usageCount:0,createdAt:We?We.createdAt:new Date,updatedAt:new Date};We?(await tr(et(Me,"promoCodes",We.id),H),we.fire("xito","Cdigo promocional actualizado correctamente","success")):(await Up(Jn(Me,"promoCodes"),H),we.fire("xito","Cdigo promocional creado correctamente","success")),ji(),Ke(!1)}catch(H){console.error("Error saving promo code:",H),we.fire("Error","No se pudo guardar el cdigo promocional","error")}},Eo=H=>{console.log("editPromoCode called with:",H),_n(H);let ge="";if(H.expiresAt)try{H.expiresAt.toDate?ge=H.expiresAt.toDate().toISOString().split("T")[0]:H.expiresAt instanceof Date?ge=H.expiresAt.toISOString().split("T")[0]:typeof H.expiresAt=="string"&&(ge=new Date(H.expiresAt).toISOString().split("T")[0])}catch(Se){console.warn("Error parsing expiration date:",Se),ge=""}mi({code:H.code||"",discount:(H.discount||"").toString(),description:H.description||"",minOrderAmount:H.minOrderAmount?H.minOrderAmount.toString():"",expiresAt:ge,isActive:H.isActive!==void 0?H.isActive:!0,usageLimit:H.usageLimit?H.usageLimit.toString():"",usageCount:H.usageCount||0}),console.log("Setting promoModalOpen to true"),Ke(!0)},Os=async H=>{we.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(async ge=>{if(ge.isConfirmed)try{await Ha(et(Me,"promoCodes",H)),we.fire("Eliminado","El cdigo promocional ha sido eliminado","success")}catch(Se){console.error("Error deleting promo code:",Se),we.fire("Error","No se pudo eliminar el cdigo promocional","error")}})},ua=async(H,ge)=>{try{await tr(et(Me,"promoCodes",H),{isActive:!ge}),we.fire("xito",`Cdigo promocional ${ge?"desactivado":"activado"}`,"success")}catch(Se){console.error("Error updating promo status:",Se),we.fire("Error","No se pudo actualizar el estado del cdigo promocional","error")}},ji=()=>{mi({code:"",discount:"",description:"",minOrderAmount:"",expiresAt:"",isActive:!0,usageLimit:"",usageCount:0}),_n(null)},Gl=async(H,ge)=>{try{await tr(et(Me,"orders",H),{status:ge,updatedAt:new Date}),we.fire("xito",`Estado del pedido actualizado a ${ge}`,"success")}catch(Se){console.error("Error updating order status:",Se),we.fire("Error","No se pudo actualizar el estado del pedido","error")}},It=H=>{yr(H),ql(!0)},Jt=async H=>{we.fire({title:"Ests seguro?",text:"Esta accin no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"}).then(async ge=>{if(ge.isConfirmed)try{await Ha(et(Me,"orders",H)),we.fire("Eliminado","El pedido ha sido eliminado","success")}catch(Se){console.error("Error deleting order:",Se),we.fire("Error","No se pudo eliminar el pedido","error")}})},Wt=vs?zt.filter(H=>H.status===vs):zt,pi=H=>{switch(H){case"pending":return"pending";case"processing":return"pending";case"shipped":return"completed";case"delivered":return"completed";case"cancelled":return"expired";default:return"pending"}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"admin-navbar",children:d.jsxs("div",{className:"admin-navbar-content",children:[d.jsxs("div",{className:"admin-navbar-left",children:[d.jsx("button",{className:"mobile-menu-toggle",onClick:()=>L(!O),children:d.jsx("i",{className:`fas ${O?"fa-times":"fa-bars"}`})}),d.jsxs("div",{className:"admin-brand",children:[d.jsx("i",{className:"fas fa-chart-line"}),d.jsx("span",{children:"Ecommerce Admin"})]})]}),d.jsxs("div",{className:"admin-navbar-right",children:[d.jsxs("div",{className:"admin-user-info",children:[d.jsx("div",{className:"admin-user-avatar",children:d.jsx("i",{className:"fas fa-user-circle"})}),d.jsxs("div",{className:"admin-user-details",children:[d.jsx("span",{className:"admin-user-name",children:(e==null?void 0:e.displayName)||((da=e==null?void 0:e.email)==null?void 0:da.split("@")[0])||"Admin"}),d.jsx("span",{className:"admin-user-role",children:"Administrador"})]})]}),d.jsx("button",{className:"admin-logout-btn",onClick:()=>t("/"),title:"Ir al sitio web",children:d.jsx("i",{className:"fas fa-external-link-alt"})})]})]})}),d.jsxs("div",{className:`admin-panel${E?" modal-open":""}`,children:[O&&d.jsx("div",{className:"mobile-menu-backdrop",onClick:()=>L(!1)}),d.jsx("div",{className:`sidebar ${O?"mobile-open":""}`,children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="analytics"?"active":""}`,onClick:()=>ae("analytics"),children:[d.jsx("i",{className:"fas fa-chart-bar"}),d.jsx("span",{children:"Analytics"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="productos"?"active":""}`,onClick:()=>ae("productos"),children:[d.jsx("i",{className:"fas fa-box"}),d.jsx("span",{children:"Productos"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="usuarios"?"active":""}`,onClick:()=>ae("usuarios"),children:[d.jsx("i",{className:"fas fa-users"}),d.jsx("span",{children:"Usuarios"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="reviews"?"active":""}`,onClick:()=>ae("reviews"),children:[d.jsx("i",{className:"fas fa-comments"}),d.jsx("span",{children:"Reviews"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="promos"?"active":""}`,onClick:()=>ae("promos"),children:[d.jsx("i",{className:"fas fa-tags"}),d.jsx("span",{children:"Cdigos Promo"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="orders"?"active":""}`,onClick:()=>ae("orders"),children:[d.jsx("i",{className:"fas fa-shopping-bag"}),d.jsx("span",{children:"Pedidos"})]})})]})}),d.jsxs("div",{className:"main-content",children:[console.log("Current activeSection:",$,"renderKey:",D),$==="analytics"&&d.jsxs("div",{className:"dashboard-container",children:[d.jsxs("div",{className:"dashboard-header",children:[d.jsx("h1",{className:"dashboard-title",children:"Panel de Control"}),d.jsx("div",{className:"dashboard-subtitle",children:"Resumen general de la tienda"})]}),d.jsxs("div",{className:"stats-grid",children:[d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Ventas Totales"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsx("div",{className:"stat-value",children:Ki(zt.reduce((H,ge)=>{var Se;return H+(((Se=ge.pricing)==null?void 0:Se.total)||0)},0))}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Tienda Online"}),d.jsx("span",{className:"stat-percentage positive",children:"+2.2%"})]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Total Visitantes"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsx("div",{className:"stat-value",children:zt.length}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"rdenes"}),d.jsx("span",{className:"stat-percentage positive",children:"+7.6%"})]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Clientes Recurrentes"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsxs("div",{className:"stat-value",children:[(s.length/(s.length+10)*100).toFixed(1),"%"]}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Usuarios"}),d.jsx("span",{className:"stat-percentage negative",children:"-0.7%"})]})]})]}),d.jsxs("div",{className:"charts-grid-dashboard",children:[d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Ventas en el Tiempo"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Hm,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Ventas Totales",data:[Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4],backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",borderWidth:2,fill:!0}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Visitantes en el Tiempo"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Hm,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Total Visitantes",data:[42,38,65,72],backgroundColor:"rgba(34, 197, 94, 0.8)",borderRadius:4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Clientes"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Hm,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Primera vez",data:[15,20,25,18],backgroundColor:"rgba(34, 197, 94, 0.8)",borderRadius:4},{label:"Recurrentes",data:[8,12,15,22],backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:4}]},options:{plugins:{legend:{display:!0,position:"bottom",labels:{font:{family:"Inter"}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]})]}),d.jsxs("div",{className:"bottom-cards-grid",children:[d.jsxs("div",{className:"wide-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:"Ventas Actuales"}),d.jsx("span",{className:"date-range",children:"13/03/2018 to 20/03/2018"})]}),d.jsx("div",{className:"wide-chart-container",children:d.jsx(Hm,{data:{labels:Array.from({length:20},(H,ge)=>`${ge+1}/03`),datasets:[{label:"Ventas",data:Array.from({length:20},()=>Math.floor(Math.random()*6e4)+2e4),backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",borderWidth:3,fill:!0,tension:.4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"history-card",children:[d.jsx("div",{className:"card-header",children:d.jsx("h3",{children:"Historial"})}),d.jsxs("div",{className:"history-list",children:[d.jsxs("div",{className:"history-item",children:[d.jsx("span",{className:"history-month",children:"Enero"}),d.jsx("div",{className:"history-bar",children:d.jsx("div",{className:"history-progress",style:{width:"80%"}})}),d.jsx("span",{className:"history-amount",children:Ki(12e4)})]}),d.jsxs("div",{className:"history-item",children:[d.jsx("span",{className:"history-month",children:"Febrero"}),d.jsx("div",{className:"history-bar",children:d.jsx("div",{className:"history-progress green",style:{width:"60%"}})}),d.jsx("span",{className:"history-amount",children:Ki(85200)})]})]})]})]})]}),$==="productos"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Lista de Productos"}),d.jsxs("div",{className:"search-filter-container",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("i",{className:"fas fa-search search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"search-input",value:S,onChange:vo})]}),d.jsx("button",{onClick:()=>C(!0),className:"button primary",children:"+ Agregar Producto"})]})]}),d.jsxs("div",{className:"table-container",children:[console.log("Renderizando tabla con:",{products:n,filteredProducts:U}),d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Producto"}),d.jsx("th",{children:"Precio"}),d.jsx("th",{children:"Stock"}),d.jsx("th",{children:"Reviews"}),d.jsx("th",{children:"Imagen Principal"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:U&&U.length>0?U.map(H=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("div",{className:"product-info",children:d.jsx("div",{className:"product-details",children:d.jsx("span",{className:"product-name",children:H.name})})})}),d.jsx("td",{children:Ki(H.price)}),d.jsx("td",{children:d.jsx("span",{className:`status-badge ${H.stock>0?"completed":"pending"}`,children:H.stock>0?`${H.stock} unidades`:"Agotado"})}),d.jsx("td",{children:H.reviews??0}),d.jsx("td",{children:d.jsx("img",{src:H.mainImage,alt:H.name,className:"product-thumb",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}})}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{onClick:()=>vr(H),className:"action-button",title:"Editar",children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{onClick:()=>Wl(H.id),className:"action-button",title:"Eliminar",children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:n.length===0?d.jsxs("div",{children:[d.jsx("p",{children:"No hay productos disponibles."}),d.jsx("p",{children:'Agrega tu primer producto haciendo clic en "+ Agregar Producto"'})]}):d.jsxs("div",{children:[d.jsx("p",{children:"No se encontraron productos que coincidan con tu bsqueda."}),d.jsx("p",{children:"Intenta con otros trminos o limpia el filtro."})]})})})})]})]})]}),$==="usuarios"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Lista de Usuarios"}),d.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[d.jsx("input",{type:"text",placeholder:"Buscar usuario por email o nombre...",value:J,onChange:H=>z(H.target.value),className:"input-field",style:{minWidth:220,maxWidth:300}}),d.jsxs("select",{value:k,onChange:H=>P(H.target.value),className:"input-field",style:{minWidth:120,maxWidth:180},children:[d.jsx("option",{value:"",children:"Todos los roles"}),d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"user",children:"Usuario"})]})]})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table users-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Usuario"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Rol"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:Ni.map(H=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"user-name",children:H.fullName||H.displayName||H.email.split("@")[0]})}),d.jsx("td",{children:H.email}),d.jsx("td",{children:d.jsx("span",{className:`role-badge ${H.rol==="admin"?"admin":"user"}`,children:H.rol==="admin"?"Admin":"Usuario"})}),d.jsx("td",{children:d.jsx("div",{className:"action-buttons",children:H.email!=="admin@gmail.com"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>ca(H),className:"action-button",title:"Cambiar rol",style:{background:"#e0e7ff",color:"#2563eb"},children:[d.jsx("i",{className:"fas fa-user-shield"})," ",H.rol==="admin"?"Hacer usuario":"Hacer admin"]}),d.jsx("button",{onClick:()=>Ou(H.id),className:"action-button delete",title:"Eliminar usuario",children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})})]},H.id))})]})})]}),$==="reviews"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",style:{alignItems:"center"},children:[d.jsx("h2",{className:"section-title",children:"Administrar Reviews"}),d.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:d.jsxs("select",{className:"input-field",value:ne,onChange:H=>he(H.target.value),style:{minWidth:220,maxWidth:320},children:[d.jsx("option",{value:"",children:"Todas los productos"}),n.map(H=>d.jsx("option",{value:H.id,children:H.name},H.id))]})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Producto"}),d.jsx("th",{children:"Rating"}),d.jsx("th",{children:"Texto"}),d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:bs.map(H=>{var Ne,De,tt;const ge=n.find(Rt=>Rt.id===H.productId),Se=(Ne=H.createdAt)!=null&&Ne.toDate?H.createdAt.toDate():H.createdAt||null;return d.jsxs("tr",{children:[d.jsx("td",{children:(ge==null?void 0:ge.name)||H.productId}),d.jsx("td",{children:H.rating??0}),d.jsxs("td",{children:[(De=H.text)==null?void 0:De.substring(0,80),(((tt=H.text)==null?void 0:tt.length)||0)>80?"":""]}),d.jsx("td",{children:Se?new Date(Se).toLocaleString():"-"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Editar",onClick:()=>bo(H),children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>wo(H),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)})})]})}),ve&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Cerrar",onClick:()=>{B(!1),pe(null)},children:""}),d.jsx("h3",{children:"Editar resea"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Datos de la resea"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-rating",children:"Calificacin"}),d.jsx("select",{className:"input-field",value:Re,onChange:H=>Te(H.target.value),id:"review-rating",children:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5].map(H=>d.jsxs("option",{value:H,children:[H," estrellas"]},H))}),d.jsx("div",{className:"helper-text",children:"Selecciona la calificacin de 0 a 5 estrellas"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-user",children:"Usuario"}),d.jsx("input",{type:"text",className:"input-field",placeholder:"Usuario (solo lectura)",value:(oe==null?void 0:oe.user)||"Annimo",readOnly:!0,id:"review-user",style:{backgroundColor:"#f8fafc",cursor:"not-allowed"}}),d.jsx("div",{className:"helper-text",children:"Este campo no se puede editar"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-text",children:"Comentario de la resea"}),d.jsx("textarea",{className:"input-field textarea",value:me,onChange:H=>xe(H.target.value),placeholder:"Escribe el texto de la resea...",id:"review-text",rows:"4"}),d.jsx("div",{className:"helper-text",children:"Texto completo de la resea del cliente"})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{className:"button primary",onClick:xo,children:"Guardar"}),d.jsx("button",{className:"button delete",onClick:()=>{B(!1),pe(null)},children:"Cancelar"})]})]})})]}),$==="promos"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Gestin de Cdigos Promocionales"}),d.jsx("button",{onClick:()=>{ji(),Ke(!0)},className:"button primary",children:"+ Crear Cdigo Promocional"})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Cdigo"}),d.jsx("th",{children:"Descuento"}),d.jsx("th",{children:"Descripcin"}),d.jsx("th",{children:"Compra Mn."}),d.jsx("th",{children:"Expira"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Uso"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:kt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:d.jsxs("div",{children:[d.jsx("p",{children:"An no hay cdigos promocionales creados."}),d.jsx("p",{children:"Crea tu primer cdigo promocional para ofrecer descuentos a los clientes."})]})})}):kt.map(H=>{const ge=H.expiresAt&&H.expiresAt.toDate()<new Date,Se=H.usageLimit&&H.usageCount>=H.usageLimit;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"promo-code",children:H.code})}),d.jsxs("td",{children:[H.discount,"%"]}),d.jsx("td",{children:H.description}),d.jsxs("td",{children:["$",Math.round(H.minOrderAmount||0).toLocaleString("es-CO")]}),d.jsx("td",{children:H.expiresAt?d.jsx("span",{className:ge?"expired":"",children:H.expiresAt.toDate().toLocaleDateString()}):"Sin vencimiento"}),d.jsx("td",{children:d.jsx("span",{className:`status-badge ${H.isActive?ge||Se?"expired":"completed":"pending"}`,children:H.isActive?ge?"Expirado":Se?"Lmite Alcanzado":"Activo":"Inactivo"})}),d.jsxs("td",{children:[H.usageCount,"/",H.usageLimit||""]}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Editar",onClick:()=>Eo(H),children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{className:`action-button ${H.isActive?"deactivate":"activate"}`,title:H.isActive?"Desactivar":"Activar",onClick:()=>ua(H.id,H.isActive),children:d.jsx("i",{className:`fas fa-${H.isActive?"pause":"play"}`})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>Os(H.id),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)})})]})}),be&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Close",onClick:()=>{Ke(!1),ji()},children:""}),d.jsx("h3",{children:We?"Editar cdigo promocional":"Crear cdigo promocional"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Informacin bsica"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-code",children:"Cdigo promocional"}),d.jsx("input",{type:"text",name:"code",id:"promo-code",value:Qe.code,onChange:Dn,placeholder:"SAVE20, DESCUENTO10",className:"input-field",style:{textTransform:"uppercase"}}),d.jsx("div",{className:"helper-text",children:"Cdigo nico que usarn los clientes"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-discount",children:"Descuento (%)"}),d.jsx("input",{type:"number",name:"discount",id:"promo-discount",value:Qe.discount,onChange:Dn,placeholder:"20",className:"input-field",min:"1",max:"100"}),d.jsx("div",{className:"helper-text",children:"Porcentaje de descuento (1-100%)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-description",children:"Descripcin"}),d.jsx("input",{type:"text",name:"description",id:"promo-description",value:Qe.description,onChange:Dn,placeholder:"Descuento especial del 20% en toda la tienda",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Descripcin breve de la oferta"})]}),d.jsx("div",{className:"form-subtitle",children:"Condiciones y restricciones"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-min-order",children:"Compra mnima (COP)"}),d.jsx("input",{type:"number",name:"minOrderAmount",id:"promo-min-order",value:Qe.minOrderAmount,onChange:Dn,placeholder:"50000",className:"input-field",min:"0",step:"1000"}),d.jsx("div",{className:"helper-text",children:"Mnimo requerido (opcional)"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-usage-limit",children:"Lmite de uso"}),d.jsx("input",{type:"number",name:"usageLimit",id:"promo-usage-limit",value:Qe.usageLimit,onChange:Dn,placeholder:"100",className:"input-field",min:"1"}),d.jsx("div",{className:"helper-text",children:"Mx. usos permitidos (opcional)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-expires",children:"Fecha de expiracin"}),d.jsx("input",{type:"date",name:"expiresAt",id:"promo-expires",value:Qe.expiresAt,onChange:Dn,className:"input-field",min:new Date().toISOString().split("T")[0]}),d.jsx("div",{className:"helper-text",children:"Fecha lmite para usar el cdigo (opcional)"})]}),d.jsx("div",{className:"checkbox-container",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",name:"isActive",checked:Qe.isActive,onChange:Dn}),d.jsx("span",{children:"Activar cdigo (los usuarios podrn usarlo inmediatamente)"})]})})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{className:"button primary",onClick:Yi,children:We?"Actualizar":"Crear cdigo"}),d.jsx("button",{className:"button delete",onClick:()=>{Ke(!1),ji()},children:"Cancelar"})]})]})})]}),$==="orders"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Gestin de Pedidos"}),d.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:d.jsxs("select",{className:"input-field",value:vs,onChange:H=>Du(H.target.value),style:{minWidth:150,maxWidth:200},children:[d.jsx("option",{value:"",children:"Todos los Pedidos"}),d.jsx("option",{value:"pending",children:"Pendiente"}),d.jsx("option",{value:"processing",children:"Procesando"}),d.jsx("option",{value:"shipped",children:"Enviado"}),d.jsx("option",{value:"delivered",children:"Entregado"}),d.jsx("option",{value:"cancelled",children:"Cancelado"})]})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"ID Pedido"}),d.jsx("th",{children:"Cliente"}),d.jsx("th",{children:"Artculos"}),d.jsx("th",{children:"Total"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:Wt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"20px"},children:d.jsxs("div",{children:[d.jsx("p",{children:"No se encontraron pedidos."}),d.jsx("p",{children:"Los pedidos aparecern aqu una vez que los clientes empiecen a realizarlos."})]})})}):Wt.map(H=>{var ge,Se,Ne;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("span",{className:"order-id",children:["#",H.id.substring(0,8)]})}),d.jsx("td",{children:d.jsxs("div",{children:[d.jsx("div",{className:"customer-name",children:H.userName||"Unknown"}),d.jsx("div",{className:"customer-email",children:H.userEmail||"No email"})]})}),d.jsxs("td",{children:[((ge=H.items)==null?void 0:ge.length)||0," artculos"]}),d.jsxs("td",{children:["$",Math.round(((Se=H.pricing)==null?void 0:Se.total)||0).toLocaleString("es-CO")]}),d.jsx("td",{children:d.jsxs("select",{className:`status-select ${pi(H.status||"pending")}`,value:H.status||"pending",onChange:De=>Gl(H.id,De.target.value),children:[d.jsx("option",{value:"pending",children:"Pendiente"}),d.jsx("option",{value:"processing",children:"Procesando"}),d.jsx("option",{value:"shipped",children:"Enviado"}),d.jsx("option",{value:"delivered",children:"Entregado"}),d.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),d.jsx("td",{children:(Ne=H.createdAt)!=null&&Ne.toDate?H.createdAt.toDate().toLocaleDateString():H.createdAt?new Date(H.createdAt).toLocaleDateString():"Unknown"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Ver Detalles",onClick:()=>It(H),children:d.jsx("i",{className:"fas fa-eye"})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>Jt(H.id),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)})})]})}),$n&&mt&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content order-modal",children:[d.jsx("button",{className:"modal-close","aria-label":"Close",onClick:()=>{ql(!1),yr(null)},children:""}),d.jsxs("h3",{children:["Detalles del Pedido - #",mt.id.substring(0,8)]}),d.jsxs("div",{className:"order-details-content",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Informacin del Cliente"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Nombre:"})," ",mt.userName||"Desconocido"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Email:"})," ",mt.userEmail||"Sin email"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Mtodo de Pago:"})," ",((xs=(Kl=mt.paymentMethod)==null?void 0:Kl.replace("_"," "))==null?void 0:xs.toUpperCase())||"No especificado"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Fecha del Pedido:"})," ",(To=mt.createdAt)!=null&&To.toDate?mt.createdAt.toDate().toLocaleString():mt.createdAt?new Date(mt.createdAt).toLocaleString():"Desconocida"]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Direccin de Entrega"}),d.jsxs("div",{className:"address-info",children:[d.jsx("strong",{children:((Ls=mt.deliveryAddress)==null?void 0:Ls.name)||"Sin nombre"}),d.jsx("br",{}),((ws=mt.deliveryAddress)==null?void 0:ws.street)||"Sin direccin",d.jsx("br",{}),((Xi=mt.deliveryAddress)==null?void 0:Xi.city)||"Sin ciudad",", ",((Ii=mt.deliveryAddress)==null?void 0:Ii.state)||"Sin estado"," ",((Pi=mt.deliveryAddress)==null?void 0:Pi.zipCode)||"Sin cdigo postal",d.jsx("br",{}),((Tn=mt.deliveryAddress)==null?void 0:Tn.country)||"Sin pas",d.jsx("br",{}),"Telfono: ",((Ut=mt.deliveryAddress)==null?void 0:Ut.phone)||"Sin telfono"]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Artculos del Pedido"}),d.jsx("div",{className:"order-items-list",children:(mt.items||[]).map((H,ge)=>d.jsxs("div",{className:"order-item-detail",children:[d.jsx("img",{src:H.image||"/placeholder.jpg",alt:H.name||"Producto",className:"item-image-small"}),d.jsxs("div",{className:"item-info",children:[d.jsx("div",{className:"item-name",children:H.name||"Producto Desconocido"}),d.jsxs("div",{className:"item-specs",children:["Material: ",H.material||"N/A"," | Color: ",H.color||"N/A"]}),d.jsxs("div",{className:"item-price",children:["Cant: ",H.quantity||0,"  $",Math.round(H.price||0).toLocaleString("es-CO")," = $",Math.round((H.quantity||0)*(H.price||0)).toLocaleString("es-CO")]})]})]},ge))})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Desglose de Precios"}),d.jsxs("div",{className:"pricing-details",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(((ha=mt.pricing)==null?void 0:ha.subtotal)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envo:"}),d.jsxs("span",{children:["$",Math.round(((br=mt.pricing)==null?void 0:br.shippingFee)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuestos:"}),d.jsxs("span",{children:["$",Math.round(((gi=mt.pricing)==null?void 0:gi.tax)||0).toLocaleString("es-CO")]})]}),(((Qi=mt.pricing)==null?void 0:Qi.discount)||0)>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsx("span",{children:"Descuento:"}),d.jsxs("span",{children:["-$",Math.round(((Ao=mt.pricing)==null?void 0:Ao.discount)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(((So=mt.pricing)==null?void 0:So.total)||0).toLocaleString("es-CO")]})]})]})]}),mt.orderNotes&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Notas del Pedido"}),d.jsx("div",{className:"order-notes-display",children:mt.orderNotes})]})]})]})})]}),E&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Cerrar",onClick:Gi,children:""}),d.jsx("h3",{children:p?"Editar Producto":"Agregar Producto"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Informacin bsica"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"name",children:"Nombre del producto"}),d.jsx("input",{type:"text",name:"name",id:"name",value:h.name,onChange:Wn,placeholder:"Ej: iPhone 14 Pro Max",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Ingresa un nombre descriptivo y atractivo"})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"price",children:"Precio (COP)"}),d.jsx("input",{type:"number",name:"price",id:"price",value:h.price,onChange:Wn,placeholder:"150000",className:"input-field",min:"0",step:"1000"}),d.jsx("div",{className:"helper-text",children:"Precio en pesos colombianos"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"stock",children:"Stock disponible"}),d.jsx("input",{type:"number",name:"stock",id:"stock",value:h.stock,onChange:Wn,placeholder:"50",className:"input-field",min:"0"}),d.jsx("div",{className:"helper-text",children:"Cantidad de unidades"})]})]}),d.jsx("div",{className:"form-subtitle",children:"Valoracin"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"rating",children:"Rating"}),d.jsx("input",{type:"number",step:"0.5",min:"0",max:"5",name:"rating",id:"rating",value:h.rating,onChange:Wn,placeholder:"4.5",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"De 0.0 a 5.0 estrellas"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"reviews",children:"Nmero de reseas"}),d.jsx("input",{type:"number",step:"1",min:"0",name:"reviews",id:"reviews",value:h.reviews,onChange:Wn,placeholder:"127",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Cantidad de reseas"})]})]}),d.jsx("div",{className:"form-subtitle",children:"Caractersticas"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"material",children:"Material"}),d.jsx("input",{type:"text",name:"material",id:"material",value:h.material,onChange:Wn,placeholder:"Aluminio, Cristal",className:"input-field"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"color",children:"Color"}),d.jsx("input",{type:"text",name:"color",id:"color",value:h.color,onChange:Wn,placeholder:"Negro espacial",className:"input-field"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"category",children:"Categora"}),d.jsx("input",{type:"text",name:"category",id:"category",value:h.category,onChange:Wn,placeholder:"Smartphones, Accesorios, Electrnicos",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Categora del producto para mejor organizacin"})]}),d.jsx("div",{className:"form-subtitle",children:"Descripcin"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"description",children:"Descripcin detallada"}),d.jsx("textarea",{name:"description",id:"description",value:h.description,onChange:Wn,placeholder:"Describe las caractersticas principales, beneficios y especificaciones del producto...",className:"input-field textarea",rows:"4"}),d.jsx("div",{className:"helper-text",children:"Una descripcin atractiva ayuda a los clientes a tomar decisiones"})]}),d.jsx("div",{className:"form-subtitle",children:"Imgenes del producto"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",children:"Cargar imgenes"}),d.jsxs("div",{className:"image-upload-section",children:[d.jsxs("div",{className:"upload-instructions",children:[d.jsx("span",{className:"highlight",children:"Selecciona entre 1 y 4 imgenes"}),d.jsx("br",{}),"Formatos soportados: JPG, PNG, WEBP",d.jsx("br",{}),"Tamao mximo: 2MB por imagen"]}),d.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:$l,className:"input-field"}),h.images.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"helper-text success",children:[" ",h.images.length," imagen(es) cargada(s). Selecciona la imagen principal:"]}),d.jsx("div",{className:"image-preview-container",children:h.images.map((H,ge)=>d.jsxs("div",{className:"image-preview-wrapper",children:[d.jsx("img",{src:H,alt:`preview-${ge}`,className:`image-preview ${H===h.mainImage?"selected":""}`,onClick:()=>Ot(H)}),d.jsx("input",{type:"radio",name:"mainImage",checked:H===h.mainImage,onChange:()=>Ot(H),className:"image-select-radio",title:"Seleccionar como imagen principal"})]},ge))})]})]})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{onClick:p?En:ai,className:"button primary",children:p?"Actualizar":"Agregar"}),d.jsx("button",{onClick:Gi,className:"button delete",children:"Cancelar"})]})]})})]},D)]})]})}function I$({children:t}){const{user:e}=go();return!e||(e==null?void 0:e.rol)!=="admin"&&(e==null?void 0:e.role)!=="admin"?d.jsx(QD,{to:"/"}):t}function P$(){const{id:t}=LD(),e=mr(),[n,i]=I.useState(null),[s,a]=I.useState(""),{agregarAlCarrito:l,agregarAFavoritos:u,quitarDeFavoritos:h,estaEnFavoritos:m}=Pl(),[p,v]=I.useState([]),[x,_]=I.useState(""),[E,C]=I.useState(5),[S,N]=I.useState(!1),[U,V]=I.useState(!0),[$,q]=I.useState(!1),J=I.useRef(!1),z=I.useMemo(()=>m(t),[m,t]),k=I.useCallback(R=>{if(!R||R.length===0)return;const ae=R.map(ee=>new Promise(W=>{const ne=new Image;ne.src=ee,ne.onload=()=>W(),ne.onerror=()=>W()}));Promise.all(ae).then(()=>{q(!0)})},[]);I.useEffect(()=>J.current?void 0:(J.current=!0,(async()=>{var ae;V(!0);try{const ee=et(Me,"products",t),W=await lu(ee);if(W.exists()){const ne=W.data(),he={id:W.id,...ne};i(he),a(((ae=ne.images)==null?void 0:ae[0])||ne.image);const ve=ne.images||[ne.image];k(ve)}else console.log("No se encontr el producto")}catch(ee){console.error("Error al obtener el producto:",ee)}finally{setTimeout(()=>{V(!1),J.current=!1},300)}})(),()=>{J.current=!1}),[t,k]),I.useEffect(()=>{if(!n)return;const R=Ja(Jn(Me,"reviews"),Sl("productId","==",t));let ae=!0;const ee=Xr(R,W=>{if(!ae)return;const ne=W.docs.map(he=>({id:he.id,...he.data()}));ne.sort((he,ve)=>{var pe,me,xe,Re,Te,kt;const B=(pe=he.createdAt)!=null&&pe.toMillis?he.createdAt.toMillis():((xe=(me=he.createdAt)==null?void 0:me.getTime)==null?void 0:xe.call(me))||0;return((Re=ve.createdAt)!=null&&Re.toMillis?ve.createdAt.toMillis():((kt=(Te=ve.createdAt)==null?void 0:Te.getTime)==null?void 0:kt.call(Te))||0)-B}),v(ne)});return()=>{ae=!1,ee()}},[t,n]);const P=()=>{(n==null?void 0:n.stock)<=0?alert("Lo sentimos, no hay unidades disponibles de este producto."):(l(n),alert(`${n.name} ha sido agregado a tu carrito.`))},O=()=>{z?h(t):u(n)},L=(n==null?void 0:n.rating)||(p.length>0?Math.round(p.reduce((R,ae)=>R+(ae.rating||0),0)/p.length*10)/10:0),D=async R=>{if(R.preventDefault(),!!x.trim())try{await Up(Jn(Me,"reviews"),{productId:t,rating:parseFloat(E),text:x.trim(),user:"Annimo",createdAt:new Date});const ae=((n==null?void 0:n.reviews)||0)+1,ee=p.length>0?(p.reduce((W,ne)=>W+(ne.rating||0),0)+parseFloat(E))/(p.length+1):parseFloat(E);await tr(et(Me,"products",t),{rating:Math.round(ee*10)/10,reviews:ae}),_(""),C(5),N(!1),alert("Gracias por tu review")}catch(ae){console.error(ae),alert("No se pudo enviar la review")}};return U?d.jsx("div",{className:"loader-wrapper",children:d.jsx(Bl,{size:"lg",color:"primary",text:"Cargando producto..."})}):n?d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsxs("div",{className:"pd-container",children:[d.jsxs("div",{className:"pd-gallery",children:[d.jsx(cu,{src:s,alt:n.name,className:"pd-main",preload:!0}),d.jsx("div",{className:"pd-thumbs",children:(n.images||[n.image]).slice(0,4).map((R,ae)=>d.jsx(cu,{src:R,alt:`mini-${ae}`,className:`pd-thumb ${R===s?"active":""}`,onClick:()=>a(R),preload:$},ae))})]}),d.jsxs("div",{className:"pd-info",children:[d.jsx("h1",{className:"pd-title",children:n.name}),d.jsxs("div",{className:"pd-rating-row",children:[d.jsx(_b,{rating:(n==null?void 0:n.rating)||L,readOnly:!0}),d.jsxs("span",{className:"pd-rating-num",children:["(",(n==null?void 0:n.rating)||L||0,")"]}),d.jsxs("span",{className:"pd-reviews",children:[p.length||(n==null?void 0:n.reviews)||0," Reviews"]})]}),d.jsx("p",{className:"pd-desc",children:n.description||""}),d.jsxs("div",{className:"pd-price-row",children:[d.jsxs("span",{className:"pd-price",children:["$",Math.round(n.price||0).toLocaleString("es-CO")]}),n.oldPrice&&d.jsxs("span",{className:"pd-old-price",children:["$",Math.round(n.oldPrice).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pd-attrs",children:[d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Material"}),d.jsx("span",{className:"value",children:n.material||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Color"}),d.jsx("span",{className:"value",children:n.color||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Categora"}),d.jsx("span",{className:"value",children:n.category||"N/A"})]})]}),d.jsxs("div",{className:"pd-actions",children:[d.jsx(Et,{variant:"primary",onClick:P,disabled:n.stock<=0,children:"Agregar al carrito"}),d.jsx("button",{className:`fav-btn ${z?"active":""}`,onClick:O,title:z?"Quitar de favoritos":"Agregar a favoritos","aria-label":z?"Quitar de favoritos":"Agregar a favoritos",children:d.jsx("i",{className:`${z?"fas":"far"} fa-heart`})})]}),d.jsx("div",{className:"pd-continue",children:d.jsx(at,{to:"/productos",className:"btn-ghost",children:"Seguir comprando"})})]})]}),d.jsxs("div",{className:"reviews-container",children:[d.jsxs("div",{className:"reviews-header",children:[d.jsx("h2",{children:"Reviews"}),d.jsx(Et,{variant:"primary",onClick:()=>N(!0),children:"Escribir una review"})]}),p.length===0?d.jsx("p",{className:"no-reviews",children:"Este producto an no tiene reviews."}):d.jsx("ul",{className:"reviews-list",children:p.map(R=>d.jsxs("li",{className:"review-item",children:[d.jsxs("div",{className:"review-header",children:[d.jsx(_b,{rating:R.rating||0,size:"sm",readOnly:!0}),d.jsx("span",{className:"review-user",children:R.user||"Annimo"})]}),d.jsx("p",{className:"review-text",children:R.text})]},R.id))})]}),S&&d.jsx(jz,{isOpen:S,onClose:()=>N(!1),title:"Escribe tu review",children:d.jsxs("form",{onSubmit:D,className:"review-form",children:[d.jsxs("div",{className:"rf-row",children:[d.jsx("label",{children:"Rating"}),d.jsx("select",{value:E,onChange:R=>C(R.target.value),children:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5].map(R=>d.jsx("option",{value:R,children:R},R))})]}),d.jsx("textarea",{className:"rf-text",placeholder:"Escribe tu review",value:x,onChange:R=>_(R.target.value)}),d.jsxs("div",{className:"modal-actions",children:[d.jsx(Et,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),d.jsx(Et,{variant:"primary",type:"submit",children:"Enviar"})]})]})}),d.jsx(ml,{}),d.jsx("style",{children:`
        .pd-container{max-width:1200px;margin:20px auto;display:grid;grid-template-columns:1fr 1fr;gap:24px;padding:0 16px;font-family:Inter,system-ui,-apple-system}
        .pd-gallery{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px rgba(0,0,0,.06);will-change:transform;transition:transform 0.2s ease}
        .pd-main{width:100%;height:420px;object-fit:contain;border-radius:12px;background:#f8fafc;will-change:opacity}
        .pd-thumbs{display:flex;gap:12px;margin-top:12px}
        .pd-thumb{width:70px;height:70px;object-fit:cover;border-radius:8px;border:2px solid #e5e7eb;cursor:pointer;transition:transform 0.2s ease}
        .pd-thumb:hover{transform:scale(1.05)}
        .pd-thumb.active{border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,.1)}
        .pd-info{display:flex;flex-direction:column;gap:12px}
        .pd-title{font-size:28px;color:#111827;margin:0;font-weight:700}
        .pd-rating-row{display:flex;align-items:center;gap:8px}
        .pd-rating-num{color:#6b7280;font-size:14px}
        .pd-reviews{color:#6b7280;font-size:14px}
        .pd-desc{color:#374151;line-height:1.6}
        .pd-price-row{display:flex;align-items:baseline;gap:12px;margin-top:4px}
        .pd-price{font-size:26px;font-weight:700;color:#111827}
        .pd-old-price{text-decoration:line-through;color:#9ca3af}
        .pd-attrs{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;background:#fff;border-radius:12px;padding:12px;border:1px solid #e5e7eb}
        .label{display:block;color:#6b7280;font-size:12px}
        .value{display:block;color:#111827;font-weight:600}
        .pd-actions{display:flex;gap:12px;margin-top:8px;align-items:center}
        .btn-ghost{display:inline-block;margin-top:10px;color:#2563eb;text-decoration:none;font-weight:700;border:1px solid #e5e7eb;border-radius:999px;padding:8px 14px}
        .btn-ghost:hover{background:#f1f5f9}
        .fav-btn{width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;border:1px solid #e5e7eb;background:#fff;color:#374151;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.06);transition: background .15s ease, transform .15s ease, color .15s ease, border-color .15s ease}
        .fav-btn:hover{background:#f1f5f9;transform:scale(1.05)}
        .fav-btn.active{background:#16a34a;color:#fff;border-color:#16a34a}

        .reviews-container{max-width:1200px;margin:24px auto;padding:0 16px}
        .reviews-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
        .no-reviews{color:#6b7280}
        .reviews-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
        .review-item{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:12px;transition:transform 0.2s ease}
        .review-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.08)}
        .review-header{display:flex;align-items:center;gap:8px}
        .review-user{color:#6b7280;font-size:13px}

        .review-form{display:flex;flex-direction:column;gap:10px}
        .rf-row{display:flex;align-items:center;gap:12px;color:#111827}
        .rf-text{min-height:120px;border:1px solid #e5e7eb;border-radius:8px;padding:10px}
        .modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:6px}

        .loader-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.9);z-index:9999;backdrop-filter:blur(5px)}
        .error-container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}

        @media(max-width:900px){.pd-container{grid-template-columns:1fr}}
        
        /* Animaciones para mejorar la experiencia de usuario */
        @keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
        .pd-container{animation:fadeIn 0.3s ease-in-out}
      `})]}):d.jsxs("div",{className:"error-container",children:[d.jsx("h2",{children:"Producto no encontrado"}),d.jsx(Et,{variant:"primary",onClick:()=>e("/productos"),children:"Volver a productos"})]})}function M$(){const{products:t,fetchProducts:e,isLoadingProducts:n}=go(),{agregarAlCarrito:i,agregarAFavoritos:s,quitarDeFavoritos:a,estaEnFavoritos:l}=Pl();I.useEffect(()=>{t.length===0&&!n&&(console.log("Cargando productos en Productos..."),e())},[e,t.length,n]);const u=h=>{l(h.id)?a(h.id):s(h)};return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsxs("div",{className:"productos-container",children:[d.jsx("h1",{className:"productos-titulo",children:"Productos disponibles"}),d.jsx("div",{className:"productos-grid",children:n?Array(8).fill(0).map((h,m)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-button"})]},`skeleton-${m}`)):t.length>0?t.map(h=>d.jsx(dj,{producto:h,agregarAlCarrito:()=>i(h),toggleFavorito:()=>u(h),favoritos:l(h.id)?[h]:[]},h.id)):d.jsx("div",{className:"no-products-message",children:d.jsx("p",{children:"No se encontraron productos disponibles."})})})]}),d.jsx(ml,{})]})}function D$(){const t=mr(),{cart:e,quitarDelCarrito:n,actualizarCantidad:i}=Pl(),[s,a]=I.useState(null),[l,u]=I.useState(!0),[h,m]=I.useState(""),[p,v]=I.useState(null),[x,_]=I.useState(null),[E,C]=I.useState(!1);I.useEffect(()=>{const O=fo(bn,L=>{L?a(L.uid):(a(null),u(!1))});return()=>O()},[]),I.useEffect(()=>{const O=setTimeout(()=>{u(!1)},500);return()=>clearTimeout(O)},[]);const S=O=>{confirm("Ests seguro que deseas eliminar este producto del carrito?")&&(n(O),alert("El producto ha sido eliminado del carrito."))},N=(O,L)=>{L<1||i(O,L)},U=e.reduce((O,L)=>O+L.price*L.quantity,0),V=0,$=U*.02,q=x?U*x.discount/100:0,J=U+V+$-q,z=async()=>{if(!h.trim()){we.fire("Error","Please enter a promo code","error");return}C(!0);try{const O=Ja(Jn(Me,"promoCodes"),Sl("code","==",h.toUpperCase()),Sl("isActive","==",!0)),L=await Uc(O);if(L.empty){we.fire("Error","Invalid or expired promo code","error"),C(!1);return}const D=L.docs[0].data();if(D.expiresAt&&D.expiresAt.toDate()<new Date){we.fire("Error","This promo code has expired","error"),C(!1);return}if(D.minOrderAmount&&U<D.minOrderAmount){we.fire("Error",`Minimum order amount of $${Math.round(D.minOrderAmount).toLocaleString("es-CO")} required`,"error"),C(!1);return}_(D),we.fire("Success",`Promo code applied! ${D.discount}% discount`,"success"),m("")}catch(O){console.error("Error applying promo code:",O),we.fire("Error","Failed to apply promo code","error")}C(!1)},k=()=>{_(null),we.fire("Removed","Promo code removed","info")},P=()=>{if(!p){we.fire("Error","Please select a delivery address","error");return}if(e.length===0){we.fire("Error","Your cart is empty","error");return}t("/checkout",{state:{cart:e,selectedAddress:p,appliedPromo:x,subtotal:U,shippingFee:V,tax:$,discount:q,total:J}})};return l?d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"loader-container",children:d.jsx(Bl,{size:"lg",color:"#ea580c",text:"Cargando tu carrito..."})}),d.jsx("style",{children:`
          .loader-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 80vh;
            text-align: center;
            background-color: #fff;
          }
        `})]}):d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"cart-container",children:d.jsxs("div",{className:"cart-layout",children:[d.jsxs("div",{className:"cart-section",children:[d.jsxs("h2",{className:"cart-title",children:["Your ",d.jsx("span",{className:"highlight",children:"Cart"})]}),d.jsxs("p",{className:"item-count",children:[e.length," Items"]}),e.length===0?d.jsxs("div",{className:"empty-cart",children:[d.jsx("p",{children:"No tienes productos en el carrito."}),d.jsxs(Et,{onClick:()=>t("/productos"),variant:"link",className:"continue-shopping-btn",children:[d.jsx("i",{className:"fas fa-arrow-left"}),"Continue Shopping"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"cart-items-list",children:e.map(O=>{var L;return d.jsxs("div",{className:"cart-item-card",children:[d.jsxs("div",{className:"cart-item-left",children:[d.jsx(cu,{src:O.image||O.mainImage||O.mainimg||((L=O.images)==null?void 0:L[0])||"",alt:O.name,className:"product-image",width:80,height:80,preload:!0}),d.jsxs("div",{className:"product-info",children:[d.jsx("h3",{className:"product-name",children:O.name}),d.jsxs("div",{className:"product-material",children:["Material: ",O.material||"N/A"]}),d.jsxs("div",{className:"product-color",children:["Color: ",O.color||"N/A"]})]})]}),d.jsxs("div",{className:"cart-item-right",children:[d.jsxs("div",{className:"product-price",children:["$",Math.round(O.price).toLocaleString("es-CO")]}),d.jsxs("div",{className:"product-quantity-controls",children:[d.jsx("button",{className:"quantity-btn",onClick:()=>N(O.id,Math.max(1,O.quantity-1)),children:"-"}),d.jsx("span",{className:"quantity-value",children:O.quantity}),d.jsx("button",{className:"quantity-btn",onClick:()=>N(O.id,O.quantity+1),children:"+"})]}),d.jsx("button",{className:"remove-item-btn",onClick:()=>S(O.id),title:"Remove",children:d.jsx("i",{className:"fas fa-trash"})})]})]},O.id)})}),d.jsx("div",{className:"continue-shopping",children:d.jsxs(Et,{onClick:()=>t("/productos"),variant:"link",className:"continue-shopping-btn",children:[d.jsx("i",{className:"fas fa-arrow-left"}),"Continue Shopping"]})})]})]}),d.jsxs("div",{className:"order-summary-section",children:[d.jsx("h3",{className:"order-summary-title",children:"Order Summary"}),d.jsxs("div",{className:"summary-field",children:[d.jsx("label",{children:"SELECT ADDRESS"}),d.jsx(DB,{onAddressSelect:v,selectedAddress:p})]}),d.jsxs("div",{className:"summary-field",children:[d.jsx("label",{children:"PROMO CODE"}),x?d.jsxs("div",{className:"applied-promo",children:[d.jsxs("div",{className:"promo-info",children:[d.jsx("span",{className:"promo-code-display",children:x.code}),d.jsxs("span",{className:"promo-discount",children:["-",x.discount,"%"]})]}),d.jsx(Et,{onClick:k,variant:"secondary",className:"remove-promo-btn",children:"Remove"})]}):d.jsxs("div",{className:"promo-input-group",children:[d.jsx("input",{type:"text",placeholder:"Enter promo code",value:h,onChange:O=>m(O.target.value),className:"promo-input",onKeyPress:O=>O.key==="Enter"&&z()}),d.jsx(Et,{onClick:z,variant:"primary",className:"apply-btn",disabled:E,children:E?"Applying...":"Apply"})]})]}),d.jsxs("div",{className:"cost-breakdown",children:[d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Price:"}),d.jsxs("span",{children:["$",Math.round(U).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Shipping Fee:"}),d.jsx("span",{className:"free",children:"Free"})]}),d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Tax (2%):"}),d.jsxs("span",{children:["$",Math.round($).toLocaleString("es-CO")]})]}),x&&d.jsxs("div",{className:"cost-row discount",children:[d.jsxs("span",{children:["Discount (",x.discount,"%):"]}),d.jsxs("span",{className:"discount-amount",children:["-$",Math.round(q).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"cost-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(J).toLocaleString("es-CO")]})]})]}),d.jsx(Et,{onClick:P,disabled:e.length===0,variant:"primary",size:"lg",fullWidth:!0,className:"place-order-btn",children:"Place Order"})]})]})}),d.jsx("style",{children:`
        .cart-container {
          padding: 30px;
          background: #f8fafc;
          min-height: 100vh;
        }

        .cart-layout {
          max-width: 1200px;
          margin: 0 auto;
          display: grid;
          grid-template-columns: 1fr 400px;
          gap: 30px;
        }

        /* Left Side - Your Cart */
        .cart-section {
          background: #374151;
          border-radius: 12px;
          padding: 30px;
          color: white;
        }

        .cart-title {
          font-size: 32px;
          font-weight: 700;
          margin-bottom: 10px;
        }

        .highlight {
          color: #ea580c;
        }

        .item-count {
          color: #d1d5db;
          font-size: 16px;
          margin-bottom: 25px;
        }

        .cart-items-list {
          margin-bottom: 25px;
          display: flex;
          flex-direction: column;
          gap: 15px;
        }

        .cart-item-card {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 15px;
          background: #2d3748;
          border-radius: 10px;
          border-left: 3px solid #ea580c;
        }

        .cart-item-left {
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .product-image {
          width: 80px;
          height: 80px;
          object-fit: cover;
          border-radius: 8px;
          border: 2px solid #4b5563;
        }

        .product-info {
          display: flex;
          flex-direction: column;
          gap: 5px;
        }

        .product-info h3 {
          margin: 0;
          font-size: 16px;
          font-weight: 600;
        }

        .product-material,
        .product-color {
          font-size: 14px;
          color: #d1d5db;
        }

        .cart-item-right {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .product-price {
          font-weight: 600;
          font-size: 16px;
          min-width: 80px;
          text-align: right;
        }

        .product-quantity-controls {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .quantity-btn {
          width: 30px;
          height: 30px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #4b5563;
          border: none;
          border-radius: 6px;
          color: white;
          font-size: 16px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .quantity-btn:hover {
          background: #ea580c;
        }

        .quantity-value {
          font-size: 16px;
          font-weight: 600;
          min-width: 20px;
          text-align: center;
        }

        .remove-item-btn {
          background: none;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          font-size: 16px;
          transition: color 0.2s;
        }

        .remove-item-btn:hover {
          color: #ef4444;
        }

        /* Right Side - Order Summary */
        .order-summary-section {
          background: #4b5563;
          border-radius: 12px;
          padding: 30px;
          color: white;
          height: fit-content;
        }

        .order-summary-title {
          font-size: 24px;
          font-weight: 700;
          margin-bottom: 25px;
        }

        .summary-field {
          margin-bottom: 20px;
        }

        .summary-field label {
          display: block;
          font-size: 12px;
          font-weight: 600;
          color: #d1d5db;
          margin-bottom: 8px;
          text-transform: uppercase;
        }

        .promo-input-group {
          display: flex;
          gap: 10px;
        }

        .promo-input {
          flex: 1;
          padding: 12px 16px;
          background: #374151;
          border: 1px solid #6b7280;
          border-radius: 8px;
          color: white;
          font-size: 14px;
        }

        .promo-input::placeholder {
          color: #9ca3af;
        }

        .promo-input:focus {
          outline: none;
          border-color: #ea580c;
        }

        .cost-breakdown {
          margin: 25px 0;
          padding: 20px 0;
          border-top: 1px solid #6b7280;
          border-bottom: 1px solid #6b7280;
        }

        .cost-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 12px;
          font-size: 14px;
        }

        .cost-row.total {
          font-size: 18px;
          font-weight: 700;
          margin-top: 15px;
          padding-top: 15px;
          border-top: 1px solid #6b7280;
        }

        .free {
          color: #10b981;
        }

        .applied-promo {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          background: #dcfce7;
          border: 1px solid #16a34a;
          border-radius: 8px;
          color: #15803d;
        }

        .promo-info {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .promo-code-display {
          font-weight: 600;
          font-size: 14px;
        }

        .promo-discount {
          font-size: 12px;
          font-weight: 500;
        }

        .remove-promo-btn {
          background: transparent !important;
          color: #dc2626 !important;
          border: 1px solid #dc2626 !important;
          padding: 6px 12px !important;
          font-size: 12px !important;
        }

        .cost-row.discount {
          color: #16a34a;
        }

        .discount-amount {
          color: #16a34a;
          font-weight: 600;
        }

        .empty-cart {
          text-align: center;
          padding: 40px 20px;
        }

        .empty-cart p {
          margin-bottom: 20px;
          font-size: 18px;
          color: #d1d5db;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
          .cart-layout {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .order-summary-section {
            order: -1;
          }
        }

        @media (max-width: 768px) {
          .cart-container {
            padding: 20px;
          }

          .cart-section,
          .order-summary-section {
            padding: 20px;
          }

          .table-header,
          .cart-item {
            grid-template-columns: 1fr;
            gap: 15px;
            text-align: center;
          }

          .product-details {
            flex-direction: column;
            text-align: center;
          }

          .cart-title {
            font-size: 28px;
          }
        }

        @media (max-width: 480px) {
          .cart-container {
            padding: 15px;
          }

          .cart-section,
          .order-summary-section {
            padding: 15px;
          }

          .promo-input-group {
            flex-direction: column;
          }
        }
      `})]})}const KI=I.createContext({});function O$(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vw=typeof window<"u",L$=Vw?I.useLayoutEffect:I.useEffect,zw=I.createContext(null);function Uw(t,e){t.indexOf(e)===-1&&t.push(e)}function Bw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const sa=(t,e,n)=>n>e?e:n<t?t:n;let Fw=()=>{};const ra={},YI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function XI(t){return typeof t=="object"&&t!==null}const QI=t=>/^0[^.\s]+$/u.test(t);function Hw(t){let e;return()=>(e===void 0&&(e=t()),e)}const fs=t=>t,V$=(t,e)=>n=>e(t(n)),tf=(...t)=>t.reduce(V$),Rh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class qw{constructor(){this.subscriptions=[]}add(e){return Uw(this.subscriptions,e),()=>Bw(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const or=t=>t*1e3,lr=t=>t/1e3;function ZI(t,e){return e?t*(1e3/e):0}const JI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,z$=1e-7,U$=12;function B$(t,e,n,i,s){let a,l,u=0;do l=e+(n-e)/2,a=JI(l,i,s)-t,a>0?n=l:e=l;while(Math.abs(a)>z$&&++u<U$);return l}function nf(t,e,n,i){if(t===e&&n===i)return fs;const s=a=>B$(a,0,1,t,n);return a=>a===0||a===1?a:JI(s(a),e,i)}const eP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tP=t=>e=>1-t(1-e),nP=nf(.33,1.53,.69,.99),$w=tP(nP),iP=eP($w),sP=t=>(t*=2)<1?.5*$w(t):.5*(2-Math.pow(2,-10*(t-1))),Ww=t=>1-Math.sin(Math.acos(t)),rP=tP(Ww),aP=eP(Ww),F$=nf(.42,0,1,1),H$=nf(0,0,.58,1),oP=nf(.42,0,.58,1),q$=t=>Array.isArray(t)&&typeof t[0]!="number",lP=t=>Array.isArray(t)&&typeof t[0]=="number",$$={linear:fs,easeIn:F$,easeInOut:oP,easeOut:H$,circIn:Ww,circInOut:aP,circOut:rP,backIn:$w,backInOut:iP,backOut:nP,anticipate:sP},W$=t=>typeof t=="string",tC=t=>{if(lP(t)){Fw(t.length===4);const[e,n,i,s]=t;return nf(e,n,i,s)}else if(W$(t))return $$[t];return t},qm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G$(t,e){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(m.schedule(p),t()),p(u)}const m={schedule:(p,v=!1,x=!1)=>{const E=x&&s?n:i;return v&&l.add(p),E.has(p)||E.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(h),n.clear(),s=!1,a&&(a=!1,m.process(p))}};return m}const K$=40;function cP(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=qm.reduce((V,$)=>(V[$]=G$(a),V),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:p,update:v,preRender:x,render:_,postRender:E}=l,C=()=>{const V=ra.useManualTiming?s.timestamp:performance.now();n=!1,ra.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(V-s.timestamp,K$),1)),s.timestamp=V,s.isProcessing=!0,u.process(s),h.process(s),m.process(s),p.process(s),v.process(s),x.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(C))},S=()=>{n=!0,i=!0,s.isProcessing||t(C)};return{schedule:qm.reduce((V,$)=>{const q=l[$];return V[$]=(J,z=!1,k=!1)=>(n||S(),q.schedule(J,z,k)),V},{}),cancel:V=>{for(let $=0;$<qm.length;$++)l[qm[$]].cancel(V)},state:s,steps:l}}const{schedule:Ht,cancel:uo,state:Un,steps:Mv}=cP(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let fp;function Y$(){fp=void 0}const Ci={now:()=>(fp===void 0&&Ci.set(Un.isProcessing||ra.useManualTiming?Un.timestamp:performance.now()),fp),set:t=>{fp=t,queueMicrotask(Y$)}},uP=t=>e=>typeof e=="string"&&e.startsWith(t),Gw=uP("--"),X$=uP("var(--"),Kw=t=>X$(t)?Q$.test(t.split("/*")[0].trim()):!1,Q$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Iu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nh={...Iu,transform:t=>sa(0,1,t)},$m={...Iu,default:1},ch=t=>Math.round(t*1e5)/1e5,Yw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z$(t){return t==null}const J$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xw=(t,e)=>n=>!!(typeof n=="string"&&J$.test(n)&&n.startsWith(t)||e&&!Z$(n)&&Object.prototype.hasOwnProperty.call(n,e)),dP=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,u]=i.match(Yw);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},eW=t=>sa(0,255,t),Dv={...Iu,transform:t=>Math.round(eW(t))},hl={test:Xw("rgb","red"),parse:dP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Dv.transform(t)+", "+Dv.transform(e)+", "+Dv.transform(n)+", "+ch(Nh.transform(i))+")"};function tW(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Pb={test:Xw("#"),parse:tW,transform:hl.transform},sf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Va=sf("deg"),cr=sf("%"),ze=sf("px"),nW=sf("vh"),iW=sf("vw"),nC={...cr,parse:t=>cr.parse(t)/100,transform:t=>cr.transform(t*100)},Bc={test:Xw("hsl","hue"),parse:dP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+cr.transform(ch(e))+", "+cr.transform(ch(n))+", "+ch(Nh.transform(i))+")"},hn={test:t=>hl.test(t)||Pb.test(t)||Bc.test(t),parse:t=>hl.test(t)?hl.parse(t):Bc.test(t)?Bc.parse(t):Pb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hl.transform(t):Bc.transform(t),getAnimatableNone:t=>{const e=hn.parse(t);return e.alpha=0,hn.transform(e)}},sW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Yw))==null?void 0:e.length)||0)+(((n=t.match(sW))==null?void 0:n.length)||0)>0}const hP="number",fP="color",aW="var",oW="var(",iC="${}",lW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(lW,h=>(hn.test(h)?(i.color.push(a),s.push(fP),n.push(hn.parse(h))):h.startsWith(oW)?(i.var.push(a),s.push(aW),n.push(h)):(i.number.push(a),s.push(hP),n.push(parseFloat(h))),++a,iC)).split(iC);return{values:n,split:u,indexes:i,types:s}}function mP(t){return jh(t).values}function pP(t){const{split:e,types:n}=jh(t),i=e.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===hP?a+=ch(s[l]):u===fP?a+=hn.transform(s[l]):a+=s[l]}return a}}const cW=t=>typeof t=="number"?0:hn.test(t)?hn.getAnimatableNone(t):t;function uW(t){const e=mP(t);return pP(t)(e.map(cW))}const ho={test:rW,parse:mP,createTransformer:pP,getAnimatableNone:uW};function Ov(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dW({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=Ov(h,u,t+1/3),a=Ov(h,u,t),l=Ov(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function ug(t,e){return n=>n>0?e:t}const Kt=(t,e,n)=>t+(e-t)*n,Lv=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},hW=[Pb,hl,Bc],fW=t=>hW.find(e=>e.test(t));function sC(t){const e=fW(t);if(!e)return!1;let n=e.parse(t);return e===Bc&&(n=dW(n)),n}const rC=(t,e)=>{const n=sC(t),i=sC(e);if(!n||!i)return ug(t,e);const s={...n};return a=>(s.red=Lv(n.red,i.red,a),s.green=Lv(n.green,i.green,a),s.blue=Lv(n.blue,i.blue,a),s.alpha=Kt(n.alpha,i.alpha,a),hl.transform(s))},Mb=new Set(["none","hidden"]);function mW(t,e){return Mb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pW(t,e){return n=>Kt(t,e,n)}function Qw(t){return typeof t=="number"?pW:typeof t=="string"?Kw(t)?ug:hn.test(t)?rC:vW:Array.isArray(t)?gP:typeof t=="object"?hn.test(t)?rC:gW:ug}function gP(t,e){const n=[...t],i=n.length,s=t.map((a,l)=>Qw(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function gW(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=Qw(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function yW(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][i[a]],u=t.values[l]??0;n[s]=u,i[a]++}return n}const vW=(t,e)=>{const n=ho.createTransformer(e),i=jh(t),s=jh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Mb.has(t)&&!s.values.length||Mb.has(e)&&!i.values.length?mW(t,e):tf(gP(yW(i,s),s.values),n):ug(t,e)};function yP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Kt(t,e,n):Qw(t)(t,e)}const bW=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ht.update(e,n),stop:()=>uo(e),now:()=>Un.isProcessing?Un.timestamp:Ci.now()}},vP=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},dg=2e4;function Zw(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<dg;)e+=n,i=t.next(e);return e>=dg?1/0:e}function xW(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(Zw(i),dg);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:lr(s)}}const wW=5;function bP(t,e,n){const i=Math.max(e-wW,0);return ZI(n-t(i),e-i)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aC=.001;function _W({duration:t=Zt.duration,bounce:e=Zt.bounce,velocity:n=Zt.velocity,mass:i=Zt.mass}){let s,a,l=1-e;l=sa(Zt.minDamping,Zt.maxDamping,l),t=sa(Zt.minDuration,Zt.maxDuration,lr(t)),l<1?(s=m=>{const p=m*l,v=p*t,x=p-n,_=Db(m,l),E=Math.exp(-v);return aC-x/_*E},a=m=>{const v=m*l*t,x=v*n+n,_=Math.pow(l,2)*Math.pow(m,2)*t,E=Math.exp(-v),C=Db(Math.pow(m,2),l);return(-s(m)+aC>0?-1:1)*((x-_)*E)/C}):(s=m=>{const p=Math.exp(-m*t),v=(m-n)*t+1;return-.001+p*v},a=m=>{const p=Math.exp(-m*t),v=(n-m)*(t*t);return p*v});const u=5/t,h=TW(s,a,u);if(t=or(t),isNaN(h))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:t};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:l*2*Math.sqrt(i*m),duration:t}}}const EW=12;function TW(t,e,n){let i=n;for(let s=1;s<EW;s++)i=i-t(i)/e(i);return i}function Db(t,e){return t*Math.sqrt(1-e*e)}const AW=["duration","bounce"],SW=["stiffness","damping","mass"];function oC(t,e){return e.some(n=>t[n]!==void 0)}function CW(t){let e={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...t};if(!oC(t,SW)&&oC(t,AW))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*sa(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Zt.mass,stiffness:s,damping:a}}else{const n=_W(t);e={...e,...n,mass:Zt.mass},e.isResolvedFromDuration=!0}return e}function hg(t=Zt.visualDuration,e=Zt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:m,mass:p,duration:v,velocity:x,isResolvedFromDuration:_}=CW({...n,velocity:-lr(n.velocity||0)}),E=x||0,C=m/(2*Math.sqrt(h*p)),S=l-a,N=lr(Math.sqrt(h/p)),U=Math.abs(S)<5;i||(i=U?Zt.restSpeed.granular:Zt.restSpeed.default),s||(s=U?Zt.restDelta.granular:Zt.restDelta.default);let V;if(C<1){const q=Db(N,C);V=J=>{const z=Math.exp(-C*N*J);return l-z*((E+C*N*S)/q*Math.sin(q*J)+S*Math.cos(q*J))}}else if(C===1)V=q=>l-Math.exp(-N*q)*(S+(E+N*S)*q);else{const q=N*Math.sqrt(C*C-1);V=J=>{const z=Math.exp(-C*N*J),k=Math.min(q*J,300);return l-z*((E+C*N*S)*Math.sinh(k)+q*S*Math.cosh(k))/q}}const $={calculatedDuration:_&&v||null,next:q=>{const J=V(q);if(_)u.done=q>=v;else{let z=q===0?E:0;C<1&&(z=q===0?or(E):bP(V,q,J));const k=Math.abs(z)<=i,P=Math.abs(l-J)<=s;u.done=k&&P}return u.value=u.done?l:J,u},toString:()=>{const q=Math.min(Zw($),dg),J=vP(z=>$.next(q*z).value,q,30);return q+"ms "+J},toTransition:()=>{}};return $}hg.applyToOptions=t=>{const e=xW(t,100,hg);return t.ease=e.ease,t.duration=or(e.duration),t.type="keyframes",t};function Ob({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:p}){const v=t[0],x={done:!1,value:v},_=k=>u!==void 0&&k<u||h!==void 0&&k>h,E=k=>u===void 0?h:h===void 0||Math.abs(u-k)<Math.abs(h-k)?u:h;let C=n*e;const S=v+C,N=l===void 0?S:l(S);N!==S&&(C=N-v);const U=k=>-C*Math.exp(-k/i),V=k=>N+U(k),$=k=>{const P=U(k),O=V(k);x.done=Math.abs(P)<=m,x.value=x.done?N:O};let q,J;const z=k=>{_(x.value)&&(q=k,J=hg({keyframes:[x.value,E(x.value)],velocity:bP(V,k,x.value),damping:s,stiffness:a,restDelta:m,restSpeed:p}))};return z(0),{calculatedDuration:null,next:k=>{let P=!1;return!J&&q===void 0&&(P=!0,$(k),z(k)),q!==void 0&&k>=q?J.next(k-q):(!P&&$(k),x)}}}function kW(t,e,n){const i=[],s=n||ra.mix||yP,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||fs:e;u=tf(h,u)}i.push(u)}return i}function RW(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if(Fw(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=kW(e,i,s),h=u.length,m=p=>{if(l&&p<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const x=Rh(t[v],t[v+1],p);return u[v](x)};return n?p=>m(sa(t[0],t[a-1],p)):m}function NW(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Rh(0,e,i);t.push(Kt(n,1,s))}}function jW(t){const e=[0];return NW(e,t.length-1),e}function IW(t,e){return t.map(n=>n*e)}function PW(t,e){return t.map(()=>e||oP).splice(0,t.length-1)}function uh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=q$(i)?i.map(tC):tC(i),a={done:!1,value:e[0]},l=IW(n&&n.length===e.length?n:jW(e),t),u=RW(l,e,{ease:Array.isArray(s)?s:PW(e,s)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const MW=t=>t!==null;function Jw(t,{repeat:e,repeatType:n="loop"},i,s=1){const a=t.filter(MW),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const DW={decay:Ob,inertia:Ob,tween:uh,keyframes:uh,spring:hg};function xP(t){typeof t.type=="string"&&(t.type=DW[t.type])}class e1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const OW=t=>t/100;class t1 extends e1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ci.now()&&this.tick(Ci.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xP(e);const{type:n=uh,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||uh;h!==uh&&typeof u[0]!="number"&&(this.mixKeyframes=tf(OW,yP(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=Zw(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:p,repeat:v,repeatType:x,repeatDelay:_,type:E,onUpdate:C,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let V=this.currentTime,$=i;if(v){const k=Math.min(this.currentTime,s)/u;let P=Math.floor(k),O=k%1;!O&&k>=1&&(O=1),O===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(x==="reverse"?(O=1-O,_&&(O-=_/u)):x==="mirror"&&($=l)),V=sa(0,1,O)*u}const q=U?{done:!1,value:p[0]}:$.next(V);a&&(q.value=a(q.value));let{done:J}=q;!U&&h!==null&&(J=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return z&&E!==Ob&&(q.value=Jw(p,this.options,S,this.speed)),C&&C(q.value),z&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return lr(this.calculatedDuration)}get time(){return lr(this.currentTime)}set time(e){var n;e=or(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ci.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=lr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=bW,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ci.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function LW(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fl=t=>t*180/Math.PI,Lb=t=>{const e=fl(Math.atan2(t[1],t[0]));return Vb(e)},VW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Lb,rotateZ:Lb,skewX:t=>fl(Math.atan(t[1])),skewY:t=>fl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vb=t=>(t=t%360,t<0&&(t+=360),t),lC=Lb,cC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),uC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cC,scaleY:uC,scale:t=>(cC(t)+uC(t))/2,rotateX:t=>Vb(fl(Math.atan2(t[6],t[5]))),rotateY:t=>Vb(fl(Math.atan2(-t[2],t[0]))),rotateZ:lC,rotate:lC,skewX:t=>fl(Math.atan(t[4])),skewY:t=>fl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zb(t){return t.includes("scale")?1:0}function Ub(t,e){if(!t||t==="none")return zb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=zW,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=VW,s=u}if(!s)return zb(e);const a=i[e],l=s[1].split(",").map(BW);return typeof a=="function"?a(l):l[a]}const UW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ub(n,e)};function BW(t){return parseFloat(t.trim())}const Pu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mu=new Set(Pu),dC=t=>t===Iu||t===ze,FW=new Set(["x","y","z"]),HW=Pu.filter(t=>!FW.has(t));function qW(t){const e=[];return HW.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const yl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ub(e,"x"),y:(t,{transform:e})=>Ub(e,"y")};yl.translateX=yl.x;yl.translateY=yl.y;const vl=new Set;let Bb=!1,Fb=!1,Hb=!1;function wP(){if(Fb){const t=Array.from(vl).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=qW(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var u;(u=i.getValue(a))==null||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Fb=!1,Bb=!1,vl.forEach(t=>t.complete(Hb)),vl.clear()}function _P(){vl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fb=!0)})}function $W(){Hb=!0,_P(),wP(),Hb=!1}class n1{constructor(e,n,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(vl.add(this),Bb||(Bb=!0,Ht.read(_P),Ht.resolveKeyframes(wP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const u=i.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}LW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vl.delete(this)}cancel(){this.state==="scheduled"&&(vl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WW=t=>t.startsWith("--");function GW(t,e,n){WW(e)?t.style.setProperty(e,n):t.style[e]=n}const KW=Hw(()=>window.ScrollTimeline!==void 0),YW={};function XW(t,e){const n=Hw(t);return()=>YW[e]??n()}const EP=XW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jd=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,hC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jd([0,.65,.55,1]),circOut:Jd([.55,0,1,.45]),backIn:Jd([.31,.01,.66,-.59]),backOut:Jd([.33,1.53,.69,.99])};function TP(t,e){if(t)return typeof t=="function"?EP()?vP(t,e):"ease-out":lP(t)?Jd(t):Array.isArray(t)?t.map(n=>TP(n,e)||hC.easeOut):hC[t]}function QW(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const p={[e]:n};h&&(p.offset=h);const v=TP(u,s);Array.isArray(v)&&(p.easing=v);const x={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(p,x)}function AP(t){return typeof t=="function"&&"applyToOptions"in t}function ZW({type:t,...e}){return AP(t)&&EP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JW extends e1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Fw(typeof e.type!="string");const m=ZW(e);this.animation=QW(n,i,s,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Jw(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):GW(n,i,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return lr(Number(e))}get time(){return lr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=or(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&KW()?(this.animation.timeline=e,fs):n(this)}}const SP={anticipate:sP,backInOut:iP,circInOut:aP};function eG(t){return t in SP}function tG(t){typeof t.ease=="string"&&eG(t.ease)&&(t.ease=SP[t.ease])}const fC=10;class nG extends JW{constructor(e){tG(e),xP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new t1({...l,autoplay:!1}),h=or(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-fC).value,u.sample(h).value,fC),u.stop()}}const mC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ho.test(t)||t==="0")&&!t.startsWith("url("));function iG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sG(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=mC(s,e),u=mC(a,e);return!l||!u?!1:iG(t)||(n==="spring"||AP(n))&&i}function qb(t){t.duration=0,t.type}const rG=new Set(["opacity","clipPath","filter","transform"]),aG=Hw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oG(t){var p;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:a,type:l}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return aG()&&n&&rG.has(n)&&(n!=="transform"||!m)&&!h&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const lG=40;class cG extends e1{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:p,...v}){var E;super(),this.stop=()=>{var C,S;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Ci.now();const x={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:m,element:p,...v},_=(p==null?void 0:p.KeyframeResolver)||n1;this.keyframeResolver=new _(u,(C,S,N)=>this.onKeyframesResolved(C,S,x,!N),h,m,p),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:p}=i;this.resolvedAt=Ci.now(),sG(e,a,l,u)||((ra.instantAnimations||!h)&&(p==null||p(Jw(e,i,n))),e[0]=e[e.length-1],qb(i),i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!m&&oG(x)?new nG({...x,element:x.motionValue.owner.current}):new t1(x);_.finished.then(()=>this.notifyFinished()).catch(fs),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$W()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const uG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dG(t){const e=uG.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function CP(t,e,n=1){const[i,s]=dG(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return YI(l)?parseFloat(l):l}return Kw(s)?CP(s,e,n+1):s}function i1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const kP=new Set(["width","height","top","left","right","bottom",...Pu]),hG={test:t=>t==="auto",parse:t=>t},RP=t=>e=>e.test(t),NP=[Iu,ze,cr,Va,iW,nW,hG],pC=t=>NP.find(RP(t));function fG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QI(t):!0}const mG=new Set(["brightness","contrast","saturate","opacity"]);function pG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Yw)||[];if(!i)return t;const s=n.replace(i,"");let a=mG.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const gG=/\b([a-z-]*)\(.*?\)/gu,$b={...ho,getAnimatableNone:t=>{const e=t.match(gG);return e?e.map(pG).join(" "):t}},gC={...Iu,transform:Math.round},yG={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:$m,scaleX:$m,scaleY:$m,scaleZ:$m,skew:Va,skewX:Va,skewY:Va,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Nh,originX:nC,originY:nC,originZ:ze},s1={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...yG,zIndex:gC,fillOpacity:Nh,strokeOpacity:Nh,numOctaves:gC},vG={...s1,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:$b,WebkitFilter:$b},jP=t=>vG[t];function IP(t,e){let n=jP(t);return n!==$b&&(n=ho),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bG=new Set(["auto","none","0"]);function xG(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!bG.has(a)&&jh(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=IP(n,s)}class wG extends n1{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Kw(m))){const p=CP(m,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!kP.has(i)||e.length!==2)return;const[s,a]=e,l=pC(s),u=pC(a);if(l!==u)if(dC(l)&&dC(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else yl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||fG(e[s]))&&i.push(s);i.length&&xG(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=yl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function _G(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const PP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function EG(t){return XI(t)&&"offsetHeight"in t}const yC=30,TG=t=>!isNaN(parseFloat(t));class AG{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const s=Ci.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qw);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ht.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yC);return ZI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(t,e){return new AG(t,e)}const{schedule:r1}=cP(queueMicrotask,!1),Ss={x:!1,y:!1};function MP(){return Ss.x||Ss.y}function SG(t){return t==="x"||t==="y"?Ss[t]?null:(Ss[t]=!0,()=>{Ss[t]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}function DP(t,e){const n=_G(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function vC(t){return!(t.pointerType==="touch"||MP())}function CG(t,e,n={}){const[i,s,a]=DP(t,n),l=u=>{if(!vC(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const p=v=>{vC(v)&&(m(v),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const OP=(t,e)=>e?t===e?!0:OP(t,e.parentElement):!1,a1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RG(t){return kG.has(t.tagName)||t.tabIndex!==-1}const mp=new WeakSet;function bC(t){return e=>{e.key==="Enter"&&t(e)}}function Vv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const NG=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=bC(()=>{if(mp.has(n))return;Vv(n,"down");const s=bC(()=>{Vv(n,"up")}),a=()=>Vv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function xC(t){return a1(t)&&!MP()}function jG(t,e,n={}){const[i,s,a]=DP(t,n),l=u=>{const h=u.currentTarget;if(!xC(u))return;mp.add(h);const m=e(h,u),p=(_,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),mp.has(h)&&mp.delete(h),xC(_)&&typeof m=="function"&&m(_,{success:E})},v=_=>{p(_,h===window||h===document||n.useGlobalTarget||OP(h,_.target))},x=_=>{p(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),EG(u)&&(u.addEventListener("focus",m=>NG(m,s)),!RG(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function LP(t){return XI(t)&&"ownerSVGElement"in t}function IG(t){return LP(t)&&t.tagName==="svg"}const ei=t=>!!(t&&t.getVelocity),PG=[...NP,hn,ho],MG=t=>PG.find(RP(t)),VP=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function DG(t=!0){const e=I.useContext(zw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=I.useId();I.useEffect(()=>{if(t)return s(a)},[t]);const l=I.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}const zP=I.createContext({strict:!1}),wC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pu={};for(const t in wC)pu[t]={isEnabled:e=>wC[t].some(n=>!!e[n])};function OG(t){for(const e in t)pu[e]={...pu[e],...t[e]}}const LG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LG.has(t)}let UP=t=>!fg(t);function VG(t){typeof t=="function"&&(UP=e=>e.startsWith("on")?!fg(e):t(e))}try{VG(require("@emotion/is-prop-valid").default)}catch{}function zG(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(UP(s)||n===!0&&fg(s)||!e&&!fg(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const Jg=I.createContext({});function ey(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ih(t){return typeof t=="string"||Array.isArray(t)}const o1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l1=["initial",...o1];function ty(t){return ey(t.animate)||l1.some(e=>Ih(t[e]))}function BP(t){return!!(ty(t)||t.variants)}function UG(t,e){if(ty(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ih(n)?n:void 0,animate:Ih(i)?i:void 0}}return t.inherit!==!1?e:{}}function BG(t){const{initial:e,animate:n}=UG(t,I.useContext(Jg));return I.useMemo(()=>({initial:e,animate:n}),[_C(e),_C(n)])}function _C(t){return Array.isArray(t)?t.join(" "):t}const Ph={};function FG(t){for(const e in t)Ph[e]=t[e],Gw(e)&&(Ph[e].isCSSVariable=!0)}function FP(t,{layout:e,layoutId:n}){return Mu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ph[t]||t==="opacity")}const HG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qG=Pu.length;function $G(t,e,n){let i="",s=!0;for(let a=0;a<qG;a++){const l=Pu[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=PP(u,s1[l]);if(!h){s=!1;const p=HG[l]||l;i+=`${p}(${m}) `}n&&(e[l]=m)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function c1(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const m=e[h];if(Mu.has(h)){l=!0;continue}else if(Gw(h)){s[h]=m;continue}else{const p=PP(m,s1[h]);h.startsWith("origin")?(u=!0,a[h]=p):i[h]=p}}if(e.transform||(l||n?i.transform=$G(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${m} ${p}`}}const u1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HP(t,e,n){for(const i in e)!ei(e[i])&&!FP(i,n)&&(t[i]=e[i])}function WG({transformTemplate:t},e){return I.useMemo(()=>{const n=u1();return c1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GG(t,e){const n=t.style||{},i={};return HP(i,n,t),Object.assign(i,WG(t,e)),i}function KG(t,e){const n={},i=GG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const YG={offset:"stroke-dashoffset",array:"stroke-dasharray"},XG={offset:"strokeDashoffset",array:"strokeDasharray"};function QG(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?YG:XG;t[a.offset]=ze.transform(-i);const l=ze.transform(e),u=ze.transform(n);t[a.array]=`${l} ${u}`}function qP(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,m,p){if(c1(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&QG(v,s,a,l,!1)}const $P=()=>({...u1(),attrs:{}}),WP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZG(t,e,n,i){const s=I.useMemo(()=>{const a=$P();return qP(a,e,WP(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};HP(a,t.style,t),s.style={...a,...s.style}}return s}const JG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d1(t){return typeof t!="string"||t.includes("-")?!1:!!(JG.indexOf(t)>-1||/[A-Z]/u.test(t))}function eK(t,e,n,{latestValues:i},s,a=!1){const u=(d1(t)?ZG:KG)(e,i,s,t),h=zG(e,typeof t=="string",a),m=t!==I.Fragment?{...h,...u,ref:n}:{},{children:p}=e,v=I.useMemo(()=>ei(p)?p.get():p,[p]);return I.createElement(t,{...m,children:v})}function EC(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function h1(t,e,n,i){if(typeof e=="function"){const[s,a]=EC(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=EC(i);e=e(n!==void 0?n:t.custom,s,a)}return e}function pp(t){return ei(t)?t.get():t}function tK({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:nK(n,i,s,t),renderState:e()}}function nK(t,e,n,i){const s={},a=i(t,{});for(const x in a)s[x]=pp(a[x]);let{initial:l,animate:u}=t;const h=ty(t),m=BP(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!ey(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const E=h1(t,x[_]);if(E){const{transitionEnd:C,transition:S,...N}=E;for(const U in N){let V=N[U];if(Array.isArray(V)){const $=p?V.length-1:0;V=V[$]}V!==null&&(s[U]=V)}for(const U in C)s[U]=C[U]}}}return s}const GP=t=>(e,n)=>{const i=I.useContext(Jg),s=I.useContext(zw),a=()=>tK(t,e,i,s);return n?a():O$(a)};function f1(t,e,n){var a;const{style:i}=t,s={};for(const l in i)(ei(i[l])||e.style&&ei(e.style[l])||FP(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const iK=GP({scrapeMotionValuesFromProps:f1,createRenderState:u1});function KP(t,e,n){const i=f1(t,e,n);for(const s in t)if(ei(t[s])||ei(e[s])){const a=Pu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}const sK=GP({scrapeMotionValuesFromProps:KP,createRenderState:$P}),rK=Symbol.for("motionComponentSymbol");function Fc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aK(t,e,n){return I.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Fc(n)&&(n.current=i))},[e])}const m1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oK="framerAppearId",YP="data-"+m1(oK),XP=I.createContext({});function lK(t,e,n,i,s){var C,S;const{visualElement:a}=I.useContext(Jg),l=I.useContext(zP),u=I.useContext(zw),h=I.useContext(VP).reducedMotion,m=I.useRef(null);i=i||l.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,v=I.useContext(XP);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&cK(m.current,n,s,v);const x=I.useRef(!1);I.useInsertionEffect(()=>{p&&x.current&&p.update(n,u)});const _=n[YP],E=I.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,_)));return L$(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),E.current&&p.animationState&&p.animationState.animateChanges())}),I.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,_)}),E.current=!1),p.enteringChildren=void 0)}),p}function cK(t,e,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QP(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&Fc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:m})}function QP(t){if(t)return t.options.allowProjection!==!1?t.projection:QP(t.parent)}function zv(t,{forwardMotionProps:e=!1}={},n,i){n&&OG(n);const s=d1(t)?sK:iK;function a(u,h){let m;const p={...I.useContext(VP),...u,layoutId:uK(u)},{isStatic:v}=p,x=BG(u),_=s(u,v);if(!v&&Vw){dK();const E=hK(p);m=E.MeasureLayout,x.visualElement=lK(t,_,p,i,E.ProjectionNode)}return d.jsxs(Jg.Provider,{value:x,children:[m&&x.visualElement?d.jsx(m,{visualElement:x.visualElement,...p}):null,eK(t,u,aK(_,x.visualElement,h),_,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=I.forwardRef(a);return l[rK]=t,l}function uK({layoutId:t}){const e=I.useContext(KI).id;return e&&t!==void 0?e+"-"+t:t}function dK(t,e){I.useContext(zP).strict}function hK(t){const{drag:e,layout:n}=pu;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function fK(t,e){if(typeof Proxy>"u")return zv;const n=new Map,i=(a,l)=>zv(a,l,t,e),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(n.has(l)||n.set(l,zv(l,void 0,t,e)),n.get(l))})}function ZP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function mK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Uv(t){return t===void 0||t===1}function Wb({scale:t,scaleX:e,scaleY:n}){return!Uv(t)||!Uv(e)||!Uv(n)}function ol(t){return Wb(t)||JP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JP(t){return TC(t.x)||TC(t.y)}function TC(t){return t&&t!=="0%"}function mg(t,e,n){const i=t-n,s=e*i;return n+s}function AC(t,e,n,i,s){return s!==void 0&&(t=mg(t,s,i)),mg(t,n,i)+e}function Gb(t,e=0,n=1,i,s){t.min=AC(t.min,e,n,i,s),t.max=AC(t.max,e,n,i,s)}function eM(t,{x:e,y:n}){Gb(t.x,e.translate,e.scale,e.originPoint),Gb(t.y,n.translate,n.scale,n.originPoint)}const SC=.999999999999,CC=1.0000000000001;function gK(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,eM(t,l)),i&&ol(a.latestValues)&&qc(t,a.latestValues))}e.x<CC&&e.x>SC&&(e.x=1),e.y<CC&&e.y>SC&&(e.y=1)}function Hc(t,e){t.min=t.min+e,t.max=t.max+e}function kC(t,e,n,i,s=.5){const a=Kt(t.min,t.max,s);Gb(t,e,n,a,i)}function qc(t,e){kC(t.x,e.x,e.scaleX,e.scale,e.originX),kC(t.y,e.y,e.scaleY,e.scale,e.originY)}function tM(t,e){return ZP(pK(t.getBoundingClientRect(),e))}function yK(t,e,n){const i=tM(t,n),{scroll:s}=e;return s&&(Hc(i.x,s.offset.x),Hc(i.y,s.offset.y)),i}const RC=()=>({translate:0,scale:1,origin:0,originPoint:0}),$c=()=>({x:RC(),y:RC()}),NC=()=>({min:0,max:0}),nn=()=>({x:NC(),y:NC()}),Kb={current:null},nM={current:!1};function vK(){if(nM.current=!0,!!Vw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kb.current=t.matches;t.addEventListener("change",e),e()}else Kb.current=!1}const bK=new WeakMap;function xK(t,e,n){for(const i in e){const s=e[i],a=n[i];if(ei(s))t.addValue(i,s);else if(ei(a))t.addValue(i,mu(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,mu(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const jC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wK{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ci.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ht.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=ty(n),this.isVariantNode=BP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const _=v[x];h[x]!==void 0&&ei(_)&&_.set(h[x])}}mount(e){var n;this.current=e,bK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),nM.current||vK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Mu.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ht.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pu){const n=pu[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<jC.length;i++){const s=jC[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=xK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=mu(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(YI(i)||QI(i))?i=parseFloat(i):!MG(i)&&ho.test(n)&&(i=IP(e,n)),this.setBaseTarget(e,ei(i)?i.get():i)),ei(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=h1(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ei(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){r1.render(this.render)}}class iM extends wK{constructor(){super(...arguments),this.KeyframeResolver=wG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ei(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sM(t,{style:e,vars:n},i,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,i);for(l in n)a.setProperty(l,n[l])}function _K(t){return window.getComputedStyle(t)}class EK extends iM{constructor(){super(...arguments),this.type="html",this.renderInstance=sM}readValueFromInstance(e,n){var i;if(Mu.has(n))return(i=this.projection)!=null&&i.isProjecting?zb(n):UW(e,n);{const s=_K(e),a=(Gw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tM(e,n)}build(e,n,i){c1(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return f1(e,n,i)}}const rM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TK(t,e,n,i){sM(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(rM.has(s)?s:m1(s),e.attrs[s])}class AK extends iM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Mu.has(n)){const i=jP(n);return i&&i.default||0}return n=rM.has(n)?n:m1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return KP(e,n,i)}build(e,n,i){qP(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){TK(e,n,i,s)}mount(e){this.isSVGTag=WP(e.tagName),super.mount(e)}}const SK=(t,e)=>d1(t)?new AK(e):new EK(e,{allowProjection:t!==I.Fragment});function eu(t,e,n){const i=t.getProps();return h1(i,e,n!==void 0?n:i.custom,t)}const Yb=t=>Array.isArray(t);function CK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mu(n))}function kK(t){return Yb(t)?t[t.length-1]||0:t}function RK(t,e){const n=eu(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const u=kK(a[l]);CK(t,l,u)}}function NK(t){return!!(ei(t)&&t.add)}function Xb(t,e){const n=t.getValue("willChange");if(NK(n))return n.add(e);if(!n&&ra.WillChange){const i=new ra.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function aM(t){return t.props[YP]}const jK=t=>t!==null;function IK(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(jK),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const PK={type:"spring",stiffness:500,damping:25,restSpeed:10},MK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DK={type:"keyframes",duration:.8},OK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LK=(t,{keyframes:e})=>e.length>2?DK:Mu.has(t)?t.startsWith("scale")?MK(e[1]):PK:OK;function VK({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const p1=(t,e,n,i={},s,a)=>l=>{const u=i1(i,t)||{},h=u.delay||i.delay||0;let{elapsed:m=0}=i;m=m-or(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};VK(u)||Object.assign(p,LK(t,p)),p.duration&&(p.duration=or(p.duration)),p.repeatDelay&&(p.repeatDelay=or(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(qb(p),p.delay===0&&(v=!0)),(ra.instantAnimations||ra.skipAnimations)&&(v=!0,qb(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const x=IK(p.keyframes,u);if(x!==void 0){Ht.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new t1(p):new cG(p)};function zK({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function oM(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(a=i);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const v=t.getValue(p,t.latestValues[p]??null),x=u[p];if(x===void 0||m&&zK(m,p))continue;const _={delay:n,...i1(a||{},p)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===E&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const N=aM(t);if(N){const U=window.MotionHandoffAnimation(N,p,Ht);U!==null&&(_.startTime=U,C=!0)}}Xb(t,p),v.start(p1(p,v,x,t.shouldReduceMotion&&kP.has(p)?{type:!1}:_,t,C));const S=v.animation;S&&h.push(S)}return l&&Promise.all(h).then(()=>{Ht.update(()=>{l&&RK(t,l)})}),h}function lM(t,e,n,i=0,s=1){const a=Array.from(t).sort((m,p)=>m.sortNodePosition(p)).indexOf(e),l=t.size,u=(l-1)*i;return typeof n=="function"?n(a,l):s===1?a*i:u-a*i}function Qb(t,e,n={}){var h;const i=eu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(oM(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:x}=s;return UK(t,e,m,p,v,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[m,p]=u==="beforeChildren"?[a,l]:[l,a];return m().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function UK(t,e,n=0,i=0,s=0,a=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Qb(h,e,{...l,delay:n+(typeof i=="function"?0:i)+lM(t.variantChildren,h,i,s,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function BK(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>Qb(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=Qb(t,e,n);else{const s=typeof e=="function"?eu(t,e,n.custom):e;i=Promise.all(oM(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function cM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const FK=l1.length;function uM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<FK;n++){const i=l1[n],s=t.props[i];(Ih(s)||s===!1)&&(e[i]=s)}return e}const HK=[...o1].reverse(),qK=o1.length;function $K(t){return e=>Promise.all(e.map(({animation:n,options:i})=>BK(t,n,i)))}function WK(t){let e=$K(t),n=IC(),i=!0;const s=h=>(m,p)=>{var x;const v=eu(t,p,h==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:_,transitionEnd:E,...C}=v;m={...m,...C,...E}}return m};function a(h){e=h(t)}function l(h){const{props:m}=t,p=uM(t.parent)||{},v=[],x=new Set;let _={},E=1/0;for(let S=0;S<qK;S++){const N=HK[S],U=n[N],V=m[N]!==void 0?m[N]:p[N],$=Ih(V),q=N===h?U.isActive:null;q===!1&&(E=S);let J=V===p[N]&&V!==m[N]&&$;if(J&&i&&t.manuallyAnimateOnMount&&(J=!1),U.protectedKeys={..._},!U.isActive&&q===null||!V&&!U.prevProp||ey(V)||typeof V=="boolean")continue;const z=GK(U.prevProp,V);let k=z||N===h&&U.isActive&&!J&&$||S>E&&$,P=!1;const O=Array.isArray(V)?V:[V];let L=O.reduce(s(N),{});q===!1&&(L={});const{prevResolvedValues:D={}}=U,R={...D,...L},ae=ne=>{k=!0,x.has(ne)&&(P=!0,x.delete(ne)),U.needsAnimating[ne]=!0;const he=t.getValue(ne);he&&(he.liveStyle=!1)};for(const ne in R){const he=L[ne],ve=D[ne];if(_.hasOwnProperty(ne))continue;let B=!1;Yb(he)&&Yb(ve)?B=!cM(he,ve):B=he!==ve,B?he!=null?ae(ne):x.add(ne):he!==void 0&&x.has(ne)?ae(ne):U.protectedKeys[ne]=!0}U.prevProp=V,U.prevResolvedValues=L,U.isActive&&(_={..._,...L}),i&&t.blockInitialAnimation&&(k=!1);const ee=J&&z;k&&(!ee||P)&&v.push(...O.map(ne=>{const he={type:N};if(typeof ne=="string"&&i&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:ve}=t,B=eu(ve,ne);if(ve.enteringChildren&&B){const{delayChildren:oe}=B.transition||{};he.delay=lM(ve.enteringChildren,t,oe)}}return{animation:ne,options:he}}))}if(x.size){const S={};if(typeof m.initial!="boolean"){const N=eu(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(S.transition=N.transition)}x.forEach(N=>{const U=t.getBaseTarget(N),V=t.getValue(N);V&&(V.liveStyle=!0),S[N]=U??null}),v.push({animation:S})}let C=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function u(h,m){var v;if(n[h].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(h,m)}),n[h].isActive=m;const p=l(h);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=IC(),i=!0}}}function GK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cM(e,t):!1}function sl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IC(){return{animate:sl(!0),whileInView:sl(),whileHover:sl(),whileTap:sl(),whileDrag:sl(),whileFocus:sl(),exit:sl()}}class yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class KK extends yo{constructor(e){super(e),e.animationState||(e.animationState=WK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ey(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let YK=0;class XK extends yo{constructor(){super(...arguments),this.id=YK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const QK={animation:{Feature:KK},exit:{Feature:XK}};function Mh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function rf(t){return{point:{x:t.pageX,y:t.pageY}}}const ZK=t=>e=>a1(e)&&t(e,rf(e));function dh(t,e,n,i){return Mh(t,e,ZK(n),i)}const dM=1e-4,JK=1-dM,eY=1+dM,hM=.01,tY=0-hM,nY=0+hM;function ci(t){return t.max-t.min}function iY(t,e,n){return Math.abs(t-e)<=n}function PC(t,e,n,i=.5){t.origin=i,t.originPoint=Kt(e.min,e.max,t.origin),t.scale=ci(n)/ci(e),t.translate=Kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=JK&&t.scale<=eY||isNaN(t.scale))&&(t.scale=1),(t.translate>=tY&&t.translate<=nY||isNaN(t.translate))&&(t.translate=0)}function hh(t,e,n,i){PC(t.x,e.x,n.x,i?i.originX:void 0),PC(t.y,e.y,n.y,i?i.originY:void 0)}function MC(t,e,n){t.min=n.min+e.min,t.max=t.min+ci(e)}function sY(t,e,n){MC(t.x,e.x,n.x),MC(t.y,e.y,n.y)}function DC(t,e,n){t.min=e.min-n.min,t.max=t.min+ci(e)}function fh(t,e,n){DC(t.x,e.x,n.x),DC(t.y,e.y,n.y)}function ds(t){return[t("x"),t("y")]}const fM=({current:t})=>t?t.ownerDocument.defaultView:null,OC=(t,e)=>Math.abs(t-e);function rY(t,e){const n=OC(t.x,e.x),i=OC(t.y,e.y);return Math.sqrt(n**2+i**2)}class mM{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Fv(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=rY(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:C}=x,{timestamp:S}=Un;this.history.push({...C,timestamp:S});const{onStart:N,onMove:U}=this.handlers;_||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,x)},this.handlePointerMove=(x,_)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Bv(_,this.transformPagePoint),Ht.update(this.updatePoint,!0)},this.handlePointerUp=(x,_)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Fv(x.type==="pointercancel"?this.lastMoveEventInfo:Bv(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(x,N),C&&C(x,N)},!a1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=rf(e),h=Bv(u,this.transformPagePoint),{point:m}=h,{timestamp:p}=Un;this.history=[{...m,timestamp:p}];const{onSessionStart:v}=n;v&&v(e,Fv(h,this.history)),this.removeListeners=tf(dh(this.contextWindow,"pointermove",this.handlePointerMove),dh(this.contextWindow,"pointerup",this.handlePointerUp),dh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uo(this.updatePoint)}}function Bv(t,e){return e?{point:e(t.point)}:t}function LC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fv({point:t},e){return{point:t,delta:LC(t,pM(e)),offset:LC(t,aY(e)),velocity:oY(e,.1)}}function aY(t){return t[0]}function pM(t){return t[t.length-1]}function oY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=pM(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>or(e)));)n--;if(!i)return{x:0,y:0};const a=lr(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function lY(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Kt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Kt(n,t,i.max):Math.min(t,n)),t}function VC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cY(t,{top:e,left:n,bottom:i,right:s}){return{x:VC(t.x,n,s),y:VC(t.y,e,i)}}function zC(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function uY(t,e){return{x:zC(t.x,e.x),y:zC(t.y,e.y)}}function dY(t,e){let n=.5;const i=ci(t),s=ci(e);return s>i?n=Rh(e.min,e.max-i,t.min):i>s&&(n=Rh(t.min,t.max-s,e.min)),sa(0,1,n)}function hY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zb=.35;function fY(t=Zb){return t===!1?t=0:t===!0&&(t=Zb),{x:UC(t,"left","right"),y:UC(t,"top","bottom")}}function UC(t,e,n){return{min:BC(t,e),max:BC(t,n)}}function BC(t,e){return typeof t=="number"?t:t[e]||0}const mY=new WeakMap;class pY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rf(v).point)},l=(v,x)=>{const{drag:_,dragPropagation:E,onDragStart:C}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SG(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(N=>{let U=this.getAxisMotionValue(N).get()||0;if(cr.test(U)){const{projection:V}=this.visualElement;if(V&&V.layout){const $=V.layout.layoutBox[N];$&&(U=ci($)*(parseFloat(U)/100))}}this.originPoint[N]=U}),C&&Ht.postRender(()=>C(v,x)),Xb(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:C,onDrag:S}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=x;if(E&&this.currentDirection===null){this.currentDirection=gY(N),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),S&&S(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ds(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mM(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:fM(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Ht.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Wm(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=lY(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Fc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=cY(i.layoutBox,e):this.constraints=!1,this.elastic=fY(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ds(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=hY(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fc(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=yK(i,s.root,this.visualElement.getTransformPagePoint());let l=uY(s.layout.layoutBox,a);if(n){const u=n(mK(l));this.hasMutatedConstraints=!!u,u&&(l=ZP(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=ds(p=>{if(!Wm(p,n,this.currentDirection))return;let v=h&&h[p]||{};l&&(v={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,E={type:"inertia",velocity:i?e[p]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(p,E)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Xb(this.visualElement,e),i.start(p1(e,i,0,n,this.visualElement,!1))}stopAnimation(){ds(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ds(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ds(n=>{const{drag:i}=this.getProps();if(!Wm(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];a.set(e[n]-Kt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Fc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ds(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=dY({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ds(l=>{if(!Wm(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(Kt(h,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;mY.set(this.visualElement,this);const e=this.visualElement.current,n=dh(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Fc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ht.read(i);const l=Mh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(ds(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=h[p].translate,v.set(v.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Zb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Wm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yY extends yo{constructor(e){super(e),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new pY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const FC=t=>(e,n)=>{t&&Ht.postRender(()=>t(e,n))};class vY extends yo{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(e){this.session=new mM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:FC(e),onStart:FC(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Ht.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=dh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=HC(t,e.target.x),i=HC(t,e.target.y);return`${n}% ${i}%`}},bY={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=ho.parse(t);if(s.length>5)return i;const a=ho.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const m=Kt(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}};let Hv=!1;class xY extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;FG(wY),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),Hv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),gp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,Hv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ht.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;Hv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gM(t){const[e,n]=DG(),i=I.useContext(KI);return d.jsx(xY,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(XP),isPresent:e,safeToRemove:n})}const wY={borderRadius:{...Fd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fd,borderTopRightRadius:Fd,borderBottomLeftRadius:Fd,borderBottomRightRadius:Fd,boxShadow:bY};function _Y(t,e,n){const i=ei(t)?t:mu(t);return i.start(p1("",i,e,n)),i.animation}const EY=(t,e)=>t.depth-e.depth;class TY{constructor(){this.children=[],this.isDirty=!1}add(e){Uw(this.children,e),this.isDirty=!0}remove(e){Bw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EY),this.isDirty=!1,this.children.forEach(e)}}function AY(t,e){const n=Ci.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(uo(i),t(a-e))};return Ht.setup(i,!0),()=>uo(i)}const yM=["TopLeft","TopRight","BottomLeft","BottomRight"],SY=yM.length,qC=t=>typeof t=="string"?parseFloat(t):t,$C=t=>typeof t=="number"||ze.test(t);function CY(t,e,n,i,s,a){s?(t.opacity=Kt(0,n.opacity??1,kY(i)),t.opacityExit=Kt(e.opacity??1,0,RY(i))):a&&(t.opacity=Kt(e.opacity??1,n.opacity??1,i));for(let l=0;l<SY;l++){const u=`border${yM[l]}Radius`;let h=WC(e,u),m=WC(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||$C(h)===$C(m)?(t[u]=Math.max(Kt(qC(h),qC(m),i),0),(cr.test(m)||cr.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Kt(e.rotate||0,n.rotate||0,i))}function WC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kY=vM(0,.5,rP),RY=vM(.5,.95,fs);function vM(t,e,n){return i=>i<t?0:i>e?1:n(Rh(t,e,i))}function GC(t,e){t.min=e.min,t.max=e.max}function us(t,e){GC(t.x,e.x),GC(t.y,e.y)}function KC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YC(t,e,n,i,s){return t-=e,t=mg(t,1/n,i),s!==void 0&&(t=mg(t,1/s,i)),t}function NY(t,e=0,n=1,i=.5,s,a=t,l=t){if(cr.test(e)&&(e=parseFloat(e),e=Kt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Kt(a.min,a.max,i);t===a&&(u-=e),t.min=YC(t.min,e,n,u,s),t.max=YC(t.max,e,n,u,s)}function XC(t,e,[n,i,s],a,l){NY(t,e[n],e[i],e[s],e.scale,a,l)}const jY=["x","scaleX","originX"],IY=["y","scaleY","originY"];function QC(t,e,n,i){XC(t.x,e,jY,n?n.x:void 0,i?i.x:void 0),XC(t.y,e,IY,n?n.y:void 0,i?i.y:void 0)}function ZC(t){return t.translate===0&&t.scale===1}function bM(t){return ZC(t.x)&&ZC(t.y)}function JC(t,e){return t.min===e.min&&t.max===e.max}function PY(t,e){return JC(t.x,e.x)&&JC(t.y,e.y)}function ek(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xM(t,e){return ek(t.x,e.x)&&ek(t.y,e.y)}function tk(t){return ci(t.x)/ci(t.y)}function nk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MY{constructor(){this.members=[]}add(e){Uw(this.members,e),e.scheduleRender()}remove(e){if(Bw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DY(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:v,rotateY:x,skewX:_,skewY:E}=n;m&&(i=`perspective(${m}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),E&&(i+=`skewY(${E}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const qv=["","X","Y","Z"],OY=1e3;let LY=0;function $v(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function wM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ht,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&wM(i)}function _M({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=LY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UY),this.nodes.forEach(qY),this.nodes.forEach($Y),this.nodes.forEach(BY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new TY)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=LP(l)&&!IG(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let p,v=0;const x=()=>this.root.updateBlockedByResize=!1;Ht.read(()=>{v=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,p&&p(),p=AY(x,250),gp.hasAnimatedSinceResize&&(gp.hasAnimatedSinceResize=!1,this.nodes.forEach(rk)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||XY,{onLayoutAnimationStart:C,onLayoutAnimationComplete:S}=m.getProps(),N=!this.targetLayout||!xM(this.targetLayout,_),U=!v&&x;if(this.options.layoutRoot||this.resumeFrom||U||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...i1(E,"layout"),onPlay:C,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(p,U)}else v||rk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ik);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HY),this.nodes.forEach(VY),this.nodes.forEach(zY)):this.nodes.forEach(sk),this.clearAllSnapshots();const u=Ci.now();Un.delta=sa(0,1e3/60,u-Un.timestamp),Un.timestamp=u,Un.isProcessing=!0,Mv.update.process(Un),Mv.preRender.process(Un),Mv.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FY),this.sharedNodes.forEach(GY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ci(this.snapshot.measuredBox.x)&&!ci(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!bM(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||ol(this.latestValues)||p)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),QY(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return nn();const u=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(ZY))){const{scroll:p}=this.root;p&&(Hc(u.x,p.offset.x),Hc(u.y,p.offset.y))}return u}removeElementScroll(l){var h;const u=nn();if(us(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:x}=p;p!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&us(u,l),Hc(u.x,v.offset.x),Hc(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const h=nn();us(h,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&qc(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ol(p.latestValues)&&qc(h,p.latestValues)}return ol(this.latestValues)&&qc(h,this.latestValues),h}removeTransform(l){const u=nn();us(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!ol(m.latestValues))continue;Wb(m.latestValues)&&m.updateSnapshot();const p=nn(),v=m.measurePageBox();us(p,v),QC(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return ol(this.latestValues)&&QC(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Un.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),fh(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):us(this.target,this.layout.layoutBox),eM(this.target,this.targetDelta)):us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),fh(this.relativeTargetOrigin,this.target,_.target),us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wb(this.parent.latestValues)||JP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;us(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;gK(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KC(this.prevProjectionDelta.x,this.projectionDelta.x),KC(this.prevProjectionDelta.y,this.projectionDelta.y)),hh(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!nk(this.projectionDelta.x,this.prevProjectionDelta.x)||!nk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$c(),this.projectionDelta=$c(),this.projectionDeltaWithTransform=$c()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},v=$c();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=nn(),_=h?h.source:void 0,E=this.layout?this.layout.source:void 0,C=_!==E,S=this.getStack(),N=!S||S.members.length<=1,U=!!(C&&!N&&this.options.crossfade===!0&&!this.path.some(YY));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const q=$/1e3;ak(v.x,l.x,q),ak(v.y,l.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KY(this.relativeTarget,this.relativeTargetOrigin,x,q),V&&PY(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=nn()),us(V,this.relativeTarget)),C&&(this.animationValues=p,CY(p,m,this.latestValues,q,U,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ht.update(()=>{gp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mu(0)),this.currentAnimation=_Y(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:p}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&EM(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||nn();const v=ci(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=ci(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}us(u,h),qc(u,p),hh(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new MY),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&$v("z",l,m,this.animationValues);for(let p=0;p<qv.length;p++)$v(`rotate${qv[p]}`,l,m,this.animationValues),$v(`skew${qv[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=pp(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=pp(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ol(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=DY(this.projectionDeltaWithTransform,this.treeScale,p);h&&(v=h(p,v)),l.transform=v;const{x,y:_}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,m.animationValues?l.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in Ph){if(p[E]===void 0)continue;const{correct:C,applyTo:S,isCSSVariable:N}=Ph[E],U=v==="none"?p[E]:C(p[E],m);if(S){const V=S.length;for(let $=0;$<V;$++)l[S[$]]=U}else N?this.options.visualElement.renderState.vars[E]=U:l[E]=U}this.options.layoutId&&(l.pointerEvents=m===this?pp(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(ik),this.root.sharedNodes.clear()}}}function VY(t){t.updateLayout()}function zY(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ds(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=ci(x);x.min=i[v].min,x.max=x.min+_}):EM(a,e.layoutBox,i)&&ds(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=ci(i[v]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const u=$c();hh(u,i,e.layoutBox);const h=$c();l?hh(h,t.applyTransform(s,!0),e.measuredBox):hh(h,i,e.layoutBox);const m=!bM(u);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const E=nn();fh(E,e.layoutBox,x.layoutBox);const C=nn();fh(C,i,_.layoutBox),xM(E,C)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function UY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FY(t){t.clearSnapshot()}function ik(t){t.clearMeasurements()}function sk(t){t.isLayoutDirty=!1}function HY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qY(t){t.resolveTargetDelta()}function $Y(t){t.calcProjection()}function WY(t){t.resetSkewAndRotation()}function GY(t){t.removeLeadSnapshot()}function ak(t,e,n){t.translate=Kt(e.translate,0,n),t.scale=Kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ok(t,e,n,i){t.min=Kt(e.min,n.min,i),t.max=Kt(e.max,n.max,i)}function KY(t,e,n,i){ok(t.x,e.x,n.x,i),ok(t.y,e.y,n.y,i)}function YY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XY={duration:.45,ease:[.4,0,.1,1]},lk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ck=lk("applewebkit/")&&!lk("chrome/")?Math.round:fs;function uk(t){t.min=ck(t.min),t.max=ck(t.max)}function QY(t){uk(t.x),uk(t.y)}function EM(t,e,n){return t==="position"||t==="preserve-aspect"&&!iY(tk(e),tk(n),.2)}function ZY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const JY=_M({attachResizeListener:(t,e)=>Mh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wv={current:void 0},TM=_M({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wv.current){const t=new JY({});t.mount(window),t.setOptions({layoutScroll:!0}),Wv.current=t}return Wv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eX={pan:{Feature:vY},drag:{Feature:yY,ProjectionNode:TM,MeasureLayout:gM}};function dk(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Ht.postRender(()=>a(e,rf(e)))}class tX extends yo{mount(){const{current:e}=this.node;e&&(this.unmount=CG(e,(n,i)=>(dk(this.node,i,"Start"),s=>dk(this.node,s,"End"))))}unmount(){}}class nX extends yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tf(Mh(this.node.current,"focus",()=>this.onFocus()),Mh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hk(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Ht.postRender(()=>a(e,rf(e)))}class iX extends yo{mount(){const{current:e}=this.node;e&&(this.unmount=jG(e,(n,i)=>(hk(this.node,i,"Start"),(s,{success:a})=>hk(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jb=new WeakMap,Gv=new WeakMap,sX=t=>{const e=Jb.get(t.target);e&&e(t)},rX=t=>{t.forEach(sX)};function aX({root:t,...e}){const n=t||document;Gv.has(n)||Gv.set(n,{});const i=Gv.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(rX,{root:t,...e})),i[s]}function oX(t,e,n){const i=aX(e);return Jb.set(t,n),i.observe(t),()=>{Jb.delete(t),i.unobserve(t)}}const lX={some:0,all:1};class cX extends yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:lX[s]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),x=m?p:v;x&&x(h)};return oX(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uX(e,n))&&this.startObserver()}unmount(){}}function uX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const dX={inView:{Feature:cX},tap:{Feature:iX},focus:{Feature:nX},hover:{Feature:tX}},hX={layout:{ProjectionNode:TM,MeasureLayout:gM}},fX={...QK,...dX,...eX,...hX},fk=fK(fX,SK);function mX(){const[t,e]=I.useState([]),[n,i]=I.useState(null),[s,a]=I.useState(!0),{agregarAlCarrito:l,favoritos:u,quitarDeFavoritos:h}=Pl();I.useEffect(()=>{const E=fo(bn,C=>{C?i(C.uid):(i(null),e([]),a(!1))});return()=>E()},[]),I.useEffect(()=>{e(u);const E=setTimeout(()=>{a(!1)},500);return()=>clearTimeout(E)},[u]);const m=E=>{confirm("Ests seguro que deseas eliminar este producto de tus favoritos?")&&(h(E),alert("El producto ha sido eliminado de tus favoritos."))},p=()=>{confirm("Ests seguro que deseas eliminar todos tus favoritos?")&&([...u].forEach(E=>h(E.id)),alert("Todos los favoritos han sido eliminados."))},v=E=>{if(E.stock<=0){alert(`"${E.name}" est agotado.`);return}l(E),alert(`"${E.name}" ha sido agregado a tu carrito`)},x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},_={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"favorites-page",children:d.jsxs("div",{className:"favorites-container",children:[d.jsx("h1",{className:"favorites-title",children:"Wishlist"}),s?d.jsx("div",{className:"favorites-skeleton",children:Array.from({length:4}).map((E,C)=>d.jsxs("div",{className:"skeleton-wishlist-item",children:[d.jsx("div",{className:"skeleton-image"}),d.jsxs("div",{className:"skeleton-content",children:[d.jsx("div",{className:"skeleton-name"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-actions"})]})]},`skeleton-item-${C}`))}):u.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("i",{className:"far fa-heart empty-icon"}),d.jsx("h3",{children:"Tu lista de deseos est vaca"}),d.jsx("p",{children:"No tienes productos en tu lista de deseos. Explora nuestra tienda y agrega algunos!"}),d.jsx(at,{to:"/productos",className:"browse-products-btn",children:"Explorar Productos"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"wishlist-header",children:[d.jsx("div",{className:"header-product",children:"PRODUCTO"}),d.jsx("div",{className:"header-price",children:"PRECIO"}),d.jsx("div",{className:"header-actions",children:"ACCIONES"})]}),d.jsx(fk.div,{className:"wishlist-grid",variants:x,initial:"hidden",animate:"visible",children:u.map(E=>{var C;return d.jsxs(fk.div,{className:"wishlist-item",variants:_,children:[d.jsxs("div",{className:"wishlist-item-main",children:[d.jsx("div",{className:"wishlist-item-image",children:d.jsx(cu,{src:E.image||E.mainImage||((C=E.images)==null?void 0:C[0])||"",alt:E.name,className:"product-image",width:80,height:80,placeholderSrc:"https://via.placeholder.com/80?text=...",preload:!0})}),d.jsxs("div",{className:"wishlist-item-info",children:[d.jsx(at,{to:`/producto/${E.id}`,className:"product-link",children:d.jsx("h3",{className:"wishlist-item-name",children:E.name})}),d.jsx("div",{className:"stock-info",children:d.jsxs("span",{className:`stock-badge ${E.stock>0?"in-stock":"out-of-stock"}`,children:[d.jsx("i",{className:E.stock>0?"fas fa-check-circle":"fas fa-times-circle"}),E.stock>0?`${E.stock} disponibles`:"Agotado"]})})]})]}),d.jsxs("div",{className:"wishlist-item-price",children:["$",Math.round(E.price||0).toLocaleString("es-CO")]}),d.jsxs("div",{className:"wishlist-item-actions",children:[d.jsx(Et,{onClick:()=>v(E),variant:"primary",size:"sm",disabled:E.stock<=0,className:"add-to-cart-btn",title:"Agregar al Carrito",children:d.jsx("i",{className:"fas fa-shopping-cart"})}),d.jsx("button",{className:"remove-item-btn",onClick:()=>m(E.id),title:"Eliminar de favoritos",children:d.jsx("i",{className:"fas fa-trash"})})]})]},E.id)})}),u.length>0&&d.jsx("div",{className:"wishlist-footer",children:d.jsxs(Et,{onClick:p,variant:"outline",size:"md",className:"clear-wishlist-btn",children:[d.jsx("i",{className:"fas fa-trash-alt"})," Eliminar Todos"]})})]})]})}),d.jsx(ml,{}),d.jsx("style",{children:`
        .favorites-page {
          background-color: #f9fafb;
          min-height: calc(100vh - 80px);
          padding: 40px 0;
        }

        .favorites-container {
          padding: 0 30px;
          max-width: 1200px;
          margin: 0 auto;
        }

        .favorites-title {
          font-size: 32px;
          margin-bottom: 40px;
          color: #111827;
          font-weight: 700;
          text-align: center;
          letter-spacing: -0.5px;
        }

        /* Estilos para el encabezado de la lista */
        .wishlist-header {
          display: grid;
          grid-template-columns: 3fr 1fr 1fr;
          padding: 15px 20px;
          background: #f3f4f6;
          border-radius: 8px 8px 0 0;
          font-weight: 600;
          color: #4b5563;
          font-size: 14px;
          letter-spacing: 0.5px;
          margin-bottom: 10px;
        }

        /* Estilos para la lista de deseos */
        .wishlist-grid {
          display: flex;
          flex-direction: column;
          gap: 10px;
          margin-bottom: 30px;
        }

        .wishlist-item {
          display: grid;
          grid-template-columns: 3fr 1fr 1fr;
          align-items: center;
          padding: 20px;
          background: #fff;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0,0,0,0.05);
          position: relative;
          transition: all 0.2s ease;
        }

        .wishlist-item:hover {
          box-shadow: 0 4px 12px rgba(0,0,0,0.08);
          transform: translateY(-2px);
        }

        .wishlist-item-main {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .wishlist-item-image {
          width: 80px;
          height: 80px;
          flex-shrink: 0;
          border-radius: 8px;
          overflow: hidden;
          background-color: #f8fafc;
          box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .product-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 8px;
          transition: transform 0.3s ease;
        }
        
        .product-image:hover {
          transform: scale(1.08);
        }

        .wishlist-item-info {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .wishlist-item-name {
          font-weight: 600;
          font-size: 16px;
          margin: 0;
          color: #111827;
        }

        .product-link {
          color: #111827;
          text-decoration: none;
          transition: color 0.2s ease;
        }

        .product-link:hover {
          color: #4f46e5;
        }

        .wishlist-item-price {
          font-weight: 700;
          color: #111827;
          font-size: 18px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .wishlist-item-actions {
          display: flex;
          align-items: center;
          justify-content: flex-end;
          gap: 15px;
        }

        .stock-info {
          display: flex;
          align-items: center;
          margin-top: 5px;
        }

        .stock-badge {
          padding: 4px 10px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 500;
          display: inline-flex;
          align-items: center;
        }

        .stock-badge i {
          margin-right: 6px;
          font-size: 14px;
        }

        .stock-badge.in-stock {
          background: rgba(22, 163, 74, 0.12);
          color: #16a34a;
        }

        .stock-badge.out-of-stock {
          background: rgba(239, 68, 68, 0.12);
          color: #ef4444;
        }
        
        .stock-badge.in-stock i {
          color: #16a34a;
        }
        
        .stock-badge.out-of-stock i {
          color: #ef4444;
        }

        .add-to-cart-btn {
          background: #4f46e5;
          color: white;
          border: none;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 2px 5px rgba(79, 70, 229, 0.3);
        }

        .add-to-cart-btn:hover {
          background: #4338ca;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(79, 70, 229, 0.4);
        }
        
        .add-to-cart-btn:disabled {
          background: #a5b4fc;
          cursor: not-allowed;
          opacity: 0.7;
          transform: none;
          box-shadow: none;
        }

        .remove-item-btn {
          background: transparent;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all 0.2s ease;
        }

        .remove-item-btn:hover {
          background: #f3f4f6;
          color: #ef4444;
        }
        
        .remove-item-btn i {
          font-size: 16px;
        }

        .wishlist-footer {
          display: flex;
          justify-content: flex-end;
          margin-top: 20px;
          padding-top: 20px;
          border-top: 1px solid #e5e7eb;
        }

        .clear-wishlist-btn {
          background: transparent;
          border: 1px solid #e5e7eb;
          color: #4b5563;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .clear-wishlist-btn:hover {
          background: #f3f4f6;
          color: #ef4444;
          border-color: #ef4444;
        }

        .empty-state {
          text-align: center;
          padding: 80px 20px;
          color: #6b7280;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 15px;
        }

        .empty-state .empty-icon {
          font-size: 48px;
          color: #d1d5db;
          margin-bottom: 10px;
        }

        .empty-state h3 {
          font-size: 20px;
          font-weight: 600;
          color: #374151;
          margin: 0;
        }

        .empty-state p {
          font-size: 16px;
          max-width: 500px;
          margin: 0 auto 20px;
        }

        .browse-products-btn {
          display: inline-block;
          background: #4f46e5;
          color: white;
          padding: 10px 20px;
          border-radius: 6px;
          text-decoration: none;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .browse-products-btn:hover {
          background: #4338ca;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(79, 70, 229, 0.3);
        }

        /* Estilos para los esqueletos de carga */
        .favorites-skeleton {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .skeleton-wishlist-item {
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            gap: 15px;
          }
          
          .skeleton-image {
            width: 80px;
            height: 80px;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 8px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
          }
          
          .skeleton-name {
            height: 20px;
            width: 70%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-price {
            height: 24px;
            width: 40%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-actions {
            height: 36px;
            width: 60%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          @keyframes shine {
            to {
              background-position-x: -200%;
            }
        }

        .skeleton-image {
          width: 80px;
          height: 80px;
          flex-shrink: 0;
          border-radius: 8px;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          margin-right: 20px;
        }

        .skeleton-content {
          flex-grow: 1;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .skeleton-name {
          height: 20px;
          width: 70%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
        }

        .skeleton-price {
          height: 24px;
          width: 30%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
        }

        .skeleton-actions {
          height: 36px;
          width: 60%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
          margin-top: 10px;
        }

        /* Animacin de pulso para los esqueletos */
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }

        .reset-section {
          display: flex;
          justify-content: flex-end;
          margin-top: 20px;
        }

        .reset-btn {
          background: transparent;
          border: 1px solid #e2e8f0;
          color: #64748b;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .reset-btn:hover {
          background: #f8fafc;
          color: #ef4444;
          border-color: #ef4444;
        }

        /* Estilos para dispositivos mviles */
        @media (max-width: 768px) {
          .favorites-container {
            padding: 20px 15px;
          }

          .favorites-title {
            font-size: 24px;
            margin-bottom: 20px;
          }

          .wishlist-item {
            padding: 15px;
          }

          .wishlist-item-image {
            width: 60px;
            height: 60px;
            margin-right: 15px;
          }

          .wishlist-item-name {
            font-size: 14px;
          }

          .wishlist-item-price {
            font-size: 16px;
          }
        }

        @media (max-width: 600px) {
          .favorites-container {
            padding: 15px 10px;
          }

          .wishlist-item {
            flex-direction: column;
            align-items: flex-start;
            padding: 15px;
          }

          .wishlist-item-image {
            width: 100%;
            height: auto;
            margin-right: 0;
            margin-bottom: 15px;
          }

          .product-image {
            width: 100%;
            height: auto;
            aspect-ratio: 1/1;
          }

          .wishlist-item-details {
            width: 100%;
          }

          .wishlist-item-actions {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
            width: 100%;
          }

          .stock-info {
            margin-bottom: 5px;
          }

          .add-to-cart-btn {
            width: 100%;
            text-align: center;
          }

          .remove-item-btn {
            top: 10px;
            right: 10px;
          }
        }

          .action-buttons {
            gap: 4px;
          }

          .add-to-cart-btn,
          .delete-btn {
            padding: 6px 8px;
            font-size: 11px;
          }

          .add-to-cart-btn i,
          .delete-btn i {
            margin-right: 4px;
            font-size: 10px;
          }

          /* Ajustes para los esqueletos en mvil */
          .skeleton-header,
          .skeleton-row {
            min-width: 600px;
          }
        }
      `})]})}function pX(){const{user:t,resetPassword:e}=go(),[n,i]=I.useState(""),[s,a]=I.useState(""),[l,u]=I.useState(!1),h=mr();I.useEffect(()=>{t&&h("/")},[t]);const m=async p=>{p.preventDefault(),u(!0);try{await e(n),we.fire({icon:"success",title:"Correo enviado",text:"Revisa tu correo para restablecer la contrasea.",timer:3e3,showConfirmButton:!1}),a(" Revisa tu correo para restablecer la contrasea.")}catch{we.fire({icon:"error",title:"Error",text:"Error al enviar el correo. Intentalo de nuevo."}),a(" Error al enviar el correo. Intenta de nuevo.")}finally{u(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:l?d.jsx("div",{className:"loader-container",children:d.jsx(Bl,{size:"lg",color:"#3b82f6",text:"Enviando correo..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Reset Password"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your email address and we'll send you a link to reset your password."}),d.jsxs("form",{onSubmit:m,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:n,onChange:p=>i(p.target.value),required:!0})]}),d.jsx(Et,{type:"submit",variant:"primary",fullWidth:!0,className:"reset-btn-override",disabled:l,children:"Send Reset Link"})]}),s&&d.jsx("div",{className:`auth-message ${s.includes("")?"success":"error"}`,children:s}),d.jsx("div",{className:"auth-switch",children:d.jsx(at,{to:"/login",children:" Back to Sign In"})})]})})})]})}function gX(){return d.jsx("div",{className:"not-found-container",children:d.jsxs("div",{className:"not-found-content",children:[d.jsx("div",{className:"not-found-image",children:d.jsx("div",{className:"error-logo-container",children:d.jsx("div",{className:"error-logo",children:d.jsx("div",{className:"error-frame",children:d.jsx("div",{className:"error-number",children:"404"})})})})}),d.jsx("h1",{children:"Lost in space"}),d.jsx("p",{children:"We know we're out of this world, but you seem to be far away from home."}),d.jsx(at,{to:"/",className:"go-home-button",children:"Go home now"})]})})}function yX(){var E;const t=fr(),e=mr(),{vaciarCarrito:n}=Pl(),[i,s]=I.useState(null),[a,l]=I.useState(!1),[u,h]=I.useState(null),[m,p]=I.useState("credit_card"),[v,x]=I.useState("");I.useEffect(()=>{const C=fo(bn,S=>{s(S),S||e("/login")});return()=>C()},[e]),I.useEffect(()=>{t.state?h(t.state):e("/carrito")},[t.state,e]);const _=async()=>{if(!u||!i){we.fire("Error","Missing order information","error");return}l(!0);try{const C={userId:i.uid,userEmail:i.email,userName:i.displayName||i.email.split("@")[0],items:u.cart.map(U=>{var V;return{id:U.id,name:U.name,price:U.price,quantity:U.quantity,image:U.image||U.mainImage||((V=U.images)==null?void 0:V[0])||"",material:U.material||"N/A",color:U.color||"N/A"}}),deliveryAddress:u.selectedAddress,appliedPromo:u.appliedPromo,pricing:{subtotal:u.subtotal,shippingFee:u.shippingFee,tax:u.tax,discount:u.discount||0,total:u.total},paymentMethod:m,orderNotes:v,status:"pending",createdAt:new Date,updatedAt:new Date},N=(await Up(Jn(Me,"orders"),C)).id;u.appliedPromo&&u.appliedPromo.id&&await tr(et(Me,"promoCodes",u.appliedPromo.id),{usageCount:H9(1)}),n(),await we.fire({title:"Order Placed Successfully!",text:`Your order #${N} has been placed. You will receive a confirmation email shortly.`,icon:"success",confirmButtonText:"Continue Shopping",confirmButtonColor:"#16a34a"}),e("/productos")}catch(C){console.error("Error placing order:",C),we.fire("Error","Failed to place order. Please try again.","error")}finally{l(!1)}};return u?d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"checkout-container",children:d.jsxs("div",{className:"checkout-content",children:[d.jsx("h1",{className:"checkout-title",children:"Checkout"}),d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("div",{className:"order-summary",children:[d.jsx("h2",{children:"Order Summary"}),d.jsx("div",{className:"order-items",children:u.cart.map(C=>{var S;return d.jsxs("div",{className:"order-item",children:[d.jsx("img",{src:C.image||C.mainImage||((S=C.images)==null?void 0:S[0]),alt:C.name,className:"item-image"}),d.jsxs("div",{className:"item-details",children:[d.jsx("h3",{children:C.name}),d.jsxs("p",{children:["Quantity: ",C.quantity]}),d.jsxs("p",{children:["Price: $",Math.round(C.price).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"item-total",children:["$",Math.round(C.price*C.quantity).toLocaleString("es-CO")]})]},C.id)})}),d.jsxs("div",{className:"pricing-summary",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(u.subtotal).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Shipping:"}),d.jsx("span",{className:"free",children:"Free"})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Tax (2%):"}),d.jsxs("span",{children:["$",Math.round(u.tax).toLocaleString("es-CO")]})]}),u.discount>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsxs("span",{children:["Discount (",(E=u.appliedPromo)==null?void 0:E.discount,"%):"]}),d.jsxs("span",{children:["-$",Math.round(u.discount).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(u.total).toLocaleString("es-CO")]})]})]})]}),d.jsxs("div",{className:"checkout-form",children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Delivery Address"}),d.jsxs("div",{className:"address-display",children:[d.jsx("strong",{children:u.selectedAddress.name}),d.jsx("br",{}),u.selectedAddress.street,d.jsx("br",{}),u.selectedAddress.city,", ",u.selectedAddress.state," ",u.selectedAddress.zipCode,d.jsx("br",{}),u.selectedAddress.country,d.jsx("br",{}),"Phone: ",u.selectedAddress.phone]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Payment Method"}),d.jsxs("div",{className:"payment-options",children:[d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"credit_card",checked:m==="credit_card",onChange:C=>p(C.target.value)}),d.jsx("span",{children:"Credit Card"})]}),d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"paypal",checked:m==="paypal",onChange:C=>p(C.target.value)}),d.jsx("span",{children:"PayPal"})]}),d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"cash_on_delivery",checked:m==="cash_on_delivery",onChange:C=>p(C.target.value)}),d.jsx("span",{children:"Cash on Delivery"})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Order Notes (Optional)"}),d.jsx("textarea",{value:v,onChange:C=>x(C.target.value),placeholder:"Any special instructions for your order...",className:"order-notes",rows:4})]}),d.jsx(Et,{onClick:_,disabled:a,variant:"primary",size:"lg",fullWidth:!0,className:"place-order-btn",children:a?"Processing...":`Place Order - $${Math.round(u.total).toLocaleString("es-CO")}`}),d.jsx(Et,{onClick:()=>e("/carrito"),variant:"secondary",fullWidth:!0,className:"back-to-cart-btn",children:"Back to Cart"})]})]})]})}),d.jsx("style",{children:`
        .checkout-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 30px 20px;
        }

        .checkout-content {
          max-width: 1200px;
          margin: 0 auto;
        }

        .checkout-title {
          font-size: 2rem;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 30px;
          text-align: center;
        }

        .checkout-layout {
          display: grid;
          grid-template-columns: 1fr 400px;
          gap: 30px;
        }

        .order-summary {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .order-summary h2 {
          font-size: 1.5rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 20px;
        }

        .order-items {
          margin-bottom: 30px;
        }

        .order-item {
          display: flex;
          align-items: center;
          gap: 15px;
          padding: 15px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .order-item:last-child {
          border-bottom: none;
        }

        .item-image {
          width: 60px;
          height: 60px;
          object-fit: cover;
          border-radius: 8px;
        }

        .item-details {
          flex: 1;
        }

        .item-details h3 {
          margin: 0 0 5px 0;
          font-size: 1rem;
          font-weight: 600;
          color: #1e293b;
        }

        .item-details p {
          margin: 2px 0;
          font-size: 0.875rem;
          color: #6b7280;
        }

        .item-total {
          font-weight: 600;
          color: #1e293b;
        }

        .pricing-summary {
          border-top: 1px solid #e5e7eb;
          padding-top: 20px;
        }

        .pricing-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
          font-size: 0.95rem;
        }

        .pricing-row.total {
          font-size: 1.125rem;
          font-weight: 700;
          color: #1e293b;
          border-top: 1px solid #e5e7eb;
          padding-top: 15px;
          margin-top: 15px;
        }

        .pricing-row.discount {
          color: #16a34a;
        }

        .free {
          color: #16a34a;
          font-weight: 500;
        }

        .checkout-form {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
          height: fit-content;
        }

        .form-section {
          margin-bottom: 30px;
        }

        .form-section h3 {
          font-size: 1.125rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 15px;
        }

        .address-display {
          background: #f8fafc;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 15px;
          font-size: 0.875rem;
          line-height: 1.6;
          color: #374151;
        }

        .payment-options {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .payment-option {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .payment-option:hover {
          border-color: #ea580c;
          background: #fff7ed;
        }

        .payment-option input[type="radio"] {
          margin: 0;
          accent-color: #ea580c;
        }

        .order-notes {
          width: 100%;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-size: 0.875rem;
          resize: vertical;
          font-family: inherit;
        }

        .order-notes:focus {
          outline: none;
          border-color: #ea580c;
          box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }

        .place-order-btn {
          background: #16a34a !important;
          margin-bottom: 15px;
        }

        .place-order-btn:hover {
          background: #15803d !important;
        }

        .back-to-cart-btn {
          background: transparent !important;
          color: #6b7280 !important;
          border: 1px solid #e5e7eb !important;
        }

        .back-to-cart-btn:hover {
          background: #f8fafc !important;
          color: #374151 !important;
        }

        .loading-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 80vh;
        }

        @media (max-width: 1024px) {
          .checkout-layout {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .checkout-form {
            order: -1;
          }
        }

        @media (max-width: 768px) {
          .checkout-container {
            padding: 20px 15px;
          }

          .order-summary,
          .checkout-form {
            padding: 20px;
          }

          .checkout-title {
            font-size: 1.5rem;
          }
        }
      `})]}):d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"loading-container",children:d.jsx(Bl,{size:"lg",color:"#ea580c",text:"Loading checkout..."})})]})}function vX(){var _,E,C,S,N,U,V,$,q,J,z,k,P,O,L,D,R,ae;const[t,e]=I.useState([]),[n,i]=I.useState(!0),[s,a]=I.useState(null),[l,u]=I.useState(null),[h,m]=I.useState(!1);I.useEffect(()=>{const ee=fo(bn,W=>{a(W),W||i(!1)});return()=>ee()},[]),I.useEffect(()=>{if(!s){i(!1);return}const ee=Ja(Jn(Me,"orders"),Sl("userId","==",s.uid),U9("createdAt","desc")),W=Xr(ee,ne=>{const he=ne.docs.map(ve=>({id:ve.id,...ve.data()}));e(he),i(!1)});return()=>W()},[s]);const p=ee=>{switch(ee){case"pending":return"status-pending";case"processing":return"status-processing";case"shipped":return"status-shipped";case"delivered":return"status-delivered";case"cancelled":return"status-cancelled";default:return"status-pending"}},v=ee=>{switch(ee){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return"Pendiente"}},x=ee=>{u(ee),m(!0)};return n?d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"loading-container",children:d.jsx(Bl,{size:"lg",color:"#ea580c",text:"Cargando rdenes..."})}),d.jsx(ml,{})]}):s?d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsxs("div",{className:"orders-container",children:[d.jsxs("div",{className:"orders-header",children:[d.jsx("h1",{children:"Mis rdenes"}),d.jsx("p",{children:"Aqu puedes ver el historial de todas tus rdenes"})]}),t.length===0?d.jsxs("div",{className:"no-orders",children:[d.jsx("div",{className:"no-orders-icon",children:""}),d.jsx("h3",{children:"No tienes rdenes an"}),d.jsx("p",{children:"Cuando realices tu primera compra, aparecer aqu."}),d.jsx("a",{href:"/productos",className:"shop-now-btn",children:"Ir a comprar"})]}):d.jsx("div",{className:"orders-list",children:t.map(ee=>{var W,ne,he,ve;return d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{className:"order-info",children:[d.jsxs("h3",{children:["Orden #",ee.id.substring(0,8)]}),d.jsx("p",{className:"order-date",children:(W=ee.createdAt)!=null&&W.toDate?ee.createdAt.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),d.jsx("div",{className:"order-status",children:d.jsx("span",{className:`status-badge ${p(ee.status)}`,children:v(ee.status)})})]}),d.jsxs("div",{className:"order-items",children:[(ne=ee.items)==null?void 0:ne.slice(0,3).map((B,oe)=>d.jsxs("div",{className:"order-item",children:[d.jsx("img",{src:B.image||"/placeholder.jpg",alt:B.name,className:"item-image"}),d.jsxs("div",{className:"item-details",children:[d.jsx("h4",{children:B.name}),d.jsxs("p",{children:["Cantidad: ",B.quantity]}),d.jsxs("p",{className:"item-price",children:["$",Math.round(B.price).toLocaleString("es-CO")]})]})]},oe)),((he=ee.items)==null?void 0:he.length)>3&&d.jsxs("div",{className:"more-items",children:["+",ee.items.length-3," productos ms"]})]}),d.jsxs("div",{className:"order-footer",children:[d.jsx("div",{className:"order-total",children:d.jsxs("strong",{children:["Total: $",Math.round(((ve=ee.pricing)==null?void 0:ve.total)||0).toLocaleString("es-CO")]})}),d.jsxs("div",{className:"order-actions",children:[d.jsx("button",{className:"order-details-btn",onClick:()=>x(ee),children:"Ver detalles"}),ee.status==="delivered"&&d.jsx("button",{className:"reorder-btn",children:"Volver a pedir"})]})]})]},ee.id)})})]}),d.jsx(ml,{}),h&&l&&d.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:d.jsxs("div",{className:"modal-content",onClick:ee=>ee.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("h2",{children:["Detalles de la Orden #",l.id.substring(0,8)]}),d.jsx("button",{className:"modal-close",onClick:()=>m(!1),children:""})]}),d.jsxs("div",{className:"modal-body",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Informacin de la Orden"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Nmero de orden:"})," #",l.id.substring(0,8)]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Fecha:"})," ",(_=l.createdAt)!=null&&_.toDate?l.createdAt.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha no disponible"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Estado:"})," ",d.jsx("span",{className:`status-badge ${p(l.status)}`,children:v(l.status)})]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Mtodo de pago:"})," ",((C=(E=l.paymentMethod)==null?void 0:E.replace("_"," "))==null?void 0:C.toUpperCase())||"No especificado"]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Direccin de Entrega"}),d.jsxs("div",{className:"address-details",children:[d.jsx("strong",{children:((S=l.deliveryAddress)==null?void 0:S.name)||"No especificado"}),d.jsx("br",{}),((N=l.deliveryAddress)==null?void 0:N.street)||"Direccin no disponible",d.jsx("br",{}),((U=l.deliveryAddress)==null?void 0:U.city)||"",", ",((V=l.deliveryAddress)==null?void 0:V.state)||""," ",(($=l.deliveryAddress)==null?void 0:$.zipCode)||"",d.jsx("br",{}),((q=l.deliveryAddress)==null?void 0:q.country)||"",d.jsx("br",{}),"Telfono: ",((J=l.deliveryAddress)==null?void 0:J.phone)||"No especificado"]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsxs("h3",{children:["Productos (",((z=l.items)==null?void 0:z.length)||0," artculos)"]}),d.jsx("div",{className:"items-list",children:(k=l.items)==null?void 0:k.map((ee,W)=>d.jsxs("div",{className:"item-detail",children:[d.jsx("img",{src:ee.image||"/placeholder.jpg",alt:ee.name,className:"item-image-detail"}),d.jsxs("div",{className:"item-info-detail",children:[d.jsx("h4",{children:ee.name}),d.jsxs("p",{children:["Material: ",ee.material||"N/A"," | Color: ",ee.color||"N/A"]}),d.jsxs("p",{children:["Cantidad: ",ee.quantity,"  $",Math.round(ee.price).toLocaleString("es-CO")," = $",Math.round(ee.quantity*ee.price).toLocaleString("es-CO")]})]})]},W))})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Resumen de Precios"}),d.jsxs("div",{className:"pricing-detail",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(((P=l.pricing)==null?void 0:P.subtotal)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envo:"}),d.jsxs("span",{children:["$",Math.round(((O=l.pricing)==null?void 0:O.shippingFee)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuestos:"}),d.jsxs("span",{children:["$",Math.round(((L=l.pricing)==null?void 0:L.tax)||0).toLocaleString("es-CO")]})]}),(((D=l.pricing)==null?void 0:D.discount)||0)>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsx("span",{children:"Descuento:"}),d.jsxs("span",{children:["-$",Math.round(((R=l.pricing)==null?void 0:R.discount)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(((ae=l.pricing)==null?void 0:ae.total)||0).toLocaleString("es-CO")]})]})]})]}),l.orderNotes&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Notas del Pedido"}),d.jsx("div",{className:"order-notes",children:l.orderNotes})]})]})]})}),d.jsx("style",{children:`
        .orders-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 30px 20px;
        }

        .orders-header {
          max-width: 1200px;
          margin: 0 auto 30px auto;
          text-align: center;
        }

        .orders-header h1 {
          font-size: 2.5rem;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 10px;
        }

        .orders-header p {
          font-size: 1.1rem;
          color: #64748b;
        }

        .loading-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 50vh;
        }

        .no-auth-message {
          max-width: 500px;
          margin: 100px auto;
          text-align: center;
          background: white;
          padding: 40px;
          border-radius: 16px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .no-auth-message h2 {
          color: #1e293b;
          margin-bottom: 15px;
        }

        .no-auth-message p {
          color: #64748b;
          margin-bottom: 25px;
        }

        .login-btn {
          display: inline-block;
          background: #ea580c;
          color: white;
          padding: 12px 24px;
          border-radius: 8px;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        }

        .login-btn:hover {
          background: #dc2626;
        }

        .no-orders {
          max-width: 500px;
          margin: 100px auto;
          text-align: center;
          background: white;
          padding: 60px 40px;
          border-radius: 16px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .no-orders-icon {
          font-size: 4rem;
          margin-bottom: 20px;
        }

        .no-orders h3 {
          color: #1e293b;
          font-size: 1.5rem;
          margin-bottom: 10px;
        }

        .no-orders p {
          color: #64748b;
          margin-bottom: 30px;
        }

        .shop-now-btn {
          display: inline-block;
          background: #16a34a;
          color: white;
          padding: 14px 28px;
          border-radius: 8px;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        }

        .shop-now-btn:hover {
          background: #15803d;
        }

        .orders-list {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .order-card {
          background: white;
          border-radius: 12px;
          padding: 24px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
          border: 1px solid #e5e7eb;
          transition: transform 0.2s, box-shadow 0.2s;
        }

        .order-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .order-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 1px solid #f1f5f9;
        }

        .order-info h3 {
          color: #1e293b;
          font-size: 1.25rem;
          font-weight: 600;
          margin-bottom: 5px;
        }

        .order-date {
          color: #64748b;
          font-size: 0.9rem;
        }

        .status-badge {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 0.8rem;
          font-weight: 600;
          text-transform: uppercase;
        }

        .status-pending {
          background: #fef3c7;
          color: #92400e;
        }

        .status-processing {
          background: #dbeafe;
          color: #1e40af;
        }

        .status-shipped {
          background: #d1fae5;
          color: #065f46;
        }

        .status-delivered {
          background: #dcfce7;
          color: #166534;
        }

        .status-cancelled {
          background: #fee2e2;
          color: #dc2626;
        }

        .order-items {
          margin-bottom: 20px;
        }

        .order-item {
          display: flex;
          align-items: center;
          gap: 15px;
          padding: 10px 0;
          border-bottom: 1px solid #f8fafc;
        }

        .order-item:last-child {
          border-bottom: none;
        }

        .item-image {
          width: 60px;
          height: 60px;
          object-fit: cover;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-details h4 {
          color: #1e293b;
          font-size: 1rem;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .item-details p {
          color: #64748b;
          font-size: 0.85rem;
          margin: 2px 0;
        }

        .item-price {
          color: #ea580c !important;
          font-weight: 600 !important;
        }

        .more-items {
          text-align: center;
          color: #64748b;
          font-size: 0.9rem;
          padding: 10px;
          background: #f8fafc;
          border-radius: 6px;
          margin-top: 10px;
        }

        .order-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 15px;
          border-top: 1px solid #f1f5f9;
        }

        .order-total {
          color: #1e293b;
          font-size: 1.1rem;
        }

        .order-actions {
          display: flex;
          gap: 10px;
        }

        .order-details-btn, .reorder-btn {
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 0.9rem;
          font-weight: 500;
          border: none;
          cursor: pointer;
          transition: all 0.2s;
        }

        .order-details-btn {
          background: #f1f5f9;
          color: #475569;
        }

        .order-details-btn:hover {
          background: #e2e8f0;
        }

        .reorder-btn {
          background: #ea580c;
          color: white;
        }

        .reorder-btn:hover {
          background: #dc2626;
        }

        @media (max-width: 768px) {
          .orders-container {
            padding: 20px 15px;
          }

          .orders-header h1 {
            font-size: 2rem;
          }

          .order-card {
            padding: 20px;
          }

          .order-header {
            flex-direction: column;
            gap: 15px;
            align-items: flex-start;
          }

          .order-footer {
            flex-direction: column;
            gap: 15px;
            align-items: flex-start;
          }

          .order-actions {
            width: 100%;
          }

          .order-details-btn, .reorder-btn {
            flex: 1;
          }

          .item-details h4 {
            font-size: 0.9rem;
          }
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          backdrop-filter: blur(4px);
        }

        .modal-content {
          background: white;
          border-radius: 16px;
          width: 90%;
          max-width: 800px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
          position: relative;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0 24px;
          border-bottom: 1px solid #f1f5f9;
          margin-bottom: 24px;
        }

        .modal-header h2 {
          color: #1e293b;
          font-size: 1.5rem;
          font-weight: 700;
          margin: 0;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 2rem;
          color: #6b7280;
          cursor: pointer;
          padding: 0;
          width: 32px;
          height: 32px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }

        .modal-close:hover {
          background: #f3f4f6;
          color: #374151;
        }

        .modal-body {
          padding: 0 24px 24px 24px;
        }

        .detail-section {
          margin-bottom: 32px;
        }

        .detail-section:last-child {
          margin-bottom: 0;
        }

        .detail-section h3 {
          color: #1e293b;
          font-size: 1.125rem;
          font-weight: 600;
          margin-bottom: 16px;
          padding-bottom: 8px;
          border-bottom: 2px solid #f1f5f9;
        }

        .detail-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 12px;
        }

        .detail-grid > div {
          padding: 8px 0;
          font-size: 0.9rem;
          color: #374151;
        }

        .address-details {
          background: #f8fafc;
          padding: 16px;
          border-radius: 8px;
          line-height: 1.6;
          color: #374151;
        }

        .items-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .item-detail {
          display: flex;
          gap: 16px;
          padding: 16px;
          background: #f8fafc;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-image-detail {
          width: 80px;
          height: 80px;
          object-fit: cover;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-info-detail {
          flex: 1;
        }

        .item-info-detail h4 {
          color: #1e293b;
          font-size: 1rem;
          font-weight: 600;
          margin-bottom: 8px;
        }

        .item-info-detail p {
          color: #6b7280;
          font-size: 0.875rem;
          margin: 4px 0;
        }

        .pricing-detail {
          background: #f8fafc;
          padding: 20px;
          border-radius: 8px;
        }

        .pricing-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .pricing-row:last-child {
          border-bottom: none;
        }

        .pricing-row.total {
          font-weight: 700;
          font-size: 1.1rem;
          color: #1e293b;
          border-top: 2px solid #e5e7eb;
          padding-top: 12px;
          margin-top: 8px;
        }

        .pricing-row.discount {
          color: #16a34a;
        }

        .order-notes {
          background: #f8fafc;
          padding: 16px;
          border-radius: 8px;
          color: #374151;
          line-height: 1.6;
          font-style: italic;
        }

        @media (max-width: 768px) {
          .modal-content {
            width: 95%;
            margin: 20px;
          }

          .modal-header {
            padding: 20px 20px 0 20px;
          }

          .modal-body {
            padding: 0 20px 20px 20px;
          }

          .detail-grid {
            grid-template-columns: 1fr;
          }

          .item-detail {
            flex-direction: column;
            align-items: center;
            text-align: center;
          }

          .item-image-detail {
            width: 60px;
            height: 60px;
          }
        }
      `})]}):d.jsxs(d.Fragment,{children:[d.jsx(ni,{}),d.jsx("div",{className:"orders-container",children:d.jsxs("div",{className:"no-auth-message",children:[d.jsx("h2",{children:"Inicia sesin para ver tus rdenes"}),d.jsx("p",{children:"Necesitas estar autenticado para ver tu historial de rdenes."}),d.jsx("a",{href:"/login",className:"login-btn",children:"Iniciar sesin"})]})}),d.jsx(ml,{})]})}function bX(){return d.jsxs(JD,{children:[d.jsx(Xn,{path:"/",element:d.jsx(OB,{})}),d.jsx(Xn,{path:"/blog",element:d.jsx(UB,{})}),d.jsx(Xn,{path:"/contacto",element:d.jsx(BB,{})}),d.jsx(Xn,{path:"/login",element:d.jsx(FB,{})}),d.jsx(Xn,{path:"/register",element:d.jsx(HB,{})}),d.jsx(Xn,{path:"/productos",element:d.jsx(M$,{})}),d.jsx(Xn,{path:"/admin",element:d.jsx(eC,{})}),d.jsx(Xn,{path:"/producto/:id",element:d.jsx(P$,{})}),d.jsx(Xn,{path:"/Carrito",element:d.jsx(D$,{})}),d.jsx(Xn,{path:"/favoritos",element:d.jsx(mX,{})}),d.jsx(Xn,{path:"/reset-password",element:d.jsx(pX,{})}),d.jsx(Xn,{path:"/checkout",element:d.jsx(yX,{})}),d.jsx(Xn,{path:"/mis-ordenes",element:d.jsx(vX,{})}),d.jsx(Xn,{path:"/admin",element:d.jsx(I$,{children:d.jsx(eC,{})})}),d.jsx(Xn,{path:"*",element:d.jsx(gX,{})})]})}function xX(){return d.jsx(xz,{children:d.jsx(bX,{})})}oD.createRoot(document.getElementById("root")).render(d.jsx(Y.StrictMode,{children:d.jsx(EO,{children:d.jsx(wz,{children:d.jsx(xX,{})})})}));
