var KD=Object.defineProperty;var YD=(t,e,n)=>e in t?KD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fe=(t,e,n)=>YD(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function fk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ev={exports:{}},Ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function XD(){if(CE)return Ld;CE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Ld.Fragment=e,Ld.jsx=n,Ld.jsxs=n,Ld}var kE;function QD(){return kE||(kE=1,ev.exports=XD()),ev.exports}var d=QD(),tv={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function ZD(){if(NE)return qe;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function A(V,ae,ue){this.props=V,this.context=ae,this.refs=C,this.updater=ue||_}A.prototype.isReactComponent={},A.prototype.setState=function(V,ae){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ae,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=A.prototype;function B(V,ae,ue){this.props=V,this.context=ae,this.refs=C,this.updater=ue||_}var L=B.prototype=new j;L.constructor=B,E(L,A.prototype),L.isPureReactComponent=!0;var q=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function D(V,ae,ue,he,xe,Ce){return ue=Ce.ref,{$$typeof:t,type:V,key:ae,ref:ue!==void 0?ue:null,props:Ce}}function k(V,ae){return D(V.type,ae,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function M(V){var ae={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return ae[ue]})}var z=/\/+/g;function U(V,ae){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ae.toString(36)}function R(){}function ge(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(ae){V.status==="pending"&&(V.status="fulfilled",V.value=ae)},function(ae){V.status==="pending"&&(V.status="rejected",V.reason=ae)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function te(V,ae,ue,he,xe){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var _e=!1;if(V===null)_e=!0;else switch(Ce){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(V.$$typeof){case t:case e:_e=!0;break;case g:return _e=V._init,te(_e(V._payload),ae,ue,he,xe)}}if(_e)return xe=xe(V),_e=he===""?"."+U(V,0):he,q(xe)?(ue="",_e!=null&&(ue=_e.replace(z,"$&/")+"/"),te(xe,ae,ue,"",function(we){return we})):xe!=null&&(I(xe)&&(xe=k(xe,ue+(xe.key==null||V&&V.key===xe.key?"":(""+xe.key).replace(z,"$&/")+"/")+_e)),ae.push(xe)),1;_e=0;var xt=he===""?".":he+":";if(q(V))for(var at=0;at<V.length;at++)he=V[at],Ce=xt+U(he,at),_e+=te(he,ae,ue,Ce,xe);else if(at=x(V),typeof at=="function")for(V=at.call(V),at=0;!(he=V.next()).done;)he=he.value,Ce=xt+U(he,at++),_e+=te(he,ae,ue,Ce,xe);else if(Ce==="object"){if(typeof V.then=="function")return te(ge(V),ae,ue,he,xe);throw ae=String(V),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Y(V,ae,ue){if(V==null)return V;var he=[],xe=0;return te(V,he,"","",function(Ce){return ae.call(ue,Ce,xe++)}),he}function K(V){if(V._status===-1){var ae=V._result;ae=ae(),ae.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=ae)}if(V._status===1)return V._result.default;throw V._result}var ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ce(){}return qe.Children={map:Y,forEach:function(V,ae,ue){Y(V,function(){ae.apply(this,arguments)},ue)},count:function(V){var ae=0;return Y(V,function(){ae++}),ae},toArray:function(V){return Y(V,function(ae){return ae})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},qe.Component=A,qe.Fragment=n,qe.Profiler=s,qe.PureComponent=B,qe.StrictMode=i,qe.Suspense=h,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,qe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return H.H.useMemoCache(V)}},qe.cache=function(V){return function(){return V.apply(null,arguments)}},qe.cloneElement=function(V,ae,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=E({},V.props),xe=V.key,Ce=void 0;if(ae!=null)for(_e in ae.ref!==void 0&&(Ce=void 0),ae.key!==void 0&&(xe=""+ae.key),ae)!W.call(ae,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ae.ref===void 0||(he[_e]=ae[_e]);var _e=arguments.length-2;if(_e===1)he.children=ue;else if(1<_e){for(var xt=Array(_e),at=0;at<_e;at++)xt[at]=arguments[at+2];he.children=xt}return D(V.type,xe,void 0,void 0,Ce,he)},qe.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},qe.createElement=function(V,ae,ue){var he,xe={},Ce=null;if(ae!=null)for(he in ae.key!==void 0&&(Ce=""+ae.key),ae)W.call(ae,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(xe[he]=ae[he]);var _e=arguments.length-2;if(_e===1)xe.children=ue;else if(1<_e){for(var xt=Array(_e),at=0;at<_e;at++)xt[at]=arguments[at+2];xe.children=xt}if(V&&V.defaultProps)for(he in _e=V.defaultProps,_e)xe[he]===void 0&&(xe[he]=_e[he]);return D(V,Ce,void 0,void 0,null,xe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(V){return{$$typeof:u,render:V}},qe.isValidElement=I,qe.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:K}},qe.memo=function(V,ae){return{$$typeof:m,type:V,compare:ae===void 0?null:ae}},qe.startTransition=function(V){var ae=H.T,ue={};H.T=ue;try{var he=V(),xe=H.S;xe!==null&&xe(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ce,ie)}catch(Ce){ie(Ce)}finally{H.T=ae}},qe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},qe.use=function(V){return H.H.use(V)},qe.useActionState=function(V,ae,ue){return H.H.useActionState(V,ae,ue)},qe.useCallback=function(V,ae){return H.H.useCallback(V,ae)},qe.useContext=function(V){return H.H.useContext(V)},qe.useDebugValue=function(){},qe.useDeferredValue=function(V,ae){return H.H.useDeferredValue(V,ae)},qe.useEffect=function(V,ae,ue){var he=H.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(V,ae)},qe.useId=function(){return H.H.useId()},qe.useImperativeHandle=function(V,ae,ue){return H.H.useImperativeHandle(V,ae,ue)},qe.useInsertionEffect=function(V,ae){return H.H.useInsertionEffect(V,ae)},qe.useLayoutEffect=function(V,ae){return H.H.useLayoutEffect(V,ae)},qe.useMemo=function(V,ae){return H.H.useMemo(V,ae)},qe.useOptimistic=function(V,ae){return H.H.useOptimistic(V,ae)},qe.useReducer=function(V,ae,ue){return H.H.useReducer(V,ae,ue)},qe.useRef=function(V){return H.H.useRef(V)},qe.useState=function(V){return H.H.useState(V)},qe.useSyncExternalStore=function(V,ae,ue){return H.H.useSyncExternalStore(V,ae,ue)},qe.useTransition=function(){return H.H.useTransition()},qe.version="19.1.0",qe}var RE;function tx(){return RE||(RE=1,tv.exports=ZD()),tv.exports}var N=tx();const Q=fk(N);var nv={exports:{}},Vd={},iv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function JD(){return jE||(jE=1,function(t){function e(Y,K){var ie=Y.length;Y.push(K);e:for(;0<ie;){var ce=ie-1>>>1,V=Y[ce];if(0<s(V,K))Y[ce]=K,Y[ie]=V,ie=ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var K=Y[0],ie=Y.pop();if(ie!==K){Y[0]=ie;e:for(var ce=0,V=Y.length,ae=V>>>1;ce<ae;){var ue=2*(ce+1)-1,he=Y[ue],xe=ue+1,Ce=Y[xe];if(0>s(he,ie))xe<V&&0>s(Ce,he)?(Y[ce]=Ce,Y[xe]=ie,ce=xe):(Y[ce]=he,Y[ue]=ie,ce=ue);else if(xe<V&&0>s(Ce,ie))Y[ce]=Ce,Y[xe]=ie,ce=xe;else break e}}return K}function s(Y,K){var ie=Y.sortIndex-K.sortIndex;return ie!==0?ie:Y.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],g=1,v=null,x=3,_=!1,E=!1,C=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(Y){for(var K=n(m);K!==null;){if(K.callback===null)i(m);else if(K.startTime<=Y)i(m),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(m)}}function H(Y){if(C=!1,q(Y),!E)if(n(h)!==null)E=!0,W||(W=!0,U());else{var K=n(m);K!==null&&te(H,K.startTime-Y)}}var W=!1,D=-1,k=5,I=-1;function M(){return A?!0:!(t.unstable_now()-I<k)}function z(){if(A=!1,W){var Y=t.unstable_now();I=Y;var K=!0;try{e:{E=!1,C&&(C=!1,B(D),D=-1),_=!0;var ie=x;try{t:{for(q(Y),v=n(h);v!==null&&!(v.expirationTime>Y&&M());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,x=v.priorityLevel;var V=ce(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof V=="function"){v.callback=V,q(Y),K=!0;break t}v===n(h)&&i(h),q(Y)}else i(h);v=n(h)}if(v!==null)K=!0;else{var ae=n(m);ae!==null&&te(H,ae.startTime-Y),K=!1}}break e}finally{v=null,x=ie,_=!1}K=void 0}}finally{K?U():W=!1}}}var U;if(typeof L=="function")U=function(){L(z)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ge=R.port2;R.port1.onmessage=z,U=function(){ge.postMessage(null)}}else U=function(){j(z,0)};function te(Y,K){D=j(function(){Y(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var ie=x;x=K;try{return Y()}finally{x=ie}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ie=x;x=Y;try{return K()}finally{x=ie}},t.unstable_scheduleCallback=function(Y,K,ie){var ce=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ce+ie:ce):ie=ce,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ie+V,Y={id:g++,callback:K,priorityLevel:Y,startTime:ie,expirationTime:V,sortIndex:-1},ie>ce?(Y.sortIndex=ie,e(m,Y),n(h)===null&&Y===n(m)&&(C?(B(D),D=-1):C=!0,te(H,ie-ce))):(Y.sortIndex=V,e(h,Y),E||_||(E=!0,W||(W=!0,U()))),Y},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Y){var K=x;return function(){var ie=x;x=K;try{return Y.apply(this,arguments)}finally{x=ie}}}}(sv)),sv}var PE;function eO(){return PE||(PE=1,iv.exports=JD()),iv.exports}var rv={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function tO(){if(IE)return Qn;IE=1;var t=tx();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qn.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(h,m,null,g)},Qn.flushSync=function(h){var m=l.T,g=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=m,i.p=g,i.d.f()}},Qn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Qn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Qn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Qn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Qn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=u(g,m.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Qn.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=u(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Qn.requestFormReset=function(h){i.d.r(h)},Qn.unstable_batchedUpdates=function(h,m){return h(m)},Qn.useFormState=function(h,m,g){return l.H.useFormState(h,m,g)},Qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qn.version="19.1.0",Qn}var ME;function nO(){if(ME)return rv.exports;ME=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rv.exports=tO(),rv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function iO(){if(DE)return Vd;DE=1;var t=eO(),e=tx(),n=nO();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,f=o;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return u(y),r;if(b===f)return u(y),o;b=b.sibling}throw Error(i(188))}if(c.return!==f.return)c=y,f=b;else{for(var S=!1,P=y.child;P;){if(P===c){S=!0,c=y,f=b;break}if(P===f){S=!0,f=y,c=b;break}P=P.sibling}if(!S){for(P=b.child;P;){if(P===c){S=!0,c=b,f=y;break}if(P===f){S=!0,f=b,c=y;break}P=P.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case H:return"Suspense";case W:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case L:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return o=r.displayName||null,o!==null?o:ge(r.type)||"Memo";case k:o=r._payload,r=r._init;try{return ge(r(o))}catch{}}return null}var te=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ce=[],V=-1;function ae(r){return{current:r}}function ue(r){0>V||(r.current=ce[V],ce[V]=null,V--)}function he(r,o){V++,ce[V]=r.current,r.current=o}var xe=ae(null),Ce=ae(null),_e=ae(null),xt=ae(null);function at(r,o){switch(he(_e,o),he(Ce,r),he(xe,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?tE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=tE(o),r=nE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(xe),he(xe,r)}function we(){ue(xe),ue(Ce),ue(_e)}function et(r){r.memoizedState!==null&&he(xt,r);var o=xe.current,c=nE(o,r.type);o!==c&&(he(Ce,r),he(xe,c))}function ot(r){Ce.current===r&&(ue(xe),ue(Ce)),xt.current===r&&(ue(xt),Pd._currentValue=ie)}var An=Object.prototype.hasOwnProperty,bn=t.unstable_scheduleCallback,Gi=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,zt=t.unstable_requestPaint,Ln=t.unstable_now,Kt=t.unstable_getCurrentPriorityLevel,xr=t.unstable_ImmediatePriority,ys=t.unstable_UserBlockingPriority,wr=t.unstable_NormalPriority,Bu=t.unstable_LowPriority,_r=t.unstable_IdlePriority,ht=t.log,Po=t.unstable_setDisableYieldValue,Rt=null,ft=null;function ai(r){if(typeof ht=="function"&&Po(r),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Rt,r)}catch{}}var cn=Math.clz32?Math.clz32:pi,Er=Math.log,Zl=Math.LN2;function pi(r){return r>>>=0,r===0?32:31-(Er(r)/Zl|0)|0}var vs=256,Vn=4194304;function ji(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function wa(r,o,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,b=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var P=f&134217727;return P!==0?(f=P&~b,f!==0?y=ji(f):(S&=P,S!==0?y=ji(S):c||(c=P&~r,c!==0&&(y=ji(c))))):(P=f&~b,P!==0?y=ji(P):S!==0?y=ji(S):c||(c=f&~r,c!==0&&(y=ji(c)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:y}function Vs(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function _a(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var r=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),r}function Mo(){var r=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),r}function bs(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function xs(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Do(r,o,c,f,y,b){var S=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var P=r.entanglements,$=r.expirationTimes,ee=r.hiddenUpdates;for(c=S&~c;0<c;){var le=31-cn(c),fe=1<<le;P[le]=0,$[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var se=ne[le];se!==null&&(se.lane&=-536870913)}c&=~fe}f!==0&&oi(r,f,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(S&~o))}function oi(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-cn(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|c&4194090}function zs(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-cn(c),y=1<<f;y&o|r[f]&o&&(r[f]|=o),c&=~y}}function Us(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ea(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ws(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:wE(r.type))}function Jl(r,o){var c=K.p;try{return K.p=r,o()}finally{K.p=c}}var jt=Math.random().toString(36).slice(2),Jt="__reactFiber$"+jt,Yt="__reactProps$"+jt,un="__reactContainer$"+jt,Oo="__reactEvents$"+jt,Fu="__reactListeners$"+jt,Bs="__reactHandles$"+jt,ec="__reactResources$"+jt,Tr="__reactMarker$"+jt;function Pi(r){delete r[Jt],delete r[Yt],delete r[Oo],delete r[Fu],delete r[Bs]}function Ki(r){var o=r[Jt];if(o)return o;for(var c=r.parentNode;c;){if(o=c[un]||c[Jt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=aE(r);r!==null;){if(c=r[Jt])return c;r=aE(r)}return o}r=c,c=r.parentNode}return null}function gi(r){if(r=r[Jt]||r[un]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Yi(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function zn(r){var o=r[ec];return o||(o=r[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qt(r){r[Tr]=!0}var Lo=new Set,Ta={};function Ii(r,o){Xi(r,o),Xi(r+"Capture",o)}function Xi(r,o){for(Ta[r]=o,r=0;r<o.length;r++)Lo.add(o[r])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Fs={};function zo(r){return An.call(Fs,r)?!0:An.call(Vo,r)?!1:tc.test(r)?Fs[r]=!0:(Vo[r]=!0,!1)}function _s(r,o,c){if(zo(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Mi(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function dn(r,o,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+f)}}var Hs,Uo;function Qi(r){if(Hs===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Hs=o&&o[1]||"",Uo=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+r+Uo}var Sr=!1;function Ar(r,o){if(!r||Sr)return"";Sr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var ne=se}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(se){ne=se}r.call(fe.prototype)}}else{try{throw Error()}catch(se){ne=se}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),S=b[0],P=b[1];if(S&&P){var $=S.split(`
`),ee=P.split(`
`);for(y=f=0;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(f===$.length||y===ee.length)for(f=$.length-1,y=ee.length-1;1<=f&&0<=y&&$[f]!==ee[y];)y--;for(;1<=f&&0<=y;f--,y--)if($[f]!==ee[y]){if(f!==1||y!==1)do if(f--,y--,0>y||$[f]!==ee[y]){var le=`
`+$[f].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=f&&0<=y);break}}}finally{Sr=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Qi(c):""}function Sa(r){switch(r.tag){case 26:case 27:case 5:return Qi(r.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Ar(r.type,!1);case 11:return Ar(r.type.render,!1);case 1:return Ar(r.type,!0);case 31:return Qi("Activity");default:return""}}function Cr(r){try{var o="";do o+=Sa(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Aa(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function nc(r){var o=Aa(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){f=""+S,b.call(this,S)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function kr(r){r._valueTracker||(r._valueTracker=nc(r))}function F(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=Aa(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function ye(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ke=/[\n"\\]/g;function Se(r){return r.replace(ke,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ue(r,o,c,f,y,b,S,P){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Cn(o)):r.value!==""+Cn(o)&&(r.value=""+Cn(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?mt(r,S,Cn(o)):c!=null?mt(r,S,Cn(c)):f!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+Cn(P):r.removeAttribute("name")}function tt(r,o,c,f,y,b,S,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;c=c!=null?""+Cn(c):"",o=o!=null?""+Cn(o):c,P||o===r.value||(r.value=o),r.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=P?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function mt(r,o,c){o==="number"&&ye(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function lt(r,o,c,f){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Cn(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function je(r,o,c){if(o!=null&&(o=""+Cn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Cn(c):""}function hn(r,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(i(92));if(te(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Cn(o),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f)}function Dt(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var Ot=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function li(r,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,c):typeof c!="number"||c===0||Ot.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function ic(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&li(r,y,f)}else for(var b in o)o.hasOwnProperty(b)&&li(r,b,o[b])}function Hu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ay=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sc(r){return oy.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Nr=null;function Zi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rr=null,jr=null;function qu(r){var o=gi(r);if(o&&(r=o.stateNode)){var c=r[Yt]||null;e:switch(r=o.stateNode,o.type){case"input":if(Ue(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Se(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var y=f[Yt]||null;if(!y)throw Error(i(90));Ue(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===r.form&&F(f)}break e;case"textarea":je(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&lt(r,!!c.multiple,o,!1)}}}var qs=!1;function uf(r,o,c){if(qs)return r(o,c);qs=!0;try{var f=r(o);return f}finally{if(qs=!1,(Rr!==null||jr!==null)&&(im(),Rr&&(o=Rr,r=jr,jr=Rr=null,qu(o),r)))for(o=0;o<r.length;o++)qu(r[o])}}function Bo(r,o){var c=r.stateNode;if(c===null)return null;var f=c[Yt]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(Es)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Ji=!1}var $s=null,Ca=null,Pr=null;function $u(){if(Pr)return Pr;var r,o=Ca,c=o.length,f,y="value"in $s?$s.value:$s.textContent,b=y.length;for(r=0;r<c&&o[r]===y[r];r++);var S=c-r;for(f=1;f<=S&&o[c-f]===y[b-f];f++);return Pr=y.slice(r,1<f?1-f:void 0)}function Ws(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Gs(){return!0}function Wu(){return!1}function kn(r){function o(c,f,y,b,S){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(c=r[P],this[P]=c?c(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Gs:Wu,this.isPropagationStopped=Wu,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),o}var yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=kn(yt),Ho=g({},yt,{view:0,detail:0}),df=kn(Ho),ac,oc,Ks,qo=g({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ks&&(Ks&&r.type==="mousemove"?(ac=r.screenX-Ks.screenX,oc=r.screenY-Ks.screenY):oc=ac=0,Ks=r),ac)},movementY:function(r){return"movementY"in r?r.movementY:oc}}),es=kn(qo),hf=g({},qo,{dataTransfer:0}),ly=kn(hf),$o=g({},Ho,{relatedTarget:0}),lc=kn($o),Gu=g({},yt,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=kn(Gu),ff=g({},yt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uc=kn(ff),cy=g({},yt,{data:0}),Ku=kn(cy),Wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=pf[r])?!!o[r]:!1}function Go(){return Yu}var gf=g({},Ho,{key:function(r){if(r.key){var o=Wo[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ws(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(r){return r.type==="keypress"?Ws(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ws(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dc=kn(gf),yf=g({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xu=kn(yf),Ir=g({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),vf=kn(Ir),bf=g({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xf=kn(bf),wf=g({},qo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),hc=kn(wf),ci=g({},yt,{newState:0,oldState:0}),_f=kn(ci),Ef=[9,13,27,32],Ys=Es&&"CompositionEvent"in window,p=null;Es&&"documentMode"in document&&(p=document.documentMode);var w=Es&&"TextEvent"in window&&!p,T=Es&&(!Ys||p&&8<p&&11>=p),O=" ",Z=!1;function re(r,o){switch(r){case"keyup":return Ef.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function xn(r,o){switch(r){case"compositionend":return be(o);case"keypress":return o.which!==32?null:(Z=!0,O);case"textInput":return r=o.data,r===O&&Z?null:r;default:return null}}function it(r,o){if(nt)return r==="compositionend"||!Ys&&re(r,o)?(r=$u(),Pr=Ca=$s=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Nn[r.type]:o==="textarea"}function Mr(r,o,c,f){Rr?jr?jr.push(f):jr=[f]:Rr=f,o=cm(o,"onChange"),0<o.length&&(c=new rc("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var Un=null,Xs=null;function Qu(r){X2(r,0)}function Tf(r){var o=Yi(r);if(F(o))return r}function y_(r,o){if(r==="change")return o}var v_=!1;if(Es){var uy;if(Es){var dy="oninput"in document;if(!dy){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),dy=typeof b_.oninput=="function"}uy=dy}else uy=!1;v_=uy&&(!document.documentMode||9<document.documentMode)}function x_(){Un&&(Un.detachEvent("onpropertychange",w_),Xs=Un=null)}function w_(r){if(r.propertyName==="value"&&Tf(Xs)){var o=[];Mr(o,Xs,r,Zi(r)),uf(Qu,o)}}function TM(r,o,c){r==="focusin"?(x_(),Un=o,Xs=c,Un.attachEvent("onpropertychange",w_)):r==="focusout"&&x_()}function SM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tf(Xs)}function AM(r,o){if(r==="click")return Tf(o)}function CM(r,o){if(r==="input"||r==="change")return Tf(o)}function kM(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Di=typeof Object.is=="function"?Object.is:kM;function Zu(r,o){if(Di(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!An.call(o,y)||!Di(r[y],o[y]))return!1}return!0}function __(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function E_(r,o){var c=__(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=__(c)}}function T_(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?T_(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function S_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=ye(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=ye(r.document)}return o}function hy(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var NM=Es&&"documentMode"in document&&11>=document.documentMode,fc=null,fy=null,Ju=null,my=!1;function A_(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;my||fc==null||fc!==ye(f)||(f=fc,"selectionStart"in f&&hy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ju&&Zu(Ju,f)||(Ju=f,f=cm(fy,"onSelect"),0<f.length&&(o=new rc("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=fc)))}function Ko(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var mc={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionrun:Ko("Transition","TransitionRun"),transitionstart:Ko("Transition","TransitionStart"),transitioncancel:Ko("Transition","TransitionCancel"),transitionend:Ko("Transition","TransitionEnd")},py={},C_={};Es&&(C_=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function Yo(r){if(py[r])return py[r];if(!mc[r])return r;var o=mc[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in C_)return py[r]=o[c];return r}var k_=Yo("animationend"),N_=Yo("animationiteration"),R_=Yo("animationstart"),RM=Yo("transitionrun"),jM=Yo("transitionstart"),PM=Yo("transitioncancel"),j_=Yo("transitionend"),P_=new Map,gy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gy.push("scrollEnd");function Ts(r,o){P_.set(r,o),Ii(o,[r])}var I_=new WeakMap;function ts(r,o){if(typeof r=="object"&&r!==null){var c=I_.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Cr(o)},I_.set(r,o),o)}return{value:r,source:o,stack:Cr(o)}}var ns=[],pc=0,yy=0;function Sf(){for(var r=pc,o=yy=pc=0;o<r;){var c=ns[o];ns[o++]=null;var f=ns[o];ns[o++]=null;var y=ns[o];ns[o++]=null;var b=ns[o];if(ns[o++]=null,f!==null&&y!==null){var S=f.pending;S===null?y.next=y:(y.next=S.next,S.next=y),f.pending=y}b!==0&&M_(c,y,b)}}function Af(r,o,c,f){ns[pc++]=r,ns[pc++]=o,ns[pc++]=c,ns[pc++]=f,yy|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function vy(r,o,c,f){return Af(r,o,c,f),Cf(r)}function gc(r,o){return Af(r,null,null,o),Cf(r)}function M_(r,o,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,b=r.return;b!==null;)b.childLanes|=c,f=b.alternate,f!==null&&(f.childLanes|=c),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&o!==null&&(y=31-cn(c),r=b.hiddenUpdates,f=r[y],f===null?r[y]=[o]:f.push(o),o.lane=c|536870912),b):null}function Cf(r){if(50<Td)throw Td=0,T0=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var yc={};function IM(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(r,o,c,f){return new IM(r,o,c,f)}function by(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Dr(r,o){var c=r.alternate;return c===null?(c=Oi(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function D_(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function kf(r,o,c,f,y,b){var S=0;if(f=r,typeof r=="function")by(r)&&(S=1);else if(typeof r=="string")S=DD(r,c,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Oi(31,c,o,y),r.elementType=I,r.lanes=b,r;case E:return Xo(c.children,y,b,o);case C:S=8,y|=24;break;case A:return r=Oi(12,c,o,y|2),r.elementType=A,r.lanes=b,r;case H:return r=Oi(13,c,o,y),r.elementType=H,r.lanes=b,r;case W:return r=Oi(19,c,o,y),r.elementType=W,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case L:S=10;break e;case B:S=9;break e;case q:S=11;break e;case D:S=14;break e;case k:S=16,f=null;break e}S=29,c=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=Oi(S,c,o,y),o.elementType=r,o.type=f,o.lanes=b,o}function Xo(r,o,c,f){return r=Oi(7,r,f,o),r.lanes=c,r}function xy(r,o,c){return r=Oi(6,r,null,o),r.lanes=c,r}function wy(r,o,c){return o=Oi(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var vc=[],bc=0,Nf=null,Rf=0,is=[],ss=0,Qo=null,Or=1,Lr="";function Zo(r,o){vc[bc++]=Rf,vc[bc++]=Nf,Nf=r,Rf=o}function O_(r,o,c){is[ss++]=Or,is[ss++]=Lr,is[ss++]=Qo,Qo=r;var f=Or;r=Lr;var y=32-cn(f)-1;f&=~(1<<y),c+=1;var b=32-cn(o)+y;if(30<b){var S=y-y%5;b=(f&(1<<S)-1).toString(32),f>>=S,y-=S,Or=1<<32-cn(o)+y|c<<y|f,Lr=b+r}else Or=1<<b|c<<y|f,Lr=r}function _y(r){r.return!==null&&(Zo(r,1),O_(r,1,0))}function Ey(r){for(;r===Nf;)Nf=vc[--bc],vc[bc]=null,Rf=vc[--bc],vc[bc]=null;for(;r===Qo;)Qo=is[--ss],is[ss]=null,Lr=is[--ss],is[ss]=null,Or=is[--ss],is[ss]=null}var ui=null,Xt=null,pt=!1,Jo=null,Qs=!1,Ty=Error(i(519));function el(r){var o=Error(i(418,""));throw nd(ts(o,r)),Ty}function L_(r){var o=r.stateNode,c=r.type,f=r.memoizedProps;switch(o[Jt]=r,o[Yt]=f,c){case"dialog":Qe("cancel",o),Qe("close",o);break;case"iframe":case"object":case"embed":Qe("load",o);break;case"video":case"audio":for(c=0;c<Ad.length;c++)Qe(Ad[c],o);break;case"source":Qe("error",o);break;case"img":case"image":case"link":Qe("error",o),Qe("load",o);break;case"details":Qe("toggle",o);break;case"input":Qe("invalid",o),tt(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),kr(o);break;case"select":Qe("invalid",o);break;case"textarea":Qe("invalid",o),hn(o,f.value,f.defaultValue,f.children),kr(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||eE(o.textContent,c)?(f.popover!=null&&(Qe("beforetoggle",o),Qe("toggle",o)),f.onScroll!=null&&Qe("scroll",o),f.onScrollEnd!=null&&Qe("scrollend",o),f.onClick!=null&&(o.onclick=um),o=!0):o=!1,o||el(r)}function V_(r){for(ui=r.return;ui;)switch(ui.tag){case 5:case 13:Qs=!1;return;case 27:case 3:Qs=!0;return;default:ui=ui.return}}function ed(r){if(r!==ui)return!1;if(!pt)return V_(r),pt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||U0(r.type,r.memoizedProps)),c=!c),c&&Xt&&el(r),V_(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){Xt=As(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}Xt=null}}else o===27?(o=Xt,Ha(r.type)?(r=q0,q0=null,Xt=r):Xt=o):Xt=ui?As(r.stateNode.nextSibling):null;return!0}function td(){Xt=ui=null,pt=!1}function z_(){var r=Jo;return r!==null&&(bi===null?bi=r:bi.push.apply(bi,r),Jo=null),r}function nd(r){Jo===null?Jo=[r]:Jo.push(r)}var Sy=ae(null),tl=null,Vr=null;function ka(r,o,c){he(Sy,o._currentValue),o._currentValue=c}function zr(r){r._currentValue=Sy.current,ue(Sy)}function Ay(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function Cy(r,o,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var S=y.child;b=b.firstContext;e:for(;b!==null;){var P=b;b=y;for(var $=0;$<o.length;$++)if(P.context===o[$]){b.lanes|=c,P=b.alternate,P!==null&&(P.lanes|=c),Ay(b.return,c,r),f||(S=null);break e}b=P.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(i(341));S.lanes|=c,b=S.alternate,b!==null&&(b.lanes|=c),Ay(S,c,r),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===r){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function id(r,o,c,f){r=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var P=y.type;Di(y.pendingProps.value,S.value)||(r!==null?r.push(P):r=[P])}}else if(y===xt.current){if(S=y.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Pd):r=[Pd])}y=y.return}r!==null&&Cy(o,r,c,f),o.flags|=262144}function jf(r){for(r=r.firstContext;r!==null;){if(!Di(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function nl(r){tl=r,Vr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Xn(r){return U_(tl,r)}function Pf(r,o){return tl===null&&nl(r),U_(r,o)}function U_(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Vr===null){if(r===null)throw Error(i(308));Vr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Vr=Vr.next=o;return c}var MM=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},DM=t.unstable_scheduleCallback,OM=t.unstable_NormalPriority,_n={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ky(){return{controller:new MM,data:new Map,refCount:0}}function sd(r){r.refCount--,r.refCount===0&&DM(OM,function(){r.controller.abort()})}var rd=null,Ny=0,xc=0,wc=null;function LM(r,o){if(rd===null){var c=rd=[];Ny=0,xc=j0(),wc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Ny++,o.then(B_,B_),o}function B_(){if(--Ny===0&&rd!==null){wc!==null&&(wc.status="fulfilled");var r=rd;rd=null,xc=0,wc=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function VM(r,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var F_=Y.S;Y.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&LM(r,o),F_!==null&&F_(r,o)};var il=ae(null);function Ry(){var r=il.current;return r!==null?r:Pt.pooledCache}function If(r,o){o===null?he(il,il.current):he(il,o.pool)}function H_(){var r=Ry();return r===null?null:{parent:_n._currentValue,pool:r}}var ad=Error(i(460)),q_=Error(i(474)),Mf=Error(i(542)),jy={then:function(){}};function $_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Df(){}function W_(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Df,Df),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,K_(r),r;default:if(typeof o.status=="string")o.then(Df,Df);else{if(r=Pt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,K_(r),r}throw od=o,ad}}var od=null;function G_(){if(od===null)throw Error(i(459));var r=od;return od=null,r}function K_(r){if(r===ad||r===Mf)throw Error(i(483))}var Na=!1;function Py(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iy(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ra(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ja(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(wt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Cf(r),M_(r,null,c),o}return Af(r,f,o,c),Cf(r)}function ld(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,zs(r,c)}}function My(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=S:b=b.next=S,c=c.next}while(c!==null);b===null?y=b=o:b=b.next=o}else y=b=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Dy=!1;function cd(){if(Dy){var r=wc;if(r!==null)throw r}}function ud(r,o,c,f){Dy=!1;var y=r.updateQueue;Na=!1;var b=y.firstBaseUpdate,S=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var $=P,ee=$.next;$.next=null,S===null?b=ee:S.next=ee,S=$;var le=r.alternate;le!==null&&(le=le.updateQueue,P=le.lastBaseUpdate,P!==S&&(P===null?le.firstBaseUpdate=ee:P.next=ee,le.lastBaseUpdate=$))}if(b!==null){var fe=y.baseState;S=0,le=ee=$=null,P=b;do{var ne=P.lane&-536870913,se=ne!==P.lane;if(se?(st&ne)===ne:(f&ne)===ne){ne!==0&&ne===xc&&(Dy=!0),le!==null&&(le=le.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ve=r,Me=P;ne=o;var Ct=c;switch(Me.tag){case 1:if(Ve=Me.payload,typeof Ve=="function"){fe=Ve.call(Ct,fe,ne);break e}fe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Me.payload,ne=typeof Ve=="function"?Ve.call(Ct,fe,ne):Ve,ne==null)break e;fe=g({},fe,ne);break e;case 2:Na=!0}}ne=P.callback,ne!==null&&(r.flags|=64,se&&(r.flags|=8192),se=y.callbacks,se===null?y.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:P.tag,payload:P.payload,callback:P.callback,next:null},le===null?(ee=le=se,$=fe):le=le.next=se,S|=ne;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;se=P,P=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);le===null&&($=fe),y.baseState=$,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,b===null&&(y.shared.lanes=0),za|=S,r.lanes=S,r.memoizedState=fe}}function Y_(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function X_(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Y_(c[r],o)}var _c=ae(null),Of=ae(0);function Q_(r,o){r=Wr,he(Of,r),he(_c,o),Wr=r|o.baseLanes}function Oy(){he(Of,Wr),he(_c,_c.current)}function Ly(){Wr=Of.current,ue(_c),ue(Of)}var Pa=0,We=null,St=null,fn=null,Lf=!1,Ec=!1,sl=!1,Vf=0,dd=0,Tc=null,zM=0;function en(){throw Error(i(321))}function Vy(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Di(r[c],o[c]))return!1;return!0}function zy(r,o,c,f,y,b){return Pa=b,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=r===null||r.memoizedState===null?M1:D1,sl=!1,b=c(f,y),sl=!1,Ec&&(b=J_(o,c,f,y)),Z_(r),b}function Z_(r){Y.H=qf;var o=St!==null&&St.next!==null;if(Pa=0,fn=St=We=null,Lf=!1,dd=0,Tc=null,o)throw Error(i(300));r===null||Rn||(r=r.dependencies,r!==null&&jf(r)&&(Rn=!0))}function J_(r,o,c,f){We=r;var y=0;do{if(Ec&&(Tc=null),dd=0,Ec=!1,25<=y)throw Error(i(301));if(y+=1,fn=St=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=WM,b=o(c,f)}while(Ec);return b}function UM(){var r=Y.H,o=r.useState()[0];return o=typeof o.then=="function"?hd(o):o,r=r.useState()[0],(St!==null?St.memoizedState:null)!==r&&(We.flags|=1024),o}function Uy(){var r=Vf!==0;return Vf=0,r}function By(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Fy(r){if(Lf){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Lf=!1}Pa=0,fn=St=We=null,Ec=!1,dd=Vf=0,Tc=null}function yi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?We.memoizedState=fn=r:fn=fn.next=r,fn}function mn(){if(St===null){var r=We.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var o=fn===null?We.memoizedState:fn.next;if(o!==null)fn=o,St=r;else{if(r===null)throw We.alternate===null?Error(i(467)):Error(i(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},fn===null?We.memoizedState=fn=r:fn=fn.next=r}return fn}function Hy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hd(r){var o=dd;return dd+=1,Tc===null&&(Tc=[]),r=W_(Tc,r,o),o=We,(fn===null?o.memoizedState:fn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?M1:D1),r}function zf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return hd(r);if(r.$$typeof===L)return Xn(r)}throw Error(i(438,String(r)))}function qy(r){var o=null,c=We.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=We.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Hy(),We.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),f=0;f<r;f++)c[f]=M;return o.index++,c}function Ur(r,o){return typeof o=="function"?o(r):o}function Uf(r){var o=mn();return $y(o,St,r)}function $y(r,o,c){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var y=r.baseQueue,b=f.pending;if(b!==null){if(y!==null){var S=y.next;y.next=b.next,b.next=S}o.baseQueue=y=b,f.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{o=y.next;var P=S=null,$=null,ee=o,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(st&fe)===fe:(Pa&fe)===fe){var ne=ee.revertLane;if(ne===0)$!==null&&($=$.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===xc&&(le=!0);else if((Pa&ne)===ne){ee=ee.next,ne===xc&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(P=$=fe,S=b):$=$.next=fe,We.lanes|=ne,za|=ne;fe=ee.action,sl&&c(b,fe),b=ee.hasEagerState?ee.eagerState:c(b,fe)}else ne={lane:fe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(P=$=ne,S=b):$=$.next=ne,We.lanes|=fe,za|=fe;ee=ee.next}while(ee!==null&&ee!==o);if($===null?S=b:$.next=P,!Di(b,r.memoizedState)&&(Rn=!0,le&&(c=wc,c!==null)))throw c;r.memoizedState=b,r.baseState=S,r.baseQueue=$,f.lastRenderedState=b}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Wy(r){var o=mn(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,b=o.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do b=r(b,S.action),S=S.next;while(S!==y);Di(b,o.memoizedState)||(Rn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,f]}function e1(r,o,c){var f=We,y=mn(),b=pt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=o();var S=!Di((St||y).memoizedState,c);S&&(y.memoizedState=c,Rn=!0),y=y.queue;var P=i1.bind(null,f,y,r);if(fd(2048,8,P,[r]),y.getSnapshot!==o||S||fn!==null&&fn.memoizedState.tag&1){if(f.flags|=2048,Sc(9,Bf(),n1.bind(null,f,y,c,o),null),Pt===null)throw Error(i(349));b||(Pa&124)!==0||t1(f,o,c)}return c}function t1(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=We.updateQueue,o===null?(o=Hy(),We.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function n1(r,o,c,f){o.value=c,o.getSnapshot=f,s1(o)&&r1(r)}function i1(r,o,c){return c(function(){s1(o)&&r1(r)})}function s1(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Di(r,c)}catch{return!0}}function r1(r){var o=gc(r,2);o!==null&&Bi(o,r,2)}function Gy(r){var o=yi();if(typeof r=="function"){var c=r;if(r=c(),sl){ai(!0);try{c()}finally{ai(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:r},o}function a1(r,o,c,f){return r.baseState=c,$y(r,St,typeof f=="function"?f:Ur)}function BM(r,o,c,f,y){if(Hf(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};Y.T!==null?c(!0):b.isTransition=!1,f(b),c=o.pending,c===null?(b.next=o.pending=b,o1(o,b)):(b.next=c.next,o.pending=c.next=b)}}function o1(r,o){var c=o.action,f=o.payload,y=r.state;if(o.isTransition){var b=Y.T,S={};Y.T=S;try{var P=c(y,f),$=Y.S;$!==null&&$(S,P),l1(r,o,P)}catch(ee){Ky(r,o,ee)}finally{Y.T=b}}else try{b=c(y,f),l1(r,o,b)}catch(ee){Ky(r,o,ee)}}function l1(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){c1(r,o,f)},function(f){return Ky(r,o,f)}):c1(r,o,c)}function c1(r,o,c){o.status="fulfilled",o.value=c,u1(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,o1(r,c)))}function Ky(r,o,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,u1(o),o=o.next;while(o!==f)}r.action=null}function u1(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function d1(r,o){return o}function h1(r,o){if(pt){var c=Pt.formState;if(c!==null){e:{var f=We;if(pt){if(Xt){t:{for(var y=Xt,b=Qs;y.nodeType!==8;){if(!b){y=null;break t}if(y=As(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Xt=As(y.nextSibling),f=y.data==="F!";break e}}el(f)}f=!1}f&&(o=c[0])}}return c=yi(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d1,lastRenderedState:o},c.queue=f,c=j1.bind(null,We,f),f.dispatch=c,f=Gy(!1),b=Jy.bind(null,We,!1,f.queue),f=yi(),y={state:o,dispatch:null,action:r,pending:null},f.queue=y,c=BM.bind(null,We,y,b,c),y.dispatch=c,f.memoizedState=r,[o,c,!1]}function f1(r){var o=mn();return m1(o,St,r)}function m1(r,o,c){if(o=$y(r,o,d1)[0],r=Uf(Ur)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=hd(o)}catch(S){throw S===ad?Mf:S}else f=o;o=mn();var y=o.queue,b=y.dispatch;return c!==o.memoizedState&&(We.flags|=2048,Sc(9,Bf(),FM.bind(null,y,c),null)),[f,b,r]}function FM(r,o){r.action=o}function p1(r){var o=mn(),c=St;if(c!==null)return m1(o,c,r);mn(),o=o.memoizedState,c=mn();var f=c.queue.dispatch;return c.memoizedState=r,[o,f,!1]}function Sc(r,o,c,f){return r={tag:r,create:c,deps:f,inst:o,next:null},o=We.updateQueue,o===null&&(o=Hy(),We.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r),r}function Bf(){return{destroy:void 0,resource:void 0}}function g1(){return mn().memoizedState}function Ff(r,o,c,f){var y=yi();f=f===void 0?null:f,We.flags|=r,y.memoizedState=Sc(1|o,Bf(),c,f)}function fd(r,o,c,f){var y=mn();f=f===void 0?null:f;var b=y.memoizedState.inst;St!==null&&f!==null&&Vy(f,St.memoizedState.deps)?y.memoizedState=Sc(o,b,c,f):(We.flags|=r,y.memoizedState=Sc(1|o,b,c,f))}function y1(r,o){Ff(8390656,8,r,o)}function v1(r,o){fd(2048,8,r,o)}function b1(r,o){return fd(4,2,r,o)}function x1(r,o){return fd(4,4,r,o)}function w1(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function _1(r,o,c){c=c!=null?c.concat([r]):null,fd(4,4,w1.bind(null,o,r),c)}function Yy(){}function E1(r,o){var c=mn();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&Vy(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function T1(r,o){var c=mn();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&Vy(o,f[1]))return f[0];if(f=r(),sl){ai(!0);try{r()}finally{ai(!1)}}return c.memoizedState=[f,o],f}function Xy(r,o,c){return c===void 0||(Pa&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=C2(),We.lanes|=r,za|=r,c)}function S1(r,o,c,f){return Di(c,o)?c:_c.current!==null?(r=Xy(r,c,f),Di(r,o)||(Rn=!0),r):(Pa&42)===0?(Rn=!0,r.memoizedState=c):(r=C2(),We.lanes|=r,za|=r,o)}function A1(r,o,c,f,y){var b=K.p;K.p=b!==0&&8>b?b:8;var S=Y.T,P={};Y.T=P,Jy(r,!1,o,c);try{var $=y(),ee=Y.S;if(ee!==null&&ee(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=VM($,f);md(r,o,le,Ui(r))}else md(r,o,f,Ui(r))}catch(fe){md(r,o,{then:function(){},status:"rejected",reason:fe},Ui())}finally{K.p=b,Y.T=S}}function HM(){}function Qy(r,o,c,f){if(r.tag!==5)throw Error(i(476));var y=C1(r).queue;A1(r,y,o,ie,c===null?HM:function(){return k1(r),c(f)})}function C1(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:ie},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function k1(r){var o=C1(r).next.queue;md(r,o,{},Ui())}function Zy(){return Xn(Pd)}function N1(){return mn().memoizedState}function R1(){return mn().memoizedState}function qM(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Ui();r=Ra(c);var f=ja(o,r,c);f!==null&&(Bi(f,o,c),ld(f,o,c)),o={cache:ky()},r.payload=o;return}o=o.return}}function $M(r,o,c){var f=Ui();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Hf(r)?P1(o,c):(c=vy(r,o,c,f),c!==null&&(Bi(c,r,f),I1(c,o,f)))}function j1(r,o,c){var f=Ui();md(r,o,c,f)}function md(r,o,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hf(r))P1(o,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var S=o.lastRenderedState,P=b(S,c);if(y.hasEagerState=!0,y.eagerState=P,Di(P,S))return Af(r,o,y,0),Pt===null&&Sf(),!1}catch{}finally{}if(c=vy(r,o,y,f),c!==null)return Bi(c,r,f),I1(c,o,f),!0}return!1}function Jy(r,o,c,f){if(f={lane:2,revertLane:j0(),action:f,hasEagerState:!1,eagerState:null,next:null},Hf(r)){if(o)throw Error(i(479))}else o=vy(r,c,f,2),o!==null&&Bi(o,r,2)}function Hf(r){var o=r.alternate;return r===We||o!==null&&o===We}function P1(r,o){Ec=Lf=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function I1(r,o,c){if((c&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,zs(r,c)}}var qf={readContext:Xn,use:zf,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en},M1={readContext:Xn,use:zf,useCallback:function(r,o){return yi().memoizedState=[r,o===void 0?null:o],r},useContext:Xn,useEffect:y1,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,Ff(4194308,4,w1.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Ff(4194308,4,r,o)},useInsertionEffect:function(r,o){Ff(4,2,r,o)},useMemo:function(r,o){var c=yi();o=o===void 0?null:o;var f=r();if(sl){ai(!0);try{r()}finally{ai(!1)}}return c.memoizedState=[f,o],f},useReducer:function(r,o,c){var f=yi();if(c!==void 0){var y=c(o);if(sl){ai(!0);try{c(o)}finally{ai(!1)}}}else y=o;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=$M.bind(null,We,r),[f.memoizedState,r]},useRef:function(r){var o=yi();return r={current:r},o.memoizedState=r},useState:function(r){r=Gy(r);var o=r.queue,c=j1.bind(null,We,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Yy,useDeferredValue:function(r,o){var c=yi();return Xy(c,r,o)},useTransition:function(){var r=Gy(!1);return r=A1.bind(null,We,r.queue,!0,!1),yi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var f=We,y=yi();if(pt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),Pt===null)throw Error(i(349));(st&124)!==0||t1(f,o,c)}y.memoizedState=c;var b={value:c,getSnapshot:o};return y.queue=b,y1(i1.bind(null,f,b,r),[r]),f.flags|=2048,Sc(9,Bf(),n1.bind(null,f,b,c,o),null),c},useId:function(){var r=yi(),o=Pt.identifierPrefix;if(pt){var c=Lr,f=Or;c=(f&~(1<<32-cn(f)-1)).toString(32)+c,o="«"+o+"R"+c,c=Vf++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=zM++,o="«"+o+"r"+c.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:Zy,useFormState:h1,useActionState:h1,useOptimistic:function(r){var o=yi();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Jy.bind(null,We,!0,c),c.dispatch=o,[r,o]},useMemoCache:qy,useCacheRefresh:function(){return yi().memoizedState=qM.bind(null,We)}},D1={readContext:Xn,use:zf,useCallback:E1,useContext:Xn,useEffect:v1,useImperativeHandle:_1,useInsertionEffect:b1,useLayoutEffect:x1,useMemo:T1,useReducer:Uf,useRef:g1,useState:function(){return Uf(Ur)},useDebugValue:Yy,useDeferredValue:function(r,o){var c=mn();return S1(c,St.memoizedState,r,o)},useTransition:function(){var r=Uf(Ur)[0],o=mn().memoizedState;return[typeof r=="boolean"?r:hd(r),o]},useSyncExternalStore:e1,useId:N1,useHostTransitionStatus:Zy,useFormState:f1,useActionState:f1,useOptimistic:function(r,o){var c=mn();return a1(c,St,r,o)},useMemoCache:qy,useCacheRefresh:R1},WM={readContext:Xn,use:zf,useCallback:E1,useContext:Xn,useEffect:v1,useImperativeHandle:_1,useInsertionEffect:b1,useLayoutEffect:x1,useMemo:T1,useReducer:Wy,useRef:g1,useState:function(){return Wy(Ur)},useDebugValue:Yy,useDeferredValue:function(r,o){var c=mn();return St===null?Xy(c,r,o):S1(c,St.memoizedState,r,o)},useTransition:function(){var r=Wy(Ur)[0],o=mn().memoizedState;return[typeof r=="boolean"?r:hd(r),o]},useSyncExternalStore:e1,useId:N1,useHostTransitionStatus:Zy,useFormState:p1,useActionState:p1,useOptimistic:function(r,o){var c=mn();return St!==null?a1(c,St,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:qy,useCacheRefresh:R1},Ac=null,pd=0;function $f(r){var o=pd;return pd+=1,Ac===null&&(Ac=[]),W_(Ac,r,o)}function gd(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Wf(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function O1(r){var o=r._init;return o(r._payload)}function L1(r){function o(X,G){if(r){var J=X.deletions;J===null?(X.deletions=[G],X.flags|=16):J.push(G)}}function c(X,G){if(!r)return null;for(;G!==null;)o(X,G),G=G.sibling;return null}function f(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function y(X,G){return X=Dr(X,G),X.index=0,X.sibling=null,X}function b(X,G,J){return X.index=J,r?(J=X.alternate,J!==null?(J=J.index,J<G?(X.flags|=67108866,G):J):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function S(X){return r&&X.alternate===null&&(X.flags|=67108866),X}function P(X,G,J,de){return G===null||G.tag!==6?(G=xy(J,X.mode,de),G.return=X,G):(G=y(G,J),G.return=X,G)}function $(X,G,J,de){var Ae=J.type;return Ae===E?le(X,G,J.props.children,de,J.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===k&&O1(Ae)===G.type)?(G=y(G,J.props),gd(G,J),G.return=X,G):(G=kf(J.type,J.key,J.props,null,X.mode,de),gd(G,J),G.return=X,G)}function ee(X,G,J,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=wy(J,X.mode,de),G.return=X,G):(G=y(G,J.children||[]),G.return=X,G)}function le(X,G,J,de,Ae){return G===null||G.tag!==7?(G=Xo(J,X.mode,de,Ae),G.return=X,G):(G=y(G,J),G.return=X,G)}function fe(X,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=xy(""+G,X.mode,J),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return J=kf(G.type,G.key,G.props,null,X.mode,J),gd(J,G),J.return=X,J;case _:return G=wy(G,X.mode,J),G.return=X,G;case k:var de=G._init;return G=de(G._payload),fe(X,G,J)}if(te(G)||U(G))return G=Xo(G,X.mode,J,null),G.return=X,G;if(typeof G.then=="function")return fe(X,$f(G),J);if(G.$$typeof===L)return fe(X,Pf(X,G),J);Wf(X,G)}return null}function ne(X,G,J,de){var Ae=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ae!==null?null:P(X,G,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===Ae?$(X,G,J,de):null;case _:return J.key===Ae?ee(X,G,J,de):null;case k:return Ae=J._init,J=Ae(J._payload),ne(X,G,J,de)}if(te(J)||U(J))return Ae!==null?null:le(X,G,J,de,null);if(typeof J.then=="function")return ne(X,G,$f(J),de);if(J.$$typeof===L)return ne(X,G,Pf(X,J),de);Wf(X,J)}return null}function se(X,G,J,de,Ae){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(J)||null,P(G,X,""+de,Ae);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return X=X.get(de.key===null?J:de.key)||null,$(G,X,de,Ae);case _:return X=X.get(de.key===null?J:de.key)||null,ee(G,X,de,Ae);case k:var Ke=de._init;return de=Ke(de._payload),se(X,G,J,de,Ae)}if(te(de)||U(de))return X=X.get(J)||null,le(G,X,de,Ae,null);if(typeof de.then=="function")return se(X,G,J,$f(de),Ae);if(de.$$typeof===L)return se(X,G,J,Pf(G,de),Ae);Wf(G,de)}return null}function Ve(X,G,J,de){for(var Ae=null,Ke=null,Re=G,De=G=0,Pn=null;Re!==null&&De<J.length;De++){Re.index>De?(Pn=Re,Re=null):Pn=Re.sibling;var ct=ne(X,Re,J[De],de);if(ct===null){Re===null&&(Re=Pn);break}r&&Re&&ct.alternate===null&&o(X,Re),G=b(ct,G,De),Ke===null?Ae=ct:Ke.sibling=ct,Ke=ct,Re=Pn}if(De===J.length)return c(X,Re),pt&&Zo(X,De),Ae;if(Re===null){for(;De<J.length;De++)Re=fe(X,J[De],de),Re!==null&&(G=b(Re,G,De),Ke===null?Ae=Re:Ke.sibling=Re,Ke=Re);return pt&&Zo(X,De),Ae}for(Re=f(Re);De<J.length;De++)Pn=se(Re,X,De,J[De],de),Pn!==null&&(r&&Pn.alternate!==null&&Re.delete(Pn.key===null?De:Pn.key),G=b(Pn,G,De),Ke===null?Ae=Pn:Ke.sibling=Pn,Ke=Pn);return r&&Re.forEach(function(Ka){return o(X,Ka)}),pt&&Zo(X,De),Ae}function Me(X,G,J,de){if(J==null)throw Error(i(151));for(var Ae=null,Ke=null,Re=G,De=G=0,Pn=null,ct=J.next();Re!==null&&!ct.done;De++,ct=J.next()){Re.index>De?(Pn=Re,Re=null):Pn=Re.sibling;var Ka=ne(X,Re,ct.value,de);if(Ka===null){Re===null&&(Re=Pn);break}r&&Re&&Ka.alternate===null&&o(X,Re),G=b(Ka,G,De),Ke===null?Ae=Ka:Ke.sibling=Ka,Ke=Ka,Re=Pn}if(ct.done)return c(X,Re),pt&&Zo(X,De),Ae;if(Re===null){for(;!ct.done;De++,ct=J.next())ct=fe(X,ct.value,de),ct!==null&&(G=b(ct,G,De),Ke===null?Ae=ct:Ke.sibling=ct,Ke=ct);return pt&&Zo(X,De),Ae}for(Re=f(Re);!ct.done;De++,ct=J.next())ct=se(Re,X,De,ct.value,de),ct!==null&&(r&&ct.alternate!==null&&Re.delete(ct.key===null?De:ct.key),G=b(ct,G,De),Ke===null?Ae=ct:Ke.sibling=ct,Ke=ct);return r&&Re.forEach(function(GD){return o(X,GD)}),pt&&Zo(X,De),Ae}function Ct(X,G,J,de){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var Ae=J.key;G!==null;){if(G.key===Ae){if(Ae=J.type,Ae===E){if(G.tag===7){c(X,G.sibling),de=y(G,J.props.children),de.return=X,X=de;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===k&&O1(Ae)===G.type){c(X,G.sibling),de=y(G,J.props),gd(de,J),de.return=X,X=de;break e}c(X,G);break}else o(X,G);G=G.sibling}J.type===E?(de=Xo(J.props.children,X.mode,de,J.key),de.return=X,X=de):(de=kf(J.type,J.key,J.props,null,X.mode,de),gd(de,J),de.return=X,X=de)}return S(X);case _:e:{for(Ae=J.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){c(X,G.sibling),de=y(G,J.children||[]),de.return=X,X=de;break e}else{c(X,G);break}else o(X,G);G=G.sibling}de=wy(J,X.mode,de),de.return=X,X=de}return S(X);case k:return Ae=J._init,J=Ae(J._payload),Ct(X,G,J,de)}if(te(J))return Ve(X,G,J,de);if(U(J)){if(Ae=U(J),typeof Ae!="function")throw Error(i(150));return J=Ae.call(J),Me(X,G,J,de)}if(typeof J.then=="function")return Ct(X,G,$f(J),de);if(J.$$typeof===L)return Ct(X,G,Pf(X,J),de);Wf(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(c(X,G.sibling),de=y(G,J),de.return=X,X=de):(c(X,G),de=xy(J,X.mode,de),de.return=X,X=de),S(X)):c(X,G)}return function(X,G,J,de){try{pd=0;var Ae=Ct(X,G,J,de);return Ac=null,Ae}catch(Re){if(Re===ad||Re===Mf)throw Re;var Ke=Oi(29,Re,null,X.mode);return Ke.lanes=de,Ke.return=X,Ke}finally{}}}var Cc=L1(!0),V1=L1(!1),rs=ae(null),Zs=null;function Ia(r){var o=r.alternate;he(En,En.current&1),he(rs,r),Zs===null&&(o===null||_c.current!==null||o.memoizedState!==null)&&(Zs=r)}function z1(r){if(r.tag===22){if(he(En,En.current),he(rs,r),Zs===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Zs=r)}}else Ma()}function Ma(){he(En,En.current),he(rs,rs.current)}function Br(r){ue(rs),Zs===r&&(Zs=null),ue(En)}var En=ae(0);function Gf(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||H0(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function e0(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:g({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var t0={enqueueSetState:function(r,o,c){r=r._reactInternals;var f=Ui(),y=Ra(f);y.payload=o,c!=null&&(y.callback=c),o=ja(r,y,f),o!==null&&(Bi(o,r,f),ld(o,r,f))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=Ui(),y=Ra(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=ja(r,y,f),o!==null&&(Bi(o,r,f),ld(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Ui(),f=Ra(c);f.tag=2,o!=null&&(f.callback=o),o=ja(r,f,c),o!==null&&(Bi(o,r,c),ld(o,r,c))}};function U1(r,o,c,f,y,b,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,S):o.prototype&&o.prototype.isPureReactComponent?!Zu(c,f)||!Zu(y,b):!0}function B1(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&t0.enqueueReplaceState(o,o.state,null)}function rl(r,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(r=r.defaultProps){c===o&&(c=g({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var Kf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function F1(r){Kf(r)}function H1(r){console.error(r)}function q1(r){Kf(r)}function Yf(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function $1(r,o,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function n0(r,o,c){return c=Ra(c),c.tag=3,c.payload={element:null},c.callback=function(){Yf(r,o)},c}function W1(r){return r=Ra(r),r.tag=3,r}function G1(r,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;r.payload=function(){return y(b)},r.callback=function(){$1(o,c,f)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){$1(o,c,f),typeof y!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function GM(r,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&id(o,c,y,!0),c=rs.current,c!==null){switch(c.tag){case 13:return Zs===null?A0():c.alternate===null&&Qt===0&&(Qt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===jy?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),k0(r,f,y)),!1;case 22:return c.flags|=65536,f===jy?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),k0(r,f,y)),!1}throw Error(i(435,c.tag))}return k0(r,f,y),A0(),!1}if(pt)return o=rs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Ty&&(r=Error(i(422),{cause:f}),nd(ts(r,c)))):(f!==Ty&&(o=Error(i(423),{cause:f}),nd(ts(o,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=ts(f,c),y=n0(r.stateNode,f,y),My(r,y),Qt!==4&&(Qt=2)),!1;var b=Error(i(520),{cause:f});if(b=ts(b,c),Ed===null?Ed=[b]:Ed.push(b),Qt!==4&&(Qt=2),o===null)return!0;f=ts(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=n0(c.stateNode,f,r),My(c,r),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ua===null||!Ua.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=W1(y),G1(y,r,c,f),My(c,y),!1}c=c.return}while(c!==null);return!1}var K1=Error(i(461)),Rn=!1;function Bn(r,o,c,f){o.child=r===null?V1(o,null,c,f):Cc(o,r.child,c,f)}function Y1(r,o,c,f,y){c=c.render;var b=o.ref;if("ref"in f){var S={};for(var P in f)P!=="ref"&&(S[P]=f[P])}else S=f;return nl(o),f=zy(r,o,c,S,b,y),P=Uy(),r!==null&&!Rn?(By(r,o,y),Fr(r,o,y)):(pt&&P&&_y(o),o.flags|=1,Bn(r,o,f,y),o.child)}function X1(r,o,c,f,y){if(r===null){var b=c.type;return typeof b=="function"&&!by(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,Q1(r,o,b,f,y)):(r=kf(c.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!u0(r,y)){var S=b.memoizedProps;if(c=c.compare,c=c!==null?c:Zu,c(S,f)&&r.ref===o.ref)return Fr(r,o,y)}return o.flags|=1,r=Dr(b,f),r.ref=o.ref,r.return=o,o.child=r}function Q1(r,o,c,f,y){if(r!==null){var b=r.memoizedProps;if(Zu(b,f)&&r.ref===o.ref)if(Rn=!1,o.pendingProps=f=b,u0(r,y))(r.flags&131072)!==0&&(Rn=!0);else return o.lanes=r.lanes,Fr(r,o,y)}return i0(r,o,c,f,y)}function Z1(r,o,c){var f=o.pendingProps,y=f.children,b=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|c:c,r!==null){for(y=o.child=r.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return J1(r,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&If(o,b!==null?b.cachePool:null),b!==null?Q_(o,b):Oy(),z1(o);else return o.lanes=o.childLanes=536870912,J1(r,o,b!==null?b.baseLanes|c:c,c)}else b!==null?(If(o,b.cachePool),Q_(o,b),Ma(),o.memoizedState=null):(r!==null&&If(o,null),Oy(),Ma());return Bn(r,o,y,c),o.child}function J1(r,o,c,f){var y=Ry();return y=y===null?null:{parent:_n._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},r!==null&&If(o,null),Oy(),z1(o),r!==null&&id(r,o,f,!0),null}function Xf(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function i0(r,o,c,f,y){return nl(o),c=zy(r,o,c,f,void 0,y),f=Uy(),r!==null&&!Rn?(By(r,o,y),Fr(r,o,y)):(pt&&f&&_y(o),o.flags|=1,Bn(r,o,c,y),o.child)}function e2(r,o,c,f,y,b){return nl(o),o.updateQueue=null,c=J_(o,f,c,y),Z_(r),f=Uy(),r!==null&&!Rn?(By(r,o,b),Fr(r,o,b)):(pt&&f&&_y(o),o.flags|=1,Bn(r,o,c,b),o.child)}function t2(r,o,c,f,y){if(nl(o),o.stateNode===null){var b=yc,S=c.contextType;typeof S=="object"&&S!==null&&(b=Xn(S)),b=new c(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=t0,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},Py(o),S=c.contextType,b.context=typeof S=="object"&&S!==null?Xn(S):yc,b.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(e0(o,c,S,f),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&t0.enqueueReplaceState(b,b.state,null),ud(o,f,b,y),cd(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){b=o.stateNode;var P=o.memoizedProps,$=rl(c,P);b.props=$;var ee=b.context,le=c.contextType;S=yc,typeof le=="object"&&le!==null&&(S=Xn(le));var fe=c.getDerivedStateFromProps;le=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||ee!==S)&&B1(o,b,f,S),Na=!1;var ne=o.memoizedState;b.state=ne,ud(o,f,b,y),cd(),ee=o.memoizedState,P||ne!==ee||Na?(typeof fe=="function"&&(e0(o,c,fe,f),ee=o.memoizedState),($=Na||U1(o,c,$,f,ne,ee,S))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ee),b.props=f,b.state=ee,b.context=S,f=$):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,Iy(r,o),S=o.memoizedProps,le=rl(c,S),b.props=le,fe=o.pendingProps,ne=b.context,ee=c.contextType,$=yc,typeof ee=="object"&&ee!==null&&($=Xn(ee)),P=c.getDerivedStateFromProps,(ee=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==fe||ne!==$)&&B1(o,b,f,$),Na=!1,ne=o.memoizedState,b.state=ne,ud(o,f,b,y),cd();var se=o.memoizedState;S!==fe||ne!==se||Na||r!==null&&r.dependencies!==null&&jf(r.dependencies)?(typeof P=="function"&&(e0(o,c,P,f),se=o.memoizedState),(le=Na||U1(o,c,le,f,ne,se,$)||r!==null&&r.dependencies!==null&&jf(r.dependencies))?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,se,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,se,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=se),b.props=f,b.state=se,b.context=$,f=le):(typeof b.componentDidUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&ne===r.memoizedState||(o.flags|=1024),f=!1)}return b=f,Xf(r,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&f?(o.child=Cc(o,r.child,null,y),o.child=Cc(o,null,c,y)):Bn(r,o,c,y),o.memoizedState=b.state,r=o.child):r=Fr(r,o,y),r}function n2(r,o,c,f){return td(),o.flags|=256,Bn(r,o,c,f),o.child}var s0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r0(r){return{baseLanes:r,cachePool:H_()}}function a0(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=as),r}function i2(r,o,c){var f=o.pendingProps,y=!1,b=(o.flags&128)!==0,S;if((S=b)||(S=r!==null&&r.memoizedState===null?!1:(En.current&2)!==0),S&&(y=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(pt){if(y?Ia(o):Ma(),pt){var P=Xt,$;if($=P){e:{for($=P,P=Qs;$.nodeType!==8;){if(!P){P=null;break e}if($=As($.nextSibling),$===null){P=null;break e}}P=$}P!==null?(o.memoizedState={dehydrated:P,treeContext:Qo!==null?{id:Or,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},$=Oi(18,null,null,0),$.stateNode=P,$.return=o,o.child=$,ui=o,Xt=null,$=!0):$=!1}$||el(o)}if(P=o.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return H0(P)?o.lanes=32:o.lanes=536870912,null;Br(o)}return P=f.children,f=f.fallback,y?(Ma(),y=o.mode,P=Qf({mode:"hidden",children:P},y),f=Xo(f,y,c,null),P.return=o,f.return=o,P.sibling=f,o.child=P,y=o.child,y.memoizedState=r0(c),y.childLanes=a0(r,S,c),o.memoizedState=s0,f):(Ia(o),o0(o,P))}if($=r.memoizedState,$!==null&&(P=$.dehydrated,P!==null)){if(b)o.flags&256?(Ia(o),o.flags&=-257,o=l0(r,o,c)):o.memoizedState!==null?(Ma(),o.child=r.child,o.flags|=128,o=null):(Ma(),y=f.fallback,P=o.mode,f=Qf({mode:"visible",children:f.children},P),y=Xo(y,P,c,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,Cc(o,r.child,null,c),f=o.child,f.memoizedState=r0(c),f.childLanes=a0(r,S,c),o.memoizedState=s0,o=y);else if(Ia(o),H0(P)){if(S=P.nextSibling&&P.nextSibling.dataset,S)var ee=S.dgst;S=ee,f=Error(i(419)),f.stack="",f.digest=S,nd({value:f,source:null,stack:null}),o=l0(r,o,c)}else if(Rn||id(r,o,c,!1),S=(c&r.childLanes)!==0,Rn||S){if(S=Pt,S!==null&&(f=c&-c,f=(f&42)!==0?1:Us(f),f=(f&(S.suspendedLanes|c))!==0?0:f,f!==0&&f!==$.retryLane))throw $.retryLane=f,gc(r,f),Bi(S,r,f),K1;P.data==="$?"||A0(),o=l0(r,o,c)}else P.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=$.treeContext,Xt=As(P.nextSibling),ui=o,pt=!0,Jo=null,Qs=!1,r!==null&&(is[ss++]=Or,is[ss++]=Lr,is[ss++]=Qo,Or=r.id,Lr=r.overflow,Qo=o),o=o0(o,f.children),o.flags|=4096);return o}return y?(Ma(),y=f.fallback,P=o.mode,$=r.child,ee=$.sibling,f=Dr($,{mode:"hidden",children:f.children}),f.subtreeFlags=$.subtreeFlags&65011712,ee!==null?y=Dr(ee,y):(y=Xo(y,P,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,P=r.child.memoizedState,P===null?P=r0(c):($=P.cachePool,$!==null?(ee=_n._currentValue,$=$.parent!==ee?{parent:ee,pool:ee}:$):$=H_(),P={baseLanes:P.baseLanes|c,cachePool:$}),y.memoizedState=P,y.childLanes=a0(r,S,c),o.memoizedState=s0,f):(Ia(o),c=r.child,r=c.sibling,c=Dr(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=c,o.memoizedState=null,c)}function o0(r,o){return o=Qf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Qf(r,o){return r=Oi(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function l0(r,o,c){return Cc(o,r.child,null,c),r=o0(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function s2(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Ay(r.return,o,c)}function c0(r,o,c,f,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=c,b.tailMode=y)}function r2(r,o,c){var f=o.pendingProps,y=f.revealOrder,b=f.tail;if(Bn(r,o,f.children,c),f=En.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&s2(r,c,o);else if(r.tag===19)s2(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(he(En,f),y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&Gf(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),c0(o,!1,y,c,b);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Gf(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}c0(o,!0,c,null,b);break;case"together":c0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Fr(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),za|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(id(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=Dr(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Dr(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function u0(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&jf(r)))}function KM(r,o,c){switch(o.tag){case 3:at(o,o.stateNode.containerInfo),ka(o,_n,r.memoizedState.cache),td();break;case 27:case 5:et(o);break;case 4:at(o,o.stateNode.containerInfo);break;case 10:ka(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ia(o),o.flags|=128,null):(c&o.child.childLanes)!==0?i2(r,o,c):(Ia(o),r=Fr(r,o,c),r!==null?r.sibling:null);Ia(o);break;case 19:var y=(r.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(id(r,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return r2(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),he(En,En.current),f)break;return null;case 22:case 23:return o.lanes=0,Z1(r,o,c);case 24:ka(o,_n,r.memoizedState.cache)}return Fr(r,o,c)}function a2(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)Rn=!0;else{if(!u0(r,c)&&(o.flags&128)===0)return Rn=!1,KM(r,o,c);Rn=(r.flags&131072)!==0}else Rn=!1,pt&&(o.flags&1048576)!==0&&O_(o,Rf,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")by(f)?(r=rl(f,r),o.tag=1,o=t2(null,o,f,r,c)):(o.tag=0,o=i0(null,o,f,r,c));else{if(f!=null){if(y=f.$$typeof,y===q){o.tag=11,o=Y1(null,o,f,r,c);break e}else if(y===D){o.tag=14,o=X1(null,o,f,r,c);break e}}throw o=ge(f)||f,Error(i(306,o,""))}}return o;case 0:return i0(r,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=rl(f,o.pendingProps),t2(r,o,f,y,c);case 3:e:{if(at(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;y=b.element,Iy(r,o),ud(o,f,null,c);var S=o.memoizedState;if(f=S.cache,ka(o,_n,f),f!==b.cache&&Cy(o,[_n],c,!0),cd(),f=S.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=n2(r,o,f,c);break e}else if(f!==y){y=ts(Error(i(424)),o),nd(y),o=n2(r,o,f,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Xt=As(r.firstChild),ui=o,pt=!0,Jo=null,Qs=!0,c=V1(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(td(),f===y){o=Fr(r,o,c);break e}Bn(r,o,f,c)}o=o.child}return o;case 26:return Xf(r,o),r===null?(c=uE(o.type,null,o.pendingProps,null))?o.memoizedState=c:pt||(c=o.type,r=o.pendingProps,f=dm(_e.current).createElement(c),f[Jt]=o,f[Yt]=r,Hn(f,c,r),qt(f),o.stateNode=f):o.memoizedState=uE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return et(o),r===null&&pt&&(f=o.stateNode=oE(o.type,o.pendingProps,_e.current),ui=o,Qs=!0,y=Xt,Ha(o.type)?(q0=y,Xt=As(f.firstChild)):Xt=y),Bn(r,o,o.pendingProps.children,c),Xf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&pt&&((y=f=Xt)&&(f=_D(f,o.type,o.pendingProps,Qs),f!==null?(o.stateNode=f,ui=o,Xt=As(f.firstChild),Qs=!1,y=!0):y=!1),y||el(o)),et(o),y=o.type,b=o.pendingProps,S=r!==null?r.memoizedProps:null,f=b.children,U0(y,b)?f=null:S!==null&&U0(y,S)&&(o.flags|=32),o.memoizedState!==null&&(y=zy(r,o,UM,null,null,c),Pd._currentValue=y),Xf(r,o),Bn(r,o,f,c),o.child;case 6:return r===null&&pt&&((r=c=Xt)&&(c=ED(c,o.pendingProps,Qs),c!==null?(o.stateNode=c,ui=o,Xt=null,r=!0):r=!1),r||el(o)),null;case 13:return i2(r,o,c);case 4:return at(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Cc(o,null,f,c):Bn(r,o,f,c),o.child;case 11:return Y1(r,o,o.type,o.pendingProps,c);case 7:return Bn(r,o,o.pendingProps,c),o.child;case 8:return Bn(r,o,o.pendingProps.children,c),o.child;case 12:return Bn(r,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,ka(o,o.type,f.value),Bn(r,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,nl(o),y=Xn(y),f=f(y),o.flags|=1,Bn(r,o,f,c),o.child;case 14:return X1(r,o,o.type,o.pendingProps,c);case 15:return Q1(r,o,o.type,o.pendingProps,c);case 19:return r2(r,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},r===null?(c=Qf(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Dr(r.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return Z1(r,o,c);case 24:return nl(o),f=Xn(_n),r===null?(y=Ry(),y===null&&(y=Pt,b=ky(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),o.memoizedState={parent:f,cache:y},Py(o),ka(o,_n,y)):((r.lanes&c)!==0&&(Iy(r,o),ud(o,null,null,c),cd()),y=r.memoizedState,b=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ka(o,_n,f)):(f=b.cache,ka(o,_n,f),f!==y.cache&&Cy(o,[_n],c,!0))),Bn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Hr(r){r.flags|=4}function o2(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!pE(o)){if(o=rs.current,o!==null&&((st&4194048)===st?Zs!==null:(st&62914560)!==st&&(st&536870912)===0||o!==Zs))throw od=jy,q_;r.flags|=8192}}function Zf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Mo():536870912,r.lanes|=o,jc|=o)}function yd(r,o){if(!pt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function $t(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function YM(r,o,c){var f=o.pendingProps;switch(Ey(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return $t(o),null;case 3:return c=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),zr(_n),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(ed(o)?Hr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,z_())),$t(o),null;case 26:return c=o.memoizedState,r===null?(Hr(o),c!==null?($t(o),o2(o,c)):($t(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Hr(o),$t(o),o2(o,c)):($t(o),o.flags&=-16777217):(r.memoizedProps!==f&&Hr(o),$t(o),o.flags&=-16777217),null;case 27:ot(o),c=_e.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Hr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return $t(o),null}r=xe.current,ed(o)?L_(o):(r=oE(y,f,c),o.stateNode=r,Hr(o))}return $t(o),null;case 5:if(ot(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Hr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return $t(o),null}if(r=xe.current,ed(o))L_(o);else{switch(y=dm(_e.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}r[Jt]=o,r[Yt]=f;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(Hn(r,c,f),c){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hr(o)}}return $t(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Hr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=_e.current,ed(o)){if(r=o.stateNode,c=o.memoizedProps,f=null,y=ui,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[Jt]=o,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||eE(r.nodeValue,c)),r||el(o)}else r=dm(r).createTextNode(f),r[Jt]=o,o.stateNode=r}return $t(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=ed(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Jt]=o}else td(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),y=!1}else y=z_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Br(o),o):(Br(o),null)}if(Br(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,r=r!==null&&r.memoizedState!==null,c){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),Zf(o,o.updateQueue),$t(o),null;case 4:return we(),r===null&&D0(o.stateNode.containerInfo),$t(o),null;case 10:return zr(o.type),$t(o),null;case 19:if(ue(En),y=o.memoizedState,y===null)return $t(o),null;if(f=(o.flags&128)!==0,b=y.rendering,b===null)if(f)yd(y,!1);else{if(Qt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=Gf(r),b!==null){for(o.flags|=128,yd(y,!1),r=b.updateQueue,o.updateQueue=r,Zf(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)D_(c,r),c=c.sibling;return he(En,En.current&1|2),o.child}r=r.sibling}y.tail!==null&&Ln()>tm&&(o.flags|=128,f=!0,yd(y,!1),o.lanes=4194304)}else{if(!f)if(r=Gf(b),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,Zf(o,r),yd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!pt)return $t(o),null}else 2*Ln()-y.renderingStartTime>tm&&c!==536870912&&(o.flags|=128,f=!0,yd(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(r=y.last,r!==null?r.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ln(),o.sibling=null,r=En.current,he(En,f?r&1|2:r&1),o):($t(o),null);case 22:case 23:return Br(o),Ly(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),c=o.updateQueue,c!==null&&Zf(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),r!==null&&ue(il),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),zr(_n),$t(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function XM(r,o){switch(Ey(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return zr(_n),we(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return ot(o),null;case 13:if(Br(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));td()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ue(En),null;case 4:return we(),null;case 10:return zr(o.type),null;case 22:case 23:return Br(o),Ly(),r!==null&&ue(il),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return zr(_n),null;case 25:return null;default:return null}}function l2(r,o){switch(Ey(o),o.tag){case 3:zr(_n),we();break;case 26:case 27:case 5:ot(o);break;case 4:we();break;case 13:Br(o);break;case 19:ue(En);break;case 10:zr(o.type);break;case 22:case 23:Br(o),Ly(),r!==null&&ue(il);break;case 24:zr(_n)}}function vd(r,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var b=c.create,S=c.inst;f=b(),S.destroy=f}c=c.next}while(c!==y)}}catch(P){kt(o,o.return,P)}}function Da(r,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&r)===r){var S=f.inst,P=S.destroy;if(P!==void 0){S.destroy=void 0,y=o;var $=c,ee=P;try{ee()}catch(le){kt(y,$,le)}}}f=f.next}while(f!==b)}}catch(le){kt(o,o.return,le)}}function c2(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{X_(o,c)}catch(f){kt(r,r.return,f)}}}function u2(r,o,c){c.props=rl(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){kt(r,o,f)}}function bd(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){kt(r,o,y)}}function Js(r,o){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){kt(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){kt(r,o,y)}else c.current=null}function d2(r){var o=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){kt(r,r.return,y)}}function d0(r,o,c){try{var f=r.stateNode;yD(f,r.type,c,o),f[Yt]=o}catch(y){kt(r,r.return,y)}}function h2(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ha(r.type)||r.tag===4}function h0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||h2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ha(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function f0(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=um));else if(f!==4&&(f===27&&Ha(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(f0(r,o,c),r=r.sibling;r!==null;)f0(r,o,c),r=r.sibling}function Jf(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(f===27&&Ha(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Jf(r,o,c),r=r.sibling;r!==null;)Jf(r,o,c),r=r.sibling}function f2(r){var o=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Hn(o,f,c),o[Jt]=r,o[Yt]=c}catch(b){kt(r,r.return,b)}}var qr=!1,tn=!1,m0=!1,m2=typeof WeakSet=="function"?WeakSet:Set,jn=null;function QM(r,o){if(r=r.containerInfo,V0=ym,r=S_(r),hy(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var S=0,P=-1,$=-1,ee=0,le=0,fe=r,ne=null;t:for(;;){for(var se;fe!==c||y!==0&&fe.nodeType!==3||(P=S+y),fe!==b||f!==0&&fe.nodeType!==3||($=S+f),fe.nodeType===3&&(S+=fe.nodeValue.length),(se=fe.firstChild)!==null;)ne=fe,fe=se;for(;;){if(fe===r)break t;if(ne===c&&++ee===y&&(P=S),ne===b&&++le===f&&($=S),(se=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=se}c=P===-1||$===-1?null:{start:P,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(z0={focusedElem:r,selectionRange:c},ym=!1,jn=o;jn!==null;)if(o=jn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,jn=r;else for(;jn!==null;){switch(o=jn,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,c=o,y=b.memoizedProps,b=b.memoizedState,f=c.stateNode;try{var Ve=rl(c.type,y,c.elementType===c.type);r=f.getSnapshotBeforeUpdate(Ve,b),f.__reactInternalSnapshotBeforeUpdate=r}catch(Me){kt(c,c.return,Me)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)F0(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":F0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,jn=r;break}jn=o.return}}function p2(r,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Oa(r,c),f&4&&vd(5,c);break;case 1:if(Oa(r,c),f&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(S){kt(c,c.return,S)}else{var y=rl(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(S){kt(c,c.return,S)}}f&64&&c2(c),f&512&&bd(c,c.return);break;case 3:if(Oa(r,c),f&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{X_(r,o)}catch(S){kt(c,c.return,S)}}break;case 27:o===null&&f&4&&f2(c);case 26:case 5:Oa(r,c),o===null&&f&4&&d2(c),f&512&&bd(c,c.return);break;case 12:Oa(r,c);break;case 13:Oa(r,c),f&4&&v2(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=aD.bind(null,c),TD(r,c))));break;case 22:if(f=c.memoizedState!==null||qr,!f){o=o!==null&&o.memoizedState!==null||tn,y=qr;var b=tn;qr=f,(tn=o)&&!b?La(r,c,(c.subtreeFlags&8772)!==0):Oa(r,c),qr=y,tn=b}break;case 30:break;default:Oa(r,c)}}function g2(r){var o=r.alternate;o!==null&&(r.alternate=null,g2(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Pi(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ut=null,vi=!1;function $r(r,o,c){for(c=c.child;c!==null;)y2(r,o,c),c=c.sibling}function y2(r,o,c){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Rt,c)}catch{}switch(c.tag){case 26:tn||Js(c,o),$r(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:tn||Js(c,o);var f=Ut,y=vi;Ha(c.type)&&(Ut=c.stateNode,vi=!1),$r(r,o,c),kd(c.stateNode),Ut=f,vi=y;break;case 5:tn||Js(c,o);case 6:if(f=Ut,y=vi,Ut=null,$r(r,o,c),Ut=f,vi=y,Ut!==null)if(vi)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(c.stateNode)}catch(b){kt(c,o,b)}else try{Ut.removeChild(c.stateNode)}catch(b){kt(c,o,b)}break;case 18:Ut!==null&&(vi?(r=Ut,rE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Od(r)):rE(Ut,c.stateNode));break;case 4:f=Ut,y=vi,Ut=c.stateNode.containerInfo,vi=!0,$r(r,o,c),Ut=f,vi=y;break;case 0:case 11:case 14:case 15:tn||Da(2,c,o),tn||Da(4,c,o),$r(r,o,c);break;case 1:tn||(Js(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&u2(c,o,f)),$r(r,o,c);break;case 21:$r(r,o,c);break;case 22:tn=(f=tn)||c.memoizedState!==null,$r(r,o,c),tn=f;break;default:$r(r,o,c)}}function v2(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Od(r)}catch(c){kt(o,o.return,c)}}function ZM(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new m2),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new m2),o;default:throw Error(i(435,r.tag))}}function p0(r,o){var c=ZM(r);o.forEach(function(f){var y=oD.bind(null,r,f);c.has(f)||(c.add(f),f.then(y,y))})}function Li(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],b=r,S=o,P=S;e:for(;P!==null;){switch(P.tag){case 27:if(Ha(P.type)){Ut=P.stateNode,vi=!1;break e}break;case 5:Ut=P.stateNode,vi=!1;break e;case 3:case 4:Ut=P.stateNode.containerInfo,vi=!0;break e}P=P.return}if(Ut===null)throw Error(i(160));y2(b,S,y),Ut=null,vi=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)b2(o,r),o=o.sibling}var Ss=null;function b2(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Li(o,r),Vi(r),f&4&&(Da(3,r,r.return),vd(3,r),Da(5,r,r.return));break;case 1:Li(o,r),Vi(r),f&512&&(tn||c===null||Js(c,c.return)),f&64&&qr&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Ss;if(Li(o,r),Vi(r),f&512&&(tn||c===null||Js(c,c.return)),f&4){var b=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Tr]||b[Jt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Hn(b,f,c),b[Jt]=r,qt(b),f=b;break e;case"link":var S=fE("link","href",y).get(f+(c.href||""));if(S){for(var P=0;P<S.length;P++)if(b=S[P],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(P,1);break t}}b=y.createElement(f),Hn(b,f,c),y.head.appendChild(b);break;case"meta":if(S=fE("meta","content",y).get(f+(c.content||""))){for(P=0;P<S.length;P++)if(b=S[P],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(P,1);break t}}b=y.createElement(f),Hn(b,f,c),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[Jt]=r,qt(b),f=b}r.stateNode=f}else mE(y,r.type,r.stateNode);else r.stateNode=hE(y,f,r.memoizedProps);else b!==f?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,f===null?mE(y,r.type,r.stateNode):hE(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&d0(r,r.memoizedProps,c.memoizedProps)}break;case 27:Li(o,r),Vi(r),f&512&&(tn||c===null||Js(c,c.return)),c!==null&&f&4&&d0(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Li(o,r),Vi(r),f&512&&(tn||c===null||Js(c,c.return)),r.flags&32){y=r.stateNode;try{Dt(y,"")}catch(se){kt(r,r.return,se)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,d0(r,y,c!==null?c.memoizedProps:y)),f&1024&&(m0=!0);break;case 6:if(Li(o,r),Vi(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(se){kt(r,r.return,se)}}break;case 3:if(mm=null,y=Ss,Ss=hm(o.containerInfo),Li(o,r),Ss=y,Vi(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Od(o.containerInfo)}catch(se){kt(r,r.return,se)}m0&&(m0=!1,x2(r));break;case 4:f=Ss,Ss=hm(r.stateNode.containerInfo),Li(o,r),Vi(r),Ss=f;break;case 12:Li(o,r),Vi(r);break;case 13:Li(o,r),Vi(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(w0=Ln()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,p0(r,f)));break;case 22:y=r.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,ee=qr,le=tn;if(qr=ee||y,tn=le||$,Li(o,r),tn=le,qr=ee,Vi(r),f&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||$||qr||tn||al(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){$=c=o;try{if(b=$.stateNode,y)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{P=$.stateNode;var fe=$.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;P.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(se){kt($,$.return,se)}}}else if(o.tag===6){if(c===null){$=o;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(se){kt($,$.return,se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,p0(r,c))));break;case 19:Li(o,r),Vi(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,p0(r,f)));break;case 30:break;case 21:break;default:Li(o,r),Vi(r)}}function Vi(r){var o=r.flags;if(o&2){try{for(var c,f=r.return;f!==null;){if(h2(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var y=c.stateNode,b=h0(r);Jf(r,b,y);break;case 5:var S=c.stateNode;c.flags&32&&(Dt(S,""),c.flags&=-33);var P=h0(r);Jf(r,P,S);break;case 3:case 4:var $=c.stateNode.containerInfo,ee=h0(r);f0(r,ee,$);break;default:throw Error(i(161))}}catch(le){kt(r,r.return,le)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function x2(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;x2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Oa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)p2(r,o.alternate,o),o=o.sibling}function al(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Da(4,o,o.return),al(o);break;case 1:Js(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&u2(o,o.return,c),al(o);break;case 27:kd(o.stateNode);case 26:case 5:Js(o,o.return),al(o);break;case 22:o.memoizedState===null&&al(o);break;case 30:al(o);break;default:al(o)}r=r.sibling}}function La(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=r,b=o,S=b.flags;switch(b.tag){case 0:case 11:case 15:La(y,b,c),vd(4,b);break;case 1:if(La(y,b,c),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){kt(f,f.return,ee)}if(f=b,y=f.updateQueue,y!==null){var P=f.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Y_($[y],P)}catch(ee){kt(f,f.return,ee)}}c&&S&64&&c2(b),bd(b,b.return);break;case 27:f2(b);case 26:case 5:La(y,b,c),c&&f===null&&S&4&&d2(b),bd(b,b.return);break;case 12:La(y,b,c);break;case 13:La(y,b,c),c&&S&4&&v2(y,b);break;case 22:b.memoizedState===null&&La(y,b,c),bd(b,b.return);break;case 30:break;default:La(y,b,c)}o=o.sibling}}function g0(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&sd(c))}function y0(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&sd(r))}function er(r,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)w2(r,o,c,f),o=o.sibling}function w2(r,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:er(r,o,c,f),y&2048&&vd(9,o);break;case 1:er(r,o,c,f);break;case 3:er(r,o,c,f),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&sd(r)));break;case 12:if(y&2048){er(r,o,c,f),r=o.stateNode;try{var b=o.memoizedProps,S=b.id,P=b.onPostCommit;typeof P=="function"&&P(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){kt(o,o.return,$)}}else er(r,o,c,f);break;case 13:er(r,o,c,f);break;case 23:break;case 22:b=o.stateNode,S=o.alternate,o.memoizedState!==null?b._visibility&2?er(r,o,c,f):xd(r,o):b._visibility&2?er(r,o,c,f):(b._visibility|=2,kc(r,o,c,f,(o.subtreeFlags&10256)!==0)),y&2048&&g0(S,o);break;case 24:er(r,o,c,f),y&2048&&y0(o.alternate,o);break;default:er(r,o,c,f)}}function kc(r,o,c,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,S=o,P=c,$=f,ee=S.flags;switch(S.tag){case 0:case 11:case 15:kc(b,S,P,$,y),vd(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?kc(b,S,P,$,y):xd(b,S):(le._visibility|=2,kc(b,S,P,$,y)),y&&ee&2048&&g0(S.alternate,S);break;case 24:kc(b,S,P,$,y),y&&ee&2048&&y0(S.alternate,S);break;default:kc(b,S,P,$,y)}o=o.sibling}}function xd(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,f=o,y=f.flags;switch(f.tag){case 22:xd(c,f),y&2048&&g0(f.alternate,f);break;case 24:xd(c,f),y&2048&&y0(f.alternate,f);break;default:xd(c,f)}o=o.sibling}}var wd=8192;function Nc(r){if(r.subtreeFlags&wd)for(r=r.child;r!==null;)_2(r),r=r.sibling}function _2(r){switch(r.tag){case 26:Nc(r),r.flags&wd&&r.memoizedState!==null&&LD(Ss,r.memoizedState,r.memoizedProps);break;case 5:Nc(r);break;case 3:case 4:var o=Ss;Ss=hm(r.stateNode.containerInfo),Nc(r),Ss=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=wd,wd=16777216,Nc(r),wd=o):Nc(r));break;default:Nc(r)}}function E2(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function _d(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];jn=f,S2(f,r)}E2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)T2(r),r=r.sibling}function T2(r){switch(r.tag){case 0:case 11:case 15:_d(r),r.flags&2048&&Da(9,r,r.return);break;case 3:_d(r);break;case 12:_d(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,em(r)):_d(r);break;default:_d(r)}}function em(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];jn=f,S2(f,r)}E2(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Da(8,o,o.return),em(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,em(o));break;default:em(o)}r=r.sibling}}function S2(r,o){for(;jn!==null;){var c=jn;switch(c.tag){case 0:case 11:case 15:Da(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:sd(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,jn=f;else e:for(c=r;jn!==null;){f=jn;var y=f.sibling,b=f.return;if(g2(f),f===c){jn=null;break e}if(y!==null){y.return=b,jn=y;break e}jn=b}}}var JM={getCacheForType:function(r){var o=Xn(_n),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},eD=typeof WeakMap=="function"?WeakMap:Map,wt=0,Pt=null,Xe=null,st=0,_t=0,zi=null,Va=!1,Rc=!1,v0=!1,Wr=0,Qt=0,za=0,ol=0,b0=0,as=0,jc=0,Ed=null,bi=null,x0=!1,w0=0,tm=1/0,nm=null,Ua=null,Fn=0,Ba=null,Pc=null,Ic=0,_0=0,E0=null,A2=null,Td=0,T0=null;function Ui(){if((wt&2)!==0&&st!==0)return st&-st;if(Y.T!==null){var r=xc;return r!==0?r:j0()}return ws()}function C2(){as===0&&(as=(st&536870912)===0||pt?Io():536870912);var r=rs.current;return r!==null&&(r.flags|=32),as}function Bi(r,o,c){(r===Pt&&(_t===2||_t===9)||r.cancelPendingCommit!==null)&&(Mc(r,0),Fa(r,st,as,!1)),xs(r,c),((wt&2)===0||r!==Pt)&&(r===Pt&&((wt&2)===0&&(ol|=c),Qt===4&&Fa(r,st,as,!1)),tr(r))}function k2(r,o,c){if((wt&6)!==0)throw Error(i(327));var f=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Vs(r,o),y=f?iD(r,o):C0(r,o,!0),b=f;do{if(y===0){Rc&&!f&&Fa(r,o,0,!1);break}else{if(c=r.current.alternate,b&&!tD(c)){y=C0(r,o,!1),b=!1;continue}if(y===2){if(b=o,r.errorRecoveryDisabledLanes&b)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var P=r;y=Ed;var $=P.current.memoizedState.isDehydrated;if($&&(Mc(P,S).flags|=256),S=C0(P,S,!1),S!==2){if(v0&&!$){P.errorRecoveryDisabledLanes|=b,ol|=b,y=4;break e}b=bi,bi=y,b!==null&&(bi===null?bi=b:bi.push.apply(bi,b))}y=S}if(b=!1,y!==2)continue}}if(y===1){Mc(r,0),Fa(r,o,0,!0);break}e:{switch(f=r,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Fa(f,o,as,!Va);break e;case 2:bi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=w0+300-Ln(),10<y)){if(Fa(f,o,as,!Va),wa(f,0,!0)!==0)break e;f.timeoutHandle=iE(N2.bind(null,f,c,bi,nm,x0,o,as,ol,jc,Va,b,2,-0,0),y);break e}N2(f,c,bi,nm,x0,o,as,ol,jc,Va,b,0,-0,0)}}break}while(!0);tr(r)}function N2(r,o,c,f,y,b,S,P,$,ee,le,fe,ne,se){if(r.timeoutHandle=-1,fe=o.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(jd={stylesheets:null,count:0,unsuspend:OD},_2(o),fe=VD(),fe!==null)){r.cancelPendingCommit=fe(O2.bind(null,r,o,b,c,f,y,S,P,$,le,1,ne,se)),Fa(r,b,S,!ee);return}O2(r,o,b,c,f,y,S,P,$)}function tD(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],b=y.getSnapshot;y=y.value;try{if(!Di(b(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fa(r,o,c,f){o&=~b0,o&=~ol,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var y=o;0<y;){var b=31-cn(y),S=1<<b;f[b]=-1,y&=~S}c!==0&&oi(r,c,o)}function im(){return(wt&6)===0?(Sd(0),!1):!0}function S0(){if(Xe!==null){if(_t===0)var r=Xe.return;else r=Xe,Vr=tl=null,Fy(r),Ac=null,pd=0,r=Xe;for(;r!==null;)l2(r.alternate,r),r=r.return;Xe=null}}function Mc(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,bD(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),S0(),Pt=r,Xe=c=Dr(r.current,null),st=o,_t=0,zi=null,Va=!1,Rc=Vs(r,o),v0=!1,jc=as=b0=ol=za=Qt=0,bi=Ed=null,x0=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var y=31-cn(f),b=1<<y;o|=r[y],f&=~b}return Wr=o,Sf(),c}function R2(r,o){We=null,Y.H=qf,o===ad||o===Mf?(o=G_(),_t=3):o===q_?(o=G_(),_t=4):_t=o===K1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,zi=o,Xe===null&&(Qt=1,Yf(r,ts(o,r.current)))}function j2(){var r=Y.H;return Y.H=qf,r===null?qf:r}function P2(){var r=Y.A;return Y.A=JM,r}function A0(){Qt=4,Va||(st&4194048)!==st&&rs.current!==null||(Rc=!0),(za&134217727)===0&&(ol&134217727)===0||Pt===null||Fa(Pt,st,as,!1)}function C0(r,o,c){var f=wt;wt|=2;var y=j2(),b=P2();(Pt!==r||st!==o)&&(nm=null,Mc(r,o)),o=!1;var S=Qt;e:do try{if(_t!==0&&Xe!==null){var P=Xe,$=zi;switch(_t){case 8:S0(),S=6;break e;case 3:case 2:case 9:case 6:rs.current===null&&(o=!0);var ee=_t;if(_t=0,zi=null,Dc(r,P,$,ee),c&&Rc){S=0;break e}break;default:ee=_t,_t=0,zi=null,Dc(r,P,$,ee)}}nD(),S=Qt;break}catch(le){R2(r,le)}while(!0);return o&&r.shellSuspendCounter++,Vr=tl=null,wt=f,Y.H=y,Y.A=b,Xe===null&&(Pt=null,st=0,Sf()),S}function nD(){for(;Xe!==null;)I2(Xe)}function iD(r,o){var c=wt;wt|=2;var f=j2(),y=P2();Pt!==r||st!==o?(nm=null,tm=Ln()+500,Mc(r,o)):Rc=Vs(r,o);e:do try{if(_t!==0&&Xe!==null){o=Xe;var b=zi;t:switch(_t){case 1:_t=0,zi=null,Dc(r,o,b,1);break;case 2:case 9:if($_(b)){_t=0,zi=null,M2(o);break}o=function(){_t!==2&&_t!==9||Pt!==r||(_t=7),tr(r)},b.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:$_(b)?(_t=0,zi=null,M2(o)):(_t=0,zi=null,Dc(r,o,b,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var P=Xe;if(!S||pE(S)){_t=0,zi=null;var $=P.sibling;if($!==null)Xe=$;else{var ee=P.return;ee!==null?(Xe=ee,sm(ee)):Xe=null}break t}}_t=0,zi=null,Dc(r,o,b,5);break;case 6:_t=0,zi=null,Dc(r,o,b,6);break;case 8:S0(),Qt=6;break e;default:throw Error(i(462))}}sD();break}catch(le){R2(r,le)}while(!0);return Vr=tl=null,Y.H=f,Y.A=y,wt=c,Xe!==null?0:(Pt=null,st=0,Sf(),Qt)}function sD(){for(;Xe!==null&&!Mt();)I2(Xe)}function I2(r){var o=a2(r.alternate,r,Wr);r.memoizedProps=r.pendingProps,o===null?sm(r):Xe=o}function M2(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=e2(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=e2(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:Fy(o);default:l2(c,o),o=Xe=D_(o,Wr),o=a2(c,o,Wr)}r.memoizedProps=r.pendingProps,o===null?sm(r):Xe=o}function Dc(r,o,c,f){Vr=tl=null,Fy(o),Ac=null,pd=0;var y=o.return;try{if(GM(r,y,o,c,st)){Qt=1,Yf(r,ts(c,r.current)),Xe=null;return}}catch(b){if(y!==null)throw Xe=y,b;Qt=1,Yf(r,ts(c,r.current)),Xe=null;return}o.flags&32768?(pt||f===1?r=!0:Rc||(st&536870912)!==0?r=!1:(Va=r=!0,(f===2||f===9||f===3||f===6)&&(f=rs.current,f!==null&&f.tag===13&&(f.flags|=16384))),D2(o,r)):sm(o)}function sm(r){var o=r;do{if((o.flags&32768)!==0){D2(o,Va);return}r=o.return;var c=YM(o.alternate,o,Wr);if(c!==null){Xe=c;return}if(o=o.sibling,o!==null){Xe=o;return}Xe=o=r}while(o!==null);Qt===0&&(Qt=5)}function D2(r,o){do{var c=XM(r.alternate,r);if(c!==null){c.flags&=32767,Xe=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=c}while(r!==null);Qt=6,Xe=null}function O2(r,o,c,f,y,b,S,P,$){r.cancelPendingCommit=null;do rm();while(Fn!==0);if((wt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=yy,Do(r,c,b,S,P,$),r===Pt&&(Xe=Pt=null,st=0),Pc=o,Ba=r,Ic=c,_0=b,E0=y,A2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,lD(wr,function(){return B2(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,y=K.p,K.p=2,S=wt,wt|=4;try{QM(r,o,c)}finally{wt=S,K.p=y,Y.T=f}}Fn=1,L2(),V2(),z2()}}function L2(){if(Fn===1){Fn=0;var r=Ba,o=Pc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var f=K.p;K.p=2;var y=wt;wt|=4;try{b2(o,r);var b=z0,S=S_(r.containerInfo),P=b.focusedElem,$=b.selectionRange;if(S!==P&&P&&P.ownerDocument&&T_(P.ownerDocument.documentElement,P)){if($!==null&&hy(P)){var ee=$.start,le=$.end;if(le===void 0&&(le=ee),"selectionStart"in P)P.selectionStart=ee,P.selectionEnd=Math.min(le,P.value.length);else{var fe=P.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),Ve=P.textContent.length,Me=Math.min($.start,Ve),Ct=$.end===void 0?Me:Math.min($.end,Ve);!se.extend&&Me>Ct&&(S=Ct,Ct=Me,Me=S);var X=E_(P,Me),G=E_(P,Ct);if(X&&G&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==G.node||se.focusOffset!==G.offset)){var J=fe.createRange();J.setStart(X.node,X.offset),se.removeAllRanges(),Me>Ct?(se.addRange(J),se.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),se.addRange(J))}}}}for(fe=[],se=P;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<fe.length;P++){var de=fe[P];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}ym=!!V0,z0=V0=null}finally{wt=y,K.p=f,Y.T=c}}r.current=o,Fn=2}}function V2(){if(Fn===2){Fn=0;var r=Ba,o=Pc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var f=K.p;K.p=2;var y=wt;wt|=4;try{p2(r,o.alternate,o)}finally{wt=y,K.p=f,Y.T=c}}Fn=3}}function z2(){if(Fn===4||Fn===3){Fn=0,zt();var r=Ba,o=Pc,c=Ic,f=A2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fn=5:(Fn=0,Pc=Ba=null,U2(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Ua=null),Ea(c),o=o.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Rt,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Y.T,y=K.p,K.p=2,Y.T=null;try{for(var b=r.onRecoverableError,S=0;S<f.length;S++){var P=f[S];b(P.value,{componentStack:P.stack})}}finally{Y.T=o,K.p=y}}(Ic&3)!==0&&rm(),tr(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===T0?Td++:(Td=0,T0=r):Td=0,Sd(0)}}function U2(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,sd(o)))}function rm(r){return L2(),V2(),z2(),B2()}function B2(){if(Fn!==5)return!1;var r=Ba,o=_0;_0=0;var c=Ea(Ic),f=Y.T,y=K.p;try{K.p=32>c?32:c,Y.T=null,c=E0,E0=null;var b=Ba,S=Ic;if(Fn=0,Pc=Ba=null,Ic=0,(wt&6)!==0)throw Error(i(331));var P=wt;if(wt|=4,T2(b.current),w2(b,b.current,S,c),wt=P,Sd(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Rt,b)}catch{}return!0}finally{K.p=y,Y.T=f,U2(r,o)}}function F2(r,o,c){o=ts(c,o),o=n0(r.stateNode,o,2),r=ja(r,o,2),r!==null&&(xs(r,2),tr(r))}function kt(r,o,c){if(r.tag===3)F2(r,r,c);else for(;o!==null;){if(o.tag===3){F2(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ua===null||!Ua.has(f))){r=ts(c,r),c=W1(2),f=ja(o,c,2),f!==null&&(G1(c,f,o,r),xs(f,2),tr(f));break}}o=o.return}}function k0(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new eD;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(v0=!0,y.add(c),r=rD.bind(null,r,o,c),o.then(r,r))}function rD(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Pt===r&&(st&c)===c&&(Qt===4||Qt===3&&(st&62914560)===st&&300>Ln()-w0?(wt&2)===0&&Mc(r,0):b0|=c,jc===st&&(jc=0)),tr(r)}function H2(r,o){o===0&&(o=Mo()),r=gc(r,o),r!==null&&(xs(r,o),tr(r))}function aD(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),H2(r,c)}function oD(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),H2(r,c)}function lD(r,o){return bn(r,o)}var am=null,Oc=null,N0=!1,om=!1,R0=!1,ll=0;function tr(r){r!==Oc&&r.next===null&&(Oc===null?am=Oc=r:Oc=Oc.next=r),om=!0,N0||(N0=!0,uD())}function Sd(r,o){if(!R0&&om){R0=!0;do for(var c=!1,f=am;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var S=f.suspendedLanes,P=f.pingedLanes;b=(1<<31-cn(42|r)+1)-1,b&=y&~(S&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,G2(f,b))}else b=st,b=wa(f,f===Pt?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Vs(f,b)||(c=!0,G2(f,b));f=f.next}while(c);R0=!1}}function cD(){q2()}function q2(){om=N0=!1;var r=0;ll!==0&&(vD()&&(r=ll),ll=0);for(var o=Ln(),c=null,f=am;f!==null;){var y=f.next,b=$2(f,o);b===0?(f.next=null,c===null?am=y:c.next=y,y===null&&(Oc=c)):(c=f,(r!==0||(b&3)!==0)&&(om=!0)),f=y}Sd(r)}function $2(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var S=31-cn(b),P=1<<S,$=y[S];$===-1?((P&c)===0||(P&f)!==0)&&(y[S]=_a(P,o)):$<=o&&(r.expiredLanes|=P),b&=~P}if(o=Pt,c=st,c=wa(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===o&&(_t===2||_t===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Gi(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Vs(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(f!==null&&Gi(f),Ea(c)){case 2:case 8:c=ys;break;case 32:c=wr;break;case 268435456:c=_r;break;default:c=wr}return f=W2.bind(null,r),c=bn(c,f),r.callbackPriority=o,r.callbackNode=c,o}return f!==null&&f!==null&&Gi(f),r.callbackPriority=2,r.callbackNode=null,2}function W2(r,o){if(Fn!==0&&Fn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(rm()&&r.callbackNode!==c)return null;var f=st;return f=wa(r,r===Pt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(k2(r,f,o),$2(r,Ln()),r.callbackNode!=null&&r.callbackNode===c?W2.bind(null,r):null)}function G2(r,o){if(rm())return null;k2(r,o,!0)}function uD(){xD(function(){(wt&6)!==0?bn(xr,cD):q2()})}function j0(){return ll===0&&(ll=Io()),ll}function K2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:sc(""+r)}function Y2(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function dD(r,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var b=K2((y[Yt]||null).action),S=f.submitter;S&&(o=(o=S[Yt]||null)?K2(o.formAction):S.getAttribute("formAction"),o!==null&&(b=o,S=null));var P=new rc("action","action",null,f,y);r.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ll!==0){var $=S?Y2(y,S):new FormData(y);Qy(c,{pending:!0,data:$,method:y.method,action:b},null,$)}}else typeof b=="function"&&(P.preventDefault(),$=S?Y2(y,S):new FormData(y),Qy(c,{pending:!0,data:$,method:y.method,action:b},b,$))},currentTarget:y}]})}}for(var P0=0;P0<gy.length;P0++){var I0=gy[P0],hD=I0.toLowerCase(),fD=I0[0].toUpperCase()+I0.slice(1);Ts(hD,"on"+fD)}Ts(k_,"onAnimationEnd"),Ts(N_,"onAnimationIteration"),Ts(R_,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(RM,"onTransitionRun"),Ts(jM,"onTransitionStart"),Ts(PM,"onTransitionCancel"),Ts(j_,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ad));function X2(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var S=f.length-1;0<=S;S--){var P=f[S],$=P.instance,ee=P.currentTarget;if(P=P.listener,$!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=ee;try{b(y)}catch(le){Kf(le)}y.currentTarget=null,b=$}else for(S=0;S<f.length;S++){if(P=f[S],$=P.instance,ee=P.currentTarget,P=P.listener,$!==b&&y.isPropagationStopped())break e;b=P,y.currentTarget=ee;try{b(y)}catch(le){Kf(le)}y.currentTarget=null,b=$}}}}function Qe(r,o){var c=o[Oo];c===void 0&&(c=o[Oo]=new Set);var f=r+"__bubble";c.has(f)||(Q2(o,r,2,!1),c.add(f))}function M0(r,o,c){var f=0;o&&(f|=4),Q2(c,r,f,o)}var lm="_reactListening"+Math.random().toString(36).slice(2);function D0(r){if(!r[lm]){r[lm]=!0,Lo.forEach(function(c){c!=="selectionchange"&&(mD.has(c)||M0(c,!1,r),M0(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[lm]||(o[lm]=!0,M0("selectionchange",!1,o))}}function Q2(r,o,c,f){switch(wE(o)){case 2:var y=BD;break;case 8:y=FD;break;default:y=Y0}c=y.bind(null,o,c,r),y=void 0,!Ji||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function O0(r,o,c,f,y){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var P=f.stateNode.containerInfo;if(P===y)break;if(S===4)for(S=f.return;S!==null;){var $=S.tag;if(($===3||$===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;P!==null;){if(S=Ki(P),S===null)return;if($=S.tag,$===5||$===6||$===26||$===27){f=b=S;continue e}P=P.parentNode}}f=f.return}uf(function(){var ee=b,le=Zi(c),fe=[];e:{var ne=P_.get(r);if(ne!==void 0){var se=rc,Ve=r;switch(r){case"keypress":if(Ws(c)===0)break e;case"keydown":case"keyup":se=dc;break;case"focusin":Ve="focus",se=lc;break;case"focusout":Ve="blur",se=lc;break;case"beforeblur":case"afterblur":se=lc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=vf;break;case k_:case N_:case R_:se=cc;break;case j_:se=xf;break;case"scroll":case"scrollend":se=df;break;case"wheel":se=hc;break;case"copy":case"cut":case"paste":se=uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Xu;break;case"toggle":case"beforetoggle":se=_f}var Me=(o&4)!==0,Ct=!Me&&(r==="scroll"||r==="scrollend"),X=Me?ne!==null?ne+"Capture":null:ne;Me=[];for(var G=ee,J;G!==null;){var de=G;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||X===null||(de=Bo(G,X),de!=null&&Me.push(Cd(G,de,J))),Ct)break;G=G.return}0<Me.length&&(ne=new se(ne,Ve,null,c,le),fe.push({event:ne,listeners:Me}))}}if((o&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",ne&&c!==Nr&&(Ve=c.relatedTarget||c.fromElement)&&(Ki(Ve)||Ve[un]))break e;if((se||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(Ve=c.relatedTarget||c.toElement,se=ee,Ve=Ve?Ki(Ve):null,Ve!==null&&(Ct=a(Ve),Me=Ve.tag,Ve!==Ct||Me!==5&&Me!==27&&Me!==6)&&(Ve=null)):(se=null,Ve=ee),se!==Ve)){if(Me=es,de="onMouseLeave",X="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Me=Xu,de="onPointerLeave",X="onPointerEnter",G="pointer"),Ct=se==null?ne:Yi(se),J=Ve==null?ne:Yi(Ve),ne=new Me(de,G+"leave",se,c,le),ne.target=Ct,ne.relatedTarget=J,de=null,Ki(le)===ee&&(Me=new Me(X,G+"enter",Ve,c,le),Me.target=J,Me.relatedTarget=Ct,de=Me),Ct=de,se&&Ve)t:{for(Me=se,X=Ve,G=0,J=Me;J;J=Lc(J))G++;for(J=0,de=X;de;de=Lc(de))J++;for(;0<G-J;)Me=Lc(Me),G--;for(;0<J-G;)X=Lc(X),J--;for(;G--;){if(Me===X||X!==null&&Me===X.alternate)break t;Me=Lc(Me),X=Lc(X)}Me=null}else Me=null;se!==null&&Z2(fe,ne,se,Me,!1),Ve!==null&&Ct!==null&&Z2(fe,Ct,Ve,Me,!0)}}e:{if(ne=ee?Yi(ee):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var Ae=y_;else if(wn(ne))if(v_)Ae=CM;else{Ae=SM;var Ke=TM}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Hu(ee.elementType)&&(Ae=y_):Ae=AM;if(Ae&&(Ae=Ae(r,ee))){Mr(fe,Ae,c,le);break e}Ke&&Ke(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&mt(ne,"number",ne.value)}switch(Ke=ee?Yi(ee):window,r){case"focusin":(wn(Ke)||Ke.contentEditable==="true")&&(fc=Ke,fy=ee,Ju=null);break;case"focusout":Ju=fy=fc=null;break;case"mousedown":my=!0;break;case"contextmenu":case"mouseup":case"dragend":my=!1,A_(fe,c,le);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":A_(fe,c,le)}var Re;if(Ys)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else nt?re(r,c)&&(De="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(T&&c.locale!=="ko"&&(nt||De!=="onCompositionStart"?De==="onCompositionEnd"&&nt&&(Re=$u()):($s=le,Ca="value"in $s?$s.value:$s.textContent,nt=!0)),Ke=cm(ee,De),0<Ke.length&&(De=new Ku(De,r,null,c,le),fe.push({event:De,listeners:Ke}),Re?De.data=Re:(Re=be(c),Re!==null&&(De.data=Re)))),(Re=w?xn(r,c):it(r,c))&&(De=cm(ee,"onBeforeInput"),0<De.length&&(Ke=new Ku("onBeforeInput","beforeinput",null,c,le),fe.push({event:Ke,listeners:De}),Ke.data=Re)),dD(fe,r,ee,c,le)}X2(fe,o)})}function Cd(r,o,c){return{instance:r,listener:o,currentTarget:c}}function cm(r,o){for(var c=o+"Capture",f=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Bo(r,c),y!=null&&f.unshift(Cd(r,y,b)),y=Bo(r,o),y!=null&&f.push(Cd(r,y,b))),r.tag===3)return f;r=r.return}return[]}function Lc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Z2(r,o,c,f,y){for(var b=o._reactName,S=[];c!==null&&c!==f;){var P=c,$=P.alternate,ee=P.stateNode;if(P=P.tag,$!==null&&$===f)break;P!==5&&P!==26&&P!==27||ee===null||($=ee,y?(ee=Bo(c,b),ee!=null&&S.unshift(Cd(c,ee,$))):y||(ee=Bo(c,b),ee!=null&&S.push(Cd(c,ee,$)))),c=c.return}S.length!==0&&r.push({event:o,listeners:S})}var pD=/\r\n?/g,gD=/\u0000|\uFFFD/g;function J2(r){return(typeof r=="string"?r:""+r).replace(pD,`
`).replace(gD,"")}function eE(r,o){return o=J2(o),J2(r)===o}function um(){}function At(r,o,c,f,y,b){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Dt(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Dt(r,""+f);break;case"className":Mi(r,"class",f);break;case"tabIndex":Mi(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(r,c,f);break;case"style":ic(r,f,b);break;case"data":if(o!=="object"){Mi(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=sc(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&At(r,o,"name",y.name,y,null),At(r,o,"formEncType",y.formEncType,y,null),At(r,o,"formMethod",y.formMethod,y,null),At(r,o,"formTarget",y.formTarget,y,null)):(At(r,o,"encType",y.encType,y,null),At(r,o,"method",y.method,y,null),At(r,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=sc(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=um);break;case"onScroll":f!=null&&Qe("scroll",r);break;case"onScrollEnd":f!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=sc(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),_s(r,"popover",f);break;case"xlinkActuate":dn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":dn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":dn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":dn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":dn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":dn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":dn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":dn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":dn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":_s(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ay.get(c)||c,_s(r,c,f))}}function L0(r,o,c,f,y,b){switch(c){case"style":ic(r,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof f=="string"?Dt(r,f):(typeof f=="number"||typeof f=="bigint")&&Dt(r,""+f);break;case"onScroll":f!=null&&Qe("scroll",r);break;case"onScrollEnd":f!=null&&Qe("scrollend",r);break;case"onClick":f!=null&&(r.onclick=um);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),b=r[Yt]||null,b=b!=null?b[c]:null,typeof b=="function"&&r.removeEventListener(o,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):_s(r,c,f)}}}function Hn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var f=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var S=c[b];if(S!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:At(r,o,b,S,c,null)}}y&&At(r,o,"srcSet",c.srcSet,c,null),f&&At(r,o,"src",c.src,c,null);return;case"input":Qe("invalid",r);var P=b=S=y=null,$=null,ee=null;for(f in c)if(c.hasOwnProperty(f)){var le=c[f];if(le!=null)switch(f){case"name":y=le;break;case"type":S=le;break;case"checked":$=le;break;case"defaultChecked":ee=le;break;case"value":b=le;break;case"defaultValue":P=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,o));break;default:At(r,o,f,le,c,null)}}tt(r,b,P,$,ee,S,y,!1),kr(r);return;case"select":Qe("invalid",r),f=S=b=null;for(y in c)if(c.hasOwnProperty(y)&&(P=c[y],P!=null))switch(y){case"value":b=P;break;case"defaultValue":S=P;break;case"multiple":f=P;default:At(r,o,y,P,c,null)}o=b,c=S,r.multiple=!!f,o!=null?lt(r,!!f,o,!1):c!=null&&lt(r,!!f,c,!0);return;case"textarea":Qe("invalid",r),b=y=f=null;for(S in c)if(c.hasOwnProperty(S)&&(P=c[S],P!=null))switch(S){case"value":f=P;break;case"defaultValue":y=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:At(r,o,S,P,c,null)}hn(r,f,y,b),kr(r);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(f=c[$],f!=null))switch($){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:At(r,o,$,f,c,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(f=0;f<Ad.length;f++)Qe(Ad[f],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(f=c[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:At(r,o,ee,f,c,null)}return;default:if(Hu(o)){for(le in c)c.hasOwnProperty(le)&&(f=c[le],f!==void 0&&L0(r,o,le,f,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(f=c[P],f!=null&&At(r,o,P,f,c,null))}function yD(r,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,S=null,P=null,$=null,ee=null,le=null;for(se in c){var fe=c[se];if(c.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":$=fe;default:f.hasOwnProperty(se)||At(r,o,se,null,f,fe)}}for(var ne in f){var se=f[ne];if(fe=c[ne],f.hasOwnProperty(ne)&&(se!=null||fe!=null))switch(ne){case"type":b=se;break;case"name":y=se;break;case"checked":ee=se;break;case"defaultChecked":le=se;break;case"value":S=se;break;case"defaultValue":P=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,o));break;default:se!==fe&&At(r,o,ne,se,f,fe)}}Ue(r,S,P,$,ee,le,b,y);return;case"select":se=S=P=ne=null;for(b in c)if($=c[b],c.hasOwnProperty(b)&&$!=null)switch(b){case"value":break;case"multiple":se=$;default:f.hasOwnProperty(b)||At(r,o,b,null,f,$)}for(y in f)if(b=f[y],$=c[y],f.hasOwnProperty(y)&&(b!=null||$!=null))switch(y){case"value":ne=b;break;case"defaultValue":P=b;break;case"multiple":S=b;default:b!==$&&At(r,o,y,b,f,$)}o=P,c=S,f=se,ne!=null?lt(r,!!c,ne,!1):!!f!=!!c&&(o!=null?lt(r,!!c,o,!0):lt(r,!!c,c?[]:"",!1));return;case"textarea":se=ne=null;for(P in c)if(y=c[P],c.hasOwnProperty(P)&&y!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:At(r,o,P,null,f,y)}for(S in f)if(y=f[S],b=c[S],f.hasOwnProperty(S)&&(y!=null||b!=null))switch(S){case"value":ne=y;break;case"defaultValue":se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&At(r,o,S,y,f,b)}je(r,ne,se);return;case"option":for(var Ve in c)if(ne=c[Ve],c.hasOwnProperty(Ve)&&ne!=null&&!f.hasOwnProperty(Ve))switch(Ve){case"selected":r.selected=!1;break;default:At(r,o,Ve,null,f,ne)}for($ in f)if(ne=f[$],se=c[$],f.hasOwnProperty($)&&ne!==se&&(ne!=null||se!=null))switch($){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:At(r,o,$,ne,f,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in c)ne=c[Me],c.hasOwnProperty(Me)&&ne!=null&&!f.hasOwnProperty(Me)&&At(r,o,Me,null,f,ne);for(ee in f)if(ne=f[ee],se=c[ee],f.hasOwnProperty(ee)&&ne!==se&&(ne!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,o));break;default:At(r,o,ee,ne,f,se)}return;default:if(Hu(o)){for(var Ct in c)ne=c[Ct],c.hasOwnProperty(Ct)&&ne!==void 0&&!f.hasOwnProperty(Ct)&&L0(r,o,Ct,void 0,f,ne);for(le in f)ne=f[le],se=c[le],!f.hasOwnProperty(le)||ne===se||ne===void 0&&se===void 0||L0(r,o,le,ne,f,se);return}}for(var X in c)ne=c[X],c.hasOwnProperty(X)&&ne!=null&&!f.hasOwnProperty(X)&&At(r,o,X,null,f,ne);for(fe in f)ne=f[fe],se=c[fe],!f.hasOwnProperty(fe)||ne===se||ne==null&&se==null||At(r,o,fe,ne,f,se)}var V0=null,z0=null;function dm(r){return r.nodeType===9?r:r.ownerDocument}function tE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function U0(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var B0=null;function vD(){var r=window.event;return r&&r.type==="popstate"?r===B0?!1:(B0=r,!0):(B0=null,!1)}var iE=typeof setTimeout=="function"?setTimeout:void 0,bD=typeof clearTimeout=="function"?clearTimeout:void 0,sE=typeof Promise=="function"?Promise:void 0,xD=typeof queueMicrotask=="function"?queueMicrotask:typeof sE<"u"?function(r){return sE.resolve(null).then(r).catch(wD)}:iE;function wD(r){setTimeout(function(){throw r})}function Ha(r){return r==="head"}function rE(r,o){var c=o,f=0,y=0;do{var b=c.nextSibling;if(r.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<f&&8>f){c=f;var S=r.ownerDocument;if(c&1&&kd(S.documentElement),c&2&&kd(S.body),c&4)for(c=S.head,kd(c),S=c.firstChild;S;){var P=S.nextSibling,$=S.nodeName;S[Tr]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=P}}if(y===0){r.removeChild(b),Od(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=b}while(c);Od(o)}function F0(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":F0(c),Pi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function _D(r,o,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Tr])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=As(r.nextSibling),r===null)break}return null}function ED(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=As(r.nextSibling),r===null))return null;return r}function H0(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function TD(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function As(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var q0=null;function aE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function oE(r,o,c){switch(o=dm(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function kd(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Pi(r)}var os=new Map,lE=new Set;function hm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gr=K.d;K.d={f:SD,r:AD,D:CD,C:kD,L:ND,m:RD,X:PD,S:jD,M:ID};function SD(){var r=Gr.f(),o=im();return r||o}function AD(r){var o=gi(r);o!==null&&o.tag===5&&o.type==="form"?k1(o):Gr.r(r)}var Vc=typeof document>"u"?null:document;function cE(r,o,c){var f=Vc;if(f&&typeof o=="string"&&o){var y=Se(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),lE.has(y)||(lE.add(y),r={rel:r,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),Hn(o,"link",r),qt(o),f.head.appendChild(o)))}}function CD(r){Gr.D(r),cE("dns-prefetch",r,null)}function kD(r,o){Gr.C(r,o),cE("preconnect",r,o)}function ND(r,o,c){Gr.L(r,o,c);var f=Vc;if(f&&r&&o){var y='link[rel="preload"][as="'+Se(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Se(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Se(c.imageSizes)+'"]')):y+='[href="'+Se(r)+'"]';var b=y;switch(o){case"style":b=zc(r);break;case"script":b=Uc(r)}os.has(b)||(r=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),os.set(b,r),f.querySelector(y)!==null||o==="style"&&f.querySelector(Nd(b))||o==="script"&&f.querySelector(Rd(b))||(o=f.createElement("link"),Hn(o,"link",r),qt(o),f.head.appendChild(o)))}}function RD(r,o){Gr.m(r,o);var c=Vc;if(c&&r){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Se(f)+'"][href="'+Se(r)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Uc(r)}if(!os.has(b)&&(r=g({rel:"modulepreload",href:r},o),os.set(b,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Rd(b)))return}f=c.createElement("link"),Hn(f,"link",r),qt(f),c.head.appendChild(f)}}}function jD(r,o,c){Gr.S(r,o,c);var f=Vc;if(f&&r){var y=zn(f).hoistableStyles,b=zc(r);o=o||"default";var S=y.get(b);if(!S){var P={loading:0,preload:null};if(S=f.querySelector(Nd(b)))P.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},c),(c=os.get(b))&&$0(r,c);var $=S=f.createElement("link");qt($),Hn($,"link",r),$._p=new Promise(function(ee,le){$.onload=ee,$.onerror=le}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,fm(S,o,f)}S={type:"stylesheet",instance:S,count:1,state:P},y.set(b,S)}}}function PD(r,o){Gr.X(r,o);var c=Vc;if(c&&r){var f=zn(c).hoistableScripts,y=Uc(r),b=f.get(y);b||(b=c.querySelector(Rd(y)),b||(r=g({src:r,async:!0},o),(o=os.get(y))&&W0(r,o),b=c.createElement("script"),qt(b),Hn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function ID(r,o){Gr.M(r,o);var c=Vc;if(c&&r){var f=zn(c).hoistableScripts,y=Uc(r),b=f.get(y);b||(b=c.querySelector(Rd(y)),b||(r=g({src:r,async:!0,type:"module"},o),(o=os.get(y))&&W0(r,o),b=c.createElement("script"),qt(b),Hn(b,"link",r),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function uE(r,o,c,f){var y=(y=_e.current)?hm(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=zc(c.href),c=zn(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=zc(c.href);var b=zn(y).hoistableStyles,S=b.get(r);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,S),(b=y.querySelector(Nd(r)))&&!b._p&&(S.instance=b,S.state.loading=5),os.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},os.set(r,c),b||MD(y,r,c,S.state))),o&&f===null)throw Error(i(528,""));return S}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Uc(c),c=zn(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zc(r){return'href="'+Se(r)+'"'}function Nd(r){return'link[rel="stylesheet"]['+r+"]"}function dE(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function MD(r,o,c,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Hn(o,"link",c),qt(o),r.head.appendChild(o))}function Uc(r){return'[src="'+Se(r)+'"]'}function Rd(r){return"script[async]"+r}function hE(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Se(c.href)+'"]');if(f)return o.instance=f,qt(f),f;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),qt(f),Hn(f,"style",y),fm(f,c.precedence,r),o.instance=f;case"stylesheet":y=zc(c.href);var b=r.querySelector(Nd(y));if(b)return o.state.loading|=4,o.instance=b,qt(b),b;f=dE(c),(y=os.get(y))&&$0(f,y),b=(r.ownerDocument||r).createElement("link"),qt(b);var S=b;return S._p=new Promise(function(P,$){S.onload=P,S.onerror=$}),Hn(b,"link",f),o.state.loading|=4,fm(b,c.precedence,r),o.instance=b;case"script":return b=Uc(c.src),(y=r.querySelector(Rd(b)))?(o.instance=y,qt(y),y):(f=c,(y=os.get(b))&&(f=g({},c),W0(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),qt(y),Hn(y,"link",f),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,fm(f,c.precedence,r));return o.instance}function fm(r,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,S=0;S<f.length;S++){var P=f[S];if(P.dataset.precedence===o)b=P;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function $0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function W0(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var mm=null;function fE(r,o,c){if(mm===null){var f=new Map,y=mm=new Map;y.set(c,f)}else y=mm,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var b=c[y];if(!(b[Tr]||b[Jt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(o)||"";S=r+S;var P=f.get(S);P?P.push(b):f.set(S,[b])}}return f}function mE(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function DD(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function pE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var jd=null;function OD(){}function LD(r,o,c){if(jd===null)throw Error(i(475));var f=jd;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=zc(c.href),b=r.querySelector(Nd(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=pm.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=b,qt(b);return}b=r.ownerDocument||r,c=dE(c),(y=os.get(y))&&$0(c,y),b=b.createElement("link"),qt(b);var S=b;S._p=new Promise(function(P,$){S.onload=P,S.onerror=$}),Hn(b,"link",c),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=pm.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function VD(){if(jd===null)throw Error(i(475));var r=jd;return r.stylesheets&&r.count===0&&G0(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&G0(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function pm(){if(this.count--,this.count===0){if(this.stylesheets)G0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var gm=null;function G0(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,gm=new Map,o.forEach(zD,r),gm=null,pm.call(r))}function zD(r,o){if(!(o.state.loading&4)){var c=gm.get(r);if(c)var f=c.get(null);else{c=new Map,gm.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var S=y[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),f=S)}f&&c.set(null,f)}y=o.instance,S=y.getAttribute("data-precedence"),b=c.get(S)||f,b===f&&c.set(null,y),c.set(S,y),this.count++,f=pm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var Pd={$$typeof:L,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function UD(r,o,c,f,y,b,S,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.hiddenUpdates=bs(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function gE(r,o,c,f,y,b,S,P,$,ee,le,fe){return r=new UD(r,o,c,S,P,$,ee,fe),o=1,b===!0&&(o|=24),b=Oi(3,null,null,o),r.current=b,b.stateNode=r,o=ky(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:c,cache:o},Py(b),r}function yE(r){return r?(r=yc,r):yc}function vE(r,o,c,f,y,b){y=yE(y),f.context===null?f.context=y:f.pendingContext=y,f=Ra(o),f.payload={element:c},b=b===void 0?null:b,b!==null&&(f.callback=b),c=ja(r,f,o),c!==null&&(Bi(c,r,o),ld(c,r,o))}function bE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function K0(r,o){bE(r,o),(r=r.alternate)&&bE(r,o)}function xE(r){if(r.tag===13){var o=gc(r,67108864);o!==null&&Bi(o,r,67108864),K0(r,67108864)}}var ym=!0;function BD(r,o,c,f){var y=Y.T;Y.T=null;var b=K.p;try{K.p=2,Y0(r,o,c,f)}finally{K.p=b,Y.T=y}}function FD(r,o,c,f){var y=Y.T;Y.T=null;var b=K.p;try{K.p=8,Y0(r,o,c,f)}finally{K.p=b,Y.T=y}}function Y0(r,o,c,f){if(ym){var y=X0(f);if(y===null)O0(r,o,f,vm,c),_E(r,f);else if(qD(y,r,o,c,f))f.stopPropagation();else if(_E(r,f),o&4&&-1<HD.indexOf(r)){for(;y!==null;){var b=gi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=ji(b.pendingLanes);if(S!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;S;){var $=1<<31-cn(S);P.entanglements[1]|=$,S&=~$}tr(b),(wt&6)===0&&(tm=Ln()+500,Sd(0))}}break;case 13:P=gc(b,2),P!==null&&Bi(P,b,2),im(),K0(b,2)}if(b=X0(f),b===null&&O0(r,o,f,vm,c),b===y)break;y=b}y!==null&&f.stopPropagation()}else O0(r,o,f,null,c)}}function X0(r){return r=Zi(r),Q0(r)}var vm=null;function Q0(r){if(vm=null,r=Ki(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return vm=r,null}function wE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case xr:return 2;case ys:return 8;case wr:case Bu:return 32;case _r:return 268435456;default:return 32}default:return 32}}var Z0=!1,qa=null,$a=null,Wa=null,Id=new Map,Md=new Map,Ga=[],HD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _E(r,o){switch(r){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Id.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Md.delete(o.pointerId)}}function Dd(r,o,c,f,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},o!==null&&(o=gi(o),o!==null&&xE(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function qD(r,o,c,f,y){switch(o){case"focusin":return qa=Dd(qa,r,o,c,f,y),!0;case"dragenter":return $a=Dd($a,r,o,c,f,y),!0;case"mouseover":return Wa=Dd(Wa,r,o,c,f,y),!0;case"pointerover":var b=y.pointerId;return Id.set(b,Dd(Id.get(b)||null,r,o,c,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Md.set(b,Dd(Md.get(b)||null,r,o,c,f,y)),!0}return!1}function EE(r){var o=Ki(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Jl(r.priority,function(){if(c.tag===13){var f=Ui();f=Us(f);var y=gc(c,f);y!==null&&Bi(y,c,f),K0(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function bm(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=X0(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Nr=f,c.target.dispatchEvent(f),Nr=null}else return o=gi(c),o!==null&&xE(o),r.blockedOn=c,!1;o.shift()}return!0}function TE(r,o,c){bm(r)&&c.delete(o)}function $D(){Z0=!1,qa!==null&&bm(qa)&&(qa=null),$a!==null&&bm($a)&&($a=null),Wa!==null&&bm(Wa)&&(Wa=null),Id.forEach(TE),Md.forEach(TE)}function xm(r,o){r.blockedOn===o&&(r.blockedOn=null,Z0||(Z0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$D)))}var wm=null;function SE(r){wm!==r&&(wm=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wm===r&&(wm=null);for(var o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=r[o+2];if(typeof f!="function"){if(Q0(f||c)===null)continue;break}var b=gi(c);b!==null&&(r.splice(o,3),o-=3,Qy(b,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Od(r){function o($){return xm($,r)}qa!==null&&xm(qa,r),$a!==null&&xm($a,r),Wa!==null&&xm(Wa,r),Id.forEach(o),Md.forEach(o);for(var c=0;c<Ga.length;c++){var f=Ga[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Ga.length&&(c=Ga[0],c.blockedOn===null);)EE(c),c.blockedOn===null&&Ga.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],b=c[f+1],S=y[Yt]||null;if(typeof b=="function")S||SE(c);else if(S){var P=null;if(b&&b.hasAttribute("formAction")){if(y=b,S=b[Yt]||null)P=S.formAction;else if(Q0(y)!==null)continue}else P=S.action;typeof P=="function"?c[f+1]=P:(c.splice(f,3),f-=3),SE(c)}}}function J0(r){this._internalRoot=r}_m.prototype.render=J0.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,f=Ui();vE(c,f,r,o,null,null)},_m.prototype.unmount=J0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;vE(r.current,2,null,r,null,null),im(),o[un]=null}};function _m(r){this._internalRoot=r}_m.prototype.unstable_scheduleHydration=function(r){if(r){var o=ws();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Ga.length&&o!==0&&o<Ga[c].priority;c++);Ga.splice(c,0,r),c===0&&EE(r)}};var AE=e.version;if(AE!=="19.1.0")throw Error(i(527,AE,"19.1.0"));K.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var WD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Em.isDisabled&&Em.supportsFiber)try{Rt=Em.inject(WD),ft=Em}catch{}}return Vd.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,f="",y=F1,b=H1,S=q1,P=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks)),o=gE(r,1,!1,null,null,c,f,y,b,S,P,null),r[un]=o.current,D0(r),new J0(o)},Vd.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var f=!1,y="",b=F1,S=H1,P=q1,$=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&($=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),o=gE(r,1,!0,o,c??null,f,y,b,S,P,$,ee),o.context=yE(null),c=o.current,f=Ui(),f=Us(f),y=Ra(f),y.callback=null,ja(c,y,f),c=f,o.current.lanes=c,xs(o,c),tr(o),r[un]=o.current,D0(r),new _m(o)},Vd.version="19.1.0",Vd}var OE;function sO(){if(OE)return nv.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nv.exports=iO(),nv.exports}var rO=sO();const aO=fk(rO);var zd={},LE;function oO(){if(LE)return zd;LE=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.parse=l,zd.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,_){const E=new a,C=x.length;if(C<2)return E;const A=(_==null?void 0:_.decode)||g;let j=0;do{const B=x.indexOf("=",j);if(B===-1)break;const L=x.indexOf(";",j),q=L===-1?C:L;if(B>q){j=x.lastIndexOf(";",B-1)+1;continue}const H=u(x,j,B),W=h(x,B,H),D=x.slice(H,W);if(E[D]===void 0){let k=u(x,B+1,q),I=h(x,q,k);const M=A(x.slice(k,I));E[D]=M}j=q+1}while(j<C);return E}function u(x,_,E){do{const C=x.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<E);return E}function h(x,_,E){for(;_>E;){const C=x.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return E}function m(x,_,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const A=C(_);if(!e.test(A))throw new TypeError(`argument val is invalid: ${_}`);let j=x+"="+A;if(!E)return j;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);j+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);j+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);j+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);j+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(j+="; HttpOnly"),E.secure&&(j+="; Secure"),E.partitioned&&(j+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return j}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return s.call(x)==="[object Date]"}return zd}oO();var VE="popstate";function lO(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:h=""}=zl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Yv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=s.location.href,m=h.indexOf("#");u=m===-1?h:h.slice(0,m)}return u+"#"+(typeof a=="string"?a:vh(a))}function i(s,a){fs(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return uO(e,n,i,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cO(){return Math.random().toString(36).substring(2,10)}function zE(t,e){return{usr:t.state,key:t.key,idx:e}}function Yv(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zl(e):e,state:n,key:e&&e.key||i||cO()}}function vh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function uO(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,u="POP",h=null,m=g();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let A=g(),j=A==null?null:A-m;m=A,h&&h({action:u,location:C.location,delta:j})}function x(A,j){u="PUSH";let B=Yv(C.location,A,j);n&&n(B,A),m=g()+1;let L=zE(B,m),q=C.createHref(B);try{l.pushState(L,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(q)}a&&h&&h({action:u,location:C.location,delta:1})}function _(A,j){u="REPLACE";let B=Yv(C.location,A,j);n&&n(B,A),m=g();let L=zE(B,m),q=C.createHref(B);l.replaceState(L,"",q),a&&h&&h({action:u,location:C.location,delta:0})}function E(A){let j=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof A=="string"?A:vh(A);return B=B.replace(/ $/,"%20"),Ft(j,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,j)}let C={get action(){return u},get location(){return t(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(VE,v),h=A,()=>{s.removeEventListener(VE,v),h=null}},createHref(A){return e(s,A)},createURL:E,encodeLocation(A){let j=E(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:_,go(A){return l.go(A)}};return C}function mk(t,e,n="/"){return dO(t,e,n,!1)}function dO(t,e,n,i){let s=typeof e=="string"?zl(e):e,a=la(s.pathname||"/",n);if(a==null)return null;let l=pk(t);hO(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=EO(a);u=wO(l[h],m,i)}return u}function pk(t,e=[],n=[],i=""){let s=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Ft(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=na([i,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(Ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),pk(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:bO(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let h of gk(a.path))s(a,l,h)}),e}function gk(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=gk(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function hO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fO=/^:[\w-]+$/,mO=3,pO=2,gO=1,yO=10,vO=-2,UE=t=>t==="*";function bO(t,e){let n=t.split("/"),i=n.length;return n.some(UE)&&(i+=vO),e&&(i+=pO),n.filter(s=>!UE(s)).reduce((s,a)=>s+(fO.test(a)?mO:a===""?gO:yO),i)}function xO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function wO(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],m=u===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=wp({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),x=h.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=wp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:na([a,v.pathname]),pathnameBase:CO(na([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=na([a,v.pathnameBase]))}return l}function wp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=_O(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},x)=>{if(g==="*"){let E=u[x]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[x];return v&&!_?m[g]=void 0:m[g]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function _O(t,e=!1,n=!0){fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function EO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function la(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function TO(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?zl(t):t;return{pathname:n?n.startsWith("/")?n:SO(n,e):e,search:kO(i),hash:NO(s)}}function SO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function av(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nx(t){let e=AO(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ix(t,e,n,i=!1){let s;typeof t=="string"?s=zl(t):(s={...t},Ft(!s.pathname||!s.pathname.includes("?"),av("?","pathname","search",s)),Ft(!s.pathname||!s.pathname.includes("#"),av("#","pathname","hash",s)),Ft(!s.search||!s.search.includes("#"),av("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;s.pathname=x.join("/")}u=v>=0?e[v]:"/"}let h=TO(s,u),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var na=t=>t.join("/").replace(/\/\/+/g,"/"),CO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var yk=["POST","PUT","PATCH","DELETE"];new Set(yk);var jO=["GET",...yk];new Set(jO);var _u=N.createContext(null);_u.displayName="DataRouter";var bg=N.createContext(null);bg.displayName="DataRouterState";var vk=N.createContext({isTransitioning:!1});vk.displayName="ViewTransition";var PO=N.createContext(new Map);PO.displayName="Fetchers";var IO=N.createContext(null);IO.displayName="Await";var Is=N.createContext(null);Is.displayName="Navigation";var zh=N.createContext(null);zh.displayName="Location";var Ms=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var sx=N.createContext(null);sx.displayName="RouteError";function MO(t,{relative:e}={}){Ft(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Is),{hash:s,pathname:a,search:l}=Uh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:na([n,a])),i.createHref({pathname:u,search:l,hash:s})}function Eu(){return N.useContext(zh)!=null}function Ds(){return Ft(Eu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(zh).location}var bk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xk(t){N.useContext(Is).static||N.useLayoutEffect(t)}function Os(){let{isDataRoute:t}=N.useContext(Ms);return t?KO():DO()}function DO(){Ft(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(_u),{basename:e,navigator:n}=N.useContext(Is),{matches:i}=N.useContext(Ms),{pathname:s}=Ds(),a=JSON.stringify(nx(i)),l=N.useRef(!1);return xk(()=>{l.current=!0}),N.useCallback((h,m={})=>{if(fs(l.current,bk),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=ix(h,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:na([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,a,s,t])}N.createContext(null);function OO(){let{matches:t}=N.useContext(Ms),e=t[t.length-1];return e?e.params:{}}function Uh(t,{relative:e}={}){let{matches:n}=N.useContext(Ms),{pathname:i}=Ds(),s=JSON.stringify(nx(n));return N.useMemo(()=>ix(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function LO(t,e){return wk(t,e)}function wk(t,e,n,i){var B;Ft(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=N.useContext(Is),{matches:l}=N.useContext(Ms),u=l[l.length-1],h=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let L=v&&v.path||"";_k(m,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let x=Ds(),_;if(e){let L=typeof e=="string"?zl(e):e;Ft(g==="/"||((B=L.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),_=L}else _=x;let E=_.pathname||"/",C=E;if(g!=="/"){let L=g.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=!a&&n&&n.matches&&n.matches.length>0?n.matches:mk(t,{pathname:C});fs(v||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),fs(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=FO(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:na([g,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:na([g,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,i);return e&&j?N.createElement(zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},j):j}function VO(){let t=GO(),e=RO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,l)}var zO=N.createElement(VO,null),UO=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(Ms.Provider,{value:this.props.routeContext},N.createElement(sx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BO({routeContext:t,match:e,children:n}){let i=N.useContext(_u);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Ms.Provider,{value:t},n)}function FO(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ft(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:g,errors:v}=n,x=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,m,g)=>{let v,x=!1,_=null,E=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,_=m.route.errorElement||zO,l&&(u<0&&g===0?(_k("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===g&&(x=!0,E=m.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,g+1)),A=()=>{let j;return v?j=_:x?j=E:m.route.Component?j=N.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=h,N.createElement(BO,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:j})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?N.createElement(UO,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function rx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HO(t){let e=N.useContext(_u);return Ft(e,rx(t)),e}function qO(t){let e=N.useContext(bg);return Ft(e,rx(t)),e}function $O(t){let e=N.useContext(Ms);return Ft(e,rx(t)),e}function ax(t){let e=$O(t),n=e.matches[e.matches.length-1];return Ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WO(){return ax("useRouteId")}function GO(){var i;let t=N.useContext(sx),e=qO("useRouteError"),n=ax("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function KO(){let{router:t}=HO("useNavigate"),e=ax("useNavigate"),n=N.useRef(!1);return xk(()=>{n.current=!0}),N.useCallback(async(s,a={})=>{fs(n.current,bk),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var BE={};function _k(t,e,n){!e&&!BE[t]&&(BE[t]=!0,fs(!1,n))}N.memo(YO);function YO({routes:t,future:e,state:n}){return wk(t,void 0,n,e)}function XO({to:t,replace:e,state:n,relative:i}){Ft(Eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(Is);fs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(Ms),{pathname:l}=Ds(),u=Os(),h=ix(t,nx(a),l,i==="path"),m=JSON.stringify(h);return N.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:i})},[u,m,i,e,n]),null}function qn(t){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QO({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){Ft(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=zl(n));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:x="default"}=n,_=N.useMemo(()=>{let E=la(h,l);return E==null?null:{location:{pathname:E,search:m,hash:g,state:v,key:x},navigationType:i}},[l,h,m,g,v,x,i]);return fs(_!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(Is.Provider,{value:u},N.createElement(zh.Provider,{children:e,value:_}))}function ZO({children:t,location:e}){return LO(Xv(t),e)}function Xv(t,e=[]){let n=[];return N.Children.forEach(t,(i,s)=>{if(!N.isValidElement(i))return;let a=[...e,s];if(i.type===N.Fragment){n.push.apply(n,Xv(i.props.children,a));return}Ft(i.type===qn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Xv(i.props.children,a)),n.push(l)}),n}var Qm="get",Zm="application/x-www-form-urlencoded";function xg(t){return t!=null&&typeof t.tagName=="string"}function JO(t){return xg(t)&&t.tagName.toLowerCase()==="button"}function e4(t){return xg(t)&&t.tagName.toLowerCase()==="form"}function t4(t){return xg(t)&&t.tagName.toLowerCase()==="input"}function n4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i4(t,e){return t.button===0&&(!e||e==="_self")&&!n4(t)}var Tm=null;function s4(){if(Tm===null)try{new FormData(document.createElement("form"),0),Tm=!1}catch{Tm=!0}return Tm}var r4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ov(t){return t!=null&&!r4.has(t)?(fs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zm}"`),null):t}function a4(t,e){let n,i,s,a,l;if(e4(t)){let u=t.getAttribute("action");i=u?la(u,e):null,n=t.getAttribute("method")||Qm,s=ov(t.getAttribute("enctype"))||Zm,a=new FormData(t)}else if(JO(t)||t4(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(i=h?la(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Qm,s=ov(t.getAttribute("formenctype"))||ov(u.getAttribute("enctype"))||Zm,a=new FormData(u,t),!s4()){let{name:m,type:g,value:v}=t;if(g==="image"){let x=m?`${m}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else m&&a.append(m,v)}}else{if(xg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qm,i=null,s=Zm,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function ox(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function o4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function c4(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await o4(a,n);return l.links?l.links():[]}return[]}));return f4(i.flat(1).filter(l4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function FE(t,e,n,i,s,a){let l=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,u=(h,m)=>{var g;return n[m].pathname!==h.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>l(h,m)||u(h,m)):a==="data"?e.filter((h,m)=>{var v;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function u4(t,e,{includeHydrateFallback:n}={}){return d4(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function d4(t){return[...new Set(t)]}function h4(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function f4(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(h4(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}var m4=new Set([100,101,204,205]);function p4(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&la(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Ek(){let t=N.useContext(_u);return ox(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function g4(){let t=N.useContext(bg);return ox(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lx=N.createContext(void 0);lx.displayName="FrameworkContext";function Tk(){let t=N.useContext(lx);return ox(t,"You must render this element inside a <HydratedRouter> element"),t}function y4(t,e){let n=N.useContext(lx),[i,s]=N.useState(!1),[a,l]=N.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=j=>{j.forEach(B=>{l(B.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[t]),N.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Ud(u,_),onBlur:Ud(h,E),onMouseEnter:Ud(m,_),onMouseLeave:Ud(g,E),onTouchStart:Ud(v,_)}]:[!1,x,{}]}function Ud(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function v4({page:t,...e}){let{router:n}=Ek(),i=N.useMemo(()=>mk(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(x4,{page:t,matches:i,...e}):null}function b4(t){let{manifest:e,routeModules:n}=Tk(),[i,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return c4(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),i}function x4({page:t,matches:e,...n}){let i=Ds(),{manifest:s,routeModules:a}=Tk(),{basename:l}=Ek(),{loaderData:u,matches:h}=g4(),m=N.useMemo(()=>FE(t,e,h,s,i,"data"),[t,e,h,s,i]),g=N.useMemo(()=>FE(t,e,h,s,i,"assets"),[t,e,h,s,i]),v=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,C=!1;if(e.forEach(j=>{var L;let B=s.routes[j.route.id];!B||!B.hasLoader||(!m.some(q=>q.route.id===j.route.id)&&j.route.id in u&&((L=a[j.route.id])!=null&&L.shouldRevalidate)||B.hasClientLoader?C=!0:E.add(j.route.id))}),E.size===0)return[];let A=p4(t,l);return C&&E.size>0&&A.searchParams.set("_routes",e.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[l,u,i,s,m,e,t,a]),x=N.useMemo(()=>u4(g,s),[g,s]),_=b4(g);return N.createElement(N.Fragment,null,v.map(E=>N.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>N.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:C})=>N.createElement("link",{key:E,...C})))}function w4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sk&&(window.__reactRouterVersion="7.5.3")}catch{}function _4({basename:t,children:e,window:n}){let i=N.useRef();i.current==null&&(i.current=lO({window:n,v5Compat:!0}));let s=i.current,[a,l]=N.useState({action:s.action,location:s.location}),u=N.useCallback(h=>{N.startTransition(()=>l(h))},[l]);return N.useLayoutEffect(()=>s.listen(u),[s,u]),N.createElement(QO,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var Ak=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:m,preventScrollReset:g,viewTransition:v,...x},_){let{basename:E}=N.useContext(Is),C=typeof m=="string"&&Ak.test(m),A,j=!1;if(typeof m=="string"&&C&&(A=m,Sk))try{let I=new URL(window.location.href),M=m.startsWith("//")?new URL(I.protocol+m):new URL(m),z=la(M.pathname,E);M.origin===I.origin&&z!=null?m=z+M.search+M.hash:j=!0}catch{fs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=MO(m,{relative:s}),[L,q,H]=y4(i,x),W=A4(m,{replace:l,state:u,target:h,preventScrollReset:g,relative:s,viewTransition:v});function D(I){e&&e(I),I.defaultPrevented||W(I)}let k=N.createElement("a",{...x,...H,href:A||B,onClick:j||a?e:D,ref:w4(_,q),target:h,"data-discover":!C&&n==="render"?"true":void 0});return L&&!C?N.createElement(N.Fragment,null,k,N.createElement(v4,{page:B})):k});Ye.displayName="Link";var E4=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...m},g){let v=Uh(l,{relative:m.relative}),x=Ds(),_=N.useContext(bg),{navigator:E,basename:C}=N.useContext(Is),A=_!=null&&j4(v)&&u===!0,j=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,B=x.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(B=B.toLowerCase(),L=L?L.toLowerCase():null,j=j.toLowerCase()),L&&C&&(L=la(L,C)||L);const q=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let H=B===j||!s&&B.startsWith(j)&&B.charAt(q)==="/",W=L!=null&&(L===j||!s&&L.startsWith(j)&&L.charAt(j.length)==="/"),D={isActive:H,isPending:W,isTransitioning:A},k=H?e:void 0,I;typeof i=="function"?I=i(D):I=[i,H?"active":null,W?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(D):a;return N.createElement(Ye,{...m,"aria-current":k,className:I,ref:g,style:M,to:l,viewTransition:u},typeof h=="function"?h(D):h)});E4.displayName="NavLink";var T4=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Qm,action:u,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,...x},_)=>{let E=N4(),C=R4(u,{relative:m}),A=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&Ak.test(u),B=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let q=L.nativeEvent.submitter,H=(q==null?void 0:q.getAttribute("formmethod"))||l;E(q||L.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:s,state:a,relative:m,preventScrollReset:g,viewTransition:v})};return N.createElement("form",{ref:_,method:A,action:C,onSubmit:i?h:B,...x,"data-discover":!j&&t==="render"?"true":void 0})});T4.displayName="Form";function S4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ck(t){let e=N.useContext(_u);return Ft(e,S4(t)),e}function A4(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=Os(),h=Ds(),m=Uh(t,{relative:a});return N.useCallback(g=>{if(i4(g,e)){g.preventDefault();let v=n!==void 0?n:vh(h)===vh(m);u(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,m,n,i,e,t,s,a,l])}var C4=0,k4=()=>`__${String(++C4)}__`;function N4(){let{router:t}=Ck("useSubmit"),{basename:e}=N.useContext(Is),n=WO();return N.useCallback(async(i,s={})=>{let{action:a,method:l,encType:u,formData:h,body:m}=a4(i,e);if(s.navigate===!1){let g=s.fetcherKey||k4();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function R4(t,{relative:e}={}){let{basename:n}=N.useContext(Is),i=N.useContext(Ms);Ft(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Uh(t||".",{relative:e})},l=Ds();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:na([n,a.pathname])),vh(a)}function j4(t,e={}){let n=N.useContext(vk);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ck("useViewTransitionState"),s=Uh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=la(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=la(n.nextLocation.pathname,i)||n.nextLocation.pathname;return wp(s.pathname,l)!=null||wp(s.pathname,a)!=null}new TextEncoder;[...m4];function ia(){return d.jsx("footer",{className:"footer",children:d.jsxs("div",{className:"footer-container",children:[d.jsxs("div",{className:"footer-content",children:[d.jsxs("div",{className:"footer-brand",children:[d.jsx("h3",{className:"footer-logo",children:"🎀 Moñitos"}),d.jsx("p",{className:"footer-tagline",children:"Productos de calidad para cada ocasión."}),d.jsxs("div",{className:"footer-social",children:[d.jsx("a",{href:"mailto:info@monitos.com",className:"social-link","aria-label":"Gmail",children:d.jsx("i",{className:"fab fa-google"})}),d.jsx("a",{href:"https://wa.me/571234567890",className:"social-link","aria-label":"WhatsApp",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-whatsapp"})}),d.jsx("a",{href:"https://t.me/monitos_support",className:"social-link","aria-label":"Telegram",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-telegram"})}),d.jsx("a",{href:"https://www.tiktok.com/@monitos",className:"social-link","aria-label":"TikTok",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-tiktok"})}),d.jsx("a",{href:"https://www.facebook.com/monitos",className:"social-link","aria-label":"Facebook",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-facebook-f"})})]})]}),d.jsxs("div",{className:"footer-links",children:[d.jsxs("div",{className:"link-column",children:[d.jsx("h4",{className:"link-title",children:"Explorar"}),d.jsxs("ul",{className:"link-list",children:[d.jsx("li",{className:"link-item",children:"Inicio"}),d.jsx("li",{className:"link-item",children:"Productos"}),d.jsx("li",{className:"link-item",children:"Novedades"}),d.jsx("li",{className:"link-item",children:"Ofertas"})]})]}),d.jsxs("div",{className:"link-column",children:[d.jsx("h4",{className:"link-title",children:"Ayuda"}),d.jsxs("ul",{className:"link-list",children:[d.jsx("li",{className:"link-item",children:"Contacto"}),d.jsx("li",{className:"link-item",children:"Preguntas Frecuentes"}),d.jsx("li",{className:"link-item",children:"Envíos"}),d.jsx("li",{className:"link-item",children:"Devoluciones"})]})]}),d.jsxs("div",{className:"link-column",children:[d.jsx("h4",{className:"link-title",children:"Legal"}),d.jsxs("ul",{className:"link-list",children:[d.jsx("li",{className:"link-item",children:"Términos de Uso"}),d.jsx("li",{className:"link-item",children:"Privacidad"}),d.jsx("li",{className:"link-item",children:"Cookies"}),d.jsx("li",{className:"link-item",children:"Licencias"})]})]})]})]}),d.jsx("div",{className:"footer-divider"}),d.jsxs("div",{className:"footer-bottom",children:[d.jsx("p",{className:"copyright",children:"© 2025 Moñitos. Todos los derechos reservados."}),d.jsxs("div",{className:"footer-bottom-links",children:[d.jsx("span",{className:"bottom-link",children:"Mapa del Sitio"}),d.jsx("span",{className:"bottom-link",children:"Accesibilidad"})]})]})]})})}const P4=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},I4=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Nk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let x=(u&15)<<2|m>>6,_=m&63;h||(_=64,l||(x=64)),i.push(n[g],n[v],n[x],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||m==null||v==null)throw new M4;const x=a<<2|u>>4;if(i.push(x),m!==64){const _=u<<4&240|m>>2;if(i.push(_),v!==64){const E=m<<6&192|v;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D4=function(t){const e=kk(t);return Nk.encodeByteArray(e,!0)},_p=function(t){return D4(t).replace(/\./g,"")},Rk=function(t){try{return Nk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=()=>O4().__FIREBASE_DEFAULTS__,V4=()=>{if(typeof process>"u"||typeof HE>"u")return;const t=HE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rk(t[1]);return e&&JSON.parse(e)},wg=()=>{try{return P4()||L4()||V4()||z4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jk=t=>{var e,n;return(n=(e=wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Pk=t=>{const e=jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ik=()=>{var t;return(t=wg())===null||t===void 0?void 0:t.config},Mk=t=>{var e;return(e=wg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_p(JSON.stringify(n)),_p(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function F4(){var t;const e=(t=wg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W4(){const t=si();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G4(){return!F4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K4(){try{return typeof indexedDB=="object"}catch{return!1}}function Y4(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="FirebaseError";class vr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=X4,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bh.prototype.create)}}class Bh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?Q4(a,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new vr(s,u,i)}}function Q4(t,e){return t.replace(Z4,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Z4=/\{\$([^}]+)}/g;function J4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],l=e[s];if(qE(a)&&qE(l)){if(!Nl(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function qE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Kd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eL(t,e){const n=new tL(t,e);return n.subscribe.bind(n)}class tL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=lv),s.error===void 0&&(s.error=lv),s.complete===void 0&&(s.complete=lv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new U4;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rL(e))try{this.getOrInitializeService({instanceIdentifier:pl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pl){return this.instances.has(e)}getOptions(e=pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pl){return this.component?this.component.multipleInstances?e:pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sL(t){return t===pl?void 0:t}function rL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const oL={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},lL=Ze.INFO,cL={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},uL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=cL[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cx{constructor(e){this.name=e,this._logLevel=lL,this._logHandler=uL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const dL=(t,e)=>e.some(n=>t instanceof n);let $E,WE;function hL(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fL(){return WE||(WE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ok=new WeakMap,Qv=new WeakMap,Lk=new WeakMap,cv=new WeakMap,ux=new WeakMap;function mL(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(oo(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Ok.set(n,t)}).catch(()=>{}),ux.set(e,t),e}function pL(t){if(Qv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Qv.set(t,e)}let Zv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gL(t){Zv=t(Zv)}function yL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(uv(this),e,...n);return Lk.set(i,e.sort?e.sort():[e]),oo(i)}:fL().includes(t)?function(...e){return t.apply(uv(this),e),oo(Ok.get(this))}:function(...e){return oo(t.apply(uv(this),e))}}function vL(t){return typeof t=="function"?yL(t):(t instanceof IDBTransaction&&pL(t),dL(t,hL())?new Proxy(t,Zv):t)}function oo(t){if(t instanceof IDBRequest)return mL(t);if(cv.has(t))return cv.get(t);const e=vL(t);return e!==t&&(cv.set(t,e),ux.set(e,t)),e}const uv=t=>ux.get(t);function bL(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=oo(l);return i&&l.addEventListener("upgradeneeded",h=>{i(oo(l.result),h.oldVersion,h.newVersion,oo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const xL=["get","getKey","getAll","getAllKeys","count"],wL=["put","add","delete","clear"],dv=new Map;function GE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dv.get(e))return dv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=wL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||xL.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&h.done]))[0]};return dv.set(e,a),a}gL(t=>({...t,get:(e,n,i)=>GE(e,n)||t.get(e,n,i),has:(e,n)=>!!GE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function EL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jv="@firebase/app",KE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new cx("@firebase/app"),TL="@firebase/app-compat",SL="@firebase/analytics-compat",AL="@firebase/analytics",CL="@firebase/app-check-compat",kL="@firebase/app-check",NL="@firebase/auth",RL="@firebase/auth-compat",jL="@firebase/database",PL="@firebase/data-connect",IL="@firebase/database-compat",ML="@firebase/functions",DL="@firebase/functions-compat",OL="@firebase/installations",LL="@firebase/installations-compat",VL="@firebase/messaging",zL="@firebase/messaging-compat",UL="@firebase/performance",BL="@firebase/performance-compat",FL="@firebase/remote-config",HL="@firebase/remote-config-compat",qL="@firebase/storage",$L="@firebase/storage-compat",WL="@firebase/firestore",GL="@firebase/vertexai",KL="@firebase/firestore-compat",YL="firebase",XL="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="[DEFAULT]",QL={[Jv]:"fire-core",[TL]:"fire-core-compat",[AL]:"fire-analytics",[SL]:"fire-analytics-compat",[kL]:"fire-app-check",[CL]:"fire-app-check-compat",[NL]:"fire-auth",[RL]:"fire-auth-compat",[jL]:"fire-rtdb",[PL]:"fire-data-connect",[IL]:"fire-rtdb-compat",[ML]:"fire-fn",[DL]:"fire-fn-compat",[OL]:"fire-iid",[LL]:"fire-iid-compat",[VL]:"fire-fcm",[zL]:"fire-fcm-compat",[UL]:"fire-perf",[BL]:"fire-perf-compat",[FL]:"fire-rc",[HL]:"fire-rc-compat",[qL]:"fire-gcs",[$L]:"fire-gcs-compat",[WL]:"fire-fst",[KL]:"fire-fst-compat",[GL]:"fire-vertex","fire-js":"fire-js",[YL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new Map,ZL=new Map,tb=new Map;function YE(t,e){try{t.container.addComponent(e)}catch(n){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(tb.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;tb.set(e,t);for(const n of Ep.values())YE(n,t);for(const n of ZL.values())YE(n,t);return!0}function _g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Bh("app","Firebase",JL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=XL;function Vk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:eb,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(n||(n=Ik()),!n)throw lo.create("no-options");const a=Ep.get(s);if(a){if(Nl(n,a.options)&&Nl(i,a.config))return a;throw lo.create("duplicate-app",{appName:s})}const l=new aL(s);for(const h of tb.values())l.addComponent(h);const u=new e5(n,i,l);return Ep.set(s,u),u}function dx(t=eb){const e=Ep.get(t);if(!e&&t===eb&&Ik())return Vk();if(!e)throw lo.create("no-app",{appName:t});return e}function or(t,e,n){var i;let s=(i=QL[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(u.join(" "));return}Rl(new po(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="firebase-heartbeat-database",n5=1,bh="firebase-heartbeat-store";let hv=null;function zk(){return hv||(hv=bL(t5,n5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),hv}async function i5(t){try{const n=(await zk()).transaction(bh),i=await n.objectStore(bh).get(Uk(t));return await n.done,i}catch(e){if(e instanceof vr)ca.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(n.message)}}}async function XE(t,e){try{const i=(await zk()).transaction(bh,"readwrite");await i.objectStore(bh).put(e,Uk(t)),await i.done}catch(n){if(n instanceof vr)ca.warn(n.message);else{const i=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ca.warn(i.message)}}}function Uk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=1024,r5=30;class a5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=QE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>r5){const l=c5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ca.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QE(),{heartbeatsToSend:i,unsentEntries:s}=o5(this._heartbeatsCache.heartbeats),a=_p(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ca.warn(n),""}}}function QE(){return new Date().toISOString().substring(0,10)}function o5(t,e=s5){const n=[];let i=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),ZE(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ZE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class l5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K4()?Y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return XE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return XE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ZE(t){return _p(JSON.stringify({version:2,heartbeats:t})).length}function c5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){Rl(new po("platform-logger",e=>new _L(e),"PRIVATE")),Rl(new po("heartbeat",e=>new a5(e),"PRIVATE")),or(Jv,KE,t),or(Jv,KE,"esm2017"),or("fire-js","")}u5("");var d5="firebase",h5="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(d5,h5,"app");function hx(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Bk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f5=Bk,Fk=new Bh("auth","Firebase",Bk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new cx("@firebase/auth");function m5(t,...e){Tp.logLevel<=Ze.WARN&&Tp.warn(`Auth (${Ul}): ${t}`,...e)}function Jm(t,...e){Tp.logLevel<=Ze.ERROR&&Tp.error(`Auth (${Ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,...e){throw mx(t,...e)}function Rs(t,...e){return mx(t,...e)}function fx(t,e,n){const i=Object.assign(Object.assign({},f5()),{[e]:n});return new Bh("auth","Firebase",i).create(e,{appName:t.name})}function sa(t){return fx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p5(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ms(t,"argument-error"),fx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mx(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Fk.create(t,...e)}function Oe(t,e,...n){if(!t)throw mx(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jm(e),new Error(e)}function ua(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function g5(){return JE()==="http:"||JE()==="https:"}function JE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g5()||q4()||"connection"in navigator)?navigator.onLine:!0}function v5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ua(n>e,"Short delay should be less than long delay!"),this.isMobile=B4()||$4()}get(){return y5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){ua(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w5=new Hh(3e4,6e4);function ga(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ls(t,e,n,i,s={}){return qk(t,s,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=Fh(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return H4()||(m.referrerPolicy="no-referrer"),Hk.fetch()(await $k(t,t.config.apiHost,n,u),m)})}async function qk(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},b5),e);try{const s=new E5(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Sm(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sm(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Sm(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Sm(t,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fx(t,g,m);ms(t,g)}}catch(s){if(s instanceof vr)throw s;ms(t,"network-request-failed",{message:String(s)})}}async function qh(t,e,n,i,s={}){const a=await Ls(t,e,n,i,s);return"mfaPendingCredential"in a&&ms(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function $k(t,e,n,i){const s=`${e}${n}?${i}`,a=t,l=a.config.emulator?px(t.config,s):`${t.config.apiScheme}://${s}`;return x5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function _5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Rs(this.auth,"network-request-failed")),w5.get())})}}function Sm(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Rs(t,e,i);return s.customData._tokenResponse=n,s}function eT(t){return t!==void 0&&t.enterprise!==void 0}class T5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S5(t,e){return Ls(t,"GET","/v2/recaptchaConfig",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function Sp(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C5(t,e=!1){const n=Ht(t),i=await n.getIdToken(e),s=gx(i);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:sh(fv(s.auth_time)),issuedAtTime:sh(fv(s.iat)),expirationTime:sh(fv(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function gx(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Jm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Rk(n);return s?JSON.parse(s):(Jm("Failed to decode base64 JWT payload"),null)}catch(s){return Jm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function tT(t){const e=gx(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vr&&k5(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function k5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sh(this.lastLoginAt),this.creationTime=sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t){var e;const n=t.auth,i=await t.getIdToken(),s=await jl(t,Sp(n,{idToken:i}));Oe(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Wk(a.providerUserInfo):[],u=j5(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),g=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ib(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function R5(t){const e=Ht(t);await Ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j5(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Wk(t){return t.map(e=>{var{providerId:n}=e,i=hx(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,e){const n=await qk(t,{},async()=>{const i=Fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await $k(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Hk.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I5(t,e){return Ls(t,"POST","/v2/accounts:revokeToken",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=tT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await P5(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new Zc;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Oe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Oe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zc,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=hx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ib(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C5(this,e)}reload(){return R5(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ap(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await jl(this,A5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,l,u,h,m,g;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,_=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,j=(m=n.createdAt)!==null&&m!==void 0?m:void 0,B=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:q,isAnonymous:H,providerData:W,stsTokenManager:D}=n;Oe(L&&D,e,"internal-error");const k=Zc.fromJSON(this.name,D);Oe(typeof L=="string",e,"internal-error"),Ya(v,e.name),Ya(x,e.name),Oe(typeof q=="boolean",e,"internal-error"),Oe(typeof H=="boolean",e,"internal-error"),Ya(_,e.name),Ya(E,e.name),Ya(C,e.name),Ya(A,e.name),Ya(j,e.name),Ya(B,e.name);const I=new ks({uid:L,auth:e,email:x,emailVerified:q,displayName:v,isAnonymous:H,photoURL:E,phoneNumber:_,tenantId:C,stsTokenManager:k,createdAt:j,lastLoginAt:B});return W&&Array.isArray(W)&&(I.providerData=W.map(M=>Object.assign({},M))),A&&(I._redirectEventId=A),I}static async _fromIdTokenResponse(e,n,i=!1){const s=new Zc;s.updateFromServerResponse(n);const a=new ks({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ap(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Wk(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),u=new Zc;u.updateFromIdToken(i);const h=new ks({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ib(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;function ea(t){ua(t instanceof Function,"Expected a class definition");let e=nT.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gk.type="NONE";const iT=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){return`firebase:${t}:${e}:${n}`}class Jc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=ep(this.userKey,s.apiKey,a),this.fullPersistenceKey=ep("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sp(this.auth,{idToken:e}).catch(()=>{});return n?ks._fromGetAccountInfoResponse(this.auth,n,e):null}return ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Jc(ea(iT),e,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ea(iT);const l=ep(i,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(l);if(g){let v;if(typeof g=="string"){const x=await Sp(e,{idToken:g}).catch(()=>{});if(!x)break;v=await ks._fromGetAccountInfoResponse(e,x,g)}else v=ks._fromJSON(e,g);m!==a&&(u=v),a=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Jc(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Jc(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jk(e))return"Blackberry";if(eN(e))return"Webos";if(Yk(e))return"Safari";if((e.includes("chrome/")||Xk(e))&&!e.includes("edge/"))return"Chrome";if(Zk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Kk(t=si()){return/firefox\//i.test(t)}function Yk(t=si()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xk(t=si()){return/crios\//i.test(t)}function Qk(t=si()){return/iemobile/i.test(t)}function Zk(t=si()){return/android/i.test(t)}function Jk(t=si()){return/blackberry/i.test(t)}function eN(t=si()){return/webos/i.test(t)}function yx(t=si()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M5(t=si()){var e;return yx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D5(){return W4()&&document.documentMode===10}function tN(t=si()){return yx(t)||Zk(t)||eN(t)||Jk(t)||/windows phone/i.test(t)||Qk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t,e=[]){let n;switch(t){case"Browser":n=sT(si());break;case"Worker":n=`${sT(si())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",ga(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=6;class z5{constructor(e){var n,i,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:V5,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new O5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ea(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Jc.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sp(this,{idToken:e}),i=await ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ap(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(sa(this));const n=e?Ht(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L5(this),n=new z5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await I5(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ea(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Jc.create(this,[ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&m5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(t){return Ht(t)}class rT{constructor(e){this.auth=e,this.observer=null,this.addObserver=eL(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B5(t){Eg=t}function iN(t){return Eg.loadJS(t)}function F5(){return Eg.recaptchaEnterpriseScript}function H5(){return Eg.gapiScript}function q5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $5{constructor(){this.enterprise=new W5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class W5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const G5="recaptcha-enterprise",sN="NO_RECAPTCHA";class K5{constructor(e){this.type=G5,this.auth=ya(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{S5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new T5(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;eT(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(sN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $5().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!n&&eT(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=F5();h.length!==0&&(h+=u),iN(h).then(()=>{s(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function aT(t,e,n,i=!1,s=!1){const a=new K5(t);let l;if(s)l=sN;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Cp(t,e,n,i,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await aT(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await aT(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t,e){const n=_g(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Nl(a,e??{}))return s;ms(s,"already-initialized")}return n.initialize({options:e})}function X5(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ea);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Q5(t,e,n){const i=ya(t);Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=rN(e),{host:l,port:u}=Z5(e),h=u===null?"":`:${u}`,m={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Oe(Nl(m,i.config.emulator)&&Nl(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,J5()}function rN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z5(t){const e=rN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:oT(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:oT(l)}}}function oT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function J5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function e6(t,e){return Ls(t,"POST","/v1/accounts:update",e)}async function t6(t,e){return Ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){return qh(t,"POST","/v1/accounts:signInWithPassword",ga(t,e))}async function i6(t,e){return Ls(t,"POST","/v1/accounts:sendOobCode",ga(t,e))}async function s6(t,e){return i6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e){return qh(t,"POST","/v1/accounts:signInWithEmailLink",ga(t,e))}async function a6(t,e){return qh(t,"POST","/v1/accounts:signInWithEmailLink",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends vx{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new xh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,n,"signInWithPassword",n6);case"emailLink":return r6(e,{email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,i,"signUpPassword",t6);case"emailLink":return a6(e,{idToken:n,email:this._email,oobCode:this._password});default:ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e){return qh(t,"POST","/v1/accounts:signInWithIdp",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="http://localhost";class Pl extends vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,a=hx(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Pl(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return eu(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,eu(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eu(e,n)}buildRequest(){const e={requestUri:o6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c6(t){const e=Gd(Kd(t)).link,n=e?Gd(Kd(e)).deep_link_id:null,i=Gd(Kd(t)).deep_link_id;return(i?Gd(Kd(i)).link:null)||i||n||e||t}class bx{constructor(e){var n,i,s,a,l,u;const h=Gd(Kd(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,v=l6((s=h.mode)!==null&&s!==void 0?s:null);Oe(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=c6(e);try{return new bx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.providerId=Tu.PROVIDER_ID}static credential(e,n){return xh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=bx.parseLink(n);return Oe(i,"argument-error"),xh._fromEmailAndCode(e,i.code,i.tenantId)}}Tu.PROVIDER_ID="password";Tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends xx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends $h{constructor(){super("facebook.com")}static credential(e){return Pl._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.FACEBOOK_SIGN_IN_METHOD="facebook.com";Za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pl._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Zr.credential(n,i)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends $h{constructor(){super("github.com")}static credential(e){return Pl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends $h{constructor(){super("twitter.com")}static credential(e,n){return Pl._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return eo.credential(n,i)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(t,e){return qh(t,"POST","/v1/accounts:signUp",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await ks._fromIdTokenResponse(e,i,s),l=lT(i);return new Il({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=lT(i);return new Il({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function lT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends vr{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,kp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new kp(e,n,i,s)}}function aN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kp._fromErrorAndOperation(t,a,e,i):a})}async function d6(t,e,n=!1){const i=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Il._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e,n=!1){const{auth:i}=t;if(Ei(i.app))return Promise.reject(sa(i));const s="reauthenticate";try{const a=await jl(t,aN(i,s,e,t),n);Oe(a.idToken,i,"internal-error");const l=gx(a.idToken);Oe(l,i,"internal-error");const{sub:u}=l;return Oe(t.uid===u,i,"user-mismatch"),Il._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ms(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e,n=!1){if(Ei(t.app))return Promise.reject(sa(t));const i="signIn",s=await aN(t,i,e),a=await Il._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function f6(t,e){return oN(ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t){const e=ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function m6(t,e,n){const i=ya(t);await Cp(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",s6)}async function p6(t,e,n){if(Ei(t.app))return Promise.reject(sa(t));const i=ya(t),l=await Cp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u6).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&lN(t),h}),u=await Il._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function g6(t,e,n){return Ei(t.app)?Promise.reject(sa(t)):f6(Ht(t),Tu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&lN(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e){return Ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ht(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await jl(i,y6(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function v6(t,e){return b6(Ht(t),null,e)}async function b6(t,e,n){const{auth:i}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await jl(t,e6(i,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e){return Ht(t).setPersistence(e)}function x6(t,e,n,i){return Ht(t).onIdTokenChanged(e,n,i)}function w6(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function va(t,e,n,i){return Ht(t).onAuthStateChanged(e,n,i)}function _6(t){return Ht(t).signOut()}async function E6(t){return Ht(t).delete()}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=1e3,S6=10;class uN extends cN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);D5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,S6):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},T6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uN.type="LOCAL";const sb=uN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends cN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dN.type="SESSION";const Rp=dN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Tg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async m=>m(n.origin,a)),h=await A6(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const m=wx("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function k6(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function N6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j6(){return hN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebaseLocalStorageDb",P6=1,jp="firebaseLocalStorage",mN="fbase_key";class Wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(t,e){return t.transaction([jp],e?"readwrite":"readonly").objectStore(jp)}function I6(){const t=indexedDB.deleteDatabase(fN);return new Wh(t).toPromise()}function rb(){const t=indexedDB.open(fN,P6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(jp,{keyPath:mN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(jp)?e(i):(i.close(),await I6(),e(await rb()))})})}async function dT(t,e,n){const i=Sg(t,!0).put({[mN]:e,value:n});return new Wh(i).toPromise()}async function M6(t,e){const n=Sg(t,!1).get(e),i=await new Wh(n).toPromise();return i===void 0?null:i.value}function hT(t,e){const n=Sg(t,!0).delete(e);return new Wh(n).toPromise()}const D6=800,O6=3;class pN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>O6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(j6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await N6(),!this.activeServiceWorker)return;this.sender=new C6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rb();return await dT(e,Np,"1"),await hT(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>dT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>M6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Sg(s,!1).getAll();return new Wh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pN.type="LOCAL";const L6=pN;new Hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){return e?ea(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V6(t){return oN(t.auth,new _x(t),t.bypassAuthState)}function z6(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),h6(n,new _x(t),t.bypassAuthState)}async function U6(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),d6(n,new _x(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V6;case"linkViaPopup":case"linkViaRedirect":return U6;case"reauthViaPopup":case"reauthViaRedirect":return z6;default:ms(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new Hh(2e3,1e4);async function F6(t,e,n){if(Ei(t.app))return Promise.reject(Rs(t,"operation-not-supported-in-this-environment"));const i=ya(t);p5(t,e,xx);const s=gN(i,n);return new bl(i,"signInViaPopup",e,s).executeNotNull()}class bl extends yN{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=wx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B6.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="pendingRedirect",tp=new Map;class q6 extends yN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const i=await $6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $6(t,e){const n=K6(e),i=G6(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function W6(t,e){tp.set(t._key(),e)}function G6(t){return ea(t._redirectPersistence)}function K6(t){return ep(H6,t.config.apiKey,t.name)}async function Y6(t,e,n=!1){if(Ei(t.app))return Promise.reject(sa(t));const i=ya(t),s=gN(i,e),l=await new q6(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=10*60*1e3;class Q6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!vN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X6&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t3=/^https?/;async function n3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J6(t);for(const n of e)try{if(i3(n))return}catch{}ms(t,"unauthorized-domain")}function i3(t){const e=nb(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!t3.test(n))return!1;if(e3.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new Hh(3e4,6e4);function mT(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function r3(t){return new Promise((e,n)=>{var i,s,a;function l(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),n(Rs(t,"network-request-failed"))},timeout:s3.get()})}if(!((s=(i=lr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=lr().gapi)===null||a===void 0)&&a.load)l();else{const u=q5("iframefcb");return lr()[u]=()=>{gapi.load?l():n(Rs(t,"network-request-failed"))},iN(`${H5()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw np=null,e})}let np=null;function a3(t){return np=np||r3(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new Hh(5e3,15e3),l3="__/auth/iframe",c3="emulator/auth/iframe",u3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h3(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?px(e,c3):`https://${t.config.authDomain}/${l3}`,i={apiKey:e.apiKey,appName:t.name,v:Ul},s=d3.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Fh(i).slice(1)}`}async function f3(t){const e=await a3(t),n=lr().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:h3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u3,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Rs(t,"network-request-failed"),u=lr().setTimeout(()=>{a(l)},o3.get());function h(){lr().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p3=500,g3=600,y3="_blank",v3="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b3(t,e,n,i=p3,s=g3){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},m3),{width:i.toString(),height:s.toString(),top:a,left:l}),m=si().toLowerCase();n&&(u=Xk(m)?y3:n),Kk(m)&&(e=e||v3,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[_,E])=>`${x}${_}=${E},`,"");if(M5(m)&&u!=="_self")return x3(e||"",u),new pT(null);const v=window.open(e||"",u,g);Oe(v,t,"popup-blocked");try{v.focus()}catch{}return new pT(v)}function x3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="__/auth/handler",_3="emulator/auth/handler",E3=encodeURIComponent("fac");async function gT(t,e,n,i,s,a){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ul,eventId:s};if(e instanceof xx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",J4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof $h){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),m=h?`#${E3}=${encodeURIComponent(h)}`:"";return`${T3(t)}?${Fh(u).slice(1)}${m}`}function T3({config:t}){return t.emulator?px(t,_3):`https://${t.authDomain}/${w3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="webStorageSupport";class S3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rp,this._completeRedirectFn=Y6,this._overrideRedirectResult=W6}async _openPopup(e,n,i,s){var a;ua((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await gT(e,n,i,nb(),s);return b3(e,l,wx())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await gT(e,n,i,nb(),s);return k6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ua(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await f3(e),i=new Q6(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mv,{type:mv},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[mv];l!==void 0&&n(!!l),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tN()||Yk()||yx()}}const A3=S3;var yT="@firebase/auth",vT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N3(t){Rl(new po("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nN(t)},m=new U5(i,s,a,h);return X5(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Rl(new po("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(i=>new C3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(yT,vT,k3(t)),or(yT,vT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=5*60,j3=Mk("authIdTokenMaxAge")||R3;let bT=null;const P3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>j3)return;const s=n==null?void 0:n.token;bT!==s&&(bT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function I3(t=dx()){const e=_g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y5(t,{popupRedirectResolver:A3,persistence:[L6,sb,Rp]}),i=Mk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=P3(a.toString());w6(n,l,()=>l(n.currentUser)),x6(n,u=>l(u))}}const s=jk("auth");return s&&Q5(n,`http://${s}`),n}function M3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}B5({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Rs("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",M3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N3("Browser");var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,bN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,k){function I(){}I.prototype=k.prototype,D.D=k.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(M,z,U){for(var R=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)R[ge-2]=arguments[ge];return k.prototype[z].apply(M,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,k,I){I||(I=0);var M=Array(16);if(typeof k=="string")for(var z=0;16>z;++z)M[z]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(z=0;16>z;++z)M[z]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=D.g[0],I=D.g[1],z=D.g[2];var U=D.g[3],R=k+(U^I&(z^U))+M[0]+3614090360&4294967295;k=I+(R<<7&4294967295|R>>>25),R=U+(z^k&(I^z))+M[1]+3905402710&4294967295,U=k+(R<<12&4294967295|R>>>20),R=z+(I^U&(k^I))+M[2]+606105819&4294967295,z=U+(R<<17&4294967295|R>>>15),R=I+(k^z&(U^k))+M[3]+3250441966&4294967295,I=z+(R<<22&4294967295|R>>>10),R=k+(U^I&(z^U))+M[4]+4118548399&4294967295,k=I+(R<<7&4294967295|R>>>25),R=U+(z^k&(I^z))+M[5]+1200080426&4294967295,U=k+(R<<12&4294967295|R>>>20),R=z+(I^U&(k^I))+M[6]+2821735955&4294967295,z=U+(R<<17&4294967295|R>>>15),R=I+(k^z&(U^k))+M[7]+4249261313&4294967295,I=z+(R<<22&4294967295|R>>>10),R=k+(U^I&(z^U))+M[8]+1770035416&4294967295,k=I+(R<<7&4294967295|R>>>25),R=U+(z^k&(I^z))+M[9]+2336552879&4294967295,U=k+(R<<12&4294967295|R>>>20),R=z+(I^U&(k^I))+M[10]+4294925233&4294967295,z=U+(R<<17&4294967295|R>>>15),R=I+(k^z&(U^k))+M[11]+2304563134&4294967295,I=z+(R<<22&4294967295|R>>>10),R=k+(U^I&(z^U))+M[12]+1804603682&4294967295,k=I+(R<<7&4294967295|R>>>25),R=U+(z^k&(I^z))+M[13]+4254626195&4294967295,U=k+(R<<12&4294967295|R>>>20),R=z+(I^U&(k^I))+M[14]+2792965006&4294967295,z=U+(R<<17&4294967295|R>>>15),R=I+(k^z&(U^k))+M[15]+1236535329&4294967295,I=z+(R<<22&4294967295|R>>>10),R=k+(z^U&(I^z))+M[1]+4129170786&4294967295,k=I+(R<<5&4294967295|R>>>27),R=U+(I^z&(k^I))+M[6]+3225465664&4294967295,U=k+(R<<9&4294967295|R>>>23),R=z+(k^I&(U^k))+M[11]+643717713&4294967295,z=U+(R<<14&4294967295|R>>>18),R=I+(U^k&(z^U))+M[0]+3921069994&4294967295,I=z+(R<<20&4294967295|R>>>12),R=k+(z^U&(I^z))+M[5]+3593408605&4294967295,k=I+(R<<5&4294967295|R>>>27),R=U+(I^z&(k^I))+M[10]+38016083&4294967295,U=k+(R<<9&4294967295|R>>>23),R=z+(k^I&(U^k))+M[15]+3634488961&4294967295,z=U+(R<<14&4294967295|R>>>18),R=I+(U^k&(z^U))+M[4]+3889429448&4294967295,I=z+(R<<20&4294967295|R>>>12),R=k+(z^U&(I^z))+M[9]+568446438&4294967295,k=I+(R<<5&4294967295|R>>>27),R=U+(I^z&(k^I))+M[14]+3275163606&4294967295,U=k+(R<<9&4294967295|R>>>23),R=z+(k^I&(U^k))+M[3]+4107603335&4294967295,z=U+(R<<14&4294967295|R>>>18),R=I+(U^k&(z^U))+M[8]+1163531501&4294967295,I=z+(R<<20&4294967295|R>>>12),R=k+(z^U&(I^z))+M[13]+2850285829&4294967295,k=I+(R<<5&4294967295|R>>>27),R=U+(I^z&(k^I))+M[2]+4243563512&4294967295,U=k+(R<<9&4294967295|R>>>23),R=z+(k^I&(U^k))+M[7]+1735328473&4294967295,z=U+(R<<14&4294967295|R>>>18),R=I+(U^k&(z^U))+M[12]+2368359562&4294967295,I=z+(R<<20&4294967295|R>>>12),R=k+(I^z^U)+M[5]+4294588738&4294967295,k=I+(R<<4&4294967295|R>>>28),R=U+(k^I^z)+M[8]+2272392833&4294967295,U=k+(R<<11&4294967295|R>>>21),R=z+(U^k^I)+M[11]+1839030562&4294967295,z=U+(R<<16&4294967295|R>>>16),R=I+(z^U^k)+M[14]+4259657740&4294967295,I=z+(R<<23&4294967295|R>>>9),R=k+(I^z^U)+M[1]+2763975236&4294967295,k=I+(R<<4&4294967295|R>>>28),R=U+(k^I^z)+M[4]+1272893353&4294967295,U=k+(R<<11&4294967295|R>>>21),R=z+(U^k^I)+M[7]+4139469664&4294967295,z=U+(R<<16&4294967295|R>>>16),R=I+(z^U^k)+M[10]+3200236656&4294967295,I=z+(R<<23&4294967295|R>>>9),R=k+(I^z^U)+M[13]+681279174&4294967295,k=I+(R<<4&4294967295|R>>>28),R=U+(k^I^z)+M[0]+3936430074&4294967295,U=k+(R<<11&4294967295|R>>>21),R=z+(U^k^I)+M[3]+3572445317&4294967295,z=U+(R<<16&4294967295|R>>>16),R=I+(z^U^k)+M[6]+76029189&4294967295,I=z+(R<<23&4294967295|R>>>9),R=k+(I^z^U)+M[9]+3654602809&4294967295,k=I+(R<<4&4294967295|R>>>28),R=U+(k^I^z)+M[12]+3873151461&4294967295,U=k+(R<<11&4294967295|R>>>21),R=z+(U^k^I)+M[15]+530742520&4294967295,z=U+(R<<16&4294967295|R>>>16),R=I+(z^U^k)+M[2]+3299628645&4294967295,I=z+(R<<23&4294967295|R>>>9),R=k+(z^(I|~U))+M[0]+4096336452&4294967295,k=I+(R<<6&4294967295|R>>>26),R=U+(I^(k|~z))+M[7]+1126891415&4294967295,U=k+(R<<10&4294967295|R>>>22),R=z+(k^(U|~I))+M[14]+2878612391&4294967295,z=U+(R<<15&4294967295|R>>>17),R=I+(U^(z|~k))+M[5]+4237533241&4294967295,I=z+(R<<21&4294967295|R>>>11),R=k+(z^(I|~U))+M[12]+1700485571&4294967295,k=I+(R<<6&4294967295|R>>>26),R=U+(I^(k|~z))+M[3]+2399980690&4294967295,U=k+(R<<10&4294967295|R>>>22),R=z+(k^(U|~I))+M[10]+4293915773&4294967295,z=U+(R<<15&4294967295|R>>>17),R=I+(U^(z|~k))+M[1]+2240044497&4294967295,I=z+(R<<21&4294967295|R>>>11),R=k+(z^(I|~U))+M[8]+1873313359&4294967295,k=I+(R<<6&4294967295|R>>>26),R=U+(I^(k|~z))+M[15]+4264355552&4294967295,U=k+(R<<10&4294967295|R>>>22),R=z+(k^(U|~I))+M[6]+2734768916&4294967295,z=U+(R<<15&4294967295|R>>>17),R=I+(U^(z|~k))+M[13]+1309151649&4294967295,I=z+(R<<21&4294967295|R>>>11),R=k+(z^(I|~U))+M[4]+4149444226&4294967295,k=I+(R<<6&4294967295|R>>>26),R=U+(I^(k|~z))+M[11]+3174756917&4294967295,U=k+(R<<10&4294967295|R>>>22),R=z+(k^(U|~I))+M[2]+718787259&4294967295,z=U+(R<<15&4294967295|R>>>17),R=I+(U^(z|~k))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(z+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+U&4294967295}i.prototype.u=function(D,k){k===void 0&&(k=D.length);for(var I=k-this.blockSize,M=this.B,z=this.h,U=0;U<k;){if(z==0)for(;U<=I;)s(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<k;)if(M[z++]=D.charCodeAt(U++),z==this.blockSize){s(this,M),z=0;break}}else for(;U<k;)if(M[z++]=D[U++],z==this.blockSize){s(this,M),z=0;break}}this.h=z,this.o+=k},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;var I=8*this.o;for(k=D.length-8;k<D.length;++k)D[k]=I&255,I/=256;for(this.u(D),D=Array(16),k=I=0;4>k;++k)for(var M=0;32>M;M+=8)D[I++]=this.g[k]>>>M&255;return D};function a(D,k){var I=u;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=k(D)}function l(D,k){this.h=k;for(var I=[],M=!0,z=D.length-1;0<=z;z--){var U=D[z]|0;M&&U==k||(I[z]=U,M=!1)}this.g=I}var u={};function h(D){return-128<=D&&128>D?a(D,function(k){return new l([k|0],0>k?-1:0)}):new l([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return A(m(-D));for(var k=[],I=1,M=0;D>=I;M++)k[M]=D/I|0,I*=4294967296;return new l(k,0)}function g(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return A(g(D.substring(1),k));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(k,8)),M=v,z=0;z<D.length;z+=8){var U=Math.min(8,D.length-z),R=parseInt(D.substring(z,z+U),k);8>U?(U=m(Math.pow(k,U)),M=M.j(U).add(m(R))):(M=M.j(I),M=M.add(m(R)))}return M}var v=h(0),x=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-A(this).m();for(var D=0,k=1,I=0;I<this.g.length;I++){var M=this.i(I);D+=(0<=M?M:4294967296+M)*k,k*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(C(this))return"-"+A(this).toString(D);for(var k=m(Math.pow(D,6)),I=this,M="";;){var z=q(I,k).g;I=j(I,z.j(k));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=z,E(I))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(var k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function C(D){return D.h==-1}t.l=function(D){return D=j(this,D),C(D)?-1:E(D)?0:1};function A(D){for(var k=D.g.length,I=[],M=0;M<k;M++)I[M]=~D.g[M];return new l(I,~D.h).add(x)}t.abs=function(){return C(this)?A(this):this},t.add=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],M=0,z=0;z<=k;z++){var U=M+(this.i(z)&65535)+(D.i(z)&65535),R=(U>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);M=R>>>16,U&=65535,R&=65535,I[z]=R<<16|U}return new l(I,I[I.length-1]&-2147483648?-1:0)};function j(D,k){return D.add(A(k))}t.j=function(D){if(E(this)||E(D))return v;if(C(this))return C(D)?A(this).j(A(D)):A(A(this).j(D));if(C(D))return A(this.j(A(D)));if(0>this.l(_)&&0>D.l(_))return m(this.m()*D.m());for(var k=this.g.length+D.g.length,I=[],M=0;M<2*k;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var z=0;z<D.g.length;z++){var U=this.i(M)>>>16,R=this.i(M)&65535,ge=D.i(z)>>>16,te=D.i(z)&65535;I[2*M+2*z]+=R*te,B(I,2*M+2*z),I[2*M+2*z+1]+=U*te,B(I,2*M+2*z+1),I[2*M+2*z+1]+=R*ge,B(I,2*M+2*z+1),I[2*M+2*z+2]+=U*ge,B(I,2*M+2*z+2)}for(M=0;M<k;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=k;M<2*k;M++)I[M]=0;return new l(I,0)};function B(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function L(D,k){this.g=D,this.h=k}function q(D,k){if(E(k))throw Error("division by zero");if(E(D))return new L(v,v);if(C(D))return k=q(A(D),k),new L(A(k.g),A(k.h));if(C(k))return k=q(D,A(k)),new L(A(k.g),k.h);if(30<D.g.length){if(C(D)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var I=x,M=k;0>=M.l(D);)I=H(I),M=H(M);var z=W(I,1),U=W(M,1);for(M=W(M,2),I=W(I,2);!E(M);){var R=U.add(M);0>=R.l(D)&&(z=z.add(I),U=R),M=W(M,1),I=W(I,1)}return k=j(D,z.j(k)),new L(z,k)}for(z=v;0<=D.l(k);){for(I=Math.max(1,Math.floor(D.m()/k.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=m(I),R=U.j(k);C(R)||0<R.l(D);)I-=M,U=m(I),R=U.j(k);E(U)&&(U=x),z=z.add(U),D=j(D,R)}return new L(z,D)}t.A=function(D){return q(this,D).h},t.and=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)&D.i(M);return new l(I,this.h&D.h)},t.or=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)|D.i(M);return new l(I,this.h|D.h)},t.xor=function(D){for(var k=Math.max(this.g.length,D.g.length),I=[],M=0;M<k;M++)I[M]=this.i(M)^D.i(M);return new l(I,this.h^D.h)};function H(D){for(var k=D.g.length+1,I=[],M=0;M<k;M++)I[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(I,D.h)}function W(D,k){var I=k>>5;k%=32;for(var M=D.g.length-I,z=[],U=0;U<M;U++)z[U]=0<k?D.i(U+I)>>>k|D.i(U+I+1)<<32-k:D.i(U+I);return new l(z,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,bN=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,co=l}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xN,Yd,wN,ip,ab,_N,EN,TN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,T){return p==Array.prototype||p==Object.prototype||(p[w]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Am=="object"&&Am];for(var w=0;w<p.length;++w){var T=p[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(p,w){if(w)e:{var T=i;p=p.split(".");for(var O=0;O<p.length-1;O++){var Z=p[O];if(!(Z in T))break e;T=T[Z]}p=p[p.length-1],O=T[p],w=w(O),w!=O&&w!=null&&e(T,p,{configurable:!0,writable:!0,value:w})}}function a(p,w){p instanceof String&&(p+="");var T=0,O=!1,Z={next:function(){if(!O&&T<p.length){var re=T++;return{value:w(re,p[re]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}s("Array.prototype.values",function(p){return p||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function m(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function g(p,w,T){return p.call.apply(p.bind,arguments)}function v(p,w,T){if(!p)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,O),p.apply(w,Z)}}return function(){return p.apply(w,arguments)}}function x(p,w,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,x.apply(null,arguments)}function _(p,w){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function E(p,w){function T(){}T.prototype=w.prototype,p.aa=w.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(O,Z,re){for(var be=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)be[nt-2]=arguments[nt];return w.prototype[Z].apply(O,be)}}function C(p){const w=p.length;if(0<w){const T=Array(w);for(let O=0;O<w;O++)T[O]=p[O];return T}return[]}function A(p,w){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(h(O)){const Z=p.length||0,re=O.length||0;p.length=Z+re;for(let be=0;be<re;be++)p[Z+be]=O[be]}else p.push(O)}}class j{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function B(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function q(p){return q[" "](p),p}q[" "]=function(){};var H=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function W(p,w,T){for(const O in p)w.call(T,p[O],O,p)}function D(p,w){for(const T in p)w.call(void 0,p[T],T,p)}function k(p){const w={};for(const T in p)w[T]=p[T];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,w){let T,O;for(let Z=1;Z<arguments.length;Z++){O=arguments[Z];for(T in O)p[T]=O[T];for(let re=0;re<I.length;re++)T=I[re],Object.prototype.hasOwnProperty.call(O,T)&&(p[T]=O[T])}}function z(p){var w=1;p=p.split(":");const T=[];for(;0<w&&p.length;)T.push(p.shift()),w--;return p.length&&T.push(p.join(":")),T}function U(p){u.setTimeout(()=>{throw p},0)}function R(){var p=ce;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class ge{constructor(){this.h=this.g=null}add(w,T){const O=te.get();O.set(w,T),this.h?this.h.next=O:this.g=O,this.h=O}}var te=new j(()=>new Y,p=>p.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ie=!1,ce=new ge,V=()=>{const p=u.Promise.resolve(void 0);K=()=>{p.then(ae)}};var ae=()=>{for(var p;p=R();){try{p.h.call(p.g)}catch(T){U(T)}var w=te;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}ie=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return p}();function Ce(p,w){if(he.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(H){e:{try{q(w.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(w=null)}}else T=="mouseover"?w=p.fromElement:T=="mouseout"&&(w=p.toElement);this.relatedTarget=w,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_e[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ce.aa.h.call(this)}}E(Ce,he);var _e={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),at=0;function we(p,w,T,O,Z){this.listener=p,this.proxy=null,this.src=w,this.type=T,this.capture=!!O,this.ha=Z,this.key=++at,this.da=this.fa=!1}function et(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ot(p){this.src=p,this.g={},this.h=0}ot.prototype.add=function(p,w,T,O,Z){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var be=bn(p,w,O,Z);return-1<be?(w=p[be],T||(w.fa=!1)):(w=new we(w,this.src,re,!!O,Z),w.fa=T,p.push(w)),w};function An(p,w){var T=w.type;if(T in p.g){var O=p.g[T],Z=Array.prototype.indexOf.call(O,w,void 0),re;(re=0<=Z)&&Array.prototype.splice.call(O,Z,1),re&&(et(w),p.g[T].length==0&&(delete p.g[T],p.h--))}}function bn(p,w,T,O){for(var Z=0;Z<p.length;++Z){var re=p[Z];if(!re.da&&re.listener==w&&re.capture==!!T&&re.ha==O)return Z}return-1}var Gi="closure_lm_"+(1e6*Math.random()|0),Mt={};function zt(p,w,T,O,Z){if(Array.isArray(w)){for(var re=0;re<w.length;re++)zt(p,w[re],T,O,Z);return null}return T=Po(T),p&&p[xt]?p.K(w,T,m(O)?!!O.capture:!1,Z):Ln(p,w,T,!1,O,Z)}function Ln(p,w,T,O,Z,re){if(!w)throw Error("Invalid event type");var be=m(Z)?!!Z.capture:!!Z,nt=_r(p);if(nt||(p[Gi]=nt=new ot(p)),T=nt.add(w,T,O,be,re),T.proxy)return T;if(O=Kt(),T.proxy=O,O.src=p,O.listener=T,p.addEventListener)xe||(Z=be),Z===void 0&&(Z=!1),p.addEventListener(w.toString(),O,Z);else if(p.attachEvent)p.attachEvent(wr(w.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Kt(){function p(T){return w.call(p.src,p.listener,T)}const w=Bu;return p}function xr(p,w,T,O,Z){if(Array.isArray(w))for(var re=0;re<w.length;re++)xr(p,w[re],T,O,Z);else O=m(O)?!!O.capture:!!O,T=Po(T),p&&p[xt]?(p=p.i,w=String(w).toString(),w in p.g&&(re=p.g[w],T=bn(re,T,O,Z),-1<T&&(et(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete p.g[w],p.h--)))):p&&(p=_r(p))&&(w=p.g[w.toString()],p=-1,w&&(p=bn(w,T,O,Z)),(T=-1<p?w[p]:null)&&ys(T))}function ys(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[xt])An(w.i,p);else{var T=p.type,O=p.proxy;w.removeEventListener?w.removeEventListener(T,O,p.capture):w.detachEvent?w.detachEvent(wr(T),O):w.addListener&&w.removeListener&&w.removeListener(O),(T=_r(w))?(An(T,p),T.h==0&&(T.src=null,w[Gi]=null)):et(p)}}}function wr(p){return p in Mt?Mt[p]:Mt[p]="on"+p}function Bu(p,w){if(p.da)p=!0;else{w=new Ce(w,this);var T=p.listener,O=p.ha||p.src;p.fa&&ys(p),p=T.call(O,w)}return p}function _r(p){return p=p[Gi],p instanceof ot?p:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(p){return typeof p=="function"?p:(p[ht]||(p[ht]=function(w){return p.handleEvent(w)}),p[ht])}function Rt(){ue.call(this),this.i=new ot(this),this.M=this,this.F=null}E(Rt,ue),Rt.prototype[xt]=!0,Rt.prototype.removeEventListener=function(p,w,T,O){xr(this,p,w,T,O)};function ft(p,w){var T,O=p.F;if(O)for(T=[];O;O=O.F)T.push(O);if(p=p.M,O=w.type||w,typeof w=="string")w=new he(w,p);else if(w instanceof he)w.target=w.target||p;else{var Z=w;w=new he(O,p),M(w,Z)}if(Z=!0,T)for(var re=T.length-1;0<=re;re--){var be=w.g=T[re];Z=ai(be,O,!0,w)&&Z}if(be=w.g=p,Z=ai(be,O,!0,w)&&Z,Z=ai(be,O,!1,w)&&Z,T)for(re=0;re<T.length;re++)be=w.g=T[re],Z=ai(be,O,!1,w)&&Z}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var T=p.g[w],O=0;O<T.length;O++)et(T[O]);delete p.g[w],p.h--}}this.F=null},Rt.prototype.K=function(p,w,T,O){return this.i.add(String(p),w,!1,T,O)},Rt.prototype.L=function(p,w,T,O){return this.i.add(String(p),w,!0,T,O)};function ai(p,w,T,O){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var Z=!0,re=0;re<w.length;++re){var be=w[re];if(be&&!be.da&&be.capture==T){var nt=be.listener,xn=be.ha||be.src;be.fa&&An(p.i,be),Z=nt.call(xn,O)!==!1&&Z}}return Z&&!O.defaultPrevented}function cn(p,w,T){if(typeof p=="function")T&&(p=x(p,T));else if(p&&typeof p.handleEvent=="function")p=x(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(p,w||0)}function Er(p){p.g=cn(()=>{p.g=null,p.i&&(p.i=!1,Er(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class Zl extends ue{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(p){ue.call(this),this.h=p,this.g={}}E(pi,ue);var vs=[];function Vn(p){W(p.g,function(w,T){this.g.hasOwnProperty(T)&&ys(w)},p),p.g={}}pi.prototype.N=function(){pi.aa.N.call(this),Vn(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=u.JSON.stringify,wa=u.JSON.parse,Vs=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function _a(){}_a.prototype.h=null;function Io(p){return p.h||(p.h=p.i())}function Mo(){}var bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xs(){he.call(this,"d")}E(xs,he);function Do(){he.call(this,"c")}E(Do,he);var oi={},zs=null;function Us(){return zs=zs||new Rt}oi.La="serverreachability";function Ea(p){he.call(this,oi.La,p)}E(Ea,he);function ws(p){const w=Us();ft(w,new Ea(w))}oi.STAT_EVENT="statevent";function Jl(p,w){he.call(this,oi.STAT_EVENT,p),this.stat=w}E(Jl,he);function jt(p){const w=Us();ft(w,new Jl(w,p))}oi.Ma="timingevent";function Jt(p,w){he.call(this,oi.Ma,p),this.size=w}E(Jt,he);function Yt(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},w)}function un(){this.g=!0}un.prototype.xa=function(){this.g=!1};function Oo(p,w,T,O,Z,re){p.info(function(){if(p.g)if(re)for(var be="",nt=re.split("&"),xn=0;xn<nt.length;xn++){var it=nt[xn].split("=");if(1<it.length){var Nn=it[0];it=it[1];var wn=Nn.split("_");be=2<=wn.length&&wn[1]=="type"?be+(Nn+"="+it+"&"):be+(Nn+"=redacted&")}}else be=null;else be=re;return"XMLHTTP REQ ("+O+") [attempt "+Z+"]: "+w+`
`+T+`
`+be})}function Fu(p,w,T,O,Z,re,be){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Z+"]: "+w+`
`+T+`
`+re+" "+be})}function Bs(p,w,T,O){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Tr(p,T)+(O?" "+O:"")})}function ec(p,w){p.info(function(){return"TIMEOUT: "+w})}un.prototype.info=function(){};function Tr(p,w){if(!p.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var O=T[p];if(!(2>O.length)){var Z=O[1];if(Array.isArray(Z)&&!(1>Z.length)){var re=Z[0];if(re!="noop"&&re!="stop"&&re!="close")for(var be=1;be<Z.length;be++)Z[be]=""}}}}return ji(T)}catch{return w}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function Yi(){}E(Yi,_a),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},gi=new Yi;function zn(p,w,T,O){this.j=p,this.i=w,this.l=T,this.R=O||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var Lo={},Ta={};function Ii(p,w,T){p.L=1,p.v=hn(Ue(w)),p.m=T,p.P=!0,Xi(p,null)}function Xi(p,w){p.F=Date.now(),Fs(p),p.A=Ue(p.v);var T=p.A,O=p.R;Array.isArray(O)||(O=[String(O)]),qu(T.i,"t",O),p.C=0,T=p.j.J,p.h=new qt,p.g=xf(p.j,T?w:null,!p.m),0<p.O&&(p.M=new Zl(x(p.Y,p,p.g),p.O)),w=p.U,T=p.g,O=p.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(vs[0]=Z.toString()),Z=vs);for(var re=0;re<Z.length;re++){var be=zt(T,Z[re],O||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=p.H?k(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),ws(),Oo(p.i,p.u,p.A,p.l,p.R,p.m)}zn.prototype.ca=function(p){p=p.target;const w=this.M;w&&es(p)==3?w.j():this.Y(p)},zn.prototype.Y=function(p){try{if(p==this.g)e:{const wn=es(this.g);var w=this.g.Ba();const Mr=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||hf(this.g)))){this.J||wn!=4||w==7||(w==8||0>=Mr?ws(3):ws(2)),_s(this);var T=this.g.Z();this.X=T;t:if(tc(this)){var O=hf(this.g);p="";var Z=O.length,re=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Mi(this);var be="";break t}this.h.i=new u.TextDecoder}for(w=0;w<Z;w++)this.h.h=!0,p+=this.h.i.decode(O[w],{stream:!(re&&w==Z-1)});O.length=0,this.h.g+=p,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=T==200,Fu(this.i,this.u,this.A,this.l,this.R,wn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,xn=this.g;if((nt=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(nt)){var it=nt;break t}}it=null}if(T=it)Bs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hs(this,T);else{this.o=!1,this.s=3,jt(12),dn(this),Mi(this);break e}}if(this.P){T=!0;let Un;for(;!this.J&&this.C<be.length;)if(Un=Vo(this,be),Un==Ta){wn==4&&(this.s=4,jt(14),T=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Lo){this.s=4,jt(15),Bs(this.i,this.l,be,"[Invalid Chunk]"),T=!1;break}else Bs(this.i,this.l,Un,null),Hs(this,Un);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||be.length!=0||this.h.h||(this.s=1,jt(16),T=!1),this.o=this.o&&T,!T)Bs(this.i,this.l,be,"[Invalid Chunked Response]"),dn(this),Mi(this);else if(0<be.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),Go(Nn),Nn.M=!0,jt(11))}}else Bs(this.i,this.l,be,null),Hs(this,be);wn==4&&dn(this),this.o&&!this.J&&(wn==4?yf(this.j,this):(this.o=!1,Fs(this)))}else ly(this.g),T==400&&0<be.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),dn(this),Mi(this)}}}catch{}finally{}};function tc(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Vo(p,w){var T=p.C,O=w.indexOf(`
`,T);return O==-1?Ta:(T=Number(w.substring(T,O)),isNaN(T)?Lo:(O+=1,O+T>w.length?Ta:(w=w.slice(O,O+T),p.C=O+T,w)))}zn.prototype.cancel=function(){this.J=!0,dn(this)};function Fs(p){p.S=Date.now()+p.I,zo(p,p.I)}function zo(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Yt(x(p.ba,p),w)}function _s(p){p.B&&(u.clearTimeout(p.B),p.B=null)}zn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ec(this.i,this.A),this.L!=2&&(ws(),jt(17)),dn(this),this.s=2,Mi(this)):zo(this,this.S-p)};function Mi(p){p.j.G==0||p.J||yf(p.j,p)}function dn(p){_s(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Vn(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function Hs(p,w){try{var T=p.j;if(T.G!=0&&(T.g==p||Sa(T.h,p))){if(!p.K&&Sa(T.h,p)&&T.G==3){try{var O=T.Da.g.parse(w)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Z=O;if(Z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)dc(T),cc(T);else break e;Yu(T),jt(18)}}else T.za=Z[1],0<T.za-T.T&&37500>Z[2]&&T.F&&T.v==0&&!T.C&&(T.C=Yt(x(T.Za,T),6e3));if(1>=Ar(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ir(T,11)}else if((p.K||T.g==p)&&dc(T),!B(w))for(Z=T.Da.g.parse(w),w=0;w<Z.length;w++){let it=Z[w];if(T.T=it[0],it=it[1],T.G==2)if(it[0]=="c"){T.K=it[1],T.ia=it[2];const Nn=it[3];Nn!=null&&(T.la=Nn,T.j.info("VER="+T.la));const wn=it[4];wn!=null&&(T.Aa=wn,T.j.info("SVER="+T.Aa));const Mr=it[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(O=1.5*Mr,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Un=p.g;if(Un){const Xs=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var re=O.h;re.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Cr(re,re.h),re.h=null))}if(O.D){const Qu=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Qu&&(O.ya=Qu,je(O.I,O.D,Qu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var be=p;if(O.qa=bf(O,O.J?O.ia:null,O.W),be.K){Cn(O.h,be);var nt=be,xn=O.L;xn&&(nt.I=xn),nt.B&&(_s(nt),Fs(nt)),O.g=be}else pf(O);0<T.i.length&&uc(T)}else it[0]!="stop"&&it[0]!="close"||Ir(T,7);else T.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ir(T,7):Gu(T):it[0]!="noop"&&T.l&&T.l.ta(it),T.v=0)}}ws(4)}catch{}}var Uo=class{constructor(p,w){this.g=p,this.map=w}};function Qi(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ar(p){return p.h?1:p.g?p.g.size:0}function Sa(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Cr(p,w){p.g?p.g.add(w):p.h=w}function Cn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}Qi.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Aa(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const T of p.g.values())w=w.concat(T.D);return w}return C(p.i)}function nc(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],T=p.length,O=0;O<T;O++)w.push(p[O]);return w}w=[],T=0;for(O in p)w[T++]=p[O];return w}function kr(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var T=0;T<p;T++)w.push(T);return w}w=[],T=0;for(const O in p)w[T++]=O;return w}}}function F(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var T=kr(p),O=nc(p),Z=O.length,re=0;re<Z;re++)w.call(void 0,O[re],T&&T[re],p)}var ye=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ke(p,w){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var O=p[T].indexOf("="),Z=null;if(0<=O){var re=p[T].substring(0,O);Z=p[T].substring(O+1)}else re=p[T];w(re,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Se(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Se){this.h=p.h,tt(this,p.j),this.o=p.o,this.g=p.g,mt(this,p.s),this.l=p.l;var w=p.i,T=new Nr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),lt(this,T),this.m=p.m}else p&&(w=String(p).match(ye))?(this.h=!1,tt(this,w[1]||"",!0),this.o=Dt(w[2]||""),this.g=Dt(w[3]||"",!0),mt(this,w[4]),this.l=Dt(w[5]||"",!0),lt(this,w[6]||"",!0),this.m=Dt(w[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Se.prototype.toString=function(){var p=[],w=this.j;w&&p.push(Ot(w,ic,!0),":");var T=this.g;return(T||w=="file")&&(p.push("//"),(w=this.o)&&p.push(Ot(w,ic,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Ot(T,T.charAt(0)=="/"?ay:Hu,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Ot(T,sc)),p.join("")};function Ue(p){return new Se(p)}function tt(p,w,T){p.j=T?Dt(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function mt(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function lt(p,w,T){w instanceof Nr?(p.i=w,uf(p.i,p.h)):(T||(w=Ot(w,oy)),p.i=new Nr(w,p.h))}function je(p,w,T){p.i.set(w,T)}function hn(p){return je(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Dt(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ot(p,w,T){return typeof p=="string"?(p=encodeURI(p).replace(w,li),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function li(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ic=/[#\/\?@]/g,Hu=/[#\?:]/g,ay=/[#\?]/g,oy=/[#\?@]/g,sc=/#/g;function Nr(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Zi(p){p.g||(p.g=new Map,p.h=0,p.i&&ke(p.i,function(w,T){p.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Nr.prototype,t.add=function(p,w){Zi(this),this.i=null,p=qs(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(w),this.h+=1,this};function Rr(p,w){Zi(p),w=qs(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function jr(p,w){return Zi(p),w=qs(p,w),p.g.has(w)}t.forEach=function(p,w){Zi(this),this.g.forEach(function(T,O){T.forEach(function(Z){p.call(w,Z,O,this)},this)},this)},t.na=function(){Zi(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let O=0;O<w.length;O++){const Z=p[O];for(let re=0;re<Z.length;re++)T.push(w[O])}return T},t.V=function(p){Zi(this);let w=[];if(typeof p=="string")jr(this,p)&&(w=w.concat(this.g.get(qs(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)w=w.concat(p[T])}return w},t.set=function(p,w){return Zi(this),this.i=null,p=qs(this,p),jr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function qu(p,w,T){Rr(p,w),0<T.length&&(p.i=null,p.g.set(qs(p,w),C(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var O=w[T];const re=encodeURIComponent(String(O)),be=this.V(O);for(O=0;O<be.length;O++){var Z=re;be[O]!==""&&(Z+="="+encodeURIComponent(String(be[O]))),p.push(Z)}}return this.i=p.join("&")};function qs(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function uf(p,w){w&&!p.j&&(Zi(p),p.i=null,p.g.forEach(function(T,O){var Z=O.toLowerCase();O!=Z&&(Rr(this,O),qu(this,Z,T))},p)),p.j=w}function Bo(p,w){const T=new un;if(u.Image){const O=new Image;O.onload=_(Ji,T,"TestLoadImage: loaded",!0,w,O),O.onerror=_(Ji,T,"TestLoadImage: error",!1,w,O),O.onabort=_(Ji,T,"TestLoadImage: abort",!1,w,O),O.ontimeout=_(Ji,T,"TestLoadImage: timeout",!1,w,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else w(!1)}function Es(p,w){const T=new un,O=new AbortController,Z=setTimeout(()=>{O.abort(),Ji(T,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:O.signal}).then(re=>{clearTimeout(Z),re.ok?Ji(T,"TestPingServer: ok",!0,w):Ji(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Z),Ji(T,"TestPingServer: error",!1,w)})}function Ji(p,w,T,O,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),O(T)}catch{}}function Fo(){this.g=new Vs}function $s(p,w,T){const O=T||"";try{F(p,function(Z,re){let be=Z;m(Z)&&(be=ji(Z)),w.push(O+re+"="+encodeURIComponent(be))})}catch(Z){throw w.push(O+"type="+encodeURIComponent("_badmap")),Z}}function Ca(p){this.l=p.Ub||null,this.j=p.eb||!1}E(Ca,_a),Ca.prototype.g=function(){return new Pr(this.l,this.j)},Ca.prototype.i=function(p){return function(){return p}}({});function Pr(p,w){Rt.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Pr,Rt),t=Pr.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Gs(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$u(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function $u(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Ws(this):Gs(this),this.readyState==3&&$u(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ws(this))},t.Qa=function(p){this.g&&(this.response=p,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Gs(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=w.next();return p.join(`\r
`)};function Gs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Wu(p){let w="";return W(p,function(T,O){w+=O,w+=":",w+=T,w+=`\r
`}),w}function kn(p,w,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=Wu(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):je(p,w,T))}function yt(p){Rt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(yt,Rt);var rc=/^https?$/i,Ho=["POST","PUT"];t=yt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?Io(this.o):Io(gi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(re){df(this,re);return}if(p=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Z in O)T.set(Z,O[Z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const re of O.keys())T.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),Z=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ho,w,void 0))||O||Z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,be]of T)this.g.setRequestHeader(re,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qo(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){df(this,re)}};function df(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,ac(p),Ks(p)}function ac(p){p.A||(p.A=!0,ft(p,"complete"),ft(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,ft(this,"complete"),ft(this,"abort"),Ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oc(this):this.bb())},t.bb=function(){oc(this)};function oc(p){if(p.h&&typeof l<"u"&&(!p.v[1]||es(p)!=4||p.Z()!=2)){if(p.u&&es(p)==4)cn(p.Ea,0,p);else if(ft(p,"readystatechange"),es(p)==4){p.h=!1;try{const be=p.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var O;if(O=be===0){var Z=String(p.D).match(ye)[1]||null;!Z&&u.self&&u.self.location&&(Z=u.self.location.protocol.slice(0,-1)),O=!rc.test(Z?Z.toLowerCase():"")}T=O}if(T)ft(p,"complete"),ft(p,"success");else{p.m=6;try{var re=2<es(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",ac(p)}}finally{Ks(p)}}}}function Ks(p,w){if(p.g){qo(p);const T=p.g,O=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||ft(p,"ready");try{T.onreadystatechange=O}catch{}}}function qo(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function es(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),wa(w)}};function hf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ly(p){const w={};p=(p.g&&2<=es(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if(B(p[O]))continue;var T=z(p[O]);const Z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=w[Z]||[];w[Z]=re,re.push(T)}D(w,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(p,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||w}function lc(p){this.Aa=0,this.i=[],this.j=new un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,p),this.cb=$o("retryDelaySeedMs",1e4,p),this.Wa=$o("forwardChannelMaxRetries",2,p),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(p&&p.concurrentRequestLimit),this.Da=new Fo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lc.prototype,t.la=8,t.G=1,t.connect=function(p,w,T,O){jt(0),this.W=p,this.H=w||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=bf(this,null,this.W),uc(this)};function Gu(p){if(ff(p),p.G==3){var w=p.U++,T=Ue(p.I);if(je(T,"SID",p.K),je(T,"RID",w),je(T,"TYPE","terminate"),Wo(p,T),w=new zn(p,p.j,w),w.L=2,w.v=hn(Ue(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=xf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Fs(w)}vf(p)}function cc(p){p.g&&(Go(p),p.g.cancel(),p.g=null)}function ff(p){cc(p),p.u&&(u.clearTimeout(p.u),p.u=null),dc(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function uc(p){if(!Sr(p.h)&&!p.s){p.s=!0;var w=p.Ga;K||V(),ie||(K(),ie=!0),ce.add(w,p),p.B=0}}function cy(p,w){return Ar(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Yt(x(p.Ga,p,w),Xu(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Z=new zn(this,this.j,p);let re=this.o;if(this.S&&(re?(re=k(re),M(re,this.S)):re=this.S),this.m!==null||this.O||(Z.H=re,re=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(w+=O,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=mf(this,Z,w),T=Ue(this.I),je(T,"RID",p),je(T,"CVER",22),this.D&&je(T,"X-HTTP-Session-Id",this.D),Wo(this,T),re&&(this.O?w="headers="+encodeURIComponent(String(Wu(re)))+"&"+w:this.m&&kn(T,this.m,re)),Cr(this.h,Z),this.Ua&&je(T,"TYPE","init"),this.P?(je(T,"$req",w),je(T,"SID","null"),Z.T=!0,Ii(Z,T,null)):Ii(Z,T,w),this.G=2}}else this.G==3&&(p?Ku(this,p):this.i.length==0||Sr(this.h)||Ku(this))};function Ku(p,w){var T;w?T=w.l:T=p.U++;const O=Ue(p.I);je(O,"SID",p.K),je(O,"RID",T),je(O,"AID",p.T),Wo(p,O),p.m&&p.o&&kn(O,p.m,p.o),T=new zn(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),w&&(p.i=w.D.concat(p.i)),w=mf(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Cr(p.h,T),Ii(T,O,w)}function Wo(p,w){p.H&&W(p.H,function(T,O){je(w,O,T)}),p.l&&F({},function(T,O){je(w,O,T)})}function mf(p,w,T){T=Math.min(p.i.length,T);var O=p.l?x(p.l.Na,p.l,p):null;e:{var Z=p.i;let re=-1;for(;;){const be=["count="+T];re==-1?0<T?(re=Z[0].g,be.push("ofs="+re)):re=0:be.push("ofs="+re);let nt=!0;for(let xn=0;xn<T;xn++){let it=Z[xn].g;const Nn=Z[xn].map;if(it-=re,0>it)re=Math.max(0,Z[xn].g-100),nt=!1;else try{$s(Nn,be,"req"+it+"_")}catch{O&&O(Nn)}}if(nt){O=be.join("&");break e}}}return p=p.i.splice(0,T),w.D=p,O}function pf(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;K||V(),ie||(K(),ie=!0),ce.add(w,p),p.v=0}}function Yu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Yt(x(p.Fa,p),Xu(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,gf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Yt(x(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),cc(this),gf(this))};function Go(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function gf(p){p.g=new zn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=Ue(p.qa);je(w,"RID","rpc"),je(w,"SID",p.K),je(w,"AID",p.T),je(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&je(w,"TO",p.ja),je(w,"TYPE","xmlhttp"),Wo(p,w),p.m&&p.o&&kn(w,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=hn(Ue(w)),T.m=null,T.P=!0,Xi(T,p)}t.Za=function(){this.C!=null&&(this.C=null,cc(this),Yu(this),jt(19))};function dc(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function yf(p,w){var T=null;if(p.g==w){dc(p),Go(p),p.g=null;var O=2}else if(Sa(p.h,w))T=w.D,Cn(p.h,w),O=1;else return;if(p.G!=0){if(w.o)if(O==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var Z=p.B;O=Us(),ft(O,new Jt(O,T)),uc(p)}else pf(p);else if(Z=w.s,Z==3||Z==0&&0<w.X||!(O==1&&cy(p,w)||O==2&&Yu(p)))switch(T&&0<T.length&&(w=p.h,w.i=w.i.concat(T)),Z){case 1:Ir(p,5);break;case 4:Ir(p,10);break;case 3:Ir(p,6);break;default:Ir(p,2)}}}function Xu(p,w){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*w}function Ir(p,w){if(p.j.info("Error code "+w),w==2){var T=x(p.fb,p),O=p.Xa;const Z=!O;O=new Se(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||tt(O,"https"),hn(O),Z?Bo(O.toString(),T):Es(O.toString(),T)}else jt(2);p.G=0,p.l&&p.l.sa(w),vf(p),ff(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function vf(p){if(p.G=0,p.ka=[],p.l){const w=Aa(p.h);(w.length!=0||p.i.length!=0)&&(A(p.ka,w),A(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function bf(p,w,T){var O=T instanceof Se?Ue(T):new Se(T);if(O.g!="")w&&(O.g=w+"."+O.g),mt(O,O.s);else{var Z=u.location;O=Z.protocol,w=w?w+"."+Z.hostname:Z.hostname,Z=+Z.port;var re=new Se(null);O&&tt(re,O),w&&(re.g=w),Z&&mt(re,Z),T&&(re.l=T),O=re}return T=p.D,w=p.ya,T&&w&&je(O,T,w),je(O,"VER",p.la),Wo(p,O),O}function xf(p,w,T){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new yt(new Ca({eb:T})):new yt(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wf(){}t=wf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hc(){}hc.prototype.g=function(p,w){return new ci(p,w)};function ci(p,w){Rt.call(this),this.g=new lc(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!B(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!B(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new Ys(this)}E(ci,Rt),ci.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ci.prototype.close=function(){Gu(this.g)},ci.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=ji(p),p=T);w.i.push(new Uo(w.Ya++,p)),w.G==3&&uc(w)},ci.prototype.N=function(){this.g.l=null,delete this.j,Gu(this.g),delete this.g,ci.aa.N.call(this)};function _f(p){xs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const T in w){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}E(_f,xs);function Ef(){Do.call(this),this.status=1}E(Ef,Do);function Ys(p){this.g=p}E(Ys,wf),Ys.prototype.ua=function(){ft(this.g,"a")},Ys.prototype.ta=function(p){ft(this.g,new _f(p))},Ys.prototype.sa=function(p){ft(this.g,new Ef)},Ys.prototype.ra=function(){ft(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,ci.prototype.send=ci.prototype.o,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,TN=function(){return new hc},EN=function(){return Us()},_N=oi,ab={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,ip=Pi,Ki.COMPLETE="complete",wN=Ki,Mo.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Yd=Mo,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,xN=yt}).apply(typeof Am<"u"?Am:typeof self<"u"?self:typeof window<"u"?window:{});const wT="@firebase/firestore",_T="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new cx("@firebase/firestore");function Hc(){return Ml.logLevel}function Ee(t,...e){if(Ml.logLevel<=Ze.DEBUG){const n=e.map(Ex);Ml.debug(`Firestore (${Su}): ${t}`,...n)}}function da(t,...e){if(Ml.logLevel<=Ze.ERROR){const n=e.map(Ex);Ml.error(`Firestore (${Su}): ${t}`,...n)}}function ou(t,...e){if(Ml.logLevel<=Ze.WARN){const n=e.map(Ex);Ml.warn(`Firestore (${Su}): ${t}`,...n)}}function Ex(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,SN(t,i,n)}function SN(t,e,n){let i=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw da(i),new Error(i)}function bt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||SN(e,s,i)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class O3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L3{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ra,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ra)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string",31837,{l:i}),new AN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class V3{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z3{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new V3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ET{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ET(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ET(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=B3(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=e.charAt(s[a]%62))}return i}}function Ge(t,e){return t<e?-1:t>e?1:0}function ob(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return Ge(i,s);{const a=CN(),l=F3(a.encode(TT(t,n)),a.encode(TT(e,n)));return l!==0?l:Ge(i,s)}}n+=i>65535?2:1}return Ge(t.length,e.length)}function TT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function F3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ge(t[n],e[n]);return Ge(t.length,e.length)}function lu(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=-62135596800,AT=1e6;class Tn{static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*AT);return new Tn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ST)throw new Te(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ST;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Tn(0,0))}static max(){return new Be(new Tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="__name__";class rr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Le(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const a=rr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ge(e.length,n.length)}static compareSegments(e,n){const i=rr.isNumericId(e),s=rr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?rr.extractNumericId(e).compare(rr.extractNumericId(n)):ob(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class Vt extends rr{construct(e,n,i){return new Vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const H3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends rr{construct(e,n,i){return new Gn(e,n,i)}static isValidIdentifier(e){return H3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CT}static keyField(){return new Gn([CT])}static fromServerFormat(e){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Te(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Te(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(a(),s++)}if(a(),l)throw new Te(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Vt.fromString(e))}static fromName(e){return new Pe(Vt.fromString(e).popFirst(5))}static empty(){return new Pe(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=-1;function q3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(i===1e9?new Tn(n+1,0):new Tn(n,i));return new go(s,Pe.empty(),e)}function $3(t){return new go(t.readTime,t.key,wh)}class go{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new go(Be.min(),Pe.empty(),wh)}static max(){return new go(Be.max(),Pe.empty(),wh)}}function W3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==G3)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):pe.reject(n)}static resolve(e){return new pe((n,i)=>{n(e)})}static reject(e){return new pe((n,i)=>{i(e)})}static waitFor(e){return new pe((n,i)=>{let s=0,a=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(e){let n=pe.resolve(!1);for(const i of e)n=n.next(s=>s?pe.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(e,n){return new pe((i,s)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next(g=>{l[m]=g,++u,u===a&&i(l)},g=>s(g))}})}static doWhile(e,n){return new pe((i,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):i()};a()})}}function Y3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ag.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=-1;function Cg(t){return t==null}function Pp(t){return t===0&&1/t==-1/0}function X3(t){return typeof t=="number"&&Number.isInteger(t)&&!Pp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="";function Q3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kT(e)),e=Z3(t.get(n),e);return kT(e)}function Z3(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case NN:n+="";break;default:n+=a}}return n}function kT(t){return t+NN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Wn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??Wn.RED,this.left=s??Wn.EMPTY,this.right=a??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,a){return new Wn(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Wn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,i,s,a){return this}insert(e,n,i){return new Wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RT(this.data.getIterator())}getIteratorFrom(e){return new RT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class RT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Hi([])}unionWith(e){let n=new Sn(Gn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jN("Invalid base64 string: "+a):a}}(e);return new Yn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=J3.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="server_timestamp",IN="__type__",MN="__previous_value__",DN="__local_write_time__";function Sx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[IN])===null||n===void 0?void 0:n.stringValue)===PN}function kg(t){const e=t.mapValue.fields[MN];return Sx(e)?kg(e):e}function _h(t){const e=yo(t.mapValue.fields[DN].timestampValue);return new Tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n,i,s,a,l,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m}}const Ip="(default)";class Eh{constructor(e,n){this.projectId=e,this.database=n||Ip}static empty(){return new Eh("","")}get isDefaultDatabase(){return this.database===Ip}isEqual(e){return e instanceof Eh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="__type__",tV="__max__",km={mapValue:{}},LN="__vector__",Mp="value";function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sx(t)?4:iV(t)?9007199254740991:nV(t)?10:11:Le(28295,{value:t})}function pr(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _h(t).isEqual(_h(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=yo(s.timestampValue),u=yo(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return vo(s.bytesValue).isEqual(vo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return rn(s.geoPointValue.latitude)===rn(a.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return rn(s.integerValue)===rn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=rn(s.doubleValue),u=rn(a.doubleValue);return l===u?Pp(l)===Pp(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return lu(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(NT(l)!==NT(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!pr(l[h],u[h])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function Th(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function cu(t,e){if(t===e)return 0;const n=bo(t),i=bo(e);if(n!==i)return Ge(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=rn(a.integerValue||a.doubleValue),h=rn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return jT(t.timestampValue,e.timestampValue);case 4:return jT(_h(t),_h(e));case 5:return ob(t.stringValue,e.stringValue);case 6:return function(a,l){const u=vo(a),h=vo(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const g=Ge(u[m],h[m]);if(g!==0)return g}return Ge(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Ge(rn(a.latitude),rn(l.latitude));return u!==0?u:Ge(rn(a.longitude),rn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PT(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,m,g;const v=a.fields||{},x=l.fields||{},_=(u=v[Mp])===null||u===void 0?void 0:u.arrayValue,E=(h=x[Mp])===null||h===void 0?void 0:h.arrayValue,C=Ge(((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0,((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:PT(_,E)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===km.mapValue&&l===km.mapValue)return 0;if(a===km.mapValue)return 1;if(l===km.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),m=l.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const x=ob(h[v],g[v]);if(x!==0)return x;const _=cu(u[h[v]],m[g[v]]);if(_!==0)return _}return Ge(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{Pe:n})}}function jT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=yo(t),i=yo(e),s=Ge(n.seconds,i.seconds);return s!==0?s:Ge(n.nanos,i.nanos)}function PT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=cu(n[s],i[s]);if(a)return a}return Ge(n.length,i.length)}function uu(t){return lb(t)}function lb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=yo(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=lb(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${lb(n.fields[l])}`;return s+"}"}(t.mapValue):Le(61005,{value:t})}function sp(t){switch(bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kg(t);return e?16+sp(e):16;case 5:return 2*t.stringValue.length;case 6:return vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+sp(a),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Ao(i.fields,(a,l)=>{s+=a.length+sp(l)}),s}(t.mapValue);default:throw Le(13486,{value:t})}}function IT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cb(t){return!!t&&"integerValue"in t}function Ax(t){return!!t&&"arrayValue"in t}function MT(t){return!!t&&"nullValue"in t}function DT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rp(t){return!!t&&"mapValue"in t}function nV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ON])===null||n===void 0?void 0:n.stringValue)===LN}function rh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=rh(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(n)}setAll(e){let n=Gn.emptyPath(),i={},s=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=u.popLast()}l?i[u.lastSegment()]=rh(l):s.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(e){const n=this.field(e.popLast());rp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];rp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ao(n,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new Ti(rh(this.value))}}function VN(t){const e=[];return Ao(t.fields,(n,i)=>{const s=new Gn([n]);if(rp(i)){const a=VN(i.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,i,s,a,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new ei(e,0,Be.min(),Be.min(),Be.min(),Ti.empty(),0)}static newFoundDocument(e,n,i,s){return new ei(e,1,n,Be.min(),i,s,0)}static newNoDocument(e,n){return new ei(e,2,n,Be.min(),Be.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,Be.min(),Be.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.position=e,this.inclusive=n}}function OT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?i=Pe.comparator(Pe.fromName(l.referenceValue),n.key):i=cu(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function LT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function sV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{}class vn extends zN{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new aV(e,n,i):n==="array-contains"?new cV(e,i):n==="in"?new uV(e,i):n==="not-in"?new dV(e,i):n==="array-contains-any"?new hV(e,i):new vn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new oV(e,i):new lV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cu(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends zN{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new js(e,n)}matches(e){return UN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function UN(t){return t.op==="and"}function BN(t){return rV(t)&&UN(t)}function rV(t){for(const e of t.filters)if(e instanceof js)return!1;return!0}function ub(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(BN(t))return t.filters.map(e=>ub(e)).join(",");{const e=t.filters.map(n=>ub(n)).join(",");return`${t.op}(${e})`}}function FN(t,e){return t instanceof vn?function(i,s){return s instanceof vn&&i.op===s.op&&i.field.isEqual(s.field)&&pr(i.value,s.value)}(t,e):t instanceof js?function(i,s){return s instanceof js&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,u)=>a&&FN(l,s.filters[u]),!0):!1}(t,e):void Le(19439)}function HN(t){return t instanceof vn?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(t):t instanceof js?function(n){return n.op.toString()+" {"+n.getFilters().map(HN).join(" ,")+"}"}(t):"Filter"}class aV extends vn{constructor(e,n,i){super(e,n,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class oV extends vn{constructor(e,n){super(e,"in",n),this.keys=qN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lV extends vn{constructor(e,n){super(e,"not-in",n),this.keys=qN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class cV extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ax(n)&&Th(n.arrayValue,this.value)}}class uV extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Th(this.value.arrayValue,n)}}class dV extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Th(this.value.arrayValue,n)}}class hV extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ax(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Th(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n=null,i=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function VT(t,e=null,n=[],i=[],s=null,a=null,l=null){return new fV(t,e,n,i,s,a,l)}function Cx(t){const e=He(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ub(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Cg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>uu(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>uu(i)).join(",")),e.Ie=n}return e.Ie}function kx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LT(t.startAt,e.startAt)&&LT(t.endAt,e.endAt)}function db(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,i=[],s=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mV(t,e,n,i,s,a,l,u){return new ku(t,e,n,i,s,a,l,u)}function Ng(t){return new ku(t)}function zT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $N(t){return t.collectionGroup!==null}function ah(t){const e=He(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Sn(Gn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Sh(a,i))}),n.has(Gn.keyField().canonicalString())||e.Ee.push(new Sh(Gn.keyField(),i))}return e.Ee}function cr(t){const e=He(t);return e.de||(e.de=pV(e,ah(t))),e.de}function pV(t,e){if(t.limitType==="F")return VT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Sh(s.field,a)});const n=t.endAt?new Dp(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Dp(t.startAt.position,t.startAt.inclusive):null;return VT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function hb(t,e){const n=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,n){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rg(t,e){return kx(cr(t),cr(e))&&t.limitType===e.limitType}function WN(t){return`${Cx(cr(t))}|lt:${t.limitType}`}function qc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>HN(s)).join(", ")}]`),Cg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>uu(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>uu(s)).join(",")),`Target(${i})`}(cr(t))}; limitType=${t.limitType})`}function jg(t,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Pe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,s){for(const a of ah(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,u,h){const m=OT(l,u,h);return l.inclusive?m<=0:m<0}(i.startAt,ah(i),s)||i.endAt&&!function(l,u,h){const m=OT(l,u,h);return l.inclusive?m>=0:m>0}(i.endAt,ah(i),s))}(t,e)}function gV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GN(t){return(e,n)=>{let i=!1;for(const s of ah(t)){const a=yV(s,e,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function yV(t,e,n){const i=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(a,l,u){const h=l.data.field(a),m=u.data.field(a);return h!==null&&m!==null?cu(h,m):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return RN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Gt(Pe.comparator);function ha(){return vV}const KN=new Gt(Pe.comparator);function Xd(...t){let e=KN;for(const n of t)e=e.insert(n.key,n);return e}function YN(t){let e=KN;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function xl(){return oh()}function XN(){return oh()}function oh(){return new Bl(t=>t.toString(),(t,e)=>t.isEqual(e))}const bV=new Gt(Pe.comparator),xV=new Sn(Pe.comparator);function Je(...t){let e=xV;for(const n of t)e=e.add(n);return e}const wV=new Sn(Ge);function _V(){return wV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pp(e)?"-0":e}}function QN(t){return{integerValue:""+t}}function ZN(t,e){return X3(e)?QN(e):Nx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this._=void 0}}function EV(t,e,n){return t instanceof Lp?function(s,a){const l={fields:{[IN]:{stringValue:PN},[DN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Sx(a)&&(a=kg(a)),a&&(l.fields[MN]=a),{mapValue:l}}(n,e):t instanceof Ah?eR(t,e):t instanceof Ch?tR(t,e):function(s,a){const l=JN(s,a),u=UT(l)+UT(s.Re);return cb(l)&&cb(s.Re)?QN(u):Nx(s.serializer,u)}(t,e)}function TV(t,e,n){return t instanceof Ah?eR(t,e):t instanceof Ch?tR(t,e):n}function JN(t,e){return t instanceof kh?function(i){return cb(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Lp extends Pg{}class Ah extends Pg{constructor(e){super(),this.elements=e}}function eR(t,e){const n=nR(e);for(const i of t.elements)n.some(s=>pr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Ch extends Pg{constructor(e){super(),this.elements=e}}function tR(t,e){let n=nR(e);for(const i of t.elements)n=n.filter(s=>!pr(s,i));return{arrayValue:{values:n}}}class kh extends Pg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function UT(t){return rn(t.integerValue||t.doubleValue)}function nR(t){return Ax(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.field=e,this.transform=n}}function AV(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Ah&&s instanceof Ah||i instanceof Ch&&s instanceof Ch?lu(i.elements,s.elements,pr):i instanceof kh&&s instanceof kh?pr(i.Re,s.Re):i instanceof Lp&&s instanceof Lp}(t.transform,e.transform)}class CV{constructor(e,n){this.version=e,this.transformResults=n}}class ds{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ig{}function iR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rx(t.key,ds.none()):new Gh(t.key,t.data,ds.none());{const n=t.data,i=Ti.empty();let s=new Sn(Gn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Co(t.key,i,new Hi(s.toArray()),ds.none())}}function kV(t,e,n){t instanceof Gh?function(s,a,l){const u=s.value.clone(),h=FT(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Co?function(s,a,l){if(!ap(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=FT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(sR(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function lh(t,e,n,i){return t instanceof Gh?function(a,l,u,h){if(!ap(a.precondition,l))return u;const m=a.value.clone(),g=HT(a.fieldTransforms,h,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Co?function(a,l,u,h){if(!ap(a.precondition,l))return u;const m=HT(a.fieldTransforms,h,l),g=l.data;return g.setAll(sR(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(a,l,u){return ap(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function NV(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),a=JN(i.transform,s||null);a!=null&&(n===null&&(n=Ti.empty()),n.set(i.field,a))}return n||null}function BT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&lu(i,s,(a,l)=>AV(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gh extends Ig{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Co extends Ig{constructor(e,n,i,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function FT(t,e,n){const i=new Map;bt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);i.set(a.field,TV(l,u,n[s]))}return i}function HT(t,e,n){const i=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);i.set(s.field,EV(a,l,e))}return i}class Rx extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RV extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&kV(a,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=lh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=lh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=XN();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const h=iR(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(n,i)=>BT(n,i))&&lu(this.baseMutations,e.baseMutations,(n,i)=>BT(n,i))}}class jx{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){bt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return bV}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new jx(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,rt;function MV(t){switch(t){case me.OK:return Le(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function rR(t){if(t===void 0)return da("GRPC error has no .code"),me.UNKNOWN;switch(t){case pn.OK:return me.OK;case pn.CANCELLED:return me.CANCELLED;case pn.UNKNOWN:return me.UNKNOWN;case pn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case pn.INTERNAL:return me.INTERNAL;case pn.UNAVAILABLE:return me.UNAVAILABLE;case pn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case pn.NOT_FOUND:return me.NOT_FOUND;case pn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case pn.ABORTED:return me.ABORTED;case pn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case pn.DATA_LOSS:return me.DATA_LOSS;default:return Le(39323,{code:t})}}(rt=pn||(pn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new co([4294967295,4294967295],0);function qT(t){const e=CN().encode(t),n=new bN;return n.update(e),new Uint8Array(n.digest())}function $T(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new co([n,i],0),new co([s,a],0)]}class Px{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Qd(`Invalid padding: ${n}`);if(i<0)throw new Qd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Qd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=co.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(co.fromNumber(i)));return s.compare(DV)===1&&(s=new co([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=qT(e),[i,s]=$T(n);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);if(!this.be(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Px(a,s,n);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=qT(e),[i,s]=$T(n);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,i,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Kh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Mg(Be.min(),s,new Gt(Ge),ha(),Je())}}class Kh{constructor(e,n,i,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Kh(i,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class aR{constructor(e,n){this.targetId=e,this.Ce=n}}class oR{constructor(e,n,i=Yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class WT{constructor(){this.Fe=0,this.Me=GT(),this.xe=Yn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),n=Je(),i=Je();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Le(38017,{changeType:a})}}),new Kh(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=GT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OV{constructor(e){this.ze=e,this.je=new Map,this.He=ha(),this.Je=Nm(),this.Ye=Nm(),this.Ze=new Gt(Ge)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(db(a))if(i===0){const l=new Pe(a.path);this.tt(n,l,ei.newNoDocument(l,Be.min()))}else bt(i===1,20013,{expectedCount:i});else{const l=this.ut(n);if(l!==i){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=vo(i).toUint8Array()}catch(h){if(h instanceof jN)return ou("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Px(l,s,a)}catch(h){return ou(h instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&db(u.target)){const h=new Pe(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,ei.newNoDocument(h,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let i=Je();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const m=this._t(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new Mg(e,n,this.Ze,this.He,i);return this.He=ha(),this.Je=Nm(),this.Ye=Nm(),this.Ze=new Gt(Ge),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new WT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Sn(Ge),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Sn(Ge),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new WT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Nm(){return new Gt(Pe.comparator)}function GT(){return new Gt(Pe.comparator)}const LV={asc:"ASCENDING",desc:"DESCENDING"},VV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zV={and:"AND",or:"OR"};class UV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fb(t,e){return t.useProto3Json||Cg(e)?e:{value:e}}function Vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BV(t,e){return Vp(t,e.toTimestamp())}function ur(t){return bt(!!t,49232),Be.fromTimestamp(function(n){const i=yo(n);return new Tn(i.seconds,i.nanos)}(t))}function Ix(t,e){return mb(t,e).canonicalString()}function mb(t,e){const n=function(s){return new Vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cR(t){const e=Vt.fromString(t);return bt(mR(e),10190,{key:e.toString()}),e}function pb(t,e){return Ix(t.databaseId,e.path)}function pv(t,e){const n=cR(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(dR(n))}function uR(t,e){return Ix(t.databaseId,e)}function FV(t){const e=cR(t);return e.length===4?Vt.emptyPath():dR(e)}function gb(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dR(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KT(t,e,n){return{name:pb(t,e),fields:n.value.mapValue.fields}}function HV(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,g){return m.useProto3Json?(bt(g===void 0||typeof g=="string",58123),Yn.fromBase64String(g||"")):(bt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Yn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const g=m.code===void 0?me.UNKNOWN:rR(m.code);return new Te(g,m.message||"")}(l);n=new oR(i,s,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=pv(t,i.document.name),a=ur(i.document.updateTime),l=i.document.createTime?ur(i.document.createTime):Be.min(),u=new Ti({mapValue:{fields:i.document.fields}}),h=ei.newFoundDocument(s,a,l,u),m=i.targetIds||[],g=i.removedTargetIds||[];n=new op(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=pv(t,i.document),a=i.readTime?ur(i.readTime):Be.min(),l=ei.newNoDocument(s,a),u=i.removedTargetIds||[];n=new op([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=pv(t,i.document),a=i.removedTargetIds||[];n=new op([],a,s,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new IV(s,a),u=i.targetId;n=new aR(u,l)}}return n}function qV(t,e){let n;if(e instanceof Gh)n={update:KT(t,e.key,e.value)};else if(e instanceof Rx)n={delete:pb(t,e.key)};else if(e instanceof Co)n={update:KT(t,e.key,e.data),updateMask:JV(e.fieldMask)};else{if(!(e instanceof RV))return Le(16599,{ft:e.type});n={verify:pb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Lp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ah)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ch)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof kh)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Le(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:BV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)}(t,e.precondition)),n}function $V(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?ur(s.updateTime):ur(a);return l.isEqual(Be.min())&&(l=ur(a)),new CV(l,s.transformResults||[])}(n,e))):[]}function WV(t,e){return{documents:[uR(t,e.path)]}}function GV(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uR(t,s);const a=function(m){if(m.length!==0)return fR(js.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(g=>function(x){return{field:$c(x.field),direction:XV(x.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=fb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:s}}function KV(t){let e=FV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){bt(i===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(v){const x=hR(v);return x instanceof js&&BN(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(x=>function(E){return new Sh(Wc(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(x))}(n.orderBy));let u=null;n.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Cg(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(v){const x=!!v.before,_=v.values||[];return new Dp(_,x)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const x=!v.before,_=v.values||[];return new Dp(_,x)}(n.endAt)),mV(e,s,l,a,u,"F",h,m)}function YV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Wc(n.unaryFilter.field);return vn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Wc(n.unaryFilter.field);return vn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wc(n.unaryFilter.field);return vn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wc(n.unaryFilter.field);return vn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return vn.create(Wc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return js.create(n.compositeFilter.filters.map(i=>hR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function XV(t){return LV[t]}function QV(t){return VV[t]}function ZV(t){return zV[t]}function $c(t){return{fieldPath:t.canonicalString()}}function Wc(t){return Gn.fromServerFormat(t.fieldPath)}function fR(t){return t instanceof vn?function(n){if(n.op==="=="){if(DT(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NAN"}};if(MT(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DT(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NAN"}};if(MT(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(n.field),op:QV(n.op),value:n.value}}}(t):t instanceof js?function(n){const i=n.getFilters().map(s=>fR(s));return i.length===1?i[0]:{compositeFilter:{op:ZV(n.op),filters:i}}}(t):Le(54877,{filter:t})}function JV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,i,s,a=Be.min(),l=Be.min(),u=Yn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.wt=e}}function t8(t){const e=KV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.yn=new i8}addToCollectionParentIndex(e,n){return this.yn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(go.min())}updateCollectionGroup(e,n,i){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class i8{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Sn(Vt.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Sn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040;class wi{static withCacheSize(e){return new wi(e,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(pR,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new du(0)}static ir(){return new du(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",s8=1048576;function QT([t,e],[n,i]){const s=Ge(t,n);return s===0?Ge(e,i):s}class r8{constructor(e){this.cr=e,this.buffer=new Sn(QT),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();QT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a8{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ee(XT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cu(n)?Ee(XT,"Ignoring IndexedDB error during garbage collection: ",n):await Au(n)}await this.Ir(3e5)})}}class o8{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(Ag.le);const i=new r8(n);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(YT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,s,a,l,u,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,n))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(m=Date.now(),Hc()<=Ze.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function l8(t,e){return new o8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(){this.changes=new Bl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?pe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&lh(i.mutation,s,Hi.empty(),Tn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Je()){const s=xl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(a=>{let l=Xd();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=xl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Je()))}populateOverlays(e,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,i,s){let a=ha();const l=oh(),u=function(){return oh()}();return n.forEach((h,m)=>{const g=i.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof Co)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),lh(g.mutation,m,g.mutation.getFieldMask(),Tn.now())):l.set(m.key,Hi.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,g)=>l.set(m,g)),n.forEach((m,g)=>{var v;return u.set(m,new u8(g,(v=l.get(m))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const i=oh();let s=new Gt((l,u)=>l-u),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const m=n.get(h);if(m===null)return;let g=i.get(h)||Hi.empty();g=u.applyToLocalView(m,g),i.set(h,g);const v=(s.get(u.batchId)||Je()).add(h);s=s.insert(u.batchId,v)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,g=h.value,v=XN();g.forEach(x=>{if(!a.has(x)){const _=iR(n.get(x),i.get(x));_!==null&&v.set(x,_),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return pe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$N(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-a.size):pe.resolve(xl());let u=wh,h=a;return l.next(m=>pe.forEach(m,(g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?pe.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{h=h.insert(g,x)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Je())).next(g=>({batchId:u,changes:YN(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(i=>{let s=Xd();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const a=n.collectionGroup;let l=Xd();return this.indexManager.getCollectionParents(e,a).next(u=>pe.forEach(u,h=>{const m=function(v,x){return new ku(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(g=>{g.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,s))).next(l=>{a.forEach((h,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,ei.newInvalidDocument(g)))});let u=Xd();return l.forEach((h,m)=>{const g=a.get(h);g!==void 0&&lh(g.mutation,m,Hi.empty(),Tn.now()),jg(n,m)&&(u=u.insert(h,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:t8(s.bundledQuery),readTime:ur(s.readTime)}}(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.overlays=new Gt(Pe.comparator),this.Or=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=xl();return pe.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,a)=>{this.St(e,n,a)}),pe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),pe.resolve()}getOverlaysForCollection(e,n,i){const s=xl(),a=n.length+1,l=new Pe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return pe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let a=new Gt((m,g)=>m-g);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=a.get(m.largestBatchId);g===null&&(g=xl(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=xl(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,g)=>u.set(m,g)),!(u.size()>=s)););return pe.resolve(u)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new PV(n,i));let a=this.Or.get(n);a===void 0&&(a=Je(),this.Or.set(n,a)),this.Or.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.Nr=new Sn(In.Br),this.Lr=new Sn(In.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new In(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new In(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new Pe(new Vt([])),i=new In(n,e),s=new In(n,e+1),a=[];return this.Lr.forEachInRange([i,s],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Pe(new Vt([])),i=new In(n,e),s=new In(n,e+1);let a=Je();return this.Lr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new In(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class In{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Pe.comparator(e.key,n.key)||Ge(e.Gr,n.Gr)}static kr(e,n){return Ge(e.Gr,n.Gr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Sn(In.Br)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new jV(a,n,i,s);this.mutationQueue.push(l);for(const u of s)this.zr=this.zr.add(new In(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,n){return pe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Hr(i),a=s<0?0:s;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Tx:this.Jn-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new In(n,0),s=new In(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,s],l=>{const u=this.jr(l.Gr);a.push(u)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Sn(Ge);return n.forEach(s=>{const a=new In(s,0),l=new In(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],u=>{i=i.add(u.Gr)})}),pe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let a=i;Pe.isDocumentKey(a)||(a=a.child(""));const l=new In(new Pe(a),0);let u=new Sn(Ge);return this.zr.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(u=u.add(h.Gr)),!0)},l),pe.resolve(this.Jr(u))}Jr(e){const n=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){bt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return pe.forEach(n.mutations,s=>{const a=new In(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new In(n,0),s=this.zr.firstAfterOrEqual(i);return pe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.Zr=e,this.docs=function(){return new Gt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return pe.resolve(i?i.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let i=ha();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():ei.newInvalidDocument(s))}),pe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let a=ha();const l=n.path,u=new Pe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||W3($3(g),i)<=0||(s.has(g.key)||jg(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,n,i,s){Le(9500)}Xr(e,n){return pe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new y8(this)}getSize(e){return pe.resolve(this.size)}}class y8 extends c8{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),pe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.persistence=e,this.ei=new Bl(n=>Cx(n),kx),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.ti=0,this.ni=new Mx,this.targetCount=0,this.ri=du.rr()}forEachTarget(e,n){return this.ei.forEach((i,s)=>n(s)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),pe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new du(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.ar(n),pe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,i){let s=0;const a=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),pe.waitFor(a).next(()=>s)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return pe.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),pe.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return pe.resolve(i)}containsKey(e,n){return pe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.ii={},this.overlays={},this.si=new Ag(0),this.oi=!1,this.oi=!0,this._i=new m8,this.referenceDelegate=e(this),this.ai=new v8(this),this.indexManager=new n8,this.remoteDocumentCache=function(s){return new g8(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new e8(n),this.ci=new h8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new p8(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const s=new b8(this.si.next());return this.referenceDelegate.li(),i(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,n){return pe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class b8 extends K3{constructor(e){super(),this.currentSequenceNumber=e}}class Dx{constructor(e){this.persistence=e,this.Ti=new Mx,this.Ii=null}static Ei(e){return new Dx(e)}get di(){if(this.Ii)return this.Ii;throw Le(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),pe.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.di,i=>{const s=Pe.fromPath(i);return this.Ai(e,s).next(a=>{a||n.removeEntry(s,Be.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return pe.or([()=>pe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class zp{constructor(e,n){this.persistence=e,this.Ri=new Bl(i=>Q3(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=l8(this,n)}static Ei(e,n){return new zp(e,n)}li(){}hi(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return pe.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(a=>a?pe.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,l=>this.gr(e,l,n).next(u=>{u||(i++,a.removeEntry(l,Be.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),pe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sp(e.data.value)),n}gr(e,n,i){return pe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return pe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=s}static Ps(e,n){let i=Je(),s=Je();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ox(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return G4()?8:Y3(si())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,s){const a={result:null};return this.Rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new x8;return this.fs(e,n,l).next(u=>{if(a.result=u,this.Is)return this.gs(e,n,l,u.size)})}).next(()=>a.result)}gs(e,n,i,s){return i.documentReadCount<this.Es?(Hc()<=Ze.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",qc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),pe.resolve()):(Hc()<=Ze.DEBUG&&Ee("QueryEngine","Query:",qc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Hc()<=Ze.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",qc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):pe.resolve())}Rs(e,n){if(zT(n))return pe.resolve(null);let i=cr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Op(n,null,"F"),i=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=Je(...a);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const m=this.ps(n,u);return this.ys(n,m,l,h.readTime)?this.Rs(e,Op(n,null,"F")):this.ws(e,m,n,h)}))})))}Vs(e,n,i,s){return zT(n)||s.isEqual(Be.min())?pe.resolve(null):this.As.getDocuments(e,i).next(a=>{const l=this.ps(n,a);return this.ys(n,l,i,s)?pe.resolve(null):(Hc()<=Ze.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qc(n)),this.ws(e,l,n,q3(s,wh)).next(u=>u))})}ps(e,n){let i=new Sn(GN(e));return n.forEach((s,a)=>{jg(e,a)&&(i=i.add(a))}),i}ys(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,n,i){return Hc()<=Ze.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",qc(n)),this.As.getDocumentsMatchingQuery(e,n,go.min(),i)}ws(e,n,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="LocalStore",_8=3e8;class E8{constructor(e,n,i,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Gt(Ge),this.Ds=new Bl(a=>Cx(a),kx),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d8(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function T8(t,e,n,i){return new E8(t,e,n,i)}async function yR(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=Je();for(const m of s){l.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of a){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(i,h).next(m=>({Ms:m,removedBatchIds:l,addedBatchIds:u}))})})}function S8(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,m,g){const v=m.batch,x=v.keys();let _=pe.resolve();return x.forEach(E=>{_=_.next(()=>g.getEntry(h,E)).next(C=>{const A=m.docVersions.get(E);bt(A!==null,48541),C.version.compareTo(A)<0&&(v.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),g.addEntry(C)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Je();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function vR(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function A8(t,e){const n=He(t),i=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const u=[];e.targetChanges.forEach((g,v)=>{const x=s.get(v);if(!x)return;u.push(n.ai.removeMatchingKeys(a,g.removedDocuments,v).next(()=>n.ai.addMatchingKeys(a,g.addedDocuments,v)));let _=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(Yn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,i)),s=s.insert(v,_),function(C,A,j){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=_8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(x,_,g)&&u.push(n.ai.updateTargetData(a,_))});let h=ha(),m=Je();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(C8(a,l,e.documentUpdates).next(g=>{h=g.xs,m=g.Os})),!i.isEqual(Be.min())){const g=n.ai.getLastRemoteSnapshotVersion(a).next(v=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(g)}return pe.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(n.Ss=s,a))}function C8(t,e,n){let i=Je(),s=Je();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let l=ha();return n.forEach((u,h)=>{const m=a.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Be.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):Ee(Lx,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)}),{xs:l,Os:s}})}function k8(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Tx),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function N8(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.ai.getTargetData(i,e).next(a=>a?(s=a,pe.resolve(s)):n.ai.allocateTargetId(i).next(l=>(s=new to(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function yb(t,e,n){const i=He(t),s=i.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Cu(l))throw l;Ee(Lx,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function ZT(t,e,n){const i=He(t);let s=Be.min(),a=Je();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,m,g){const v=He(h),x=v.Ds.get(g);return x!==void 0?pe.resolve(v.Ss.get(x)):v.ai.getTargetData(m,g)}(i,l,cr(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.bs.getDocumentsMatchingQuery(l,e,n?s:Be.min(),n?a:Je())).next(u=>(R8(i,gV(e),u),{documents:u,Ns:a})))}function R8(t,e,n){let i=t.vs.get(e)||Be.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.vs.set(e,i)}class JT{constructor(){this.activeTargetIds=_V()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j8{constructor(){this.So=new JT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new JT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="ConnectivityMonitor";class tS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ee(eS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ee(eS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm=null;function vb(){return Rm===null?Rm=function(){return 268435456+Math.round(2147483648*Math.random())}():Rm++,"0x"+Rm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="RestConnection",I8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M8{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Ip?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,n,i,s,a){const l=vb(),u=this.$o(e,n.toUriEncodedString());Ee(gv,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,s,a),this.Ko(e,u,h,i).then(m=>(Ee(gv,`Received RPC '${e}' ${l}: `,m),m),m=>{throw ou(gv,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",i),m})}Wo(e,n,i,s,a,l){return this.Qo(e,n,i,s,a)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),i&&i.headers.forEach((s,a)=>e[a]=s)}$o(e,n){const i=I8[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection";class O8 extends M8{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,s){const a=vb();return new Promise((l,u)=>{const h=new xN;h.setWithCredentials(!0),h.listenOnce(wN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ip.NO_ERROR:const g=h.getResponseJson();Ee(Zn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case ip.TIMEOUT:Ee(Zn,`RPC '${e}' ${a} timed out`),u(new Te(me.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const v=h.getStatus();if(Ee(Zn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const E=function(A){const j=A.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(j)>=0?j:me.UNKNOWN}(_.status);u(new Te(E,_.message))}else u(new Te(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Te(me.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{s_:e,streamId:a,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Ee(Zn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);Ee(Zn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",m,i,15)})}a_(e,n,i){const s=vb(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=TN(),u=EN(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const g=a.join("");Ee(Zn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const v=l.createWebChannel(g,h);let x=!1,_=!1;const E=new D8({Go:A=>{_?Ee(Zn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(x||(Ee(Zn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),x=!0),Ee(Zn,`RPC '${e}' stream ${s} sending:`,A),v.send(A))},zo:()=>v.close()}),C=(A,j,B)=>{A.listen(j,L=>{try{B(L)}catch(q){setTimeout(()=>{throw q},0)}})};return C(v,Yd.EventType.OPEN,()=>{_||(Ee(Zn,`RPC '${e}' stream ${s} transport opened.`),E.t_())}),C(v,Yd.EventType.CLOSE,()=>{_||(_=!0,Ee(Zn,`RPC '${e}' stream ${s} transport closed`),E.r_())}),C(v,Yd.EventType.ERROR,A=>{_||(_=!0,ou(Zn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),E.r_(new Te(me.UNAVAILABLE,"The operation could not be completed")))}),C(v,Yd.EventType.MESSAGE,A=>{var j;if(!_){const B=A.data[0];bt(!!B,16349);const L=B,q=(L==null?void 0:L.error)||((j=L[0])===null||j===void 0?void 0:j.error);if(q){Ee(Zn,`RPC '${e}' stream ${s} received error:`,q);const H=q.status;let W=function(I){const M=pn[I];if(M!==void 0)return rR(M)}(H),D=q.message;W===void 0&&(W=me.INTERNAL,D="Unknown error status: "+H+" with message "+q.message),_=!0,E.r_(new Te(W,D)),v.close()}else Ee(Zn,`RPC '${e}' stream ${s} received:`,B),E.i_(B)}}),C(u,_N.STAT_EVENT,A=>{A.stat===ab.PROXY?Ee(Zn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===ab.NOPROXY&&Ee(Zn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){return new UV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,i=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-i);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="PersistentStream";class xR{constructor(e,n,i,s,a,l,u,h){this.bi=e,this.R_=i,this.V_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new bR(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(da(n.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===n&&this.B_(i,s)},i=>{e(()=>{const s=new Te(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ee(nS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ee(nS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L8 extends xR{constructor(e,n,i,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=HV(this.serializer,e),i=function(a){if(!("targetChange"in a))return Be.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?ur(l.readTime):Be.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=gb(this.serializer),n.addTarget=function(a,l){let u;const h=l.target;if(u=db(h)?{documents:WV(a,h)}:{query:GV(a,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=lR(a,l.resumeToken);const m=fb(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Be.min())>0){u.readTime=Vp(a,l.snapshotVersion.toTimestamp());const m=fb(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const i=YV(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=gb(this.serializer),n.removeTarget=e,this.F_(n)}}class V8 extends xR{constructor(e,n,i,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=$V(e.writeResults,e.commitTime),i=ur(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=gb(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>qV(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{}class U8 extends z8{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new Te(me.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,mb(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(me.UNKNOWN,a.toString())})}Wo(e,n,i,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,mb(n,i),s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(me.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class B8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(da(n),this.ea=!1):Ee("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="RemoteStore";class F8{constructor(e,n,i,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{i.enqueueAndForget(async()=>{Fl(this)&&(Ee(Dl,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.aa.add(4),await Yh(m),m.la.set("Unknown"),m.aa.delete(4),await Og(m)}(this))})}),this.la=new B8(i,s)}}async function Og(t){if(Fl(t))for(const e of t.ua)await e(!0)}async function Yh(t){for(const e of t.ua)await e(!1)}function wR(t,e){const n=He(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Bx(n)?Ux(n):Nu(n).b_()&&zx(n,e))}function Vx(t,e){const n=He(t),i=Nu(n);n._a.delete(e),i.b_()&&_R(n,e),n._a.size===0&&(i.b_()?i.v_():Fl(n)&&n.la.set("Unknown"))}function zx(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nu(t).U_(e)}function _R(t,e){t.ha.Ke(e),Nu(t).K_(e)}function Ux(t){t.ha=new OV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Nu(t).start(),t.la.ta()}function Bx(t){return Fl(t)&&!Nu(t).w_()&&t._a.size>0}function Fl(t){return He(t).aa.size===0}function ER(t){t.ha=void 0}async function H8(t){t.la.set("Online")}async function q8(t){t._a.forEach((e,n)=>{zx(t,e)})}async function $8(t,e){ER(t),Bx(t)?(t.la.ia(e),Ux(t)):t.la.set("Unknown")}async function W8(t,e,n){if(t.la.set("Online"),e instanceof oR&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s._a.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s._a.delete(u),s.ha.removeTarget(u))}(t,e)}catch(i){Ee(Dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Up(t,i)}else if(e instanceof op?t.ha.Xe(e):e instanceof aR?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Be.min()))try{const i=await vR(t.localStore);n.compareTo(i)>=0&&await function(a,l){const u=a.ha.It(l);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=a._a.get(m);g&&a._a.set(m,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,m)=>{const g=a._a.get(h);if(!g)return;a._a.set(h,g.withResumeToken(Yn.EMPTY_BYTE_STRING,g.snapshotVersion)),_R(a,h);const v=new to(g.target,h,m,g.sequenceNumber);zx(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){Ee(Dl,"Failed to raise snapshot:",i),await Up(t,i)}}async function Up(t,e,n){if(!Cu(e))throw e;t.aa.add(1),await Yh(t),t.la.set("Offline"),n||(n=()=>vR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(Dl,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Og(t)})}function TR(t,e){return e().catch(n=>Up(t,n,e))}async function Lg(t){const e=He(t),n=xo(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Tx;for(;G8(e);)try{const s=await k8(e.localStore,i);if(s===null){e.oa.length===0&&n.v_();break}i=s.batchId,K8(e,s)}catch(s){await Up(e,s)}SR(e)&&AR(e)}function G8(t){return Fl(t)&&t.oa.length<10}function K8(t,e){t.oa.push(e);const n=xo(t);n.b_()&&n.W_&&n.G_(e.mutations)}function SR(t){return Fl(t)&&!xo(t).w_()&&t.oa.length>0}function AR(t){xo(t).start()}async function Y8(t){xo(t).H_()}async function X8(t){const e=xo(t);for(const n of t.oa)e.G_(n.mutations)}async function Q8(t,e,n){const i=t.oa.shift(),s=jx.from(i,e,n);await TR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lg(t)}async function Z8(t,e){e&&xo(t).W_&&await async function(i,s){if(function(l){return MV(l)&&l!==me.ABORTED}(s.code)){const a=i.oa.shift();xo(i).D_(),await TR(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Lg(i)}}(t,e),SR(t)&&AR(t)}async function iS(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ee(Dl,"RemoteStore received new credentials");const i=Fl(n);n.aa.add(3),await Yh(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Og(n)}async function J8(t,e){const n=He(t);e?(n.aa.delete(2),await Og(n)):e||(n.aa.add(2),await Yh(n),n.la.set("Unknown"))}function Nu(t){return t.Pa||(t.Pa=function(n,i,s){const a=He(n);return a.Y_(),new L8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:H8.bind(null,t),Jo:q8.bind(null,t),Zo:$8.bind(null,t),Q_:W8.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Bx(t)?Ux(t):t.la.set("Unknown")):(await t.Pa.stop(),ER(t))})),t.Pa}function xo(t){return t.Ta||(t.Ta=function(n,i,s){const a=He(n);return a.Y_(),new V8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Y8.bind(null,t),Zo:Z8.bind(null,t),z_:X8.bind(null,t),j_:Q8.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Lg(t)):(await t.Ta.stop(),t.oa.length>0&&(Ee(Dl,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){const l=Date.now()+i,u=new Fx(e,n,l,s,a);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hx(t,e){if(da("AsyncQueue",`${e}: ${t}`),Cu(t))return new Te(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{static emptySet(e){return new tu(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Pe.comparator(n.key,i.key):(n,i)=>Pe.comparator(n.key,i.key),this.keyedMap=Xd(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new tu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Ia=new Gt(Pe.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class hu{constructor(e,n,i,s,a,l,u,h,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,s,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new hu(e,n,tu.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class t9{constructor(){this.queries=rS(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const s=He(n),a=s.queries;s.queries=rS(),a.forEach((l,u)=>{for(const h of u.Ra)h.onError(i)})})(this,new Te(me.ABORTED,"Firestore shutting down"))}}function rS(){return new Bl(t=>WN(t),Rg)}async function qx(t,e){const n=He(t);let i=3;const s=e.query;let a=n.queries.get(s);a?!a.Va()&&e.ma()&&(i=2):(a=new e9,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await n.onListen(s,!0);break;case 1:a.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=Hx(l,`Initialization of query '${qc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&Wx(n)}async function $x(t,e){const n=He(t),i=e.query;let s=3;const a=n.queries.get(i);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function n9(t,e){const n=He(t);let i=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Ra)u.pa(s)&&(i=!0);l.Aa=s}}i&&Wx(n)}function i9(t,e,n){const i=He(t),s=i.queries.get(e);if(s)for(const a of s.Ra)a.onError(n);i.queries.delete(e)}function Wx(t){t.fa.forEach(e=>{e.next()})}var bb,aS;(aS=bb||(bb={})).ya="default",aS.Cache="cache";class Gx{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new hu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==bb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.key=e}}class kR{constructor(e){this.key=e}}class s9{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Je(),this.mutatedKeys=Je(),this.Ua=GN(e),this.Ka=new tu(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new sS,s=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const x=s.get(g),_=jg(this.query,v)?v:null,E=!!x&&this.mutatedKeys.has(x.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;x&&_?x.data.isEqual(_.data)?E!==C&&(i.track({type:3,doc:_}),A=!0):this.ja(x,_)||(i.track({type:2,doc:_}),A=!0,(h&&this.Ua(_,h)>0||m&&this.Ua(_,m)<0)&&(u=!0)):!x&&_?(i.track({type:0,doc:_}),A=!0):x&&!_&&(i.track({type:1,doc:x}),A=!0,(h||m)&&(u=!0)),A&&(_?(l=l.add(_),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),i.track({type:1,doc:g})}return{Ka:l,za:i,ys:u,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((g,v)=>function(_,E){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:A})}};return C(_)-C(E)}(g.type,v.type)||this.Ua(g.doc,v.doc)),this.Ha(i),s=s!=null&&s;const u=n&&!s?this.Ja():[],h=this.$a.size===0&&this.current&&!s?1:0,m=h!==this.Qa;return this.Qa=h,l.length!==0||m?{snapshot:new hu(this.query,e.Ka,a,l,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new sS,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Je(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new kR(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new CR(i))}),n}Xa(e){this.qa=e.Ns,this.$a=Je();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return hu.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Kx="SyncEngine";class r9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class a9{constructor(e){this.key=e,this.tu=!1}}class o9{constructor(e,n,i,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Bl(u=>WN(u),Rg),this.iu=new Map,this.su=new Set,this.ou=new Gt(Pe.comparator),this._u=new Map,this.au=new Mx,this.uu={},this.cu=new Map,this.lu=du.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function l9(t,e,n=!0){const i=MR(t);let s;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await NR(i,e,n,!0),s}async function c9(t,e){const n=MR(t);await NR(n,e,!0,!1)}async function NR(t,e,n,i){const s=await N8(t.localStore,cr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return i&&(u=await u9(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&wR(t.remoteStore,s),u}async function u9(t,e,n,i,s){t.Pu=(v,x,_)=>async function(C,A,j,B){let L=A.view.Ga(j);L.ys&&(L=await ZT(C.localStore,A.query,!1).then(({documents:D})=>A.view.Ga(D,L)));const q=B&&B.targetChanges.get(A.targetId),H=B&&B.targetMismatches.get(A.targetId)!=null,W=A.view.applyChanges(L,C.isPrimaryClient,q,H);return lS(C,A.targetId,W.Ya),W.snapshot}(t,v,x,_);const a=await ZT(t.localStore,e,!0),l=new s9(e,a.Ns),u=l.Ga(a.documents),h=Kh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),m=l.applyChanges(u,t.isPrimaryClient,h);lS(t,n,m.Ya);const g=new r9(e,n,l);return t.ru.set(e,g),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),m.snapshot}async function d9(t,e,n){const i=He(t),s=i.ru.get(e),a=i.iu.get(s.targetId);if(a.length>1)return i.iu.set(s.targetId,a.filter(l=>!Rg(l,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await yb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Vx(i.remoteStore,s.targetId),xb(i,s.targetId)}).catch(Au)):(xb(i,s.targetId),await yb(i.localStore,s.targetId,!0))}async function h9(t,e){const n=He(t),i=n.ru.get(e),s=n.iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Vx(n.remoteStore,i.targetId))}async function f9(t,e,n){const i=x9(t);try{const s=await function(l,u){const h=He(l),m=Tn.now(),g=u.reduce((_,E)=>_.add(E.key),Je());let v,x;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ha(),C=Je();return h.Cs.getEntries(_,g).next(A=>{E=A,E.forEach((j,B)=>{B.isValidDocument()||(C=C.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,E)).next(A=>{v=A;const j=[];for(const B of u){const L=NV(B,v.get(B.key).overlayedDocument);L!=null&&j.push(new Co(B.key,L,VN(L.value.mapValue),ds.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,j,u)}).next(A=>{x=A;const j=A.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(_,A.batchId,j)})}).then(()=>({batchId:x.batchId,changes:YN(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let m=l.uu[l.currentUser.toKey()];m||(m=new Gt(Ge)),m=m.insert(u,h),l.uu[l.currentUser.toKey()]=m}(i,s.batchId,n),await Xh(i,s.changes),await Lg(i.remoteStore)}catch(s){const a=Hx(s,"Failed to persist write");n.reject(a)}}async function RR(t,e){const n=He(t);try{const i=await A8(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n._u.get(a);l&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.tu=!0:s.modifiedDocuments.size>0?bt(l.tu,14607):s.removedDocuments.size>0&&(bt(l.tu,42227),l.tu=!1))}),await Xh(n,i,e)}catch(i){await Au(i)}}function oS(t,e,n){const i=He(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ru.forEach((a,l)=>{const u=l.view.ga(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=He(l);h.onlineState=u;let m=!1;h.queries.forEach((g,v)=>{for(const x of v.Ra)x.ga(u)&&(m=!0)}),m&&Wx(h)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function m9(t,e,n){const i=He(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i._u.get(e),a=s&&s.key;if(a){let l=new Gt(Pe.comparator);l=l.insert(a,ei.newNoDocument(a,Be.min()));const u=Je().add(a),h=new Mg(Be.min(),new Map,new Gt(Ge),l,u);await RR(i,h),i.ou=i.ou.remove(a),i._u.delete(e),Yx(i)}else await yb(i.localStore,e,!1).then(()=>xb(i,e,n)).catch(Au)}async function p9(t,e){const n=He(t),i=e.batch.batchId;try{const s=await S8(n.localStore,e);PR(n,i,null),jR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Xh(n,s)}catch(s){await Au(s)}}async function g9(t,e,n){const i=He(t);try{const s=await function(l,u){const h=He(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return h.mutationQueue.lookupMutationBatch(m,u).next(v=>(bt(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(m,v))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>h.localDocuments.getDocuments(m,g))})}(i.localStore,e);PR(i,e,n),jR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Xh(i,s)}catch(s){await Au(s)}}function jR(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function PR(t,e,n){const i=He(t);let s=i.uu[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function xb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.iu.get(e))t.ru.delete(i),n&&t.nu.Tu(i,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(i=>{t.au.containsKey(i)||IR(t,i)})}function IR(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Vx(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Yx(t))}function lS(t,e,n){for(const i of n)i instanceof CR?(t.au.addReference(i.key,e),y9(t,i)):i instanceof kR?(Ee(Kx,"Document no longer in limbo: "+i.key),t.au.removeReference(i.key,e),t.au.containsKey(i.key)||IR(t,i.key)):Le(19791,{Iu:i})}function y9(t,e){const n=e.key,i=n.path.canonicalString();t.ou.get(n)||t.su.has(i)||(Ee(Kx,"New document in limbo: "+n),t.su.add(i),Yx(t))}function Yx(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Pe(Vt.fromString(e)),i=t.lu.next();t._u.set(i,new a9(n)),t.ou=t.ou.insert(n,i),wR(t.remoteStore,new to(cr(Ng(n.path)),i,"TargetPurposeLimboResolution",Ag.le))}}async function Xh(t,e,n){const i=He(t),s=[],a=[],l=[];i.ru.isEmpty()||(i.ru.forEach((u,h)=>{l.push(i.Pu(h,e,n).then(m=>{var g;if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(m){s.push(m);const v=Ox.Ps(h.targetId,m);a.push(v)}}))}),await Promise.all(l),i.nu.Q_(s),await async function(h,m){const g=He(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>pe.forEach(m,x=>pe.forEach(x.ls,_=>g.persistence.referenceDelegate.addReference(v,x.targetId,_)).next(()=>pe.forEach(x.hs,_=>g.persistence.referenceDelegate.removeReference(v,x.targetId,_)))))}catch(v){if(!Cu(v))throw v;Ee(Lx,"Failed to update sequence numbers: "+v)}for(const v of m){const x=v.targetId;if(!v.fromCache){const _=g.Ss.get(x),E=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(E);g.Ss=g.Ss.insert(x,C)}}}(i.localStore,a))}async function v9(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ee(Kx,"User change. New user:",e.toKey());const i=await yR(n.localStore,e);n.currentUser=e,function(a,l){a.cu.forEach(u=>{u.forEach(h=>{h.reject(new Te(me.CANCELLED,l))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xh(n,i.Ms)}}function b9(t,e){const n=He(t),i=n._u.get(e);if(i&&i.tu)return Je().add(i.key);{let s=Je();const a=n.iu.get(e);if(!a)return s;for(const l of a){const u=n.ru.get(l);s=s.unionWith(u.view.Wa)}return s}}function MR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m9.bind(null,e),e.nu.Q_=n9.bind(null,e.eventManager),e.nu.Tu=i9.bind(null,e.eventManager),e}function x9(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g9.bind(null,e),e}class Bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dg(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return T8(this.persistence,new w8,e.initialUser,this.serializer)}Ru(e){return new gR(Dx.Ei,this.serializer)}Au(e){return new j8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bp.provider={build:()=>new Bp};class w9 extends Bp{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){bt(this.persistence.referenceDelegate instanceof zp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new a8(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new gR(i=>zp.Ei(i,n),this.serializer)}}class wb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=v9.bind(null,this.syncEngine),await J8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t9}()}createDatastore(e){const n=Dg(e.databaseInfo.databaseId),i=function(a){return new O8(a)}(e.databaseInfo);return function(a,l,u,h){return new U8(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,a,l,u){return new F8(i,s,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>oS(this.syncEngine,n,0),function(){return tS.C()?new tS:new P8}())}createSyncEngine(e,n){return function(s,a,l,u,h,m,g){const v=new o9(s,a,l,u,h,m);return g&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=He(s);Ee(Dl,"RemoteStore shutting down."),a.aa.add(5),await Yh(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wb.provider={build:()=>new wb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class _9{constructor(e,n,i,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=kN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{Ee(wo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Ee(wo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hx(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vv(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await yR(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E9(t);Ee(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>iS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>iS(e.remoteStore,s)),t._onlineComponents=e}async function E9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(wo,"Using user provided OfflineComponentProvider");try{await vv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===me.FAILED_PRECONDITION||s.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ou("Error using user provided cache. Falling back to memory cache: "+n),await vv(t,new Bp)}}else Ee(wo,"Using default OfflineComponentProvider"),await vv(t,new w9(void 0));return t._offlineComponents}async function DR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(wo,"Using user provided OnlineComponentProvider"),await cS(t,t._uninitializedComponentsProvider._online)):(Ee(wo,"Using default OnlineComponentProvider"),await cS(t,new wb))),t._onlineComponents}function T9(t){return DR(t).then(e=>e.syncEngine)}async function Fp(t){const e=await DR(t),n=e.eventManager;return n.onListen=l9.bind(null,e.syncEngine),n.onUnlisten=d9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h9.bind(null,e.syncEngine),n}function S9(t,e,n={}){const i=new ra;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const g=new Xx({next:x=>{g.yu(),l.enqueueAndForget(()=>$x(a,v));const _=x.docs.has(u);!_&&x.fromCache?m.reject(new Te(me.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&h&&h.source==="server"?m.reject(new Te(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new Gx(Ng(u.path),g,{includeMetadataChanges:!0,Fa:!0});return qx(a,v)}(await Fp(t),t.asyncQueue,e,n,i)),i.promise}function A9(t,e,n={}){const i=new ra;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,m){const g=new Xx({next:x=>{g.yu(),l.enqueueAndForget(()=>$x(a,v)),x.fromCache&&h.source==="server"?m.reject(new Te(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new Gx(u,g,{includeMetadataChanges:!0,Fa:!0});return qx(a,v)}(await Fp(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e,n){if(!n)throw new Te(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C9(t,e,n,i){if(e===!0&&i===!0)throw new Te(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dS(t){if(!Pe.isDocumentKey(t))throw new Te(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hS(t){if(Pe.isDocumentKey(t))throw new Te(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vg(t);throw new Te(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firestore.googleapis.com",fS=!0;class mS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VR,this.ssl=fS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:fS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s8)throw new Te(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zg{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new D3;switch(i.type){case"firstParty":return new z3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=uS.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),uS.delete(n),i.terminate())}(this),Promise.resolve()}}function k9(t,e,n,i={}){var s;const a=(t=Ni(t,zg))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a.host!==VR&&a.host!==u&&ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:i});if(!Nl(h,l)&&(t._setSettings(h),i.mockUserToken)){let m,g;if(typeof i.mockUserToken=="string")m=i.mockUserToken,g=Jn.MOCK_USER;else{m=Dk(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Te(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jn(v)}t._authCredentials=new O3(new AN(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class ni{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class uo extends ba{constructor(e,n,i){super(e,n,Ng(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new Pe(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function an(t,e,...n){if(t=Ht(t),LR("collection","path",e),t instanceof zg){const i=Vt.fromString(e,...n);return hS(i),new uo(t,null,i)}{if(!(t instanceof ni||t instanceof uo))throw new Te(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return hS(i),new uo(t.firestore,null,i)}}function $e(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=kN.newId()),LR("doc","path",e),t instanceof zg){const i=Vt.fromString(e,...n);return dS(i),new ni(t,null,new Pe(i))}{if(!(t instanceof ni||t instanceof uo))throw new Te(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return dS(i),new ni(t.firestore,t instanceof uo?t.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="AsyncQueue";class gS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new bR(this,"async_queue_retry"),this.ju=()=>{const i=yv();i&&Ee(pS,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=yv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=yv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ra;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Cu(e))throw e;Ee(pS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,da("INTERNAL UNHANDLED ERROR: ",yS(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=Fx.createAndSchedule(this,e,n,i,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Le(47125,{ec:yS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function yS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class fa extends zg{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new gS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gS(e),this._firestoreClient=void 0,await e}}}function N9(t,e){const n=typeof t=="object"?t:dx(),i=typeof t=="string"?t:Ip,s=_g(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=Pk("firestore");a&&k9(s,...a)}return s}function Ug(t){if(t._terminated)throw new Te(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R9(t),t._firestoreClient}function R9(t){var e,n,i;const s=t._freezeSettings(),a=function(u,h,m,g){return new eV(u,h,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,OR(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new _9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(Yn.fromBase64String(e))}catch(n){throw new Te(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=/^__.*__$/;class P9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gh(e,this.data,n,this.fieldTransforms)}}class zR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{oc:t})}}class Jx{constructor(e,n,i,s,a,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Jx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Hp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(UR(this.oc)&&j9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class I9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Dg(e)}dc(e,n,i,s=!1){return new Jx({oc:e,methodName:n,Ec:i,path:Gn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(t){const e=t._freezeSettings(),n=Dg(t._databaseId);return new I9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BR(t,e,n,i,s,a={}){const l=t.dc(a.merge||a.mergeFields?2:0,e,n,s);tw("Data must be an object, but it was:",l,i);const u=FR(i,l);let h,m;if(a.merge)h=new Hi(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const x=_b(e,v,n);if(!l.contains(x))throw new Te(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);qR(g,x)||g.push(x)}h=new Hi(g),m=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,m=l.fieldTransforms;return new P9(new Ti(u),h,m)}class qg extends Fg{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qg}}class ew extends Fg{constructor(e,n){super(e),this.Rc=n}_toFieldTransform(e){const n=new kh(e.serializer,ZN(e.serializer,this.Rc));return new SV(e.path,n)}isEqual(e){return e instanceof ew&&this.Rc===e.Rc}}function M9(t,e,n,i){const s=t.dc(1,e,n);tw("Data must be an object, but it was:",s,i);const a=[],l=Ti.empty();Ao(i,(h,m)=>{const g=nw(e,h,n);m=Ht(m);const v=s.hc(g);if(m instanceof qg)a.push(g);else{const x=Qh(m,v);x!=null&&(a.push(g),l.set(g,x))}});const u=new Hi(a);return new zR(l,u,s.fieldTransforms)}function D9(t,e,n,i,s,a){const l=t.dc(1,e,n),u=[_b(e,i,n)],h=[s];if(a.length%2!=0)throw new Te(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)u.push(_b(e,a[x])),h.push(a[x+1]);const m=[],g=Ti.empty();for(let x=u.length-1;x>=0;--x)if(!qR(m,u[x])){const _=u[x];let E=h[x];E=Ht(E);const C=l.hc(_);if(E instanceof qg)m.push(_);else{const A=Qh(E,C);A!=null&&(m.push(_),g.set(_,A))}}const v=new Hi(m);return new zR(g,v,l.fieldTransforms)}function O9(t,e,n,i=!1){return Qh(n,t.dc(i?4:3,e))}function Qh(t,e){if(HR(t=Ht(t)))return tw("Unsupported field value:",e,t),FR(t,e);if(t instanceof Fg)return function(i,s){if(!UR(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const u of i){let h=Qh(u,s.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(i,s){if((i=Ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZN(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Tn.fromDate(i);return{timestampValue:Vp(s.serializer,a)}}if(i instanceof Tn){const a=new Tn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vp(s.serializer,a)}}if(i instanceof Qx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fu)return{bytesValue:lR(s.serializer,i._byteString)};if(i instanceof ni){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ix(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Zx)return function(l,u){return{mapValue:{fields:{[ON]:{stringValue:LN},[Mp]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.Tc("VectorValues must only contain numeric values.");return Nx(u.serializer,m)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${Vg(i)}`)}(t,e)}function FR(t,e){const n={};return RN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(i,s)=>{const a=Qh(s,e.uc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tn||t instanceof Qx||t instanceof fu||t instanceof ni||t instanceof Fg||t instanceof Zx)}function tw(t,e,n){if(!HR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Vg(n);throw i==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+i)}}function _b(t,e,n){if((e=Ht(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return nw(t,e);throw Hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const L9=new RegExp("[~\\*/\\[\\]]");function nw(t,e,n){if(e.search(L9)>=0)throw Hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw Hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hp(t,e,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Te(me.INVALID_ARGUMENT,u+t+h)}function qR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,i,s,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V9 extends $R{data(){return super.data()}}function $g(t,e){return typeof e=="string"?nw(t,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{}class sw extends iw{}function ho(t,e,...n){let i=[];e instanceof iw&&i.push(e),i=i.concat(n),function(a){const l=a.filter(h=>h instanceof rw).length,u=a.filter(h=>h instanceof Wg).length;if(l>1||l>0&&u>0)throw new Te(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Wg extends sw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Wg(e,n,i)}_apply(e){const n=this._parse(e);return GR(e._query,n),new ba(e.firestore,e.converter,hb(e._query,n))}_parse(e){const n=Hg(e.firestore);return function(a,l,u,h,m,g,v){let x;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){wS(v,g);const E=[];for(const C of v)E.push(xS(h,a,C));x={arrayValue:{values:E}}}else x=xS(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||wS(v,g),x=O9(u,l,v,g==="in"||g==="not-in");return vn.create(m,g,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ol(t,e,n){const i=e,s=$g("where",t);return Wg._create(s,i,n)}class rw extends iw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rw(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)GR(l,h),l=hb(l,h)}(e._query,n),new ba(e.firestore,e.converter,hb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aw extends sw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new aw(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new Te(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Te(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sh(a,l)}(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new ku(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function z9(t,e="asc"){const n=e,i=$g("orderBy",t);return aw._create(i,n)}class ow extends sw{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new ow(e,n,i)}_apply(e){return new ba(e.firestore,e.converter,Op(e._query,this._limit,this._limitType))}}function bS(t){return ow._create("limit",t,"F")}function xS(t,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new Te(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$N(e)&&n.indexOf("/")!==-1)throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Vt.fromString(n));if(!Pe.isDocumentKey(i))throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return IT(t,new Pe(i))}if(n instanceof ni)return IT(t,n._key);throw new Te(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vg(n)}.`)}function wS(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GR(t,e){const n=function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class U9{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ao(e,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,s;const a=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Mp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>rn(l.doubleValue));return new Zx(a)}convertGeoPoint(e){return new Qx(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=kg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(_h(e));default:return null}}convertTimestamp(e){const n=yo(e);return new Tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Vt.fromString(e);bt(mR(i),9688,{name:e});const s=new Eh(i.get(1),i.get(3)),a=new Pe(i.popFirst(5));return s.isEqual(n)||da(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YR extends $R{constructor(e,n,i,s,a,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field($g("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class lp extends YR{data(e={}){return super.data(e)}}class XR{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zd(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new lp(this._firestore,this._userDataWriter,i.key,i,new Zd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new lp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Zd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new lp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Zd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:B9(u.type),doc:h,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){t=Ni(t,ni);const e=Ni(t.firestore,fa);return S9(Ug(e),t._key).then(n=>QR(e,t,n))}class lw extends U9{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,n)}}function vl(t){t=Ni(t,ba);const e=Ni(t.firestore,fa),n=Ug(e),i=new lw(e);return WR(t._query),A9(n,t._query).then(s=>new XR(e,i,t,s))}function dr(t,e,n){t=Ni(t,ni);const i=Ni(t.firestore,fa),s=KR(t.converter,e,n);return Gg(i,[BR(Hg(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ds.none())])}function _i(t,e,n,...i){t=Ni(t,ni);const s=Ni(t.firestore,fa),a=Hg(s);let l;return l=typeof(e=Ht(e))=="string"||e instanceof Bg?D9(a,"updateDoc",t._key,e,n,i):M9(a,"updateDoc",t._key,e),Gg(s,[l.toMutation(t._key,ds.exists(!0))])}function ta(t){return Gg(Ni(t.firestore,fa),[new Rx(t._key,ds.none())])}function _o(t,e){const n=Ni(t.firestore,fa),i=$e(t),s=KR(t.converter,e);return Gg(n,[BR(Hg(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,ds.exists(!1))]).then(()=>i)}function aa(t,...e){var n,i,s;t=Ht(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||vS(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(vS(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,m,g;if(t instanceof ni)m=Ni(t.firestore,fa),g=Ng(t._key.path),h={next:v=>{e[l]&&e[l](QR(m,t,v))},error:e[l+1],complete:e[l+2]};else{const v=Ni(t,ba);m=Ni(v.firestore,fa),g=v._query;const x=new lw(m);h={next:_=>{e[l]&&e[l](new XR(m,x,v,_))},error:e[l+1],complete:e[l+2]},WR(t._query)}return function(x,_,E,C){const A=new Xx(C),j=new Gx(_,A,E);return x.asyncQueue.enqueueAndForget(async()=>qx(await Fp(x),j)),()=>{A.yu(),x.asyncQueue.enqueueAndForget(async()=>$x(await Fp(x),j))}}(Ug(m),g,u,h)}function Gg(t,e){return function(i,s){const a=new ra;return i.asyncQueue.enqueueAndForget(async()=>f9(await T9(i),s,a)),a.promise}(Ug(t),e)}function QR(t,e,n){const i=n.docs.get(e._key),s=new lw(t);return new YR(t,s,e._key,i,new Zd(n.hasPendingWrites,n.fromCache),e.converter)}function qp(t){return new ew("increment",t)}(function(e,n=!0){(function(s){Su=s})(Ul),Rl(new po("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new fa(new L3(i.getProvider("auth-internal")),new U3(l,i.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eh(m.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),or(wT,_T,e),or(wT,_T,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebasestorage.googleapis.com",F9="storageBucket",H9=2*60*1e3,q9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends vr{constructor(e,n,i=0){super(bv(e),`Firebase Storage: ${n} (${bv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gr||(gr={}));function bv(t){return"storage/"+t}function $9(){const t="An unknown error occurred, please check the error payload for server response.";return new br(gr.UNKNOWN,t)}function W9(){return new br(gr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G9(){return new br(gr.CANCELED,"User canceled the upload/download.")}function K9(t){return new br(gr.INVALID_URL,"Invalid URL '"+t+"'.")}function Y9(t){return new br(gr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _S(t){return new br(gr.INVALID_ARGUMENT,t)}function JR(){return new br(gr.APP_DELETED,"The Firebase app was deleted.")}function X9(t){return new br(gr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ns.makeFromUrl(e,n)}catch{return new Ns(e,"")}if(i.path==="")return i;throw Y9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function m(q){q.path_=decodeURIComponent(q.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",_=new RegExp(`^https?://${v}/${g}/b/${s}/o${x}`,"i"),E={bucket:1,path:3},C=n===ZR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",j=new RegExp(`^https?://${C}/${s}/${A}`,"i"),L=[{regex:u,indices:h,postModify:a},{regex:_,indices:E,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let q=0;q<L.length;q++){const H=L[q],W=H.regex.exec(e);if(W){const D=W[H.indices.bucket];let k=W[H.indices.path];k||(k=""),i=new Ns(D,k),H.postModify(i);break}}if(i==null)throw K9(e);return i}}class Q9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e,n){let i=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let m=!1;function g(...A){m||(m=!0,e.apply(null,A))}function v(A){s=setTimeout(()=>{s=null,t(_,h())},A)}function x(){a&&clearTimeout(a)}function _(A,...j){if(m){x();return}if(A){x(),g.call(null,A,...j);return}if(h()||l){x(),g.call(null,A,...j);return}i<64&&(i*=2);let L;u===1?(u=2,L=0):L=(i+Math.random())*1e3,v(L)}let E=!1;function C(A){E||(E=!0,x(),!m&&(s!==null?(A||(u=2),clearTimeout(s),v(0)):A||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,C(!0)},n),C}function J9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){return t!==void 0}function ES(t,e,n,i){if(i<e)throw _S(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw _S(`Invalid value for '${t}'. Expected ${n} or less.`)}function tz(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var $p;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($p||($p={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n,i,s,a,l,u,h,m,g,v,x=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new jm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===$p.NO_ERROR,h=a.getStatus();if(!u||nz(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===$p.ABORT;i(!1,new jm(!1,null,g));return}const m=this.successCodes_.indexOf(h)!==-1;i(!0,new jm(m,a))})},n=(i,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());ez(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=$9();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?JR():G9();l(h)}else{const h=W9();l(h)}};this.canceled_?n(!1,new jm(!1,null,!0)):this.backoffId_=Z9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&J9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jm{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function sz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function az(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lz(t,e,n,i,s,a,l=!0){const u=tz(t.urlParams),h=t.url+u,m=Object.assign({},t.headers);return az(m,e),sz(m,n),rz(m,a),oz(m,i),new iz(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this._service=e,n instanceof Ns?this._location=n:this._location=Ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wp(e,n)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uz(this._location.path)}get storage(){return this._service}get parent(){const e=cz(this._location.path);if(e===null)return null;const n=new Ns(this._location.bucket,e);return new Wp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw X9(e)}}function TS(t,e){const n=e==null?void 0:e[F9];return n==null?null:Ns.makeFromBucketSpec(n,t)}function dz(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:Dk(s,t.app.options.projectId))}class hz{constructor(e,n,i,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=ZR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H9,this._maxUploadRetryTime=q9,this._requests=new Set,s!=null?this._bucket=Ns.makeFromBucketSpec(s,this._host):this._bucket=TS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,e):this._bucket=TS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ES("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ES("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wp(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new Q9(JR());{const l=lz(e,this._appId,i,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const SS="@firebase/storage",AS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="storage";function fz(t=dx(),e){t=Ht(t);const i=_g(t,ej).getImmediate({identifier:e}),s=Pk("storage");return s&&mz(i,...s),i}function mz(t,e,n,i={}){dz(t,e,n,i)}function pz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new hz(n,i,s,e,Ul)}function gz(){Rl(new po(ej,pz,"PUBLIC").setMultipleInstances(!0)),or(SS,AS,""),or(SS,AS,"esm2017")}gz();const yz={apiKey:"AIzaSyAQCwDr8Sh7GLZSUlCAnCcal7rAqBxG5-0",authDomain:"fir-app-7d6ea.firebaseapp.com",projectId:"fir-app-7d6ea",storageBucket:"fir-app-7d6ea.appspot.com",messagingSenderId:"340764694664",appId:"1:340764694664:web:6b92e4af5476eeeb4c273d"},cw=Vk(yz),yn=I3(cw),Ne=N9(cw);fz(cw);const tj=N.createContext(),vz=({children:t})=>{const[e,n]=N.useState(null),[i,s]=N.useState([]),[a,l]=N.useState([]),[u,h]=N.useState([]),[m,g]=N.useState([]),[v,x]=N.useState(null),[_,E]=N.useState(!0),[C,A]=N.useState(!0);N.useEffect(()=>{let K=null;E(!0);const ie=yn.currentUser;if(ie){n(ie);const V=$e(Ne,"users",ie.uid);mu(V).then(ae=>{ae.exists()&&n({...ie,...ae.data()}),E(!1)}).catch(()=>{E(!1)})}else E(!1);const ce=va(yn,async V=>{if(E(!0),K&&(K(),K=null),V){n(V);const ae=$e(Ne,"users",V.uid);K=aa(ae,async ue=>{ue.exists()?n({...V,...ue.data()}):(await dr(ae,{email:V.email,uid:V.uid,rol:"user",displayName:V.displayName||"",createdAt:new Date}),n({...V,displayName:V.displayName||"",rol:"user"})),E(!1)},ue=>{console.error("Error en user listener:",ue),E(!1)})}else n(null),E(!1)});return()=>{K&&K(),ce()}},[]);const j=N.useCallback(async()=>{if(!v){if(i.length>0){console.log("Usando productos en caché:",i.length);return}console.log("Iniciando carga de productos desde Firestore..."),A(!0);try{const K=ho(an(Ne,"products"),bS(20)),ie=await vl(K);if(!ie.empty){const ue=ie.docs.map(xe=>({id:xe.id,...xe.data()}));s(ue);const he=[...ue].sort((xe,Ce)=>(Ce.rating||0)-(xe.rating||0)).slice(0,4);l(he),console.log("Productos cargados inicialmente (parcial):",ue.length)}const ce=ho(an(Ne,"products")),V=await vl(ce);if(!V.empty){const ue=V.docs.map(xe=>({id:xe.id,...xe.data()}));s(ue);const he=[...ue].sort((xe,Ce)=>(Ce.rating||0)-(xe.rating||0)).slice(0,4);l(he),A(!1),console.log("Productos cargados completamente:",ue.length)}const ae=aa(ce,ue=>{if(!ue.metadata.hasPendingWrites&&!ue.metadata.fromCache){const he=ue.docs.map(Ce=>({id:Ce.id,...Ce.data()}));s(he);const xe=[...he].sort((Ce,_e)=>(_e.rating||0)-(Ce.rating||0)).slice(0,4);l(xe),console.log("Productos actualizados en tiempo real:",he.length)}},ue=>{console.error("Error en products listener:",ue),A(!1)});x(()=>ae)}catch(K){console.error("Error al cargar productos:",K),A(!1)}}},[v,i.length]);N.useEffect(()=>()=>{v&&v()},[v]);const B=N.useCallback(async()=>{try{const ie=(await vl(an(Ne,"users"))).docs.map(ce=>({id:ce.id,...ce.data()}));return g(ie),ie}catch(K){return console.error("Error al obtener usuarios:",K),[]}},[]),L=N.useCallback(async(K,ie)=>{try{const V=(await p6(yn,K,ie)).user;return await dr($e(Ne,"users",V.uid),{email:V.email,uid:V.uid,rol:"user",displayName:V.displayName||"",createdAt:new Date}),V}catch(ce){throw console.error("Error al registrar usuario:",ce),ce}},[]),q=N.useCallback(async(K,ie,ce=!1)=>{try{return await uT(yn,ce?sb:Rp),(await g6(yn,K,ie)).user}catch(V){throw console.error("Error al iniciar sesión:",V),V}},[]),H=N.useCallback(async(K=!1)=>{try{await uT(yn,K?sb:Rp);const ie=new Zr,V=(await F6(yn,ie)).user,ae=$e(Ne,"users",V.uid);return(await mu(ae)).exists()||await dr(ae,{email:V.email,uid:V.uid,rol:"user",displayName:V.displayName||"",createdAt:new Date}),V}catch(ie){throw console.error("Error al iniciar sesión con Google:",ie),ie}},[]),W=N.useCallback(K=>m6(yn,K),[]),D=N.useCallback(async()=>{try{await _6(yn),n(null)}catch(K){throw console.error("Error al cerrar sesión:",K),K}},[]),k=N.useCallback(async K=>{try{const ie=ho(an(Ne,"products"),Ol("category","==",K),bS(20));return(await vl(ie)).docs.map(V=>({id:V.id,...V.data()}))}catch(ie){return console.error("Error al obtener productos por categoría:",ie),[]}},[]),I=N.useCallback(async K=>{try{const ie=K.toLowerCase();return i.filter(ce=>{var V,ae;return((V=ce.name)==null?void 0:V.toLowerCase().includes(ie))||((ae=ce.description)==null?void 0:ae.toLowerCase().includes(ie))})}catch(ie){return console.error("Error al buscar productos:",ie),[]}},[i]),M=N.useCallback(async()=>{try{const ie=(await vl(an(Ne,"categories"))).docs.map(ce=>({id:ce.id,...ce.data()}));return h(ie),ie}catch(K){console.error("Error al obtener categorías:",K);const ce=[...new Set(i.map(V=>V.category).filter(Boolean))].map(V=>({id:V,name:V}));return h(ce),ce}},[i]),z=N.useCallback(async(K,ie="")=>{try{const ce={name:K,description:ie,createdAt:new Date,productCount:0},V=await _o(an(Ne,"categories"),ce);return console.log("Categoría agregada con ID:",V.id),M(),V.id}catch(ce){throw console.error("Error al agregar categoría:",ce),ce}},[M]),U=N.useCallback(async K=>{try{return await ta($e(Ne,"categories",K)),console.log("Categoría eliminada:",K),M(),!0}catch(ie){throw console.error("Error al eliminar categoría:",ie),ie}},[M]),R=N.useCallback(async(K,ie)=>{try{const ce=$e(Ne,"categories",K);return await _i(ce,ie),console.log("Categoría actualizada:",K),M(),!0}catch(ce){throw console.error("Error al actualizar categoría:",ce),ce}},[M]);N.useEffect(()=>{i.length>0&&M()},[i,M]);const ge=N.useCallback(async(K,ie)=>{try{const ce=$e(Ne,"users",K);return await _i(ce,{rol:ie}),e&&e.uid===K&&n(V=>({...V,rol:ie})),!0}catch(ce){throw console.error("Error al actualizar rol de usuario:",ce),ce}},[e]),te=N.useCallback(async K=>{try{const ie=$e(Ne,"users",K);return await ta(ie),!0}catch(ie){throw console.error("Error al eliminar usuario:",ie),ie}},[]),Y=N.useMemo(()=>({user:e,isLoadingUser:_,registerUser:L,loginUser:q,loginWithGoogle:H,resetPassword:W,logoutUser:D,products:i,featuredProducts:a,categories:u,isLoadingProducts:C,fetchProducts:j,fetchCategories:M,addCategory:z,deleteCategory:U,updateCategory:R,usuarios:m,fetchUsers:B,getProductsByCategory:k,searchProducts:I,updateUserRoleInDB:ge,deleteUserFromDB:te}),[e,_,L,q,H,W,D,i,a,u,C,j,M,z,U,R,m,B,k,I,ge,te]);return d.jsx(tj.Provider,{value:Y,children:t})},ko=()=>N.useContext(tj),nj=N.createContext(),No=()=>N.useContext(nj),ij=({children:t})=>{const[e,n]=N.useState([]),[i,s]=N.useState([]),[a,l]=N.useState(null),[u,h]=N.useState(!0),[m,g]=N.useState(!0),v=N.useRef(!0),x=N.useRef(!0);N.useEffect(()=>{const U=va(yn,R=>{l(R),n([]),s([]),h(!0),g(!0),v.current=!0,x.current=!0});return()=>U()},[]);const _=N.useCallback(async U=>{if(!U)return[];try{const R=$e(Ne,"carritos",U),ge=await mu(R);return ge.exists()?ge.data().products||[]:[]}catch(R){return console.error("Error al obtener carrito:",R),[]}},[]),E=N.useCallback(async U=>{if(!U)return[];try{const R=$e(Ne,"favoritos",U),ge=await mu(R);return ge.exists()?ge.data().products||[]:[]}catch(R){return console.error("Error al obtener favoritos:",R),[]}},[]);N.useEffect(()=>{(async()=>{if(!a){h(!1),g(!1);return}try{const R=await _(a.uid);n(R)}finally{h(!1)}try{const R=await E(a.uid);s(R)}finally{g(!1)}})()},[a,_,E]);const C=N.useCallback(async(U,R)=>{if(R)try{const ge=U.map(te=>{var Y;return{id:te.id,name:te.name,price:te.price,quantity:te.quantity,image:te.image||te.mainImage||((Y=te.images)==null?void 0:Y[0])||"",material:te.material||"N/A",color:te.color||"N/A",stock:te.stock||0}});await dr($e(Ne,"carritos",R),{products:ge})}catch(ge){console.error("Error guardando carrito:",ge)}},[]),A=N.useCallback(async(U,R)=>{if(R)try{const ge=U.map(te=>{var Y;return{id:te.id,name:te.name,price:te.price,image:te.image||te.mainImage||((Y=te.images)==null?void 0:Y[0])||"",stock:te.stock||0,category:te.category||"Sin categoría",type:te.type||"Producto",material:te.material||"N/A",color:te.color||"N/A",status:te.stock>0?"In Stock":"Out of Stock"}});await dr($e(Ne,"favoritos",R),{products:ge})}catch(ge){console.error("Error guardando favoritos:",ge)}},[]);N.useEffect(()=>{if(!a||u||v.current){v.current=!1;return}const U=setTimeout(()=>{C(e,a.uid)},500);return()=>clearTimeout(U)},[e,a,u,C]),N.useEffect(()=>{if(!a||m||x.current){x.current=!1;return}const U=setTimeout(()=>{A(i,a.uid)},500);return()=>clearTimeout(U)},[i,a,m,A]);const j=N.useCallback(U=>{n(R=>R.find(te=>te.id===U.id)?R.map(te=>te.id===U.id?{...te,quantity:te.quantity+1}:te):[...R,{...U,quantity:1}])},[]),B=N.useCallback(U=>{n(R=>R.filter(ge=>ge.id!==U))},[]),L=N.useCallback((U,R)=>{R<1||n(ge=>ge.map(te=>te.id===U?{...te,quantity:R}:te))},[]),q=N.useCallback(U=>{s(R=>R.find(te=>te.id===U.id)?R:[...R,U])},[]),H=N.useCallback(U=>{s(R=>R.filter(ge=>ge.id!==U))},[]),W=N.useMemo(()=>e.reduce((U,R)=>U+R.price*R.quantity,0),[e]),D=N.useMemo(()=>e.reduce((U,R)=>U+R.quantity,0),[e]),k=N.useCallback(U=>i.some(R=>R.id===U),[i]),I=N.useCallback(U=>e.some(R=>R.id===U),[e]),M=N.useCallback(()=>{n([])},[]),z=N.useMemo(()=>({cart:e,favoritos:i,cargandoCarrito:u,cargandoFavoritos:m,agregarAlCarrito:j,quitarDelCarrito:B,actualizarCantidad:L,agregarAFavoritos:q,quitarDeFavoritos:H,totalCarrito:W,cantidadItems:D,estaEnFavoritos:k,estaEnCarrito:I,vaciarCarrito:M}),[e,i,u,m,j,B,L,q,H,W,D,k,I,M]);return d.jsx(nj.Provider,{value:z,children:t})},bz=()=>{const[t,e]=N.useState(0),[n,i]=N.useState(null);return N.useEffect(()=>{const s=va(yn,a=>{i(a),a||e(0)});return()=>s()},[]),N.useEffect(()=>{if(!n){e(0);return}const s=ho(an(Ne,"orders"),Ol("userId","==",n.uid)),a=aa(s,l=>{e(l.docs.length)});return()=>a()},[n]),{orderCount:t,currentUser:n}};var xz=N.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Ru=function(e,n,i){var s=i.get(e);return s?s(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function CS(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Hl=N.forwardRef(function(t,e){var n=t.alt,i=t.color,s=t.size,a=t.weight,l=t.mirrored,u=t.children,h=t.renderPath,m=CS(t,["alt","color","size","weight","mirrored","children","renderPath"]),g=N.useContext(xz),v=g.color,x=v===void 0?"currentColor":v,_=g.size,E=g.weight,C=E===void 0?"regular":E,A=g.mirrored,j=A===void 0?!1:A,B=CS(g,["color","size","weight","mirrored"]);return Q.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s??_,height:s??_,fill:i??x,viewBox:"0 0 256 256",transform:l||j?"scale(-1, 1)":void 0},B,m),!!n&&Q.createElement("title",null,n),u,Q.createElement("rect",{width:"256",height:"256",fill:"none"}),h(a??C,i??x))});Hl.displayName="IconBase";var ql=new Map;ql.set("bold",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"128",r:"44",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ql.set("duotone",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M229.6,106,203.7,91.6a73.6,73.6,0,0,0-6.3-10.9l.5-29.7a102.6,102.6,0,0,0-38.2-22L134.3,44.2a88.3,88.3,0,0,0-12.6,0L96.2,28.9A104,104,0,0,0,58.1,51l.5,29.7a73.6,73.6,0,0,0-6.3,10.9L26.3,106a103.6,103.6,0,0,0,.1,44l25.9,14.4a80.1,80.1,0,0,0,6.3,11L58.1,205a102.6,102.6,0,0,0,38.2,22l25.4-15.2a88.3,88.3,0,0,0,12.6,0l25.5,15.3A104,104,0,0,0,197.9,205l-.5-29.7a73.6,73.6,0,0,0,6.3-10.9l26-14.4A102,102,0,0,0,229.6,106ZM128,176a48,48,0,1,1,48-48A48,48,0,0,1,128,176Z",opacity:"0.2"}),Q.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a103.6,103.6,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ql.set("fill",function(){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M237.5,104.3a8,8,0,0,0-4-5.3L209.7,85.8q-1.9-3.9-4.2-7.5l.4-27.2a8.3,8.3,0,0,0-2.6-6.1,112,112,0,0,0-41.1-23.7,8.1,8.1,0,0,0-6.6.8l-23.3,14c-2.9-.1-5.7-.1-8.6,0l-23.3-14a8.1,8.1,0,0,0-6.6-.8A111.1,111.1,0,0,0,52.7,45.1a7.9,7.9,0,0,0-2.6,6l.5,27.2c-1.6,2.4-3,4.9-4.4,7.5L22.5,99a7.7,7.7,0,0,0-4,5.3,111.4,111.4,0,0,0,0,47.4,8,8,0,0,0,4,5.3l23.8,13.2a69.3,69.3,0,0,0,4.3,7.5l-.5,27.2a8.3,8.3,0,0,0,2.6,6.1,112.9,112.9,0,0,0,41.1,23.7,8.1,8.1,0,0,0,6.6-.8l23.3-14h8.6l23.4,14a7.3,7.3,0,0,0,4.1,1.2,10,10,0,0,0,2.4-.4,111.1,111.1,0,0,0,41.1-23.8,7.9,7.9,0,0,0,2.6-6l-.4-27.2c1.5-2.4,2.9-4.9,4.3-7.5L233.6,157a7.9,7.9,0,0,0,3.9-5.3A111.4,111.4,0,0,0,237.5,104.3ZM172,128a44,44,0,1,1-44-44A44,44,0,0,1,172,128Z"}))});ql.set("light",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ql.set("thin",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ql.set("regular",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var wz=function(e,n){return Ru(e,n,ql)},cp=N.forwardRef(function(t,e){return Q.createElement(Hl,Object.assign({ref:e},t,{renderPath:wz}))});cp.displayName="GearSix";var $l=new Map;$l.set("bold",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});$l.set("duotone",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",opacity:"0.2"}),Q.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});$l.set("fill",function(){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"}))});$l.set("light",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});$l.set("thin",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});$l.set("regular",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var _z=function(e,n){return Ru(e,n,$l)},sj=N.forwardRef(function(t,e){return Q.createElement(Hl,Object.assign({ref:e},t,{renderPath:_z}))});sj.displayName="Heart";var Wl=new Map;Wl.set("bold",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Wl.set("duotone",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Wl.set("fill",function(){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M216,120H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),Q.createElement("path",{d:"M40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),Q.createElement("path",{d:"M216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))});Wl.set("light",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Wl.set("thin",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Wl.set("regular",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Ez=function(e,n){return Ru(e,n,Wl)},rj=N.forwardRef(function(t,e){return Q.createElement(Hl,Object.assign({ref:e},t,{renderPath:Ez}))});rj.displayName="List";var Gl=new Map;Gl.set("bold",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Gl.set("duotone",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48Z",opacity:"0.2"}),Q.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Gl.set("fill",function(){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M223.9,65.4l-12.2,66.9A24,24,0,0,1,188.1,152H72.1l4.4,24H184a24,24,0,1,1-24,24,23.6,23.6,0,0,1,1.4-8H102.6a23.6,23.6,0,0,1,1.4,8,24,24,0,1,1-42.2-15.6L34.1,32H16a8,8,0,0,1,0-16H34.1A16,16,0,0,1,49.8,29.1L54.7,56H216a7.9,7.9,0,0,1,6.1,2.9A7.7,7.7,0,0,1,223.9,65.4Z"}))});Gl.set("light",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Gl.set("thin",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Gl.set("regular",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Tz=function(e,n){return Ru(e,n,Gl)},aj=N.forwardRef(function(t,e){return Q.createElement(Hl,Object.assign({ref:e},t,{renderPath:Tz}))});aj.displayName="ShoppingCart";var Kl=new Map;Kl.set("bold",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Kl.set("duotone",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Kl.set("fill",function(){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Kl.set("light",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Kl.set("thin",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Kl.set("regular",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Q.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Sz=function(e,n){return Ru(e,n,Kl)},oj=N.forwardRef(function(t,e){return Q.createElement(Hl,Object.assign({ref:e},t,{renderPath:Sz}))});oj.displayName="SignOut";var Yl=new Map;Yl.set("bold",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Q.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Yl.set("duotone",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"96",r:"64",opacity:"0.2"}),Q.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),Q.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Yl.set("fill",function(){return Q.createElement(Q.Fragment,null,Q.createElement("path",{d:"M231.9,212a120.7,120.7,0,0,0-67.1-54.2,72,72,0,1,0-73.6,0A120.7,120.7,0,0,0,24.1,212a7.7,7.7,0,0,0,0,8,7.8,7.8,0,0,0,6.9,4H225a7.8,7.8,0,0,0,6.9-4A7.7,7.7,0,0,0,231.9,212Z"}))});Yl.set("light",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Q.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Yl.set("thin",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Q.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Yl.set("regular",function(t){return Q.createElement(Q.Fragment,null,Q.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),Q.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Az=function(e,n){return Ru(e,n,Yl)},up=N.forwardRef(function(t,e){return Q.createElement(Hl,Object.assign({ref:e},t,{renderPath:Az}))});up.displayName="User";function Dn(){var xt,at;const{user:t,logoutUser:e,updateUserRoleInDB:n}=ko(),{favoritos:i=[],cart:s=[],cantidadItems:a}=No(),{orderCount:l}=bz(),[u,h]=N.useState(!1),[m,g]=N.useState(!1),[v,x]=N.useState(!1),[_,E]=N.useState("profile"),[C,A]=N.useState(""),[j,B]=N.useState(""),[L,q]=N.useState(!1),[H,W]=N.useState({displayName:"",photoURL:"",email:""}),[D,k]=N.useState(!1),[I,M]=N.useState(""),[z,U]=N.useState(""),[R,ge]=N.useState(!1),te=Os(),Y=Ds(),K=async()=>{await e(),h(!1),g(!1)},ie=()=>h(!u),ce=()=>g(!m),V=(t==null?void 0:t.rol)==="admin"||(t==null?void 0:t.role)==="admin",ae=async()=>{try{if(!t)return;await n(t.uid,"admin"),alert("¡Ahora eres administrador! La página se recargará."),window.location.reload()}catch(we){console.error("Error al convertir en administrador:",we),alert("Error al convertir en administrador: "+we.message)}};console.log("Usuario actual:",t),console.log("Rol del usuario:",t==null?void 0:t.rol),console.log("Role del usuario:",t==null?void 0:t.role),console.log("¿Es admin?",V);const ue=we=>!!(we==="/"&&Y.pathname==="/"||we!=="/"&&Y.pathname.startsWith(we));N.useEffect(()=>{t!=null&&t.email&&(async()=>{try{const et=await mu($e(Ne,"users",t.uid));if(et.exists()){const ot=et.data();W({displayName:ot.displayName||t.displayName||"ARK Technology",photoURL:ot.photoURL||t.photoURL||"",email:t.email}),M(ot.displayName||t.displayName||"ARK Technology"),U(ot.photoURL||t.photoURL||"")}else await dr($e(Ne,"users",t.uid),{displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email,createdAt:new Date}),W({displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email}),M(t.displayName||"ARK Technology"),U(t.photoURL||"")}catch(et){console.error("Error al cargar datos del usuario:",et),W({displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email}),M(t.displayName||"ARK Technology"),U(t.photoURL||"")}})()},[t]);const he=we=>new Promise(et=>{const ot=document.createElement("canvas"),An=ot.getContext("2d"),bn=new Image;bn.onload=()=>{let{width:Mt,height:zt}=bn;Mt>zt?Mt>150&&(zt=zt*150/Mt,Mt=150):zt>150&&(Mt=Mt*150/zt,zt=150),ot.width=Mt,ot.height=zt,An.drawImage(bn,0,0,Mt,zt),ot.toBlob(et,"image/jpeg",.4)},bn.src=URL.createObjectURL(we)}),xe=async()=>{if(!I.trim()){alert("El nombre no puede estar vacío");return}ge(!0);try{const we=yn.currentUser;if(we){let et=H.photoURL;if(z&&z!==H.photoURL)try{console.log("Procesando nueva imagen...");const ot=await fetch(z);if(!ot.ok)throw new Error("Error al obtener la imagen del preview");const An=await ot.blob();if(console.log("Blob creado, tamaño:",An.size),An.size>500*1024)throw new Error("La imagen es demasiado grande. Máximo 500KB permitido.");const bn=new FileReader,Gi=new Promise((zt,Ln)=>{bn.onload=()=>zt(bn.result),bn.onerror=Ln});bn.readAsDataURL(An);const Mt=await Gi;Mt.length>1800&&console.log("URL demasiado larga para Auth, se guardará solo en Firestore"),et=Mt,console.log("Imagen procesada exitosamente como base64, longitud:",Mt.length)}catch(ot){console.error("Error al procesar imagen:",ot),alert("Error al procesar la imagen: "+ot.message+". Se mantendrá la foto actual."),et=H.photoURL}await cT(we,{displayName:I.trim(),photoURL:et.length>2e3?null:et}),await dr($e(Ne,"users",we.uid),{displayName:I.trim(),photoURL:et,email:we.email,updatedAt:new Date,lastProfileUpdate:new Date},{merge:!0}),W({...H,displayName:I.trim(),photoURL:et}),et.length<=1800&&await cT(we,{displayName:I.trim(),photoURL:et}),k(!1),alert("Perfil actualizado exitosamente. La foto se ha guardado correctamente."),g(!1),setTimeout(()=>{g(!0)},100)}}catch(we){console.error("Error al actualizar perfil:",we),alert("Error al actualizar el perfil: "+we.message)}finally{ge(!1)}},Ce=async()=>{if(C!==j){alert("Las contraseñas no coinciden");return}if(C.length<6){alert("La contraseña debe tener al menos 6 caracteres");return}ge(!0);try{const we=yn.currentUser;we&&(await v6(we,C),await _i($e(Ne,"users",we.uid),{passwordUpdatedAt:new Date,lastPasswordChange:new Date}),A(""),B(""),q(!1),alert("Contraseña cambiada exitosamente"))}catch(we){console.error("Error al cambiar contraseña:",we),we.code==="auth/requires-recent-login"?alert("Por seguridad, necesitas volver a iniciar sesión para cambiar tu contraseña"):alert("Error al cambiar la contraseña: "+we.message)}finally{ge(!1)}},_e=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar tu cuenta? Esta acción no se puede deshacer.")){ge(!0);try{const we=yn.currentUser;we&&(await ta($e(Ne,"carritos",we.uid)),await ta($e(Ne,"favoritos",we.uid)),await ta($e(Ne,"users",we.uid)),await E6(we),await e(),alert("Cuenta eliminada exitosamente"))}catch(we){console.error("Error al eliminar la cuenta:",we),we.code==="auth/requires-recent-login"?alert("Por seguridad, necesitas volver a iniciar sesión para eliminar tu cuenta"):alert("Error al eliminar la cuenta: "+we.message)}finally{ge(!1)}}};return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:"navbar",children:[d.jsxs("div",{className:"navbar-container",children:[d.jsxs("div",{className:"navbar-left",children:[d.jsxs("div",{className:"hamburger",onClick:ie,children:[d.jsx("div",{className:"bar"}),d.jsx("div",{className:"bar"}),d.jsx("div",{className:"bar"})]}),d.jsxs("h2",{className:"navbar-logo",children:[d.jsx("span",{className:"logo-shop",children:"SHOP"}),d.jsx("span",{className:"logo-cart",children:"CART"})]})]}),d.jsxs("div",{className:"navbar-links",children:[d.jsx(Ye,{to:"/",className:`nav-link ${ue("/")?"active":""}`,children:"Home"}),d.jsx(Ye,{to:"/productos",className:`nav-link ${ue("/productos")?"active":""}`,children:"Productos"}),d.jsx(Ye,{to:"/blog",className:`nav-link ${ue("/blog")?"active":""}`,children:"Blog"}),d.jsx(Ye,{to:"/contacto",className:`nav-link ${ue("/contacto")?"active":""}`,children:"Contacto"})]}),d.jsxs("div",{className:"navbar-icons",children:[d.jsxs(Ye,{to:"/favoritos",title:"Favoritos",className:"icon-link",children:[d.jsx(sj,{weight:"regular",size:24}),i.length>0&&d.jsx("span",{className:"notification-badge",children:i.length},`fav-${i.length}`)]}),d.jsxs(Ye,{to:"/carrito",title:"Carrito",className:"icon-link",children:[d.jsx(aj,{weight:"regular",size:24}),s.length>0&&d.jsx("span",{className:"notification-badge",children:s.length},`cart-${s.length}`)]}),d.jsxs(Ye,{to:"/mis-ordenes",title:"Mis Órdenes",className:"icon-link",children:[d.jsx(rj,{weight:"regular",size:24}),l>0&&d.jsx("span",{className:"notification-badge",children:l})]}),t&&d.jsxs("div",{className:"user-menu",children:[d.jsxs("span",{className:"icon-link user-icon",onClick:ce,children:[H.photoURL||t!=null&&t.photoURL?d.jsx("img",{src:H.photoURL||(t==null?void 0:t.photoURL),alt:"Avatar",className:"nav-user-avatar",onError:we=>{we.target.style.display="none";const et=we.target.nextSibling;et&&(et.style.display="flex")}}):null,d.jsx("span",{className:"nav-user-initials",style:{display:H.photoURL||t!=null&&t.photoURL?"none":"flex"},children:(H.displayName||(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"US").split(" ").map(we=>we[0]).join("").substring(0,2).toUpperCase()})]}),m&&d.jsxs("div",{className:"user-dropdown",children:[d.jsxs("div",{className:"user-info",children:[d.jsxs("div",{className:"user-avatar",children:[H.photoURL?d.jsx("img",{src:H.photoURL,alt:"Profile",className:"user-avatar-image",onError:we=>{we.target.style.display="none",we.target.nextSibling.style.display="flex"}}):null,d.jsx("span",{className:"user-initials",style:{display:H.photoURL?"none":"flex"},children:((xt=H.displayName)==null?void 0:xt.split(" ").map(we=>we[0]).join("").toUpperCase())||"AT"})]}),d.jsxs("div",{className:"user-details",children:[d.jsx("p",{className:"user-name",children:H.displayName||"ARK Technology"}),d.jsx("p",{className:"user-email",children:t==null?void 0:t.email})]})]}),d.jsx("div",{className:"dropdown-separator"}),V?d.jsxs("button",{onClick:()=>{te("/admin"),g(!1),h(!1)},className:"dropdown-button admin-button",children:[d.jsx(cp,{weight:"regular",size:20}),"Administrar página"]}):d.jsxs("button",{onClick:()=>{ae(),g(!1)},className:"dropdown-button admin-button",children:[d.jsx(cp,{weight:"regular",size:20}),"Convertirme en administrador"]}),d.jsxs("button",{onClick:()=>{x(!0),g(!1),h(!1)},className:"dropdown-button edit-profile-button",children:[d.jsx(up,{weight:"regular",size:20}),"Editar perfil"]}),d.jsxs("button",{onClick:K,className:"dropdown-button logout-button",children:[d.jsx(oj,{weight:"regular",size:20}),"Cerrar sesión"]})]})]}),!t&&d.jsx(Ye,{to:"/login",title:"Iniciar sesión",className:"icon-link",children:d.jsx(up,{weight:"regular",size:24})})]})]}),d.jsx("div",{className:`mobile-menu-overlay ${u?"open":""}`,children:d.jsxs("div",{className:"mobile-menu-content",children:[d.jsx("button",{className:"close-menu",onClick:ie,children:"×"}),d.jsxs("div",{className:"mobile-logo",children:[d.jsx("span",{className:"logo-shop",children:"SHOP"}),d.jsx("span",{className:"logo-cart",children:"CART"})]}),d.jsxs("div",{className:"mobile-nav-links",children:[d.jsx(Ye,{to:"/",onClick:()=>h(!1),className:`mobile-link ${ue("/")?"active":""}`,children:"Home"}),d.jsx(Ye,{to:"/productos",onClick:()=>h(!1),className:`mobile-link ${ue("/productos")?"active":""}`,children:"Productos"}),d.jsx(Ye,{to:"/blog",onClick:()=>h(!1),className:`mobile-link ${ue("/blog")?"active":""}`,children:"Blog"}),d.jsx(Ye,{to:"/contacto",onClick:()=>h(!1),className:`mobile-link ${ue("/contacto")?"active":""}`,children:"Contacto"})]}),d.jsxs("div",{className:"mobile-social-icons",children:[d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"▶"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"📍"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"in"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"f"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"#"})})]})]})})]}),v&&d.jsx("div",{className:"profile-modal-overlay",onClick:()=>x(!1),children:d.jsxs("div",{className:"profile-modal",onClick:we=>we.stopPropagation(),children:[d.jsx("button",{className:"modal-close-btn",onClick:()=>x(!1),children:"×"}),d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-left-panel",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{className:"modal-title",children:"Account"}),d.jsx("p",{className:"modal-subtitle",children:"Manage your account info."})]}),d.jsxs("nav",{className:"modal-nav",children:[d.jsxs("button",{className:`nav-tab ${_==="profile"?"active":""}`,onClick:()=>E("profile"),children:[d.jsx(up,{weight:"regular",size:20}),"Profile"]}),d.jsxs("button",{className:`nav-tab ${_==="security"?"active":""}`,onClick:()=>E("security"),children:[d.jsx(cp,{weight:"regular",size:20}),"Security"]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsxs("p",{className:"secured-by",children:["Secured by ",d.jsx("span",{className:"clerk-logo",children:"clerk"})]}),d.jsx("p",{className:"dev-mode",children:"Development mode"})]})]}),d.jsxs("div",{className:"modal-right-panel",children:[_==="profile"&&d.jsxs("div",{className:"tab-content",children:[d.jsx("h3",{className:"tab-title",children:"Profile details"}),d.jsxs("div",{className:"profile-section",children:[d.jsx("h4",{children:"Profile"}),D?d.jsxs("div",{className:"update-profile-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre"}),d.jsx("input",{type:"text",value:I,onChange:we=>M(we.target.value),placeholder:"Nombre completo",className:"profile-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Foto de perfil"}),d.jsxs("div",{className:"photo-upload-container",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:async we=>{const et=we.target.files[0];if(et)try{const ot=await he(et),An=URL.createObjectURL(ot);U(An)}catch(ot){console.error("Error al procesar imagen:",ot),alert("Error al procesar la imagen. Intenta con otra imagen.")}},className:"photo-input",id:"photo-upload"}),d.jsx("label",{htmlFor:"photo-upload",className:"photo-upload-btn",children:z?"Cambiar foto":"Seleccionar foto"}),z&&d.jsxs("div",{className:"photo-preview",children:[d.jsx("img",{src:z,alt:"Preview",className:"preview-image"}),d.jsx("button",{type:"button",className:"remove-photo-btn",onClick:()=>{U(""),document.getElementById("photo-upload").value=""},children:"×"})]})]})]}),d.jsxs("div",{className:"profile-form-actions",children:[d.jsx("button",{className:"save-profile-btn",onClick:xe,disabled:R,children:R?"Guardando...":"Guardar"}),d.jsx("button",{className:"cancel-profile-btn",onClick:()=>{k(!1),M(H.displayName),U(H.photoURL),document.getElementById("photo-upload").value=""},disabled:R,children:"Cancelar"})]})]}):d.jsxs("div",{className:"profile-info",children:[d.jsxs("div",{className:"profile-avatar",children:[H.photoURL?d.jsx("img",{src:H.photoURL,alt:"Profile",className:"profile-image",onError:we=>{we.target.style.display="none",we.target.nextSibling.style.display="flex"}}):null,d.jsx("span",{className:"avatar-initials",style:{display:H.photoURL?"none":"flex"},children:((at=H.displayName)==null?void 0:at.split(" ").map(we=>we[0]).join("").toUpperCase())||"AT"})]}),d.jsx("div",{className:"profile-details",children:d.jsx("p",{className:"profile-name",children:H.displayName||"ARK Technology"})}),d.jsx("button",{className:"update-profile-btn",onClick:()=>k(!0),children:"Update profile"})]})]}),d.jsxs("div",{className:"email-section",children:[d.jsx("h4",{children:"Email addresses"}),d.jsxs("div",{className:"email-item",children:[d.jsx("span",{className:"email-address",children:t==null?void 0:t.email}),d.jsx("span",{className:"primary-tag",children:"Primary"})]})]}),d.jsxs("div",{className:"connected-accounts-section",children:[d.jsx("h4",{children:"Connected accounts"}),d.jsxs("div",{className:"connected-account",children:[d.jsxs("div",{className:"account-info",children:[d.jsx("span",{className:"google-icon",children:"G"}),d.jsx("span",{className:"account-name",children:"Google"}),d.jsx("span",{className:"account-email",children:(t==null?void 0:t.email)||"technologyark05@gmail.com"})]}),d.jsx("button",{className:"account-options",children:"⋮"})]})]})]}),_==="security"&&d.jsxs("div",{className:"tab-content",children:[d.jsx("h3",{className:"tab-title",children:"Security"}),d.jsxs("div",{className:"security-section",children:[d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Password"}),L?d.jsxs("div",{className:"password-form",children:[d.jsx("input",{type:"password",value:C,onChange:we=>A(we.target.value),placeholder:"Nueva contraseña",className:"password-input"}),d.jsx("input",{type:"password",value:j,onChange:we=>B(we.target.value),placeholder:"Confirmar contraseña",className:"password-input"}),d.jsxs("div",{className:"password-actions",children:[d.jsx("button",{className:"save-password-btn",onClick:Ce,disabled:R,children:R?"Guardando...":"Guardar"}),d.jsx("button",{className:"cancel-password-btn",onClick:()=>{q(!1),A(""),B("")},disabled:R,children:"Cancelar"})]})]}):d.jsx("button",{className:"security-action",onClick:()=>q(!0),children:"Set password"})]}),d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Active devices"}),d.jsxs("div",{className:"device-info",children:[d.jsx("span",{className:"device-icon",children:"⊞"}),d.jsx("span",{className:"device-name",children:"Windows This device"}),d.jsx("span",{className:"device-browser",children:"Opera 120.0.0.0"}),d.jsx("span",{className:"device-ip",children:"2803:e5e3:2c00:fa00:cd80:b62b:bc91:ba2d (Anaime, CO)"}),d.jsx("span",{className:"device-time",children:"Today at 10:17 AM"})]})]}),d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Delete account"}),d.jsx("button",{className:"security-action delete-account",onClick:_e,disabled:R,children:R?"Eliminando...":"Delete account"})]})]})]})]})]})]})}),d.jsx("style",{children:`
        .navbar {
          background-color: #ffffff;  
          font-family: 'Arial', sans-serif;
          position: sticky;
          top: 0;
          z-index: 1000;
          border-bottom: 1px solid #e0e0e0;
        }

        .navbar-container {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }

        .navbar-left {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .hamburger {
          display: flex;
          flex-direction: column;
          gap: 3px;
          cursor: pointer;
          padding: 6px;
          border-radius: 4px;
          transition: background-color 0.3s ease;
        }

        .hamburger .bar {
          width: 18px;
          height: 2px;
          background-color: #333333;
          border-radius: 2px;
          transition: all 0.3s ease;
        }

        .hamburger:hover {
          background-color: rgba(0, 0, 0, 0.05);
        }

        .navbar-logo {
          font-size: 20px;
          font-weight: bold;
          letter-spacing: -0.5px;
          display: flex;
          align-items: center;
        }

        .logo-shop {
          color: #1a5f3c;
        }

        .logo-cart {
          color: #2d8a4e;
          text-decoration: underline;
          text-decoration-color: #2d8a4e;
          text-underline-offset: 2px;
        }

        .navbar-links {
          display: flex;
          gap: 25px;
        }

        .nav-link {
          text-decoration: none;
          color: #666666;
          font-weight: 500;
          font-size: 14px;
          position: relative;
          padding: 6px 0;
          transition: all 0.3s ease;
        }

        .nav-link.active {
          color: #2d8a4e;
        }

        .nav-link.active::after {
          content: '';
          position: absolute;
          bottom: -2px;
          left: 0;
          width: 100%;
          height: 2px;
          background-color: #2d8a4e;
        }

        .nav-link:hover {
          color: #2d8a4e;
        }

        .navbar-icons {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .icon-link {
          color: #666666;
          cursor: pointer;
          transition: all 0.3s ease;
          padding: 6px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          text-decoration: none;
        }

        .icon-link:hover {
          color: #333333;
          background-color: rgba(0, 0, 0, 0.05);
        }

        .notification-badge {
          position: absolute;
          top: 0;
          right: 0;
          background-color: #2d8a4e;
          color: white;
          font-size: 10px;
          font-weight: bold;
          width: 16px;
          height: 16px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .user-dropdown {
          position: absolute;
          right: 0;
          top: 60px;
          background-color: #2d2d2d;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
          width: 280px;
          border: 1px solid #404040;
          animation: dropdownFade 0.3s ease;
        }

        .user-info {
          display: flex;
          gap: 15px;
          padding-bottom: 15px;
          margin-bottom: 15px;
        }

        .user-avatar {
          width: 50px;
          height: 50px;
          background-color: #000000;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .user-initials {
          color: white;
          font-size: 18px;
          font-weight: bold;
          font-family: 'Arial', sans-serif;
        }

        .user-avatar-image {
          width: 100%;
          height: 100%;
          border-radius: 50%;
          object-fit: cover;
        }

        .user-details {
          flex: 1;
        }

        .user-name {
          margin: 0 0 5px 0;
          font-size: 16px;
          font-weight: 600;
          color: white;
        }

        .user-email {
          margin: 0;
          font-size: 14px;
          color: #cccccc;
        }

        .dropdown-separator {
          height: 1px;
          background-color: #404040;
          margin: 15px 0;
        }

        @keyframes dropdownFade {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .dropdown-button {
          margin-top: 8px;
          background-color: transparent;
          color: white;
          border: none;
          padding: 12px 15px;
          border-radius: 8px;
          cursor: pointer;
          width: 100%;
          font-weight: 500;
          font-size: 14px;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 12px;
          justify-content: flex-start;
          text-align: left;
        }

        .dropdown-button:hover {
          background-color: #404040;
          transform: translateX(5px);
        }

        .dropdown-button .admin-button {
          background-color: #00b894;
        }

        .dropdown-button .admin-button:hover {
          background-color: #00a884;
        }

        .dropdown-button .edit-profile-button {
          background-color: transparent;
        }

        .dropdown-button .edit-profile-button:hover {
          background-color: #404040;
        }

        .dropdown-button .logout-button {
          background-color: transparent;
        }

        .dropdown-button .logout-button:hover {
          background-color: #e74c3c;
        }

        /* Menú móvil overlay */
        .mobile-menu-overlay {
          position: fixed;
          top: 0;
          left: -100%;
          height: 100vh;
          width: 35%;
          background-color: #ffffff;
          transition: all 0.3s ease-in-out;
          z-index: 1001;
          border-right: 1px solid #e0e0e0;
        }

        .mobile-menu-overlay.open {
          left: 0;
        }

        .mobile-menu-content {
          padding: 20px 20px;
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .close-menu {
          background-color: transparent;
          color: #333333;
          font-size: 24px;
          width: 30px;
          height: 30px;
          border: none;
          cursor: pointer;
          align-self: flex-end;
          margin-bottom: 25px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .close-menu:hover {
          color: #2d8a4e;
        }

        .mobile-logo {
          margin-bottom: 30px;
        }

        .mobile-logo .logo-shop {
          color: #1a5f3c;
          font-size: 22px;
          font-weight: bold;
        }

        .mobile-logo .logo-cart {
          color: #2d8a4e;
          font-size: 22px;
          font-weight: normal;
          text-decoration: underline;
          text-decoration-color: #2d8a4e;
          text-underline-offset: 3px;
        }

        .mobile-nav-links {
          display: flex;
          flex-direction: column;
          gap: 15px;
          margin-bottom: 20px;
        }

        .mobile-link {
          text-decoration: none;
          color: #666666;
          font-weight: 500;
          font-size: 16px;
          padding: 8px 0;
          transition: all 0.3s ease;
        }

        .mobile-link.active {
          color: #2d8a4e;
        }

        .mobile-link:hover {
          color: #2d8a4e;
        }

        .mobile-social-icons {
          display: flex;
          gap: 12px;
          margin-top: 0;
        }

        .social-icon {
          width: 32px;
          height: 32px;
          border: 1px solid #666666;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          text-decoration: none;
          transition: all 0.3s ease;
        }

        .social-icon:hover {
          border-color: #2d8a4e;
          background-color: #2d8a4e;
        }

        .social-icon-inner {
          color: #666666;
          font-size: 12px;
          font-weight: bold;
        }

        .social-icon:hover .social-icon-inner {
          color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .navbar-links {
            display: none;
          }

          .hamburger {
            display: flex;
          }

          .mobile-menu-overlay {
            width: 70%;
          }

          .mobile-menu-content {
            padding: 15px 15px;
          }

          .mobile-logo .logo-shop,
          .mobile-logo .logo-cart {
            font-size: 20px;
          }

          .mobile-nav-links {
            gap: 12px;
            margin-bottom: 15px;
          }

          .mobile-link {
            font-size: 15px;
            padding: 6px 0;
          }

          .mobile-social-icons {
            gap: 10px;
          }

          .social-icon {
            width: 28px;
            height: 28px;
          }

          .social-icon-inner {
            font-size: 11px;
          }
        }

        @media (min-width: 769px) {
          .hamburger {
          display: none;
        }

          .mobile-menu-overlay {
          display: none;
          }
        }

        /* Modal de Editar Perfil */
        .profile-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          padding: 20px;
        }

        .profile-modal {
          background-color: #f8f9fa;
          border-radius: 16px;
          width: 100%;
          max-width: 900px;
          height: 80vh;
          overflow: hidden;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          position: relative;
        }

        .modal-close-btn {
          position: absolute;
          top: 20px;
          right: 20px;
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #666;
          z-index: 10;
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
          background-color: #e9ecef;
          color: #333;
        }

        .modal-content {
          display: flex;
          max-width: none;
          height: 100%;
        }

        /* Panel izquierdo */
        .modal-left-panel {
          width: 280px;
          background-color: #e9ecef;
          padding: 30px 20px;
          display: flex;
          flex-direction: column;
          flex-shrink: 0;
        }

        .modal-header {
          margin-bottom: 30px;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          color: #212529;
          margin: 0 0 8px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          color: #6c757d;
          margin: 0;
        }

        .modal-nav {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .nav-tab {
          background: none;
          border: none;
          padding: 12px 16px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
          color: #495057;
          transition: all 0.2s ease;
          text-align: left;
        }

        .nav-tab:hover {
          background-color: #dee2e6;
        }

        .nav-tab.active {
          background-color: #ced4da;
          color: #212529;
        }

        .modal-footer {
          margin-top: auto;
          padding-top: 20px;
          border-top: 1px solid #dee2e6;
        }

        .secured-by {
          font-size: 12px;
          color: #6c757d;
          margin: 0 0 4px 0;
        }

        .clerk-logo {
          font-weight: 600;
          color: #495057;
        }

        .dev-mode {
          font-size: 12px;
          color: #fd7e14;
          margin: 0;
          font-weight: 500;
        }

        /* Panel derecho */
        .modal-right-panel {
          flex: 1;
          padding: 30px;
          overflow-y: auto;
          min-height: 0;
        }

        .tab-content {
          max-width: 500px;
        }

        .tab-title {
          font-size: 20px;
          font-weight: 600;
          color: #212529;
          margin: 0 0 30px 0;
        }

        /* Sección de perfil */
        .profile-section {
          margin-bottom: 30px;
        }

        .profile-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .profile-info {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .profile-avatar {
          width: 60px;
          height: 60px;
          background-color: #000;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .avatar-initials {
          color: white;
          font-size: 20px;
          font-weight: 600;
        }

        .profile-details {
          flex: 1;
        }

        .profile-name {
          font-size: 16px;
          font-weight: 500;
          color: #212529;
          margin: 0;
        }

        .update-profile-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .update-profile-btn:hover {
          background-color: #0056b3;
        }

        /* Formulario de actualización de perfil */
        .update-profile-form {
          padding: 20px;
          background-color: #f8f9fa;
          border-radius: 6px;
          border: 1px solid #e9ecef;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-group label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #495057;
          margin-bottom: 6px;
        }

        .profile-input {
          width: 100%;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
          box-sizing: border-box;
        }

        .profile-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .profile-form-actions {
          display: flex;
          gap: 10px;
          margin-top: 20px;
        }

        .save-profile-btn,
        .cancel-profile-btn {
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          border: none;
          transition: background-color 0.2s ease;
          flex: 1;
        }

        .save-profile-btn {
          background-color: #007bff;
          color: white;
        }

        .save-profile-btn:hover:not(:disabled) {
          background-color: #0056b3;
        }

        .save-profile-btn:disabled {
          background-color: #6c757d;
          cursor: not-allowed;
        }

        .cancel-profile-btn {
          background-color: #6c757d;
          color: white;
        }

        .cancel-profile-btn:hover:not(:disabled) {
          background-color: #5a6268;
        }

        .cancel-profile-btn:disabled {
          background-color: #adb5bd;
          cursor: not-allowed;
        }

        .profile-image {
          width: 100%;
          height: 100%;
          border-radius: 50%;
          object-fit: cover;
        }

        /* Upload de foto */
        .photo-upload-container {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .photo-input {
          display: none;
        }

        .photo-upload-btn {
          display: inline-block;
          padding: 8px 16px;
          background-color: #007bff;
          color: white;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          text-align: center;
          transition: background-color 0.2s ease;
          border: none;
        }

        .photo-upload-btn:hover {
          background-color: #0056b3;
        }

        .photo-preview {
          position: relative;
          display: inline-block;
          margin-top: 8px;
        }

        .preview-image {
          width: 80px;
          height: 80px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid #e9ecef;
        }

        .remove-photo-btn {
          position: absolute;
          top: -8px;
          right: -8px;
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background-color: #dc3545;
          color: white;
          border: none;
          cursor: pointer;
          font-size: 16px;
          font-weight: bold;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.2s ease;
        }

        .remove-photo-btn:hover {
          background-color: #c82333;
        }

        /* Sección de email */
        .email-section {
          margin-bottom: 30px;
        }

        .email-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .email-item {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 12px;
        }

        .email-address {
          font-size: 14px;
          color: #212529;
          flex: 1;
        }

        .primary-tag {
          background-color: #e9ecef;
          color: #495057;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
        }

        .email-actions {
          display: flex;
          gap: 8px;
          margin-left: auto;
        }

        .email-action-btn {
          background: none;
          border: none;
          font-size: 16px;
          color: #6c757d;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
          transition: background-color 0.2s ease;
        }

        .email-action-btn:hover {
          background-color: #e9ecef;
        }

        .email-action-btn:disabled {
          color: #adb5bd;
          cursor: not-allowed;
        }

        .email-action-btn:disabled:hover {
          background-color: transparent;
        }

        .add-email-form {
          display: flex;
          gap: 10px;
          margin-top: 15px;
        }

        .email-input {
          flex: 1;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
        }

        .email-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .email-form-actions {
          display: flex;
          gap: 10px;
        }

        .save-email-btn,
        .cancel-email-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .save-email-btn:hover {
          background-color: #0056b3;
        }

        .cancel-email-btn:hover {
          background-color: #6c757d;
        }

        .add-email-btn {
          background: none;
          border: none;
          color: #007bff;
          font-size: 14px;
          cursor: pointer;
          padding: 8px 0;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: color 0.2s ease;
        }

        .add-email-btn:hover {
          color: #0056b3;
        }

        .add-email-btn span {
          font-size: 18px;
          font-weight: 600;
        }

        /* Formulario de contraseña */
        .password-form {
            display: flex;
            flex-direction: column;
          gap: 10px;
          min-width: 250px;
        }

        .password-input {
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
        }

        .password-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .password-actions {
          display: flex;
          gap: 10px;
        }

        .save-password-btn,
        .cancel-password-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
            cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .save-password-btn:hover {
          background-color: #0056b3;
        }

        .cancel-password-btn {
          background-color: #6c757d;
        }

        .cancel-password-btn:hover {
          background-color: #5a6268;
        }

        /* Sección de cuentas conectadas */
        .connected-accounts-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .connected-account {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 0;
        }

        .account-info {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .google-icon {
            width: 24px;
          height: 24px;
          background-color: #4285f4;
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 14px;
          font-weight: 600;
        }

        .account-name {
          font-size: 14px;
          font-weight: 500;
          color: #212529;
        }

        .account-email {
          font-size: 14px;
          color: #6c757d;
        }

        .account-options {
          background: none;
          border: none;
          font-size: 18px;
          color: #6c757d;
          cursor: pointer;
          padding: 4px;
            border-radius: 4px;
          transition: background-color 0.2s ease;
          }

        .account-options:hover {
          background-color: #e9ecef;
          }

        /* Sección de seguridad */
        .security-section {
            display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .security-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding: 16px 0;
          border-bottom: 1px solid #e9ecef;
        }

        .security-item:last-child {
          border-bottom: none;
        }

        .security-label {
          font-size: 14px;
          font-weight: 500;
          color: #495057;
        }

        .security-action {
          background: none;
          border: none;
          color: #007bff;
          font-size: 14px;
          cursor: pointer;
          padding: 0;
          transition: color 0.2s ease;
        }

        .security-action:hover {
          color: #0056b3;
        }

        .security-action.delete-account {
          color: #dc3545;
        }

        .security-action.delete-account:hover {
          color: #c82333;
        }

        .security-action:disabled {
          color: #6c757d;
          cursor: not-allowed;
        }

        .save-password-btn:disabled,
        .cancel-password-btn:disabled {
          background-color: #6c757d;
          cursor: not-allowed;
        }

        .device-info {
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          gap: 4px;
          text-align: right;
        }

        .device-icon {
          font-size: 16px;
          color: #212529;
        }

        .device-name {
          font-size: 14px;
          font-weight: 500;
          color: #212529;
        }

        .device-browser {
          font-size: 12px;
          color: #6c757d;
        }

        .device-ip {
          font-size: 12px;
          color: #6c757d;
          max-width: 200px;
          word-break: break-all;
        }

        .device-time {
          font-size: 12px;
          color: #6c757d;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .modal-content {
            flex-direction: column;
          }

          .modal-left-panel {
            width: 100%;
            padding: 20px;
          }

          .modal-right-panel {
            padding: 20px;
          }

          .profile-modal {
            max-height: 95vh;
          }
        }

        .nav-user-avatar{width:28px;height:28px;border-radius:50%;object-fit:cover}
        .nav-user-initials{width:28px;height:28px;border-radius:50%;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700}
      `})]})}const Tt=({variant:t="primary",size:e="md",fullWidth:n=!1,onClick:i,disabled:s=!1,children:a,className:l="",...u})=>{let h=`btn btn-${t} btn-${e}`;return n&&(h+=" btn-fullwidth"),l&&(h+=` ${l}`),d.jsx("button",{className:h,onClick:i,disabled:s,...u,children:a})},Cz=({src:t,alt:e,placeholderSrc:n="https://via.placeholder.com/300?text=Cargando...",style:i={},className:s="",preload:a=!1,...l})=>{const[u,h]=N.useState(a?t:n),[m,g]=N.useState(a),v=N.useRef(null),x=N.useRef(null);return N.useEffect(()=>{t!==u&&m&&(h(n),g(!1));const _=new Image;_.src=t;const E=()=>{h(t),g(!0)},C=()=>{console.error(`Error al cargar la imagen: ${t}`),g(!1)};return a?(_.onload=E,_.onerror=C):"IntersectionObserver"in window&&v.current?(x.current=new IntersectionObserver(A=>{A.forEach(j=>{j.isIntersecting&&(_.onload=E,_.onerror=C,x.current.disconnect())})},{rootMargin:"100px"}),x.current.observe(v.current)):(_.onload=E,_.onerror=C),()=>{_.onload=null,_.onerror=null,x.current&&x.current.disconnect()}},[t,n,a,u,m]),d.jsx("img",{ref:v,src:u,alt:e,className:`lazy-image ${m?"loaded":"loading"} ${s}`,style:i,loading:"lazy",...l})},pu=N.memo(Cz),Ro=({size:t="md",color:e="primary",text:n=""})=>{const i=`loader loader-${t} loader-${e}`,s=`loader-text ${n?`loader-text-${t} loader-text-${e}`:""}`;return d.jsxs("div",{className:"loader-container",children:[d.jsx("div",{className:i,"aria-label":"Cargando"}),n&&d.jsx("p",{className:s,children:n})]})},kz=({isOpen:t,onClose:e,title:n,children:i,size:s="md",closeOnClickOutside:a=!0})=>(N.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),t?d.jsx("div",{className:"modal-overlay",onClick:a?l=>l.target===l.currentTarget&&e():void 0,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:d.jsxs("div",{className:`modal-container size-${s}`,children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{id:"modal-title",className:"modal-title",children:n}),d.jsx("button",{className:"modal-close-button",onClick:e,"aria-label":"Cerrar modal",children:"×"})]}),d.jsx("div",{className:"modal-content",children:i})]})}):null);var lj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kS=Q.createContext&&Q.createContext(lj),Nz=["attr","size","title"];function Rz(t,e){if(t==null)return{};var n=jz(t,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function jz(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gp.apply(this,arguments)}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(i){Pz(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Pz(t,e,n){return e=Iz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iz(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function Mz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cj(t){return t&&t.map((e,n)=>Q.createElement(e.tag,Kp({key:n},e.attr),cj(e.child)))}function xa(t){return e=>Q.createElement(Dz,Gp({attr:Kp({},t.attr)},e),cj(t.child))}function Dz(t){var e=n=>{var{attr:i,size:s,title:a}=t,l=Rz(t,Nz),u=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Q.createElement("svg",Gp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:Kp(Kp({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Q.createElement("title",null,a),t.children)};return kS!==void 0?Q.createElement(kS.Consumer,null,n=>e(n)):e(lj)}function Oz(t){return xa({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function Lz(t){return xa({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function Vz(t){return xa({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function zz(t){return xa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function Uz(t){return xa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Bz(t){return xa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Fz(t){return xa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function Hz(t){return xa({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function qz(t){return xa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}const dp=({producto:t,toggleFavorito:e,agregarAlCarrito:n,favoritos:i=[],showActions:s=!0})=>{var u;if(!t)return null;const a=i==null?void 0:i.some(h=>h.id===t.id),l=(h=0)=>{const m=Math.floor(h),g=h%1>=.5?1:0,v=5-m-g;return d.jsxs("span",{className:"stars",children:[Array(m).fill(0).map((x,_)=>d.jsx("i",{className:"fas fa-star"},`f${_}`)),g===1&&d.jsx("i",{className:"fas fa-star-half-alt"}),Array(v).fill(0).map((x,_)=>d.jsx("i",{className:"far fa-star"},`e${_}`))]})};return d.jsxs("div",{className:"producto-card",children:[d.jsxs("div",{className:"producto-img-wrapper",children:[t.onSale&&d.jsx("div",{className:"sale-badge",children:"Sale!"}),s&&d.jsx(d.Fragment,{children:d.jsx(Ye,{to:`/producto/${t.id}`,className:"view-btn",title:"Ver detalles","aria-label":"Ver detalles del producto",children:d.jsx(Vz,{})})}),d.jsx(Ye,{to:`/producto/${t.id}`,children:d.jsx("img",{src:t.image||((u=t.images)==null?void 0:u[0])||"https://via.placeholder.com/300",alt:t.name,className:"producto-img",loading:"lazy"})})]}),d.jsxs("div",{className:"producto-info",children:[d.jsx(Ye,{to:`/producto/${t.id}`,className:"producto-nombre",children:t.name}),d.jsx("div",{className:"producto-rating",children:l(t.rating)}),s&&d.jsxs("div",{className:"producto-bottom-actions",children:[d.jsx("div",{className:"producto-precio-container",children:t.oldPrice&&t.onSale?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"producto-precio-original",children:["$",Math.round(t.oldPrice).toLocaleString("es-CO")]}),d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})]}):d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})}),d.jsxs("div",{className:"producto-actions",children:[d.jsx("button",{className:`action-btn fav-action-btn ${a?"active":""}`,title:a?"Quitar de favoritos":"Agregar a favoritos",onClick:()=>e(t),"aria-label":a?"Quitar de favoritos":"Agregar a favoritos",children:a?d.jsx(Uz,{}):d.jsx(qz,{})}),d.jsxs("button",{className:"action-btn cart-action-btn",onClick:()=>n(t),disabled:t.stock<=0,title:"Agregar al carrito",children:[d.jsx(Fz,{}),d.jsx("span",{children:"Add to Cart"})]})]})]}),!s&&d.jsx("div",{className:"producto-precio-container",children:t.oldPrice&&t.onSale?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"producto-precio-original",children:["$",Math.round(t.oldPrice).toLocaleString("es-CO")]}),d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})]}):d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})})]})]})},Eb=({rating:t=0,interactive:e=!1,onChange:n,size:i="md"})=>{const s=Math.floor(t),a=t%1>=.5,l=5-s-(a?1:0),u=h=>{e&&n&&n(h+1)};return d.jsxs("div",{className:"star-rating",children:[[...Array(s)].map((h,m)=>d.jsx("i",{className:`fas fa-star star size-${i} ${e?"interactive":""}`,onClick:()=>u(m),"aria-label":`${m+1} estrellas`},`full-${m}`)),a&&d.jsx("i",{className:`fas fa-star-half-alt star size-${i} ${e?"interactive":""}`,onClick:()=>u(s),"aria-label":`${s+.5} estrellas`}),[...Array(l)].map((h,m)=>d.jsx("i",{className:`far fa-star star empty size-${i} ${e?"interactive":""}`,onClick:()=>u(s+(a?1:0)+m),"aria-label":`${s+(a?1:0)+m+1} estrellas`},`empty-${m}`))]})};/*!
* sweetalert2 v11.21.0
* Released under the MIT License.
*/function uj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function $z(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function RS(t,e){return t.get(uj(t,e))}function Wz(t,e,n){$z(t,e),e.set(t,n)}function Gz(t,e,n){return t.set(uj(t,e),n),n}const Kz=100,Ie={},Yz=()=>{Ie.previousActiveElement instanceof HTMLElement?(Ie.previousActiveElement.focus(),Ie.previousActiveElement=null):document.body&&document.body.focus()},Xz=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;Ie.restoreFocusTimeout=setTimeout(()=>{Yz(),e()},Kz),window.scrollTo(n,i)}),dj="swal2-",Qz=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],oe=Qz.reduce((t,e)=>(t[e]=dj+e,t),{}),Zz=["success","warning","info","question","error"],Yp=Zz.reduce((t,e)=>(t[e]=dj+e,t),{}),hj="SweetAlert2:",uw=t=>t.charAt(0).toUpperCase()+t.slice(1),fi=t=>{console.warn(`${hj} ${typeof t=="object"?t.join(" "):t}`)},Xl=t=>{console.error(`${hj} ${t}`)},jS=[],Jz=t=>{jS.includes(t)||(jS.push(t),fi(t))},fj=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Jz(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Kg=t=>typeof t=="function"?t():t,dw=t=>t&&typeof t.toPromise=="function",Zh=t=>dw(t)?t.toPromise():Promise.resolve(t),hw=t=>t&&Promise.resolve(t)===t,mi=()=>document.body.querySelector(`.${oe.container}`),Jh=t=>{const e=mi();return e?e.querySelector(t):null},$i=t=>Jh(`.${t}`),dt=()=>$i(oe.popup),ju=()=>$i(oe.icon),eU=()=>$i(oe["icon-content"]),mj=()=>$i(oe.title),fw=()=>$i(oe["html-container"]),pj=()=>$i(oe.image),mw=()=>$i(oe["progress-steps"]),Yg=()=>$i(oe["validation-message"]),yr=()=>Jh(`.${oe.actions} .${oe.confirm}`),Pu=()=>Jh(`.${oe.actions} .${oe.cancel}`),Ql=()=>Jh(`.${oe.actions} .${oe.deny}`),tU=()=>$i(oe["input-label"]),Iu=()=>Jh(`.${oe.loader}`),ef=()=>$i(oe.actions),gj=()=>$i(oe.footer),Xg=()=>$i(oe["timer-progress-bar"]),pw=()=>$i(oe.close),nU=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,gw=()=>{const t=dt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),h=parseInt(l.getAttribute("tabindex")||"0");return u>h?1:u<h?-1:0}),i=t.querySelectorAll(nU),s=Array.from(i).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(a=>Ri(a))},yw=()=>oa(document.body,oe.shown)&&!oa(document.body,oe["toast-shown"])&&!oa(document.body,oe["no-backdrop"]),Qg=()=>{const t=dt();return t?oa(t,oe.toast):!1},iU=()=>{const t=dt();return t?t.hasAttribute("data-loading"):!1},Wi=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),s=i.querySelector("head");s&&Array.from(s.childNodes).forEach(l=>{t.appendChild(l)});const a=i.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},oa=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},sU=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(oe).includes(n)&&!Object.values(Yp).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},qi=(t,e,n)=>{if(sU(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){fi(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}gt(t,i)}},Zg=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${oe.popup} > .${oe[e]}`);case"checkbox":return t.querySelector(`.${oe.popup} > .${oe.checkbox} input`);case"radio":return t.querySelector(`.${oe.popup} > .${oe.radio} input:checked`)||t.querySelector(`.${oe.popup} > .${oe.radio} input:first-child`);case"range":return t.querySelector(`.${oe.popup} > .${oe.range} input`);default:return t.querySelector(`.${oe.popup} > .${oe.input}`)}},yj=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},vj=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(i):s.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},gt=(t,e)=>{vj(t,e,!0)},ps=(t,e)=>{vj(t,e,!1)},no=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const s=n[i];if(s instanceof HTMLElement&&oa(s,e))return s}},Sl=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},On=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},ri=t=>{t&&(t.style.display="none")},vw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{tf(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},PS=(t,e,n,i)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,i)},tf=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?On(t,n):ri(t)},Ri=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),rU=()=>!Ri(yr())&&!Ri(Ql())&&!Ri(Pu()),IS=t=>t.scrollHeight>t.clientHeight,bj=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},bw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Xg();n&&Ri(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},aU=()=>{const t=Xg();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},oU=()=>typeof window>"u"||typeof document>"u",lU=`
 <div aria-labelledby="${oe.title}" aria-describedby="${oe["html-container"]}" class="${oe.popup}" tabindex="-1">
   <button type="button" class="${oe.close}"></button>
   <ul class="${oe["progress-steps"]}"></ul>
   <div class="${oe.icon}"></div>
   <img class="${oe.image}" />
   <h2 class="${oe.title}" id="${oe.title}"></h2>
   <div class="${oe["html-container"]}" id="${oe["html-container"]}"></div>
   <input class="${oe.input}" id="${oe.input}" />
   <input type="file" class="${oe.file}" />
   <div class="${oe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${oe.select}" id="${oe.select}"></select>
   <div class="${oe.radio}"></div>
   <label class="${oe.checkbox}">
     <input type="checkbox" id="${oe.checkbox}" />
     <span class="${oe.label}"></span>
   </label>
   <textarea class="${oe.textarea}" id="${oe.textarea}"></textarea>
   <div class="${oe["validation-message"]}" id="${oe["validation-message"]}"></div>
   <div class="${oe.actions}">
     <div class="${oe.loader}"></div>
     <button type="button" class="${oe.confirm}"></button>
     <button type="button" class="${oe.deny}"></button>
     <button type="button" class="${oe.cancel}"></button>
   </div>
   <div class="${oe.footer}"></div>
   <div class="${oe["timer-progress-bar-container"]}">
     <div class="${oe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),cU=()=>{const t=mi();return t?(t.remove(),ps([document.documentElement,document.body],[oe["no-backdrop"],oe["toast-shown"],oe["has-column"]]),!0):!1},cl=()=>{Ie.currentInstance.resetValidationMessage()},uU=()=>{const t=dt(),e=no(t,oe.input),n=no(t,oe.file),i=t.querySelector(`.${oe.range} input`),s=t.querySelector(`.${oe.range} output`),a=no(t,oe.select),l=t.querySelector(`.${oe.checkbox} input`),u=no(t,oe.textarea);e.oninput=cl,n.onchange=cl,a.onchange=cl,l.onchange=cl,u.oninput=cl,i.oninput=()=>{cl(),s.value=i.value},i.onchange=()=>{cl(),s.value=i.value}},dU=t=>typeof t=="string"?document.querySelector(t):t,hU=t=>{const e=dt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},fU=t=>{window.getComputedStyle(t).direction==="rtl"&&gt(mi(),oe.rtl)},mU=t=>{const e=cU();if(oU()){Xl("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=oe.container,e&&gt(n,oe["no-transition"]),Wi(n,lU),n.dataset.swal2Theme=t.theme;const i=dU(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),hU(t),fU(i),uU()},xw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?pU(t,e):t&&Wi(e,t)},pU=(t,e)=>{t.jquery?gU(e,t):Wi(e,t.toString())},gU=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},yU=(t,e)=>{const n=ef(),i=Iu();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ri(n):On(n),qi(n,e,"actions"),vU(n,i,e),Wi(i,e.loaderHtml||""),qi(i,e,"loader"))};function vU(t,e,n){const i=yr(),s=Ql(),a=Pu();!i||!s||!a||(wv(i,"confirm",n),wv(s,"deny",n),wv(a,"cancel",n),bU(i,s,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,i),t.insertBefore(s,i)):(t.insertBefore(a,e),t.insertBefore(s,e),t.insertBefore(i,e))))}function bU(t,e,n,i){if(!i.buttonsStyling){ps([t,e,n],oe.styled);return}gt([t,e,n],oe.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),xv(t),xv(e),xv(n)}function xv(t){const e=window.getComputedStyle(t),n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-outline",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function wv(t,e,n){const i=uw(e);tf(t,n[`show${i}Button`],"inline-block"),Wi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=oe[e],qi(t,n,`${e}Button`)}const xU=(t,e)=>{const n=pw();n&&(Wi(n,e.closeButtonHtml||""),qi(n,e,"closeButton"),tf(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},wU=(t,e)=>{const n=mi();n&&(_U(n,e.backdrop),EU(n,e.position),TU(n,e.grow),qi(n,e,"container"))};function _U(t,e){typeof e=="string"?t.style.background=e:e||gt([document.documentElement,document.body],oe["no-backdrop"])}function EU(t,e){e&&(e in oe?gt(t,oe[e]):(fi('The "position" parameter is not valid, defaulting to "center"'),gt(t,oe.center)))}function TU(t,e){e&&gt(t,oe[`grow-${e}`])}var It={innerParams:new WeakMap,domCache:new WeakMap};const SU=["input","file","range","select","radio","checkbox","textarea"],AU=(t,e)=>{const n=dt();if(!n)return;const i=It.innerParams.get(t),s=!i||e.input!==i.input;SU.forEach(a=>{const l=no(n,oe[a]);l&&(NU(a,e.inputAttributes),l.className=oe[a],s&&ri(l))}),e.input&&(s&&CU(e),RU(e))},CU=t=>{if(!t.input)return;if(!sn[t.input]){Xl(`Unexpected type of input! Expected ${Object.keys(sn).join(" | ")}, got "${t.input}"`);return}const e=xj(t.input);if(!e)return;const n=sn[t.input](e,t);On(e),t.inputAutoFocus&&setTimeout(()=>{yj(n)})},kU=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},NU=(t,e)=>{const n=dt();if(!n)return;const i=Zg(n,t);if(i){kU(i);for(const s in e)i.setAttribute(s,e[s])}},RU=t=>{if(!t.input)return;const e=xj(t.input);e&&qi(e,t,"input")},ww=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},nf=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),s=oe["input-label"];i.setAttribute("for",t.id),i.className=s,typeof n.customClass=="object"&&gt(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},xj=t=>{const e=dt();if(e)return no(e,oe[t]||oe.input)},Xp=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:hw(e)||fi(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},sn={};sn.text=sn.email=sn.password=sn.number=sn.tel=sn.url=sn.search=sn.date=sn["datetime-local"]=sn.time=sn.week=sn.month=(t,e)=>(Xp(t,e.inputValue),nf(t,t,e),ww(t,e),t.type=e.input,t);sn.file=(t,e)=>(nf(t,t,e),ww(t,e),t);sn.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return Xp(n,e.inputValue),n.type=e.input,Xp(i,e.inputValue),nf(n,t,e),t};sn.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Wi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return nf(t,t,e),t};sn.radio=t=>(t.textContent="",t);sn.checkbox=(t,e)=>{const n=Zg(dt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return Wi(i,e.inputPlaceholder||e.inputLabel),n};sn.textarea=(t,e)=>{Xp(t,e.inputValue),ww(t,e),nf(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(dt()).width),s=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>i?dt().style.width=`${a}px`:Sl(dt(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const jU=(t,e)=>{const n=fw();n&&(vw(n),qi(n,e,"htmlContainer"),e.html?(xw(e.html,n),On(n,"block")):e.text?(n.textContent=e.text,On(n,"block")):ri(n),AU(t,e))},PU=(t,e)=>{const n=gj();n&&(vw(n),tf(n,e.footer,"block"),e.footer&&xw(e.footer,n),qi(n,e,"footer"))},IU=(t,e)=>{const n=It.innerParams.get(t),i=ju();if(!i)return;if(n&&e.icon===n.icon){DS(i,e),MS(i,e);return}if(!e.icon&&!e.iconHtml){ri(i);return}if(e.icon&&Object.keys(Yp).indexOf(e.icon)===-1){Xl(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ri(i);return}On(i),DS(i,e),MS(i,e),gt(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",wj)},MS=(t,e)=>{for(const[n,i]of Object.entries(Yp))e.icon!==n&&ps(t,i);gt(t,e.icon&&Yp[e.icon]),OU(t,e),wj(),qi(t,e,"icon")},wj=()=>{const t=dt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},MU=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,DU=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,DS=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=OS(e.iconHtml):e.icon==="success"?(i=MU,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=DU:e.icon&&(i=OS({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Wi(t,i)},OU=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])PS(t,n,"background-color",e.iconColor);PS(t,".swal2-success-ring","border-color",e.iconColor)}},OS=t=>`<div class="${oe["icon-content"]}">${t}</div>`,LU=(t,e)=>{const n=pj();if(n){if(!e.imageUrl){ri(n);return}On(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Sl(n,"width",e.imageWidth),Sl(n,"height",e.imageHeight),n.className=oe.image,qi(n,e,"image")}};let _w=!1,_j=0,Ej=0,Tj=0,Sj=0;const VU=t=>{t.addEventListener("mousedown",Qp),document.body.addEventListener("mousemove",Zp),t.addEventListener("mouseup",Jp),t.addEventListener("touchstart",Qp),document.body.addEventListener("touchmove",Zp),t.addEventListener("touchend",Jp)},zU=t=>{t.removeEventListener("mousedown",Qp),document.body.removeEventListener("mousemove",Zp),t.removeEventListener("mouseup",Jp),t.removeEventListener("touchstart",Qp),document.body.removeEventListener("touchmove",Zp),t.removeEventListener("touchend",Jp)},Qp=t=>{const e=dt();if(t.target===e||ju().contains(t.target)){_w=!0;const n=Aj(t);_j=n.clientX,Ej=n.clientY,Tj=parseInt(e.style.insetInlineStart)||0,Sj=parseInt(e.style.insetBlockStart)||0,gt(e,"swal2-dragging")}},Zp=t=>{const e=dt();if(_w){let{clientX:n,clientY:i}=Aj(t);e.style.insetInlineStart=`${Tj+(n-_j)}px`,e.style.insetBlockStart=`${Sj+(i-Ej)}px`}},Jp=()=>{const t=dt();_w=!1,ps(t,"swal2-dragging")},Aj=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},UU=(t,e)=>{const n=mi(),i=dt();if(!(!n||!i)){if(e.toast){Sl(n,"width",e.width),i.style.width="100%";const s=Iu();s&&i.insertBefore(s,ju())}else Sl(i,"width",e.width);Sl(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),ri(Yg()),BU(i,e),e.draggable&&!e.toast?(gt(i,oe.draggable),VU(i)):(ps(i,oe.draggable),zU(i))}},BU=(t,e)=>{const n=e.showClass||{};t.className=`${oe.popup} ${Ri(t)?n.popup:""}`,e.toast?(gt([document.documentElement,document.body],oe["toast-shown"]),gt(t,oe.toast)):gt(t,oe.modal),qi(t,e,"popup"),typeof e.customClass=="string"&&gt(t,e.customClass),e.icon&&gt(t,oe[`icon-${e.icon}`])},FU=(t,e)=>{const n=mw();if(!n)return;const{progressSteps:i,currentProgressStep:s}=e;if(!i||i.length===0||s===void 0){ri(n);return}On(n),n.textContent="",s>=i.length&&fi("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((a,l)=>{const u=HU(a);if(n.appendChild(u),l===s&&gt(u,oe["active-progress-step"]),l!==i.length-1){const h=qU(e);n.appendChild(h)}})},HU=t=>{const e=document.createElement("li");return gt(e,oe["progress-step"]),Wi(e,t),e},qU=t=>{const e=document.createElement("li");return gt(e,oe["progress-step-line"]),t.progressStepsDistance&&Sl(e,"width",t.progressStepsDistance),e},$U=(t,e)=>{const n=mj();n&&(vw(n),tf(n,e.title||e.titleText,"block"),e.title&&xw(e.title,n),e.titleText&&(n.innerText=e.titleText),qi(n,e,"title"))},Cj=(t,e)=>{UU(t,e),wU(t,e),FU(t,e),IU(t,e),LU(t,e),$U(t,e),xU(t,e),jU(t,e),yU(t,e),PU(t,e);const n=dt();typeof e.didRender=="function"&&n&&e.didRender(n),Ie.eventEmitter.emit("didRender",n)},WU=()=>Ri(dt()),kj=()=>{var t;return(t=yr())===null||t===void 0?void 0:t.click()},GU=()=>{var t;return(t=Ql())===null||t===void 0?void 0:t.click()},KU=()=>{var t;return(t=Pu())===null||t===void 0?void 0:t.click()},Mu=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Nj=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},YU=(t,e,n)=>{Nj(t),e.toast||(t.keydownHandler=i=>QU(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:dt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Tb=(t,e)=>{var n;const i=gw();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=dt())===null||n===void 0||n.focus()},Rj=["ArrowRight","ArrowDown"],XU=["ArrowLeft","ArrowUp"],QU=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?ZU(e,t):e.key==="Tab"?JU(e):[...Rj,...XU].includes(e.key)?eB(e.key):e.key==="Escape"&&tB(e,t,n)))},ZU=(t,e)=>{if(!Kg(e.allowEnterKey))return;const n=Zg(dt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;kj(),t.preventDefault()}},JU=t=>{const e=t.target,n=gw();let i=-1;for(let s=0;s<n.length;s++)if(e===n[s]){i=s;break}t.shiftKey?Tb(i,-1):Tb(i,1),t.stopPropagation(),t.preventDefault()},eB=t=>{const e=ef(),n=yr(),i=Ql(),s=Pu();if(!e||!n||!i||!s)return;const a=[n,i,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=Rj.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let h=0;h<e.children.length;h++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&Ri(u))break}u instanceof HTMLButtonElement&&u.focus()}},tB=(t,e,n)=>{Kg(e.allowEscapeKey)&&(t.preventDefault(),n(Mu.esc))};var gu={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const nB=()=>{const t=mi();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},jj=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Pj=typeof window<"u"&&!!window.GestureEvent,iB=()=>{if(Pj&&!oa(document.body,oe.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,gt(document.body,oe.iosfix),sB()}},sB=()=>{const t=mi();if(!t)return;let e;t.ontouchstart=n=>{e=rB(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},rB=t=>{const e=t.target,n=mi(),i=fw();return!n||!i||aB(t)||oB(t)?!1:e===n||!IS(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(IS(i)&&i.contains(e))},aB=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",oB=t=>t.touches&&t.touches.length>1,lB=()=>{if(oa(document.body,oe.iosfix)){const t=parseInt(document.body.style.top,10);ps(document.body,oe.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},cB=()=>{const t=document.createElement("div");t.className=oe["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let nu=null;const uB=t=>{nu===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(nu=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${nu+cB()}px`)},dB=()=>{nu!==null&&(document.body.style.paddingRight=`${nu}px`,nu=null)};function Ij(t,e,n,i){Qg()?LS(t,i):(Xz(n).then(()=>LS(t,i)),Nj(Ie)),Pj?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),yw()&&(dB(),lB(),jj()),hB()}function hB(){ps([document.documentElement,document.body],[oe.shown,oe["height-auto"],oe["no-backdrop"],oe["toast-shown"]])}function io(t){t=mB(t);const e=gu.swalPromiseResolve.get(this),n=fB(this);this.isAwaitingPromise?t.isDismissed||(sf(this),e(t)):n&&e(t)}const fB=t=>{const e=dt();if(!e)return!1;const n=It.innerParams.get(t);if(!n||oa(e,n.hideClass.popup))return!1;ps(e,n.showClass.popup),gt(e,n.hideClass.popup);const i=mi();return ps(i,n.showClass.backdrop),gt(i,n.hideClass.backdrop),pB(t,e,n),!0};function Mj(t){const e=gu.swalPromiseReject.get(this);sf(this),e&&e(t)}const sf=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,It.innerParams.get(t)||t._destroy())},mB=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),pB=(t,e,n)=>{var i;const s=mi(),a=bj(e);typeof n.willClose=="function"&&n.willClose(e),(i=Ie.eventEmitter)===null||i===void 0||i.emit("willClose",e),a?gB(t,e,s,n.returnFocus,n.didClose):Ij(t,s,n.returnFocus,n.didClose)},gB=(t,e,n,i,s)=>{Ie.swalCloseEventFinishedCallback=Ij.bind(null,t,n,i,s);const a=function(l){if(l.target===e){var u;(u=Ie.swalCloseEventFinishedCallback)===null||u===void 0||u.call(Ie),delete Ie.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},LS=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Ie.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},yu=t=>{let e=dt();if(e||new ve,e=dt(),!e)return;const n=Iu();Qg()?ri(ju()):yB(e,t),On(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},yB=(t,e)=>{const n=ef(),i=Iu();!n||!i||(!e&&Ri(yr())&&(e=yr()),On(n),e&&(ri(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),gt([t,n],oe.loading))},vB=(t,e)=>{e.input==="select"||e.input==="radio"?EB(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(dw(e.inputValue)||hw(e.inputValue))&&(yu(yr()),TB(t,e))},bB=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return xB(n);case"radio":return wB(n);case"file":return _B(n);default:return e.inputAutoTrim?n.value.trim():n.value}},xB=t=>t.checked?1:0,wB=t=>t.checked?t.value:null,_B=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,EB=(t,e)=>{const n=dt();if(!n)return;const i=s=>{e.input==="select"?SB(n,eg(s),e):e.input==="radio"&&AB(n,eg(s),e)};dw(e.inputOptions)||hw(e.inputOptions)?(yu(yr()),Zh(e.inputOptions).then(s=>{t.hideLoading(),i(s)})):typeof e.inputOptions=="object"?i(e.inputOptions):Xl(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},TB=(t,e)=>{const n=t.getInput();n&&(ri(n),Zh(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,On(n),n.focus(),t.hideLoading()}).catch(i=>{Xl(`Error in inputValue promise: ${i}`),n.value="",On(n),n.focus(),t.hideLoading()}))};function SB(t,e,n){const i=no(t,oe.select);if(!i)return;const s=(a,l,u)=>{const h=document.createElement("option");h.value=u,Wi(h,l),h.selected=Dj(u,n.inputValue),a.appendChild(h)};e.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const h=document.createElement("optgroup");h.label=l,h.disabled=!1,i.appendChild(h),u.forEach(m=>s(h,m[1],m[0]))}else s(i,u,l)}),i.focus()}function AB(t,e,n){const i=no(t,oe.radio);if(!i)return;e.forEach(a=>{const l=a[0],u=a[1],h=document.createElement("input"),m=document.createElement("label");h.type="radio",h.name=oe.radio,h.value=l,Dj(l,n.inputValue)&&(h.checked=!0);const g=document.createElement("span");Wi(g,u),g.className=oe.label,m.appendChild(h),m.appendChild(g),i.appendChild(m)});const s=i.querySelectorAll("input");s.length&&s[0].focus()}const eg=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let s=n;typeof s=="object"&&(s=eg(s)),e.push([i,s])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=eg(i)),e.push([n,i])}),e},Dj=(t,e)=>!!e&&e.toString()===t.toString(),CB=t=>{const e=It.innerParams.get(t);t.disableButtons(),e.input?Oj(t,"confirm"):Tw(t,!0)},kB=t=>{const e=It.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Oj(t,"deny"):Ew(t,!1)},NB=(t,e)=>{t.disableButtons(),e(Mu.cancel)},Oj=(t,e)=>{const n=It.innerParams.get(t);if(!n.input){Xl(`The "input" parameter is needed to be set when using returnInputValueOn${uw(e)}`);return}const i=t.getInput(),s=bB(t,n);n.inputValidator?RB(t,s,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?Ew(t,s):Tw(t,s)},RB=(t,e,n)=>{const i=It.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Zh(i.inputValidator(e,i.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Ew(t,e):Tw(t,e)})},Ew=(t,e)=>{const n=It.innerParams.get(t||void 0);n.showLoaderOnDeny&&yu(Ql()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Zh(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),sf(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>Lj(t||void 0,s))):t.close({isDenied:!0,value:e})},VS=(t,e)=>{t.close({isConfirmed:!0,value:e})},Lj=(t,e)=>{t.rejectPromise(e)},Tw=(t,e)=>{const n=It.innerParams.get(t||void 0);n.showLoaderOnConfirm&&yu(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Zh(n.preConfirm(e,n.validationMessage))).then(s=>{Ri(Yg())||s===!1?(t.hideLoading(),sf(t)):VS(t,typeof s>"u"?e:s)}).catch(s=>Lj(t||void 0,s))):VS(t,e)};function tg(){const t=It.innerParams.get(this);if(!t)return;const e=It.domCache.get(this);ri(e.loader),Qg()?t.icon&&On(ju()):jB(e),ps([e.popup,e.actions],oe.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const jB=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?On(e[0],"inline-block"):rU()&&ri(t.actions)};function Vj(){const t=It.innerParams.get(this),e=It.domCache.get(this);return e?Zg(e.popup,t.input):null}function zj(t,e,n){const i=It.domCache.get(t);e.forEach(s=>{i[s].disabled=n})}function Uj(t,e){const n=dt();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${oe.radio}"]`);for(let s=0;s<i.length;s++)i[s].disabled=e}else t.disabled=e}function Bj(){zj(this,["confirmButton","denyButton","cancelButton"],!1)}function Fj(){zj(this,["confirmButton","denyButton","cancelButton"],!0)}function Hj(){Uj(this.getInput(),!1)}function qj(){Uj(this.getInput(),!0)}function $j(t){const e=It.domCache.get(this),n=It.innerParams.get(this);Wi(e.validationMessage,t),e.validationMessage.className=oe["validation-message"],n.customClass&&n.customClass.validationMessage&&gt(e.validationMessage,n.customClass.validationMessage),On(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",oe["validation-message"]),yj(i),gt(i,oe.inputerror))}function Wj(){const t=It.domCache.get(this);t.validationMessage&&ri(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ps(e,oe.inputerror))}const iu={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},PB=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],IB={allowEnterKey:void 0},MB=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Gj=t=>Object.prototype.hasOwnProperty.call(iu,t),Kj=t=>PB.indexOf(t)!==-1,Yj=t=>IB[t],DB=t=>{Gj(t)||fi(`Unknown parameter "${t}"`)},OB=t=>{MB.includes(t)&&fi(`The parameter "${t}" is incompatible with toasts`)},LB=t=>{const e=Yj(t);e&&fj(t,e)},Xj=t=>{t.backdrop===!1&&t.allowOutsideClick&&fi('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe"].includes(t.theme)&&fi(`Invalid theme "${t.theme}". Expected "light", "dark", "auto", "minimal", "borderless", or "embed-iframe"`);for(const e in t)DB(e),t.toast&&OB(e),LB(e)};function Qj(t){const e=mi(),n=dt(),i=It.innerParams.get(this);if(!n||oa(n,i.hideClass.popup)){fi("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=VB(t),a=Object.assign({},i,s);Xj(a),e.dataset.swal2Theme=a.theme,Cj(this,a),It.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const VB=t=>{const e={};return Object.keys(t).forEach(n=>{Kj(n)?e[n]=t[n]:fi(`Invalid parameter to update: ${n}`)}),e};function Zj(){const t=It.domCache.get(this),e=It.innerParams.get(this);if(!e){Jj(this);return}t.popup&&Ie.swalCloseEventFinishedCallback&&(Ie.swalCloseEventFinishedCallback(),delete Ie.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ie.eventEmitter.emit("didDestroy"),zB(this)}const zB=t=>{Jj(t),delete t.params,delete Ie.keydownHandler,delete Ie.keydownTarget,delete Ie.currentInstance},Jj=t=>{t.isAwaitingPromise?(_v(It,t),t.isAwaitingPromise=!0):(_v(gu,t),_v(It,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},_v=(t,e)=>{for(const n in t)t[n].delete(e)};var UB=Object.freeze({__proto__:null,_destroy:Zj,close:io,closeModal:io,closePopup:io,closeToast:io,disableButtons:Fj,disableInput:qj,disableLoading:tg,enableButtons:Bj,enableInput:Hj,getInput:Vj,handleAwaitingPromise:sf,hideLoading:tg,rejectPromise:Mj,resetValidationMessage:Wj,showValidationMessage:$j,update:Qj});const BB=(t,e,n)=>{t.toast?FB(t,e,n):(qB(e),$B(e),WB(t,e,n))},FB=(t,e,n)=>{e.popup.onclick=()=>{t&&(HB(t)||t.timer||t.input)||n(Mu.close)}},HB=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let ng=!1;const qB=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(ng=!0)}}},$B=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(ng=!0)}}},WB=(t,e,n)=>{e.container.onclick=i=>{if(ng){ng=!1;return}i.target===e.container&&Kg(t.allowOutsideClick)&&n(Mu.backdrop)}},GB=t=>typeof t=="object"&&t.jquery,zS=t=>t instanceof Element||GB(t),KB=t=>{const e={};return typeof t[0]=="object"&&!zS(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const s=t[i];typeof s=="string"||zS(s)?e[n]=s:s!==void 0&&Xl(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function YB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function XB(t){class e extends this{_main(i,s){return super._main(i,Object.assign({},t,s))}}return e}const QB=()=>Ie.timeout&&Ie.timeout.getTimerLeft(),eP=()=>{if(Ie.timeout)return aU(),Ie.timeout.stop()},tP=()=>{if(Ie.timeout){const t=Ie.timeout.start();return bw(t),t}},ZB=()=>{const t=Ie.timeout;return t&&(t.running?eP():tP())},JB=t=>{if(Ie.timeout){const e=Ie.timeout.increase(t);return bw(e,!0),e}},e7=()=>!!(Ie.timeout&&Ie.timeout.isRunning());let US=!1;const Sb={};function t7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Sb[t]=this,US||(document.body.addEventListener("click",n7),US=!0)}const n7=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Sb){const i=e.getAttribute(n);if(i){Sb[n].fire({template:i});return}}};class i7{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){var i=this;const s=function(){i.removeListener(e,s);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n.apply(i,l)};this.on(e,s)}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(a=>{try{a.apply(this,i)}catch(l){console.error(l)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),s=i.indexOf(n);s>-1&&i.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ie.eventEmitter=new i7;const s7=(t,e)=>{Ie.eventEmitter.on(t,e)},r7=(t,e)=>{Ie.eventEmitter.once(t,e)},a7=(t,e)=>{if(!t){Ie.eventEmitter.reset();return}e?Ie.eventEmitter.removeListener(t,e):Ie.eventEmitter.removeAllListeners(t)};var o7=Object.freeze({__proto__:null,argsToParams:KB,bindClickHandler:t7,clickCancel:KU,clickConfirm:kj,clickDeny:GU,enableLoading:yu,fire:YB,getActions:ef,getCancelButton:Pu,getCloseButton:pw,getConfirmButton:yr,getContainer:mi,getDenyButton:Ql,getFocusableElements:gw,getFooter:gj,getHtmlContainer:fw,getIcon:ju,getIconContent:eU,getImage:pj,getInputLabel:tU,getLoader:Iu,getPopup:dt,getProgressSteps:mw,getTimerLeft:QB,getTimerProgressBar:Xg,getTitle:mj,getValidationMessage:Yg,increaseTimer:JB,isDeprecatedParameter:Yj,isLoading:iU,isTimerRunning:e7,isUpdatableParameter:Kj,isValidParameter:Gj,isVisible:WU,mixin:XB,off:a7,on:s7,once:r7,resumeTimer:tP,showLoading:yu,stopTimer:eP,toggleTimer:ZB});class l7{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const nP=["swal-title","swal-html","swal-footer"],c7=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return y7(n),Object.assign(u7(n),d7(n),h7(n),f7(n),m7(n),p7(n),g7(n,nP))},u7=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Ll(i,["name","value"]);const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(typeof iu[s]=="boolean"?e[s]=a!=="false":typeof iu[s]=="object"?e[s]=JSON.parse(a):e[s]=a)}),e},d7=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(e[s]=new Function(`return ${a}`)())}),e},h7=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Ll(i,["type","color","aria-label"]);const s=i.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=i.innerHTML,e[`show${uw(s)}Button`]=!0,i.hasAttribute("color")&&(e[`${s}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},f7=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ll(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},m7=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ll(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},p7=t=>{const e={},n=t.querySelector("swal-input");n&&(Ll(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(s=>{Ll(s,["value"]);const a=s.getAttribute("value");if(!a)return;const l=s.innerHTML;e.inputOptions[a]=l})),e},g7=(t,e)=>{const n={};for(const i in e){const s=e[i],a=t.querySelector(s);a&&(Ll(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},y7=t=>{const e=nP.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||fi(`Unrecognized element <${i}>`)})},Ll=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&fi([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},iP=10,v7=t=>{const e=mi(),n=dt();typeof t.willOpen=="function"&&t.willOpen(n),Ie.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;w7(e,n,t),setTimeout(()=>{b7(e,n)},iP),yw()&&(x7(e,t.scrollbarPadding,s),nB()),!Qg()&&!Ie.previousActiveElement&&(Ie.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Ie.eventEmitter.emit("didOpen",n),ps(e,oe["no-transition"])},ig=t=>{const e=dt();if(t.target!==e)return;const n=mi();e.removeEventListener("animationend",ig),e.removeEventListener("transitionend",ig),n.style.overflowY="auto"},b7=(t,e)=>{bj(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",ig),e.addEventListener("transitionend",ig)):t.style.overflowY="auto"},x7=(t,e,n)=>{iB(),e&&n!=="hidden"&&uB(n),setTimeout(()=>{t.scrollTop=0})},w7=(t,e,n)=>{gt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),On(e,"grid"),setTimeout(()=>{gt(e,n.showClass.popup),e.style.removeProperty("opacity")},iP)):On(e,"grid"),gt([document.documentElement,document.body],oe.shown),n.heightAuto&&n.backdrop&&!n.toast&&gt([document.documentElement,document.body],oe["height-auto"])};var BS={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function _7(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=BS.email),t.input==="url"&&(t.inputValidator=BS.url))}function E7(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(fi('Target parameter is not valid, defaulting to "body"'),t.target="body")}function T7(t){_7(t),t.showLoaderOnConfirm&&!t.preConfirm&&fi(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),E7(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),mU(t)}let ar;var Pm=new WeakMap;class ln{constructor(){if(Wz(this,Pm,void 0),typeof window>"u")return;ar=this;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const s=Object.freeze(this.constructor.argsToParams(n));this.params=s,this.isAwaitingPromise=!1,Gz(Pm,this,this._main(ar.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Xj(Object.assign({},n,e)),Ie.currentInstance){const a=gu.swalPromiseResolve.get(Ie.currentInstance),{isAwaitingPromise:l}=Ie.currentInstance;Ie.currentInstance._destroy(),l||a({isDismissed:!0}),yw()&&jj()}Ie.currentInstance=ar;const i=A7(e,n);T7(i),Object.freeze(i),Ie.timeout&&(Ie.timeout.stop(),delete Ie.timeout),clearTimeout(Ie.restoreFocusTimeout);const s=C7(ar);return Cj(ar,i),It.innerParams.set(ar,i),S7(ar,s,i)}then(e){return RS(Pm,this).then(e)}finally(e){return RS(Pm,this).finally(e)}}const S7=(t,e,n)=>new Promise((i,s)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};gu.swalPromiseResolve.set(t,i),gu.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{CB(t)},e.denyButton.onclick=()=>{kB(t)},e.cancelButton.onclick=()=>{NB(t,a)},e.closeButton.onclick=()=>{a(Mu.close)},BB(n,e,a),YU(Ie,n,a),vB(t,n),v7(n),k7(Ie,n,a),N7(e,n),setTimeout(()=>{e.container.scrollTop=0})}),A7=(t,e)=>{const n=c7(t),i=Object.assign({},iu,e,n,t);return i.showClass=Object.assign({},iu.showClass,i.showClass),i.hideClass=Object.assign({},iu.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},C7=t=>{const e={popup:dt(),container:mi(),actions:ef(),confirmButton:yr(),denyButton:Ql(),cancelButton:Pu(),loader:Iu(),closeButton:pw(),validationMessage:Yg(),progressSteps:mw()};return It.domCache.set(t,e),e},k7=(t,e,n)=>{const i=Xg();ri(i),e.timer&&(t.timeout=new l7(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(On(i),qi(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&bw(e.timer)})))},N7=(t,e)=>{if(!e.toast){if(!Kg(e.allowEnterKey)){fj("allowEnterKey"),P7();return}R7(t)||j7(t,e)||Tb(-1,1)}},R7=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Ri(n))return n.focus(),!0;return!1},j7=(t,e)=>e.focusDeny&&Ri(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ri(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Ri(t.confirmButton)?(t.confirmButton.focus(),!0):!1,P7=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}ln.prototype.disableButtons=Fj;ln.prototype.enableButtons=Bj;ln.prototype.getInput=Vj;ln.prototype.disableInput=qj;ln.prototype.enableInput=Hj;ln.prototype.hideLoading=tg;ln.prototype.disableLoading=tg;ln.prototype.showValidationMessage=$j;ln.prototype.resetValidationMessage=Wj;ln.prototype.close=io;ln.prototype.closePopup=io;ln.prototype.closeModal=io;ln.prototype.closeToast=io;ln.prototype.rejectPromise=Mj;ln.prototype.update=Qj;ln.prototype._destroy=Zj;Object.assign(ln,o7);Object.keys(UB).forEach(t=>{ln[t]=function(){return ar&&ar[t]?ar[t](...arguments):null}});ln.DismissReason=Mu;ln.version="11.21.0";const ve=ln;ve.default=ve;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.1s, box-shadow 0.1s;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.1s, box-shadow 0.1s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-button-darken-hover: rgba(0, 0, 0, 0.1);--swal2-button-darken-active: rgba(0, 0, 0, 0.2);--swal2-button-transition: box-shadow 0.1s;--swal2-confirm-button-border: 0;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-deny-button-border: 0;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-cancel-button-border: 0;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(var(--swal2-button-darken-hover), var(--swal2-button-darken-hover))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(var(--swal2-button-darken-active), var(--swal2-button-darken-active))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-button-transition);box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:var(--swal2-confirm-button-border);border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:var(--swal2-deny-button-border);border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:var(--swal2-cancel-button-border);border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-outline)}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:1px solid #d9d9d9;border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function I7({onAddressSelect:t,selectedAddress:e}){const[n,i]=N.useState([]),[s,a]=N.useState(!1),[l,u]=N.useState(null),[h,m]=N.useState(!0),[g,v]=N.useState({name:"",street:"",city:"",state:"",zipCode:"",country:"",phone:"",isDefault:!1});N.useEffect(()=>{const L=va(yn,q=>{u(q),q||(i([]),m(!1))});return()=>L()},[]),N.useEffect(()=>{if(l){const L=aa($e(Ne,"addresses",l.uid),q=>{q.exists()?i(q.data().addresses||[]):i([]),m(!1)},q=>{console.error("Error fetching addresses:",q),m(!1)});return()=>L()}},[l]);const x=L=>{const{name:q,value:H,type:W,checked:D}=L.target;v(k=>({...k,[q]:W==="checkbox"?D:H}))},_=()=>{const{name:L,street:q,city:H,state:W,zipCode:D,country:k,phone:I}=g;return!L||!q||!H||!W||!D||!k||!I?(ve.fire("Error","All fields are required","error"),!1):!0},E=async()=>{if(_())try{const L={...g,id:Date.now().toString(),createdAt:new Date};let q=[...n,L];g.isDefault&&(q=q.map(H=>H.id===L.id?H:{...H,isDefault:!1})),n.length===0&&(L.isDefault=!0),await dr($e(Ne,"addresses",l.uid),{addresses:q}),ve.fire("Success","Address saved successfully","success"),a(!1),j()}catch(L){console.error("Error saving address:",L),ve.fire("Error","Failed to save address","error")}},C=async L=>{try{if((await ve.fire({title:"Are you sure?",text:"This action cannot be undone",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){const H=n.filter(W=>W.id!==L);await dr($e(Ne,"addresses",l.uid),{addresses:H}),ve.fire("Deleted","Address has been deleted","success")}}catch(q){console.error("Error deleting address:",q),ve.fire("Error","Failed to delete address","error")}},A=async L=>{try{const q=n.map(H=>({...H,isDefault:H.id===L}));await dr($e(Ne,"addresses",l.uid),{addresses:q}),ve.fire("Success","Default address updated","success")}catch(q){console.error("Error updating default address:",q),ve.fire("Error","Failed to update default address","error")}},j=()=>{v({name:"",street:"",city:"",state:"",zipCode:"",country:"",phone:"",isDefault:!1})},B=L=>`${L.name} - ${L.street}, ${L.city}, ${L.state} ${L.zipCode}, ${L.country}`;return h?d.jsx("div",{children:"Loading addresses..."}):d.jsxs("div",{className:"address-selector",children:[d.jsx("div",{className:"address-header",children:d.jsxs("button",{className:"address-btn",onClick:()=>a(!0),children:[d.jsx("span",{children:e?B(e):"Select Address"}),d.jsx("i",{className:"fas fa-chevron-down"})]})}),s&&d.jsx("div",{className:"address-modal",children:d.jsxs("div",{className:"address-modal-content",children:[d.jsxs("div",{className:"address-modal-header",children:[d.jsx("h3",{children:"Manage Addresses"}),d.jsx("button",{className:"close-btn",onClick:()=>a(!1),children:"×"})]}),d.jsxs("div",{className:"address-modal-body",children:[d.jsxs("div",{className:"existing-addresses",children:[d.jsx("h4",{children:"Your Addresses"}),n.length===0?d.jsx("p",{children:"No addresses saved yet"}):d.jsx("div",{className:"address-list",children:n.map(L=>d.jsx("div",{className:`address-item ${L.isDefault?"default":""} ${(e==null?void 0:e.id)===L.id?"selected":""}`,children:d.jsxs("div",{className:"address-content",children:[d.jsxs("div",{className:"address-text",children:[d.jsx("strong",{children:L.name}),d.jsx("br",{}),L.street,d.jsx("br",{}),L.city,", ",L.state," ",L.zipCode,d.jsx("br",{}),L.country,d.jsx("br",{}),"Phone: ",L.phone,L.isDefault&&d.jsx("span",{className:"default-badge",children:"Default"})]}),d.jsxs("div",{className:"address-actions",children:[d.jsx("button",{className:"select-btn",onClick:()=>{t(L),a(!1)},children:"Select"}),!L.isDefault&&d.jsx("button",{className:"default-btn",onClick:()=>A(L.id),children:"Set Default"}),d.jsx("button",{className:"delete-btn",onClick:()=>C(L.id),children:"Delete"})]})]})},L.id))})]}),d.jsxs("div",{className:"add-address-form",children:[d.jsx("h4",{children:"Add New Address"}),d.jsxs("div",{className:"form-grid",children:[d.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:g.name,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:g.phone,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"street",placeholder:"Street Address",value:g.street,onChange:x,className:"form-input full-width"}),d.jsx("input",{type:"text",name:"city",placeholder:"City",value:g.city,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"state",placeholder:"State/Province",value:g.state,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"zipCode",placeholder:"ZIP/Postal Code",value:g.zipCode,onChange:x,className:"form-input"}),d.jsx("input",{type:"text",name:"country",placeholder:"Country",value:g.country,onChange:x,className:"form-input"})]}),d.jsx("div",{className:"checkbox-container",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",name:"isDefault",checked:g.isDefault,onChange:x}),"Set as default address"]})}),d.jsx("button",{className:"save-address-btn",onClick:E,children:"Save Address"})]})]})]})}),d.jsx("style",{children:`
        .address-selector {
          position: relative;
        }

        .address-btn {
          width: 100%;
          padding: 12px 16px;
          background: #374151;
          border: 1px solid #6b7280;
          border-radius: 8px;
          color: white;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          font-size: 14px;
        }

        .address-btn:hover {
          background: #4b5563;
        }

        .address-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .address-modal-content {
          background: white;
          border-radius: 12px;
          width: 90%;
          max-width: 600px;
          max-height: 80vh;
          overflow-y: auto;
        }

        .address-modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          border-bottom: 1px solid #e5e7eb;
        }

        .address-modal-header h3 {
          margin: 0;
          font-size: 1.25rem;
          font-weight: 600;
        }

        .close-btn {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
        }

        .close-btn:hover {
          color: #374151;
        }

        .address-modal-body {
          padding: 20px;
        }

        .existing-addresses {
          margin-bottom: 30px;
        }

        .existing-addresses h4 {
          margin-bottom: 15px;
          font-size: 1.1rem;
          font-weight: 600;
        }

        .address-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .address-item {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 15px;
          position: relative;
        }

        .address-item.default {
          border-color: #16a34a;
          background: #f0fdf4;
        }

        .address-item.selected {
          border-color: #ea580c;
          background: #fff7ed;
        }

        .address-content {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 15px;
        }

        .address-text {
          flex: 1;
          font-size: 14px;
          line-height: 1.5;
        }

        .default-badge {
          display: inline-block;
          background: #16a34a;
          color: white;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 12px;
          margin-left: 10px;
        }

        .address-actions {
          display: flex;
          gap: 8px;
          flex-direction: column;
        }

        .select-btn, .default-btn, .delete-btn {
          padding: 6px 12px;
          border: none;
          border-radius: 4px;
          font-size: 12px;
          cursor: pointer;
          white-space: nowrap;
        }

        .select-btn {
          background: #ea580c;
          color: white;
        }

        .default-btn {
          background: #16a34a;
          color: white;
        }

        .delete-btn {
          background: #dc2626;
          color: white;
        }

        .add-address-form h4 {
          margin-bottom: 15px;
          font-size: 1.1rem;
          font-weight: 600;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
          margin-bottom: 15px;
        }

        .form-input {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
        }

        .form-input.full-width {
          grid-column: 1 / -1;
        }

        .form-input:focus {
          outline: none;
          border-color: #ea580c;
        }

        .checkbox-container {
          margin-bottom: 15px;
        }

        .checkbox-container label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
        }

        .save-address-btn {
          background: #16a34a;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
        }

        .save-address-btn:hover {
          background: #15803d;
        }

        @media (max-width: 768px) {
          .form-grid {
            grid-template-columns: 1fr;
          }

          .address-content {
            flex-direction: column;
            gap: 10px;
          }

          .address-actions {
            flex-direction: row;
            justify-content: flex-start;
          }
        }
      `})]})}function M7(){const{user:t,products:e,featuredProducts:n,fetchProducts:i,isLoadingProducts:s}=ko(),{agregarAlCarrito:a,agregarAFavoritos:l,quitarDeFavoritos:u,estaEnFavoritos:h}=No();N.useEffect(()=>{e.length===0&&!s&&(console.log("Cargando productos en Home..."),i())},[i,e.length,s]);const m=x=>{h(x.id)?u(x.id):l(x)},g=e.slice(-4),v=[...e].sort((x,_)=>(_.rating||0)-(x.rating||0)).slice(0,4);return d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsxs("section",{className:"hero-minimal",children:[d.jsxs("div",{className:"hero-content",children:[d.jsx("h1",{className:"hero-title",children:"Colección Exclusiva"}),d.jsx("p",{className:"hero-subtitle",children:"Descubre productos seleccionados con diseño excepcional y calidad premium"}),d.jsxs("div",{className:"hero-actions",children:[d.jsx(Ye,{to:"/productos",children:d.jsx(Tt,{variant:"primary",size:"lg",children:"Explorar Catálogo"})}),d.jsx(Ye,{to:"/contacto",children:d.jsx(Tt,{variant:"outline",size:"lg",children:"Contáctanos"})})]})]}),d.jsx("div",{className:"hero-image-wrapper",children:d.jsx(pu,{src:"https://images.pexels.com/photos/5632381/pexels-photo-5632381.jpeg?auto=compress&cs=tinysrgb&h=400",alt:"Productos destacados",className:"hero-image"})})]}),d.jsx("section",{className:"section-trending",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Productos Populares"}),d.jsx(Ye,{to:"/productos?sort=popular",className:"view-all-link",children:"Ver todos"})]}),d.jsx("div",{className:"trending-description",children:d.jsx("p",{children:"Descubre los productos más valorados por nuestra comunidad de clientes"})}),d.jsx("div",{className:"products-grid",children:s?Array(4).fill(0).map((x,_)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"})]},`skeleton-trending-${_}`)):v.length>0?v.map(x=>d.jsx(dp,{producto:x,agregarAlCarrito:()=>a(x),toggleFavorito:()=>m(x),favoritos:h(x.id)?[x]:[]},`trending-${x.id}`)):d.jsx("div",{className:"no-products-message",children:d.jsx("p",{children:"No se encontraron productos populares."})})})]})}),d.jsx("section",{className:"section-featured",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Productos Destacados"}),d.jsx(Ye,{to:"/productos",className:"view-all-link",children:"Ver todos"})]}),d.jsx("div",{className:"products-grid",children:s?Array(4).fill(0).map((x,_)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"})]},`skeleton-featured-${_}`)):n.length>0?n.map(x=>d.jsx(dp,{producto:x,agregarAlCarrito:()=>a(x),toggleFavorito:()=>m(x),favoritos:h(x.id)?[x]:[]},x.id)):d.jsx("div",{className:"no-products-message",children:d.jsx("p",{children:"No se encontraron productos destacados."})})})]})}),d.jsx("section",{className:"section-new",children:d.jsxs("div",{className:"container",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Nuevos Productos"}),d.jsx(Ye,{to:"/productos?sort=newest",className:"view-all-link",children:"Ver todos"})]}),d.jsx("div",{className:"products-grid",children:s?Array(4).fill(0).map((x,_)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"})]},`skeleton-new-${_}`)):g.length>0?g.map(x=>d.jsx(dp,{producto:x,agregarAlCarrito:()=>a(x),toggleFavorito:()=>m(x),favoritos:h(x.id)?[x]:[]},`new-${x.id}`)):d.jsx("div",{className:"no-products-message",children:d.jsx("p",{children:"No se encontraron nuevos productos."})})})]})}),d.jsx("section",{className:"section-categories",children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"section-header",children:d.jsx("h2",{className:"section-title",children:"Categorías"})}),d.jsx("div",{className:"categories-grid",children:[{name:"Electrónicos",icon:"💻"},{name:"Moda",icon:"👕"},{name:"Hogar",icon:"🏠"},{name:"Belleza",icon:"💄"},{name:"Deportes",icon:"⚽"},{name:"Juguetes",icon:"🧸"}].map((x,_)=>d.jsxs(Ye,{to:"/productos",className:"category-card",children:[d.jsx("span",{className:"category-icon",children:x.icon}),d.jsx("span",{className:"category-name",children:x.name})]},_))})]})}),d.jsx("section",{className:"section-features",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"features-grid",children:[d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:"🚚"}),d.jsxs("div",{className:"feature-content",children:[d.jsx("h3",{className:"feature-title",children:"Envío Gratis"}),d.jsx("p",{className:"feature-description",children:"En pedidos +$150.000 COP"})]})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:"🔒"}),d.jsxs("div",{className:"feature-content",children:[d.jsx("h3",{className:"feature-title",children:"Pago Seguro"}),d.jsx("p",{className:"feature-description",children:"100% protegido"})]})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:"↩️"}),d.jsxs("div",{className:"feature-content",children:[d.jsx("h3",{className:"feature-title",children:"Devoluciones"}),d.jsx("p",{className:"feature-description",children:"30 días de garantía"})]})]}),d.jsxs("div",{className:"feature-card",children:[d.jsx("div",{className:"feature-icon",children:"⭐"}),d.jsxs("div",{className:"feature-content",children:[d.jsx("h3",{className:"feature-title",children:"Soporte 24/7"}),d.jsx("p",{className:"feature-description",children:"Atención personalizada"})]})]})]})})}),d.jsx("section",{className:"section-about",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"about-content",children:[d.jsx("div",{className:"about-image-wrapper",children:d.jsx(pu,{src:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&h=400",alt:"Nuestro equipo",className:"about-image"})}),d.jsxs("div",{className:"about-text",children:[d.jsx("h2",{className:"section-title",children:"Sobre Nosotros"}),d.jsxs("p",{className:"about-description",children:["En ",d.jsx("strong",{children:"Moñitos"}),", nos dedicamos a ofrecer productos de la más alta calidad que mejoran tu vida cotidiana. Fundada en 2020, nuestra tienda ha crecido hasta convertirse en un referente de innovación y excelencia en el mercado colombiano."]}),d.jsx("p",{className:"about-description",children:"Nuestro equipo trabaja incansablemente para seleccionar los mejores productos y garantizar una experiencia de compra excepcional. Creemos en la importancia de combinar calidad, diseño y funcionalidad en cada artículo que ofrecemos."}),d.jsx(Ye,{to:"/nosotros",children:d.jsx(Tt,{variant:"primary",size:"md",children:"Conoce Nuestra Historia"})})]})]})})}),d.jsx("section",{className:"section-testimonials",children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"section-header",children:d.jsx("h2",{className:"section-title",children:"Lo Que Dicen Nuestros Clientes"})}),d.jsx("div",{className:"testimonials-grid",children:[{name:"María González",role:"Cliente Frecuente",image:"https://randomuser.me/api/portraits/women/44.jpg",text:"Los productos son de excelente calidad y el servicio al cliente es excepcional. ¡Totalmente recomendado!",rating:5},{name:"Carlos Rodríguez",role:"Comprador Nuevo",image:"https://randomuser.me/api/portraits/men/32.jpg",text:"Me encantó la rapidez del envío y la calidad del producto. Definitivamente volveré a comprar.",rating:4},{name:"Laura Martínez",role:"Cliente Habitual",image:"https://randomuser.me/api/portraits/women/68.jpg",text:"Siempre encuentro lo que necesito a precios muy competitivos. El servicio post-venta es inmejorable.",rating:5}].map((x,_)=>d.jsxs("div",{className:"testimonial-card",children:[d.jsxs("div",{className:"testimonial-header",children:[d.jsx("img",{src:x.image,alt:x.name,className:"testimonial-image"}),d.jsxs("div",{children:[d.jsx("h4",{className:"testimonial-name",children:x.name}),d.jsx("p",{className:"testimonial-role",children:x.role})]})]}),d.jsxs("p",{className:"testimonial-text",children:['"',x.text,'"']}),d.jsx("div",{className:"testimonial-rating",children:d.jsx(Eb,{rating:x.rating,maxStars:5})})]},_))})]})}),d.jsx("section",{className:"section-cta",children:d.jsx("div",{className:"container",children:d.jsxs("div",{className:"cta-content",children:[d.jsx("h2",{className:"cta-title",children:"¿Listo para comenzar?"}),d.jsx("p",{className:"cta-text",children:t?"Explora nuestra selección exclusiva de productos y encuentra lo que necesitas hoy mismo":"Únete a nuestra comunidad de más de 10,000 clientes satisfechos y descubre productos exclusivos con envío gratis"}),d.jsx("div",{className:"cta-actions",children:t?d.jsxs(d.Fragment,{children:[d.jsx(Ye,{to:"/productos",children:d.jsx(Tt,{variant:"primary",size:"lg",children:"Explorar Productos"})}),d.jsx(Ye,{to:"/carrito",children:d.jsx(Tt,{variant:"outline",size:"lg",children:"Ver Carrito"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Ye,{to:"/register",children:d.jsx(Tt,{variant:"primary",size:"lg",children:"Crear Cuenta Gratis"})}),d.jsx(Ye,{to:"/productos",children:d.jsx(Tt,{variant:"outline",size:"lg",children:"Explorar Productos"})})]})})]})})}),d.jsx(ia,{})]})}function D7(){return d.jsxs("div",{children:[d.jsx(Dn,{}),d.jsxs("div",{className:"blog-container",children:[d.jsxs("div",{className:"blog-header",children:[d.jsx("h1",{children:"Sobre Nosotros"}),d.jsx("p",{children:"Conoce nuestra historia, valores y compromiso con la excelencia"})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"40px",margin:"40px 0"},children:[d.jsxs("div",{children:[d.jsx("h2",{style:{color:"#1e293b",fontSize:"1.8rem",marginBottom:"20px"},children:"Nuestra Historia"}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.8",fontSize:"1.1rem"},children:"Fundada en 2020, Moñitos nació de la pasión por ofrecer productos de calidad con un servicio excepcional. Desde nuestros inicios, hemos crecido hasta convertirnos en un referente de innovación y excelencia en el mercado colombiano."}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.8",fontSize:"1.1rem",marginTop:"20px"},children:"Nuestro compromiso siempre ha sido claro: seleccionar cuidadosamente cada producto que ofrecemos, asegurando que cumpla con los más altos estándares de calidad y diseño."})]}),d.jsx("div",{children:d.jsxs("div",{style:{backgroundColor:"#f0fdf4",borderRadius:"16px",padding:"30px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[d.jsx("div",{style:{fontSize:"4rem",textAlign:"center",marginBottom:"20px"},children:"🌟"}),d.jsx("h3",{style:{textAlign:"center",color:"#1e293b",marginBottom:"15px"},children:"Misión"}),d.jsx("p",{style:{textAlign:"center",color:"#64748b",lineHeight:"1.6"},children:"Mejorar la vida de nuestros clientes ofreciendo productos innovadores y un servicio al cliente excepcional."})]})})]}),d.jsxs("div",{style:{margin:"60px 0"},children:[d.jsx("h2",{style:{textAlign:"center",color:"#1e293b",fontSize:"2rem",marginBottom:"40px"},children:"Nuestros Valores"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"30px"},children:[d.jsxs("div",{style:{backgroundColor:"#fff",padding:"30px",borderRadius:"16px",boxShadow:"0 5px 15px rgba(0,0,0,0.05)",textAlign:"center",transition:"all 0.3s ease"},onMouseOver:t=>t.currentTarget.style.transform="translateY(-10px)",onMouseOut:t=>t.currentTarget.style.transform="translateY(0)",children:[d.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:"💎"}),d.jsx("h3",{style:{color:"#1e293b",marginBottom:"15px"},children:"Calidad"}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.6"},children:"Comprometidos con ofrecer solo productos que superen las expectativas de nuestros clientes."})]}),d.jsxs("div",{style:{backgroundColor:"#fff",padding:"30px",borderRadius:"16px",boxShadow:"0 5px 15px rgba(0,0,0,0.05)",textAlign:"center",transition:"all 0.3s ease"},onMouseOver:t=>t.currentTarget.style.transform="translateY(-10px)",onMouseOut:t=>t.currentTarget.style.transform="translateY(0)",children:[d.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:"🌱"}),d.jsx("h3",{style:{color:"#1e293b",marginBottom:"15px"},children:"Sostenibilidad"}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.6"},children:"Promovemos prácticas responsables con el medio ambiente en todos nuestros procesos."})]}),d.jsxs("div",{style:{backgroundColor:"#fff",padding:"30px",borderRadius:"16px",boxShadow:"0 5px 15px rgba(0,0,0,0.05)",textAlign:"center",transition:"all 0.3s ease"},onMouseOver:t=>t.currentTarget.style.transform="translateY(-10px)",onMouseOut:t=>t.currentTarget.style.transform="translateY(0)",children:[d.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:"🤝"}),d.jsx("h3",{style:{color:"#1e293b",marginBottom:"15px"},children:"Integridad"}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.6"},children:"Actuamos con honestidad y transparencia en cada interacción con nuestros clientes."})]})]})]}),d.jsxs("div",{style:{margin:"60px 0"},children:[d.jsx("h2",{style:{textAlign:"center",color:"#1e293b",fontSize:"2rem",marginBottom:"40px"},children:"Nuestro Equipo"}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"30px"},children:[d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"#f0fdf4",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem"},children:"👩‍💼"}),d.jsx("h3",{style:{color:"#1e293b",marginBottom:"10px"},children:"María González"}),d.jsx("p",{style:{color:"#16a34a",fontWeight:"600",marginBottom:"10px"},children:"CEO & Fundadora"}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.6"},children:"Lidera nuestra visión y estrategia con más de 10 años de experiencia en e-commerce."})]}),d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"#f0fdf4",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem"},children:"👨‍💻"}),d.jsx("h3",{style:{color:"#1e293b",marginBottom:"10px"},children:"Carlos Rodríguez"}),d.jsx("p",{style:{color:"#16a34a",fontWeight:"600",marginBottom:"10px"},children:"CTO"}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.6"},children:"Experto en tecnología, garantiza una experiencia de usuario excepcional."})]}),d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"#f0fdf4",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem"},children:"👩‍🎨"}),d.jsx("h3",{style:{color:"#1e293b",marginBottom:"10px"},children:"Laura Martínez"}),d.jsx("p",{style:{color:"#16a34a",fontWeight:"600",marginBottom:"10px"},children:"Directora de Diseño"}),d.jsx("p",{style:{color:"#64748b",lineHeight:"1.6"},children:"Crea experiencias visuales únicas que reflejan nuestra identidad de marca."})]})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"30px",margin:"60px 0",padding:"40px 20px",backgroundColor:"#f8fafc",borderRadius:"16px"},children:[d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"3rem",color:"#16a34a",marginBottom:"10px"},children:"🏆"}),d.jsx("h3",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#1e293b"},children:"500+"}),d.jsx("p",{style:{color:"#64748b",margin:0},children:"Clientes Satisfechos"})]}),d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"3rem",color:"#16a34a",marginBottom:"10px"},children:"📦"}),d.jsx("h3",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#1e293b"},children:"1000+"}),d.jsx("p",{style:{color:"#64748b",margin:0},children:"Productos"})]}),d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"3rem",color:"#16a34a",marginBottom:"10px"},children:"🌍"}),d.jsx("h3",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#1e293b"},children:"15+"}),d.jsx("p",{style:{color:"#64748b",margin:0},children:"Ciudades"})]}),d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"3rem",color:"#16a34a",marginBottom:"10px"},children:"⭐"}),d.jsx("h3",{style:{fontSize:"2rem",margin:"0 0 10px 0",color:"#1e293b"},children:"4.9/5"}),d.jsx("p",{style:{color:"#64748b",margin:0},children:"Calificación"})]})]}),d.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",backgroundColor:"#f0fdf4",borderRadius:"16px",margin:"40px 0"},children:[d.jsx("h2",{style:{fontSize:"2.5rem",color:"#1e293b",marginBottom:"20px"},children:"¿Listo para comenzar?"}),d.jsx("p",{style:{fontSize:"1.2rem",color:"#64748b",marginBottom:"30px",maxWidth:"700px",margin:"0 auto 30px"},children:"Únete a nuestra comunidad de clientes satisfechos y descubre la diferencia de una experiencia de compra excepcional."}),d.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[d.jsx(Ye,{to:"/productos",style:{textDecoration:"none"},children:d.jsx("button",{style:{backgroundColor:"#16a34a",color:"white",border:"none",padding:"15px 30px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:t=>t.target.style.backgroundColor="#15803d",onMouseOut:t=>t.target.style.backgroundColor="#16a34a",children:"Explorar Productos"})}),d.jsx(Ye,{to:"/contacto",style:{textDecoration:"none"},children:d.jsx("button",{style:{backgroundColor:"transparent",color:"#16a34a",border:"2px solid #16a34a",padding:"15px 30px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:t=>{t.target.style.backgroundColor="#16a34a",t.target.style.color="white"},onMouseOut:t=>{t.target.style.backgroundColor="transparent",t.target.style.color="#16a34a"},children:"Contáctanos"})})]})]})]}),d.jsx(ia,{})]})}function O7(){const[t,e]=N.useState({name:"",email:"",subject:"",message:""}),[n,i]=N.useState({}),[s,a]=N.useState(!1),l=m=>{const{name:g,value:v}=m.target;e(x=>({...x,[g]:v})),n[g]&&i(x=>({...x,[g]:""}))},u=()=>{const m={};return t.name.trim()||(m.name="El nombre es requerido"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(m.email="El email no es válido"):m.email="El email es requerido",t.subject.trim()||(m.subject="El asunto es requerido"),t.message.trim()||(m.message="El mensaje es requerido"),m},h=m=>{m.preventDefault();const g=u();if(Object.keys(g).length>0){i(g);return}a(!0),setTimeout(()=>{alert("¡Gracias por tu mensaje! Nos pondremos en contacto contigo pronto."),e({name:"",email:"",subject:"",message:""}),i({}),a(!1)},1500)};return d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsxs("div",{className:"contact-container",children:[d.jsxs("div",{className:"contact-header",children:[d.jsx("h1",{className:"contact-title",children:"Contáctanos"}),d.jsx("p",{className:"contact-subtitle",children:"Estamos aquí para ayudarte. Nuestro equipo está listo para responder cualquier pregunta que tengas. Completa el formulario y nos pondremos en contacto contigo lo antes posible."})]}),d.jsxs("div",{className:"contact-content",children:[d.jsxs("div",{className:"contact-info-section",children:[d.jsxs("div",{className:"contact-details",children:[d.jsx("h2",{className:"section-title",children:"Información de Contacto"}),d.jsxs("div",{className:"contact-item",children:[d.jsx("div",{className:"contact-icon",children:"📍"}),d.jsxs("div",{children:[d.jsx("h3",{className:"contact-label",children:"Dirección"}),d.jsx("p",{className:"contact-text",children:"Cajamarca, Tolima, Colombia"})]})]}),d.jsxs("div",{className:"contact-item",children:[d.jsx("div",{className:"contact-icon",children:"📞"}),d.jsxs("div",{children:[d.jsx("h3",{className:"contact-label",children:"Teléfono"}),d.jsx("p",{className:"contact-text",children:"+57 123 456 7890"}),d.jsx("p",{className:"contact-text",children:"+57 098 765 4321"})]})]}),d.jsxs("div",{className:"contact-item",children:[d.jsx("div",{className:"contact-icon",children:"✉️"}),d.jsxs("div",{children:[d.jsx("h3",{className:"contact-label",children:"Email"}),d.jsx("p",{className:"contact-text",children:"info@monitos.com"}),d.jsx("p",{className:"contact-text",children:"soporte@monitos.com"})]})]}),d.jsxs("div",{className:"contact-item",children:[d.jsx("div",{className:"contact-icon",children:"🕐"}),d.jsxs("div",{children:[d.jsx("h3",{className:"contact-label",children:"Horario"}),d.jsx("p",{className:"contact-text",children:"Lunes - Viernes: 9 AM - 6 PM"}),d.jsx("p",{className:"contact-text",children:"Sábados: 10 AM - 2 PM"}),d.jsx("p",{className:"contact-text",children:"Domingos: Cerrado"})]})]})]}),d.jsxs("div",{className:"social-section",children:[d.jsx("h2",{className:"section-title",children:"Síguenos"}),d.jsxs("div",{className:"social-icons",children:[d.jsx("a",{href:"mailto:info@monitos.com",className:"social-icon","aria-label":"Gmail",children:d.jsx("i",{className:"fab fa-google"})}),d.jsx("a",{href:"https://wa.me/571234567890",className:"social-icon","aria-label":"WhatsApp",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-whatsapp"})}),d.jsx("a",{href:"https://t.me/monitos_support",className:"social-icon","aria-label":"Telegram",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-telegram"})}),d.jsx("a",{href:"https://www.tiktok.com/@monitos",className:"social-icon","aria-label":"TikTok",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-tiktok"})}),d.jsx("a",{href:"https://www.facebook.com/monitos",className:"social-icon","aria-label":"Facebook",target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:"fab fa-facebook-f"})})]})]})]}),d.jsxs("div",{className:"contact-form-section",children:[d.jsx("h2",{className:"section-title",children:"Envíanos un Mensaje"}),d.jsxs("form",{className:"contact-form",onSubmit:h,children:[d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("input",{type:"text",name:"name",placeholder:"Tu Nombre",className:`contact-input ${n.name?"error":""}`,value:t.name,onChange:l,required:!0}),n.name&&d.jsx("span",{className:"error-message",children:n.name})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("input",{type:"email",name:"email",placeholder:"Tu Email",className:`contact-input ${n.email?"error":""}`,value:t.email,onChange:l,required:!0}),n.email&&d.jsx("span",{className:"error-message",children:n.email})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("input",{type:"text",name:"subject",placeholder:"Asunto",className:`contact-input ${n.subject?"error":""}`,value:t.subject,onChange:l,required:!0}),n.subject&&d.jsx("span",{className:"error-message",children:n.subject})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("textarea",{name:"message",placeholder:"Tu Mensaje",rows:"6",className:`contact-textarea ${n.message?"error":""}`,value:t.message,onChange:l,required:!0}),n.message&&d.jsx("span",{className:"error-message",children:n.message})]}),d.jsx(Tt,{type:"submit",variant:"primary",size:"lg",className:"contact-button",disabled:s,children:s?"Enviando...":"Enviar Mensaje"})]})]})]}),d.jsxs("div",{className:"map-section",children:[d.jsx("h2",{className:"section-title",children:"Nuestra Ubicación"}),d.jsx("div",{className:"contact-map-container",children:d.jsx("iframe",{title:"map",width:"100%",height:"400",frameBorder:"0",style:{border:0},src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1591.9000000000001!2d-75.65000000000001!3d4.433333333333334!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e38c51f00000001%3A0x0!2sCajamarca%2C%20Tolima%2C%20Colombia!5e0!3m2!1ses-419!2sco!4v1678888888888!5m2!1ses-419!2sco",allowFullScreen:"",loading:"lazy"})})]})]}),d.jsx(ia,{})]})}function L7(){const{user:t,loginUser:e,loginWithGoogle:n}=ko(),[i,s]=N.useState(""),[a,l]=N.useState(""),[u,h]=N.useState(!1),[m,g]=N.useState(!1),[v,x]=N.useState(!1),_=Os();N.useEffect(()=>{t&&_("/")},[t]);const E=async A=>{A.preventDefault(),x(!0);try{await e(i,a,m),ve.fire({icon:"success",title:"¡Bienvenido!",text:"Inicio de sesión exitoso",timer:1500,showConfirmButton:!1}),_("/")}catch(j){console.error("Error al iniciar sesión:",j);let B="Error al iniciar sesión",L="error";(j==null?void 0:j.code)==="auth/invalid-credential"&&(B="Credenciales inválidas"),(j==null?void 0:j.code)==="auth/user-not-found"&&(B="Usuario no encontrado"),(j==null?void 0:j.code)==="auth/wrong-password"&&(B="Contraseña incorrecta"),(j==null?void 0:j.code)==="auth/too-many-requests"&&(B="Demasiados intentos. Intenta más tarde.",L="warning"),ve.fire({icon:L,title:"Error",text:B})}finally{x(!1)}},C=async()=>{x(!0);try{await n(m),ve.fire({icon:"success",title:"¡Bienvenido!",text:"Inicio de sesión con Google exitoso",timer:1500,showConfirmButton:!1}),_("/")}catch(A){console.error("Error al iniciar sesión con Google:",A),ve.fire({icon:"error",title:"Error",text:"Error al iniciar sesión con Google"})}finally{x(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:v?d.jsx("div",{className:"loader-container",children:d.jsx(Ro,{size:"lg",color:"#3b82f6",text:"Iniciando sesión..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Welcome Back"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your email and password to access your account."}),d.jsxs("form",{onSubmit:E,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:i,onChange:A=>s(A.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:a,onChange:A=>l(A.target.value),required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!u),children:u?d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),d.jsxs("div",{className:"auth-options",children:[d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:m,onChange:A=>g(A.target.checked)}),d.jsx("span",{className:"checkmark"}),"Remember Me"]}),d.jsx(Ye,{to:"/reset-password",className:"forgot-link",children:"Forgot Your Password?"})]}),d.jsx(Tt,{type:"submit",variant:"primary",fullWidth:!0,className:"login-btn-override",disabled:v,children:"Log In"})]}),d.jsx("div",{className:"divider",children:d.jsx("span",{children:"Or Login With"})}),d.jsx("div",{className:"social-buttons",children:d.jsxs(Tt,{className:"social-btn google-btn",onClick:C,disabled:v,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"G"}),"Google"]})}),d.jsxs("div",{className:"auth-switch",children:[d.jsx("span",{children:"Don't Have An Account? "}),d.jsx(Ye,{to:"/register",children:"Register Now."})]})]})})})]})}function V7(){const{user:t,registerUser:e,loginWithGoogle:n}=ko(),[i,s]=N.useState(""),[a,l]=N.useState(""),[u,h]=N.useState(""),[m,g]=N.useState(!1),[v,x]=N.useState(!1),_=Os();N.useEffect(()=>{t&&_("/")},[t]);const E=async A=>{A.preventDefault(),x(!0);try{await e(i,a,u),ve.fire({icon:"success",title:"¡Cuenta creada!",text:"Tu registro se ha completado exitosamente",timer:1500,showConfirmButton:!1}),_("/")}catch{ve.fire({icon:"error",title:"Error",text:"Error al registrarse. Por favor, intenta nuevamente."})}finally{x(!1)}},C=async()=>{x(!0);try{await n(),_("/")}catch{ve.fire({icon:"error",title:"Error",text:"Error al registrarse con Google. Por favor, intenta nuevamente."})}finally{x(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:v?d.jsx("div",{className:"loader-container",children:d.jsx(Ro,{size:"lg",color:"#3b82f6",text:"Creando cuenta..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Create Account"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your details to create your account."}),d.jsxs("form",{onSubmit:E,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"fullName",children:"Full Name"}),d.jsx("input",{id:"fullName",type:"text",placeholder:"John Doe",value:u,onChange:A=>h(A.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:i,onChange:A=>s(A.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:m?"text":"password",placeholder:"Enter your password",value:a,onChange:A=>l(A.target.value),required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!m),children:m?d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),d.jsx(Tt,{type:"submit",variant:"primary",fullWidth:!0,className:"register-btn-override",disabled:v,children:"Create Account"})]}),d.jsx("div",{className:"divider",children:d.jsx("span",{children:"Or Register With"})}),d.jsx("div",{className:"social-buttons",children:d.jsxs(Tt,{className:"social-btn google-btn",onClick:C,disabled:v,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"G"}),"Google"]})}),d.jsxs("div",{className:"auth-switch",children:[d.jsx("span",{children:"Already Have An Account? "}),d.jsx(Ye,{to:"/login",children:"Sign In"})]})]})})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function rf(t){return t+.5|0}const so=(t,e,n)=>Math.max(Math.min(t,n),e);function Jd(t){return so(rf(t*2.55),0,255)}function fo(t){return so(rf(t*255),0,255)}function Qr(t){return so(rf(t/2.55)/100,0,1)}function FS(t){return so(rf(t*100),0,100)}const ls={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ab=[..."0123456789ABCDEF"],z7=t=>Ab[t&15],U7=t=>Ab[(t&240)>>4]+Ab[t&15],Im=t=>(t&240)>>4===(t&15),B7=t=>Im(t.r)&&Im(t.g)&&Im(t.b)&&Im(t.a);function F7(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ls[t[1]]*17,g:255&ls[t[2]]*17,b:255&ls[t[3]]*17,a:e===5?ls[t[4]]*17:255}:(e===7||e===9)&&(n={r:ls[t[1]]<<4|ls[t[2]],g:ls[t[3]]<<4|ls[t[4]],b:ls[t[5]]<<4|ls[t[6]],a:e===9?ls[t[7]]<<4|ls[t[8]]:255})),n}const H7=(t,e)=>t<255?e(t):"";function q7(t){var e=B7(t)?z7:U7;return t?"#"+e(t.r)+e(t.g)+e(t.b)+H7(t.a,e):void 0}const $7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sP(t,e,n){const i=e*Math.min(n,1-n),s=(a,l=(a+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function W7(t,e,n){const i=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function G7(t,e,n){const i=sP(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function K7(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Sw(t){const n=t.r/255,i=t.g/255,s=t.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),u=(a+l)/2;let h,m,g;return a!==l&&(g=a-l,m=u>.5?g/(2-a-l):g/(a+l),h=K7(n,i,s,g,a),h=h*60+.5),[h|0,m||0,u]}function Aw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(fo)}function Cw(t,e,n){return Aw(sP,t,e,n)}function Y7(t,e,n){return Aw(G7,t,e,n)}function X7(t,e,n){return Aw(W7,t,e,n)}function rP(t){return(t%360+360)%360}function Q7(t){const e=$7.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Jd(+e[5]):fo(+e[5]));const s=rP(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=Y7(s,a,l):e[1]==="hsv"?i=X7(s,a,l):i=Cw(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function Z7(t,e){var n=Sw(t);n[0]=rP(n[0]+e),n=Cw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function J7(t){if(!t)return;const e=Sw(t),n=e[0],i=FS(e[1]),s=FS(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Qr(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const HS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function eF(){const t={},e=Object.keys(qS),n=Object.keys(HS);let i,s,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],s=0;s<n.length;s++)a=n[s],u=u.replace(a,HS[a]);a=parseInt(qS[l],16),t[u]=[a>>16&255,a>>8&255,a&255]}return t}let Mm;function tF(t){Mm||(Mm=eF(),Mm.transparent=[0,0,0,0]);const e=Mm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iF(t){const e=nF.exec(t);let n=255,i,s,a;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Jd(l):so(l*255,0,255)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?Jd(i):so(i,0,255)),s=255&(e[4]?Jd(s):so(s,0,255)),a=255&(e[6]?Jd(a):so(a,0,255)),{r:i,g:s,b:a,a:n}}}function sF(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Qr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ev=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Bc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rF(t,e,n){const i=Bc(Qr(t.r)),s=Bc(Qr(t.g)),a=Bc(Qr(t.b));return{r:fo(Ev(i+n*(Bc(Qr(e.r))-i))),g:fo(Ev(s+n*(Bc(Qr(e.g))-s))),b:fo(Ev(a+n*(Bc(Qr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Dm(t,e,n){if(t){let i=Sw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Cw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function aP(t,e){return t&&Object.assign(e||{},t)}function $S(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=fo(t[3]))):(e=aP(t,{r:0,g:0,b:0,a:1}),e.a=fo(e.a)),e}function aF(t){return t.charAt(0)==="r"?iF(t):Q7(t)}class Nh{constructor(e){if(e instanceof Nh)return e;const n=typeof e;let i;n==="object"?i=$S(e):n==="string"&&(i=F7(e)||tF(e)||aF(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=aP(this._rgb);return e&&(e.a=Qr(e.a)),e}set rgb(e){this._rgb=$S(e)}rgbString(){return this._valid?sF(this._rgb):void 0}hexString(){return this._valid?q7(this._rgb):void 0}hslString(){return this._valid?J7(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let a;const l=n===a?.5:n,u=2*l-1,h=i.a-s.a,m=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-m,i.r=255&m*i.r+a*s.r+.5,i.g=255&m*i.g+a*s.g+.5,i.b=255&m*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=rF(this._rgb,e._rgb,n)),this}clone(){return new Nh(this.rgb)}alpha(e){return this._rgb.a=fo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=rf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dm(this._rgb,2,e),this}darken(e){return Dm(this._rgb,2,-e),this}saturate(e){return Dm(this._rgb,1,e),this}desaturate(e){return Dm(this._rgb,1,-e),this}rotate(e){return Z7(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Kr(){}const oF=(()=>{let t=0;return()=>t++})();function Nt(t){return t==null}function Mn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ut(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function gs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function nr(t,e){return gs(t)?t:e}function vt(t,e){return typeof t>"u"?e:t}const lF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Lt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Et(t,e,n,i){let s,a,l;if(Mn(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(ut(t))for(l=Object.keys(t),a=l.length,s=0;s<a;s++)e.call(n,t[l[s]],l[s])}function sg(t,e){let n,i,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function rg(t){if(Mn(t))return t.map(rg);if(ut(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=rg(t[n[s]]);return e}return t}function oP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function cF(t,e,n,i){if(!oP(t))return;const s=e[t],a=n[t];ut(s)&&ut(a)?Rh(s,a,i):e[t]=rg(a)}function Rh(t,e,n){const i=Mn(e)?e:[e],s=i.length;if(!ut(t))return t;n=n||{};const a=n.merger||cF;let l;for(let u=0;u<s;++u){if(l=i[u],!ut(l))continue;const h=Object.keys(l);for(let m=0,g=h.length;m<g;++m)a(h[m],t,l,n)}return t}function ch(t,e){return Rh(t,e,{merger:uF})}function uF(t,e,n){if(!oP(t))return;const i=e[t],s=n[t];ut(i)&&ut(s)?ch(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=rg(s))}const WS={"":t=>t,x:t=>t.x,y:t=>t.y};function dF(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function hF(t){const e=dF(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function vu(t,e){return(WS[e]||(WS[e]=hF(e)))(t)}function kw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const jh=t=>typeof t<"u",Eo=t=>typeof t=="function",GS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function fF(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ii=Math.PI,hi=2*ii,ag=Number.POSITIVE_INFINITY,mF=ii/180,Kn=ii/2,ul=ii/4,KS=ii*2/3,lP=Math.log10,mo=Math.sign;function hp(t,e,n){return Math.abs(t-e)<n}function YS(t){const e=Math.round(t);t=hp(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(lP(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function pF(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function gF(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function og(t){return!gF(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function yF(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function vF(t,e,n){let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function wl(t){return t*(ii/180)}function bF(t){return t*(180/ii)}function XS(t){if(!gs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function cP(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*ii&&(a+=hi),{angle:a,distance:s}}function xF(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dl(t){return(t%hi+hi)%hi}function uP(t,e,n,i){const s=dl(t),a=dl(e),l=dl(n),u=dl(a-s),h=dl(l-s),m=dl(s-a),g=dl(s-l);return s===a||s===l||i&&a===l||u>h&&m<g}function Ai(t,e,n){return Math.max(e,Math.min(n,t))}function wF(t){return Ai(t,-32768,32767)}function _l(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Nw(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Cb=(t,e,n,i)=>Nw(t,n,i?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),_F=(t,e,n)=>Nw(t,n,i=>t[i][e]>=n);function EF(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const dP=["push","pop","shift","splice","unshift"];function TF(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),dP.forEach(n=>{const i="_onData"+kw(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function QS(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(dP.forEach(a=>{delete t[a]}),delete t._chartjs)}function hP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const fP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function mP(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,fP.call(window,()=>{i=!1,t.apply(e,n)}))}}function SF(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const pP=t=>t==="start"?"left":t==="end"?"right":"center",Fi=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,AF=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Om=t=>t===0||t===1,ZS=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*hi/n)),JS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*hi/n)+1,uh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Kn)+1,easeOutSine:t=>Math.sin(t*Kn),easeInOutSine:t=>-.5*(Math.cos(ii*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Om(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Om(t)?t:ZS(t,.075,.3),easeOutElastic:t=>Om(t)?t:JS(t,.075,.3),easeInOutElastic(t){return Om(t)?t:t<.5?.5*ZS(t*2,.1125,.45):.5+.5*JS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-uh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?uh.easeInBounce(t*2)*.5:uh.easeOutBounce(t*2-1)*.5+.5};function gP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function eA(t){return gP(t)?t:new Nh(t)}function Tv(t){return gP(t)?t:new Nh(t).saturate(.5).darken(.1).hexString()}const CF=["x","y","borderWidth","radius","tension"],kF=["color","borderColor","backgroundColor"];function NF(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:kF},numbers:{type:"number",properties:CF}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function RF(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tA=new Map;function jF(t,e){e=e||{};const n=t+JSON.stringify(e);let i=tA.get(n);return i||(i=new Intl.NumberFormat(t,e),tA.set(n,i)),i}function yP(t,e,n){return jF(e,n).format(t)}const PF={values(t){return Mn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,a=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(s="scientific"),a=IF(t,n)}const l=lP(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),yP(t,i,h)}};function IF(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var vP={formatters:PF};function MF(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Vl=Object.create(null),kb=Object.create(null);function dh(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function Sv(t,e,n){return typeof e=="string"?Rh(dh(t,e),n):Rh(dh(t,""),e)}class DF{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Tv(s.backgroundColor),this.hoverBorderColor=(i,s)=>Tv(s.borderColor),this.hoverColor=(i,s)=>Tv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Sv(this,e,n)}get(e){return dh(this,e)}describe(e,n){return Sv(kb,e,n)}override(e,n){return Sv(Vl,e,n)}route(e,n,i,s){const a=dh(this,e),l=dh(this,i),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],m=l[s];return ut(h)?Object.assign({},m,h):vt(h,m)},set(h){this[u]=h}}})}apply(e){e.forEach(n=>n(this))}}var on=new DF({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[NF,RF,MF]);function OF(t){return!t||Nt(t.size)||Nt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function nA(t,e,n,i,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>i&&(i=a),i}function hl(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function iA(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function sA(t,e,n,i){bP(t,e,n,i,null)}function bP(t,e,n,i,s){let a,l,u,h,m,g,v,x;const _=e.pointStyle,E=e.rotation,C=e.radius;let A=(E||0)*mF;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(A),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),_){default:s?t.ellipse(n,i,s/2,C,0,0,hi):t.arc(n,i,C,0,hi),t.closePath();break;case"triangle":g=s?s/2:C,t.moveTo(n+Math.sin(A)*g,i-Math.cos(A)*C),A+=KS,t.lineTo(n+Math.sin(A)*g,i-Math.cos(A)*C),A+=KS,t.lineTo(n+Math.sin(A)*g,i-Math.cos(A)*C),t.closePath();break;case"rectRounded":m=C*.516,h=C-m,l=Math.cos(A+ul)*h,v=Math.cos(A+ul)*(s?s/2-m:h),u=Math.sin(A+ul)*h,x=Math.sin(A+ul)*(s?s/2-m:h),t.arc(n-v,i-u,m,A-ii,A-Kn),t.arc(n+x,i-l,m,A-Kn,A),t.arc(n+v,i+u,m,A,A+Kn),t.arc(n-x,i+l,m,A+Kn,A+ii),t.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*C,g=s?s/2:h,t.rect(n-g,i-h,2*g,2*h);break}A+=ul;case"rectRot":v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,x=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+x,i-l),t.lineTo(n+v,i+u),t.lineTo(n-x,i+l),t.closePath();break;case"crossRot":A+=ul;case"cross":v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,x=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-l),t.lineTo(n-x,i+l);break;case"star":v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,x=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-l),t.lineTo(n-x,i+l),A+=ul,v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,x=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+x,i-l),t.lineTo(n-x,i+l);break;case"line":l=s?s/2:Math.cos(A)*C,u=Math.sin(A)*C,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(A)*(s?s/2:C),i+Math.sin(A)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function xP(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Rw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function jw(t){t.restore()}function LF(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Nt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function VF(t,e,n,i,s){if(s.strikethrough||s.underline){const a=t.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,m=n+a.actualBoundingBoxDescent,g=s.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,g),t.lineTo(u,g),t.stroke()}}function zF(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function lg(t,e,n,i,s,a={}){const l=Mn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,m;for(t.save(),t.font=s.string,LF(t,a),h=0;h<l.length;++h)m=l[h],a.backdrop&&zF(t,a.backdrop),u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Nt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(m,n,i,a.maxWidth)),t.fillText(m,n,i,a.maxWidth),VF(t,n,i,m,a),i+=Number(s.lineHeight);t.restore()}function cg(t,e){const{x:n,y:i,w:s,h:a,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*ii,ii,!0),t.lineTo(n,i+a-l.bottomLeft),t.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,ii,Kn,!0),t.lineTo(n+s-l.bottomRight,i+a),t.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Kn,0,!0),t.lineTo(n+s,i+l.topRight),t.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-Kn,!0),t.lineTo(n+l.topLeft,i)}const UF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FF(t,e){const n=(""+t).match(UF);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const HF=t=>+t||0;function Pw(t,e){const n={},i=ut(e),s=i?Object.keys(e):e,a=ut(t)?i?l=>vt(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=HF(a(l));return n}function wP(t){return Pw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function su(t){return Pw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ps(t){const e=wP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ci(t,e){t=t||{},e=e||on.font;let n=vt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=vt(t.style,e.style);i&&!(""+i).match(BF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:vt(t.family,e.family),lineHeight:FF(vt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:vt(t.weight,e.weight),string:""};return s.string=OF(s),s}function Lm(t,e,n,i){let s,a,l;for(s=0,a=t.length;s<a;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function qF(t,e,n){const{min:i,max:s}=t,a=lF(e,(s-i)/2),l=(u,h)=>n&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Du(t,e){return Object.assign(Object.create(t),e)}function Iw(t,e=[""],n,i,s=()=>t[0]){const a=n||t;typeof i>"u"&&(i=SP("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>Iw([u,...t],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return EP(u,h,()=>ZF(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return aA(u).includes(h)},ownKeys(u){return aA(u)},set(u,h,m){const g=u._storage||(u._storage=s());return u[h]=g[h]=m,delete u._keys,!0}})}function bu(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_P(t,i),setContext:a=>bu(t,a,n,i),override:a=>bu(t.override(a),e,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,u){return EP(a,l,()=>WF(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,u){return t[l]=u,delete a[l],!0}})}function _P(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Eo(n)?n:()=>n,isIndexable:Eo(i)?i:()=>i}}const $F=(t,e)=>t?t+kw(e):e,Mw=(t,e)=>ut(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function EP(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function WF(t,e,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=t;let u=i[e];return Eo(u)&&l.isScriptable(e)&&(u=GF(e,u,t,n)),Mn(u)&&u.length&&(u=KF(e,u,t,l.isIndexable)),Mw(e,u)&&(u=bu(u,s,a&&a[e],l)),u}function GF(t,e,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(a,l||i);return u.delete(t),Mw(t,h)&&(h=Dw(s._scopes,s,t,h)),h}function KF(t,e,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=n;if(typeof a.index<"u"&&i(t))return e[a.index%e.length];if(ut(e[0])){const h=e,m=s._scopes.filter(g=>g!==h);e=[];for(const g of h){const v=Dw(m,s,t,g);e.push(bu(v,a,l&&l[t],u))}}return e}function TP(t,e,n){return Eo(t)?t(e,n):t}const YF=(t,e)=>t===!0?e:typeof t=="string"?vu(e,t):void 0;function XF(t,e,n,i,s){for(const a of e){const l=YF(n,a);if(l){t.add(l);const u=TP(l._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Dw(t,e,n,i){const s=e._rootScopes,a=TP(e._fallback,n,i),l=[...t,...s],u=new Set;u.add(i);let h=rA(u,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=rA(u,l,a,h,i),h===null)?!1:Iw(Array.from(u),[""],s,a,()=>QF(e,n,i))}function rA(t,e,n,i,s){for(;n;)n=XF(t,e,n,i,s);return n}function QF(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Mn(s)&&ut(n)?n:s||{}}function ZF(t,e,n,i){let s;for(const a of e)if(s=SP($F(a,t),n),typeof s<"u")return Mw(t,s)?Dw(n,i,t,s):s}function SP(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function aA(t){let e=t._keys;return e||(e=t._keys=JF(t._scopes)),e}function JF(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Ow(){return typeof window<"u"&&typeof document<"u"}function Lw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ug(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Jg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function eH(t,e){return Jg(t).getPropertyValue(e)}const tH=["top","right","bottom","left"];function Al(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=tH[s];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const nH=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function iH(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=i;let l=!1,u,h;if(nH(s,a,t.target))u=s,h=a;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,h=i.clientY-m.top,l=!0}return{x:u,y:h,box:l}}function gl(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Jg(n),a=s.boxSizing==="border-box",l=Al(s,"padding"),u=Al(s,"border","width"),{x:h,y:m,box:g}=iH(t,n),v=l.left+(g&&u.left),x=l.top+(g&&u.top);let{width:_,height:E}=e;return a&&(_-=l.width+u.width,E-=l.height+u.height),{x:Math.round((h-v)/_*n.width/i),y:Math.round((m-x)/E*n.height/i)}}function sH(t,e,n){let i,s;if(e===void 0||n===void 0){const a=t&&Lw(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),u=Jg(a),h=Al(u,"border","width"),m=Al(u,"padding");e=l.width-m.width-h.width,n=l.height-m.height-h.height,i=ug(u.maxWidth,a,"clientWidth"),s=ug(u.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||ag,maxHeight:s||ag}}const Vm=t=>Math.round(t*10)/10;function rH(t,e,n,i){const s=Jg(t),a=Al(s,"margin"),l=ug(s.maxWidth,t,"clientWidth")||ag,u=ug(s.maxHeight,t,"clientHeight")||ag,h=sH(t,e,n);let{width:m,height:g}=h;if(s.boxSizing==="content-box"){const x=Al(s,"border","width"),_=Al(s,"padding");m-=_.width+x.width,g-=_.height+x.height}return m=Math.max(0,m-a.width),g=Math.max(0,i?m/i:g-a.height),m=Vm(Math.min(m,l,h.maxWidth)),g=Vm(Math.min(g,u,h.maxHeight)),m&&!g&&(g=Vm(m/2)),(e!==void 0||n!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,m=Vm(Math.floor(g*i))),{width:m,height:g}}function oA(t,e,n){const i=e||1,s=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(t.currentDevicePixelRatio=i,l.height=s,l.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const aH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ow()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function lA(t,e){const n=eH(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const oH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},lH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ru(t,e,n){return t?oH(e,n):lH()}function AP(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function CP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function zm(t,e,n){return t.options.clip?t[n]:e[n]}function cH(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:zm(n,e,"left"),right:zm(n,e,"right"),top:zm(i,e,"top"),bottom:zm(i,e,"bottom")}:e}function uH(t,e){const n=e._clip;if(n.disabled)return!1;const i=cH(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class dH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=fP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,e,"progress")),a.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yr=new dH;const cA="transparent",hH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=eA(t||cA),s=i.valid&&eA(e||cA);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class fH{constructor(e,n,i,s){const a=n[i];s=Lm([e.to,s,a,e.from]);const l=Lm([e.from,a,s]);this._active=!0,this._fn=e.fn||hH[e.type||typeof l],this._easing=uh[e.easing]||uh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Lm([e.to,n,s,e.from]),this._from=Lm([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||n<i),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class kP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ut(e))return;const n=Object.keys(on.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!ut(a))return;const l={};for(const u of n)l[u]=a[u];(Mn(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,s=pH(e,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&mH(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const m=l[h];if(m.charAt(0)==="$")continue;if(m==="options"){s.push(...this._animateOptions(e,n));continue}const g=n[m];let v=a[m];const x=i.get(m);if(v)if(x&&v.active()){v.update(x,g,u);continue}else v.cancel();if(!x||!x.duration){e[m]=g;continue}a[m]=v=new fH(x,e,m,g),s.push(v)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Yr.add(this._chart,i),!0}}function mH(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=t[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function pH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uA(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:s,end:i?s:a}}function gH(t,e,n){if(n===!1)return!1;const i=uA(t,n),s=uA(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function yH(t){let e,n,i,s;return ut(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function NP(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function dA(t,e,n,i={}){const s=t.keys,a=i.mode==="single";let l,u,h,m;if(e===null)return;let g=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===n){if(g=!0,i.all)continue;break}m=t.values[h],gs(m)&&(a||e===0||mo(e)===mo(m))&&(e+=m)}return!g&&!i.all?0:e}function vH(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let h,m,g;for(h=0,m=l.length;h<m;++h)g=l[h],u[h]={[s]:g,[a]:t[g]};return u}function Av(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function bH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function xH(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function wH(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function hA(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function fA(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,m=l.axis,g=bH(a,l,i),v=e.length;let x;for(let _=0;_<v;++_){const E=e[_],{[h]:C,[m]:A}=E,j=E._stacks||(E._stacks={});x=j[m]=wH(s,g,C),x[u]=A,x._top=hA(x,l,!0,i.type),x._bottom=hA(x,l,!1,i.type);const B=x._visualValues||(x._visualValues={});B[u]=A}}function Cv(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function _H(t,e){return Du(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function EH(t,e,n){return Du(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Bd(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const kv=t=>t==="reset"||t==="none",mA=(t,e)=>e?t:Object.assign({},t),TH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:NP(n,!0),values:null};class hh{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Av(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(v,x,_,E)=>v==="x"?x:v==="r"?E:_,a=n.xAxisID=vt(i.xAxisID,Cv(e,"x")),l=n.yAxisID=vt(i.yAxisID,Cv(e,"y")),u=n.rAxisID=vt(i.rAxisID,Cv(e,"r")),h=n.indexAxis,m=n.iAxisID=s(h,a,l,u),g=n.vAxisID=s(h,l,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&QS(this._data,this),e._stacked&&Bd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ut(n)){const s=this._cachedMeta;this._data=vH(n,s)}else if(i!==n){if(i){QS(i,this);const s=this._cachedMeta;Bd(s),s._parsed=[]}n&&Object.isExtensible(n)&&TF(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Av(n.vScale,n),n.stack!==i.stack&&(s=!0,Bd(n),n.stack=i.stack),this._resyncElements(e),(s||a!==n._stacked)&&(fA(this,n._parsed),n._stacked=Av(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&n===s.length?!0:i._sorted,m=e>0&&i._parsed[e-1],g,v,x;if(this._parsing===!1)i._parsed=s,i._sorted=!0,x=s;else{Mn(s[e])?x=this.parseArrayData(i,s,e,n):ut(s[e])?x=this.parseObjectData(i,s,e,n):x=this.parsePrimitiveData(i,s,e,n);const _=()=>v[u]===null||m&&v[u]<m[u];for(g=0;g<n;++g)i._parsed[g+e]=v=x[g],h&&(_()&&(h=!1),m=v);i._sorted=h}l&&fA(this,x)}parsePrimitiveData(e,n,i,s){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,m=a.getLabels(),g=a===l,v=new Array(s);let x,_,E;for(x=0,_=s;x<_;++x)E=x+i,v[x]={[u]:g||a.parse(m[E],E),[h]:l.parse(n[E],E)};return v}parseArrayData(e,n,i,s){const{xScale:a,yScale:l}=e,u=new Array(s);let h,m,g,v;for(h=0,m=s;h<m;++h)g=h+i,v=n[g],u[h]={x:a.parse(v[0],g),y:l.parse(v[1],g)};return u}parseObjectData(e,n,i,s){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=new Array(s);let g,v,x,_;for(g=0,v=s;g<v;++g)x=g+i,_=n[x],m[g]={x:a.parse(vu(_,u),x),y:l.parse(vu(_,h),x)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,a=this._cachedMeta,l=n[e.axis],u={keys:NP(s,!0),values:n._stacks[e.axis]._visualValues};return dA(u,l,a.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const u=s&&i._stacks[n.axis];s&&u&&(s.values=u,l=dA(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&e===i.iScale,l=s.length,u=this._getOtherScale(e),h=TH(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=xH(u);let x,_;function E(){_=s[x];const C=_[u.axis];return!gs(_[e.axis])||g>C||v<C}for(x=0;x<l&&!(!E()&&(this.updateRangeFromParsed(m,e,_,h),a));++x);if(a){for(x=l-1;x>=0;--x)if(!E()){this.updateRangeFromParsed(m,e,_,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][e.axis],gs(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=yH(vt(this.options.clip,gH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,m=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,a,u,h),g=u;g<u+h;++g){const v=s[g];v.hidden||(v.active&&m?l.push(v):v.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=EH(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=_H(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=e+"-"+n,u=a[l],h=this.enableOptionSharing&&jh(i);if(u)return mA(u,h);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),v=s?[`${e}Hover`,"hover",e,""]:[e,""],x=m.getOptionScopes(this.getDataset(),g),_=Object.keys(on.elements[e]),E=()=>this.getContext(i,s,n),C=m.resolveNamedOptions(x,_,E,v);return C.$shared&&(C.$shared=h,a[l]=Object.freeze(mA(C,h))),C}_resolveAnimations(e,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,u=a[l];if(u)return u;let h;if(s.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,n),x=g.getOptionScopes(this.getDataset(),v);h=g.createResolver(x,this.getContext(e,i,n))}const m=new kP(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||kv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(e,n,i,s){kv(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!kv(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,h,m]of this._syncList)this[u](h,m);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,i=!0){const s=this._cachedMeta,a=s.data,l=e+n;let u;const h=m=>{for(m.length+=n,u=m.length-1;u>=l;u--)m[u]=m[u-n]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Bd(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Fe(hh,"defaults",{}),Fe(hh,"datasetElementType",null),Fe(hh,"dataElementType",null);function SH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=hP(i.sort((s,a)=>s-a))}return t._cache.$bar}function AH(t){const e=t.iScale,n=SH(e,t.type);let i=e._length,s,a,l,u;const h=()=>{l===32767||l===-32768||(jh(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,a=n.length;s<a;++s)l=e.getPixelForValue(n[s]),h();for(u=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),h();return i}function CH(t,e,n,i){const s=n.barThickness;let a,l;return Nt(s)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:e.pixels[t]-a/2}}function kH(t,e,n,i){const s=e.pixels,a=s[t];let l=t>0?s[t-1]:null,u=t<s.length-1?s[t+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-l);const m=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:n.barPercentage,start:m}}function NH(t,e,n,i){const s=n.parse(t[0],i),a=n.parse(t[1],i),l=Math.min(s,a),u=Math.max(s,a);let h=l,m=u;Math.abs(l)>Math.abs(u)&&(h=u,m=l),e[n.axis]=m,e._custom={barStart:h,barEnd:m,start:s,end:a,min:l,max:u}}function RP(t,e,n,i){return Mn(t)?NH(t,e,n,i):e[n.axis]=n.parse(t,i),e}function pA(t,e,n,i){const s=t.iScale,a=t.vScale,l=s.getLabels(),u=s===a,h=[];let m,g,v,x;for(m=n,g=n+i;m<g;++m)x=e[m],v={},v[s.axis]=u||s.parse(l[m],m),h.push(RP(x,v,a,m));return h}function Nv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function RH(t,e,n){return t!==0?mo(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function jH(t){let e,n,i,s,a;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:e,top:s,bottom:a}}function PH(t,e,n,i){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:m,bottom:g}=jH(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=m:(n._bottom||0)===i?s=g:(a[gA(g,l,u,h)]=!0,s=m)),a[gA(s,l,u,h)]=!0,t.borderSkipped=a}function gA(t,e,n,i){return i?(t=IH(t,e,n),t=yA(t,n,e)):t=yA(t,e,n),t}function IH(t,e,n){return t===e?n:t===n?e:t}function yA(t,e,n){return t==="start"?e:t==="end"?n:t}function MH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class fp extends hh{parsePrimitiveData(e,n,i,s){return pA(e,n,i,s)}parseArrayData(e,n,i,s){return pA(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:a,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=a.axis==="x"?u:h,g=l.axis==="x"?u:h,v=[];let x,_,E,C;for(x=i,_=i+s;x<_;++x)C=n[x],E={},E[a.axis]=a.parse(vu(C,m),x),v.push(RP(vu(C,g),E,l,x));return v}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(e),l=a._custom,u=Nv(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),m=u.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,s);for(let _=n;_<n+i;_++){const E=this.getParsed(_),C=a||Nt(E[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),A=this._calculateBarIndexPixels(_,g),j=(E._stacks||{})[u.axis],B={horizontal:m,base:C.base,enableBorderRadius:!j||Nv(E._custom)||l===j._top||l===j._bottom,x:m?C.head:A.center,y:m?A.center:C.head,height:m?A.size:Math.abs(C.size),width:m?Math.abs(C.size):A.size};x&&(B.options=v||this.resolveDataElementOptions(_,e[_].active?"active":s));const L=B.options||e[_].options;PH(B,L,j,l),MH(B,L,g.ratio),this.updateElement(e[_],_,B,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),h=u&&u[i.axis],m=g=>{const v=g._parsed.find(_=>_[i.axis]===h),x=v&&v[g.vScale.axis];if(Nt(x)||isNaN(x))return!0};for(const g of s)if(!(n!==void 0&&m(g))&&((a===!1||l.indexOf(g.stack)===-1||a===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=e.barThickness;return{min:u||AH(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(e),m=h._custom,g=Nv(m);let v=h[n.axis],x=0,_=i?this.applyStack(n,h,i):v,E,C;_!==v&&(x=_-v,_=v),g&&(v=m.barStart,_=m.barEnd-m.barStart,v!==0&&mo(v)!==mo(m.barEnd)&&(x=0),x+=v);const A=!Nt(a)&&!g?a:x;let j=n.getPixelForValue(A);if(this.chart.getDataVisibility(e)?E=n.getPixelForValue(x+_):E=j,C=E-j,Math.abs(C)<l){C=RH(C,n,u)*l,v===u&&(j-=C/2);const B=n.getPixelForDecimal(0),L=n.getPixelForDecimal(1),q=Math.min(B,L),H=Math.max(B,L);j=Math.max(Math.min(j,H),q),E=j+C,i&&!g&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(j))}if(j===n.getPixelForValue(u)){const B=mo(C)*n.getLineWidthForValue(u)/2;j+=B,C-=B}return{size:C,base:j,head:E,center:E+C/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,a=s.skipNull,l=vt(s.maxBarThickness,1/0);let u,h;if(n.grouped){const m=a?this._getStackCount(e):n.stackCount,g=s.barThickness==="flex"?kH(e,n,s,m):CH(e,n,s,m),v=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);u=g.start+g.chunk*v+g.chunk/2,h=Math.min(l,g.chunk*g.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,n.min*n.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Fe(fp,"id","bar"),Fe(fp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Fe(fp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function fl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vw{constructor(e){Fe(this,"options");this.options=e||{}}static override(e){Object.assign(Vw.prototype,e)}init(){}formats(){return fl()}parse(){return fl()}format(){return fl()}add(){return fl()}diff(){return fl()}startOf(){return fl()}endOf(){return fl()}}var DH={_date:Vw};function OH(t,e,n,i){const{controller:s,data:a,_sorted:l}=t,u=s._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const m=u._reversePixels?_F:Cb;if(i){if(s._sharedOptions){const g=a[0],v=typeof g.getRange=="function"&&g.getRange(e);if(v){const x=m(a,e,n-v),_=m(a,e,n+v);return{lo:x.lo,hi:_.hi}}}}else{const g=m(a,e,n);if(h){const{vScale:v}=s._cachedMeta,{_parsed:x}=t,_=x.slice(0,g.lo+1).reverse().findIndex(C=>!Nt(C[v.axis]));g.lo-=Math.max(0,_);const E=x.slice(g.hi).findIndex(C=>!Nt(C[v.axis]));g.hi+=Math.max(0,E)}return g}}return{lo:0,hi:a.length-1}}function ey(t,e,n,i,s){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,h=a.length;u<h;++u){const{index:m,data:g}=a[u],{lo:v,hi:x}=OH(a[u],e,l,s);for(let _=v;_<=x;++_){const E=g[_];E.skip||i(E,m,_)}}}function LH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const a=e?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Rv(t,e,n,i,s){const a=[];return!s&&!t.isPointInArea(e)||ey(t,n,e,function(u,h,m){!s&&!xP(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:m})},!0),a}function VH(t,e,n,i){let s=[];function a(l,u,h){const{startAngle:m,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:v}=cP(l,{x:e.x,y:e.y});uP(v,m,g)&&s.push({element:l,datasetIndex:u,index:h})}return ey(t,n,e,a),s}function zH(t,e,n,i,s,a){let l=[];const u=LH(n);let h=Number.POSITIVE_INFINITY;function m(g,v,x){const _=g.inRange(e.x,e.y,s);if(i&&!_)return;const E=g.getCenterPoint(s);if(!(!!a||t.isPointInArea(E))&&!_)return;const A=u(e,E);A<h?(l=[{element:g,datasetIndex:v,index:x}],h=A):A===h&&l.push({element:g,datasetIndex:v,index:x})}return ey(t,n,e,m),l}function jv(t,e,n,i,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?VH(t,e,n,s):zH(t,e,n,i,s,a)}function vA(t,e,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return ey(t,n,e,(h,m,g)=>{h[l]&&h[l](e[n],s)&&(a.push({element:h,datasetIndex:m,index:g}),u=u||h.inRange(e.x,e.y,s))}),i&&!u?[]:a}var UH={modes:{index(t,e,n,i){const s=gl(e,t),a=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Rv(t,s,a,i,l):jv(t,s,a,!1,i,l),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,v=m.data[g];v&&!v.skip&&h.push({element:v,datasetIndex:m.index,index:g})}),h):[]},dataset(t,e,n,i){const s=gl(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Rv(t,s,a,i,l):jv(t,s,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,m=t.getDatasetMeta(h).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:h,index:g})}return u},point(t,e,n,i){const s=gl(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Rv(t,s,a,i,l)},nearest(t,e,n,i){const s=gl(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return jv(t,s,a,n.intersect,i,l)},x(t,e,n,i){const s=gl(e,t);return vA(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=gl(e,t);return vA(t,s,"y",n.intersect,i)}}};const jP=["left","top","right","bottom"];function Fd(t,e){return t.filter(n=>n.pos===e)}function bA(t,e){return t.filter(n=>jP.indexOf(n.pos)===-1&&n.box.axis===e)}function Hd(t,e){return t.sort((n,i)=>{const s=e?i:n,a=e?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function BH(t){const e=[];let n,i,s,a,l,u;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:a,options:{stack:l,stackWeight:u=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return e}function FH(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!jP.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function HH(t,e){const n=FH(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let a,l,u;for(a=0,l=t.length;a<l;++a){u=t[a];const{fullSize:h}=u.box,m=n[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*i:h&&e.availableWidth,u.height=s):(u.width=i,u.height=g?g*s:h&&e.availableHeight)}return n}function qH(t){const e=BH(t),n=Hd(e.filter(m=>m.box.fullSize),!0),i=Hd(Fd(e,"left"),!0),s=Hd(Fd(e,"right")),a=Hd(Fd(e,"top"),!0),l=Hd(Fd(e,"bottom")),u=bA(e,"x"),h=bA(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Fd(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(u)}}function xA(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function PP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function $H(t,e,n,i){const{pos:s,box:a}=n,l=t.maxPadding;if(!ut(s)){n.size&&(t[s]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?a.height:a.width),n.size=v.size/v.count,t[s]+=n.size}a.getPadding&&PP(l,a.getPadding());const u=Math.max(0,e.outerWidth-xA(l,t,"left","right")),h=Math.max(0,e.outerHeight-xA(l,t,"top","bottom")),m=u!==t.w,g=h!==t.h;return t.w=u,t.h=h,n.horizontal?{same:m,other:g}:{same:g,other:m}}function WH(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function GH(t,e){const n=e.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return i(t?["left","right"]:["top","bottom"])}function eh(t,e,n,i){const s=[];let a,l,u,h,m,g;for(a=0,l=t.length,m=0;a<l;++a){u=t[a],h=u.box,h.update(u.width||e.w,u.height||e.h,GH(u.horizontal,e));const{same:v,other:x}=$H(e,n,u,i);m|=v&&s.length,g=g||x,h.fullSize||s.push(u)}return m&&eh(s,e,n,i)||g}function Um(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function wA(t,e,n,i){const s=n.padding;let{x:a,y:l}=e;for(const u of t){const h=u.box,m=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const v=e.w*g,x=m.size||h.height;jh(m.start)&&(l=m.start),h.fullSize?Um(h,s.left,l,n.outerWidth-s.right-s.left,x):Um(h,e.left+m.placed,l,v,x),m.start=l,m.placed+=v,l=h.bottom}else{const v=e.h*g,x=m.size||h.width;jh(m.start)&&(a=m.start),h.fullSize?Um(h,a,s.top,x,n.outerHeight-s.bottom-s.top):Um(h,a,e.top+m.placed,x,v),m.start=a,m.placed+=v,a=h.right}}e.x=a,e.y=l}var ro={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Ps(t.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(n-s.height,0),u=qH(t.boxes),h=u.vertical,m=u.horizontal;Et(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const g=h.reduce((C,A)=>A.box.options&&A.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),x=Object.assign({},s);PP(x,Ps(i));const _=Object.assign({maxPadding:x,w:a,h:l,x:s.left,y:s.top},s),E=HH(h.concat(m),v);eh(u.fullSize,_,v,E),eh(h,_,v,E),eh(m,_,v,E)&&eh(h,_,v,E),WH(_),wA(u.leftAndTop,_,v,E),_.x+=_.w,_.y+=_.h,wA(u.rightAndBottom,_,v,E),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Et(u.chartArea,C=>{const A=C.box;Object.assign(A,t.chartArea),A.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class IP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class KH extends IP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const mp="$chartjs",YH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_A=t=>t===null||t==="";function XH(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[mp]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_A(s)){const a=lA(t,"width");a!==void 0&&(t.width=a)}if(_A(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=lA(t,"height");a!==void 0&&(t.height=a)}return t}const MP=aH?{passive:!0}:!1;function QH(t,e,n){t&&t.addEventListener(e,n,MP)}function ZH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,MP)}function JH(t,e){const n=YH[t.type]||t.type,{x:i,y:s}=gl(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function dg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function eq(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||dg(u.addedNodes,i),l=l&&!dg(u.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function tq(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||dg(u.removedNodes,i),l=l&&!dg(u.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ph=new Map;let EA=0;function DP(){const t=window.devicePixelRatio;t!==EA&&(EA=t,Ph.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function nq(t,e){Ph.size||window.addEventListener("resize",DP),Ph.set(t,e)}function iq(t){Ph.delete(t),Ph.size||window.removeEventListener("resize",DP)}function sq(t,e,n){const i=t.canvas,s=i&&Lw(i);if(!s)return;const a=mP((u,h)=>{const m=s.clientWidth;n(u,h),m<s.clientWidth&&n()},window),l=new ResizeObserver(u=>{const h=u[0],m=h.contentRect.width,g=h.contentRect.height;m===0&&g===0||a(m,g)});return l.observe(s),nq(t,a),l}function Pv(t,e,n){n&&n.disconnect(),e==="resize"&&iq(t)}function rq(t,e,n){const i=t.canvas,s=mP(a=>{t.ctx!==null&&n(JH(a,t))},t);return QH(i,e,s),s}class aq extends IP{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(XH(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[mp])return!1;const i=n[mp].initial;["height","width"].forEach(a=>{const l=i[a];Nt(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[mp],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:eq,detach:tq,resize:sq}[n]||rq;s[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Pv,detach:Pv,resize:Pv}[n]||ZH)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return rH(e,n,i,s)}isAttached(e){const n=e&&Lw(e);return!!(n&&n.isConnected)}}function oq(t){return!Ow()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?KH:aq}var Xm;let Ou=(Xm=class{constructor(){Fe(this,"x");Fe(this,"y");Fe(this,"active",!1);Fe(this,"options");Fe(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return og(this.x)&&og(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},Fe(Xm,"defaults",{}),Fe(Xm,"defaultRoutes"),Xm);function lq(t,e){const n=t.options.ticks,i=cq(t),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?dq(e):[],l=a.length,u=a[0],h=a[l-1],m=[];if(l>s)return hq(e,m,a,l/s),m;const g=uq(a,e,s);if(l>0){let v,x;const _=l>1?Math.round((h-u)/(l-1)):null;for(Bm(e,m,g,Nt(_)?0:u-_,u),v=0,x=l-1;v<x;v++)Bm(e,m,g,a[v],a[v+1]);return Bm(e,m,g,h,Nt(_)?e.length:h+_),m}return Bm(e,m,g),m}function cq(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function uq(t,e,n){const i=fq(t),s=e.length/n;if(!i)return Math.max(s,1);const a=pF(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function dq(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function hq(t,e,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===a&&(e.push(t[l]),s++,a=n[s*i])}function Bm(t,e,n,i,s){const a=vt(i,0),l=Math.min(vt(s,t.length),t.length);let u=0,h,m,g;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),g=a;g<0;)u++,g=Math.round(a+u*n);for(m=Math.max(a,0);m<l;m++)m===g&&(e.push(t[m]),u++,g=Math.round(a+u*n))}function fq(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const mq=t=>t==="left"?"right":t==="right"?"left":t,TA=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,SA=(t,e)=>Math.min(e||t,t);function AA(t,e){const n=[],i=t.length/e,s=t.length;let a=0;for(;a<s;a+=i)n.push(t[Math.floor(a)]);return n}function pq(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),a=t._startPixel,l=t._endPixel,u=1e-6;let h=t.getPixelForTick(s),m;if(!(n&&(i===1?m=Math.max(h-a,l-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(s-1))/2,h+=s<e?m:-m,h<a-u||h>l+u)))return h}function gq(t,e){Et(t,n=>{const i=n.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function qd(t){return t.drawTicks?t.tickLength:0}function CA(t,e){if(!t.display)return 0;const n=Ci(t.font,e),i=Ps(t.padding);return(Mn(t.text)?t.text.length:1)*n.lineHeight+i.height}function yq(t,e){return Du(t,{scale:e,type:"scale"})}function vq(t,e,n){return Du(t,{tick:n,index:e,type:"tick"})}function bq(t,e,n){let i=pP(t);return(n&&e!=="right"||!n&&e==="right")&&(i=mq(i)),i}function xq(t,e,n,i){const{top:s,left:a,bottom:l,right:u,chart:h}=t,{chartArea:m,scales:g}=h;let v=0,x,_,E;const C=l-s,A=u-a;if(t.isHorizontal()){if(_=Fi(i,a,u),ut(n)){const j=Object.keys(n)[0],B=n[j];E=g[j].getPixelForValue(B)+C-e}else n==="center"?E=(m.bottom+m.top)/2+C-e:E=TA(t,n,e);x=u-a}else{if(ut(n)){const j=Object.keys(n)[0],B=n[j];_=g[j].getPixelForValue(B)-A+e}else n==="center"?_=(m.left+m.right)/2-A+e:_=TA(t,n,e);E=Fi(i,l,s),v=n==="left"?-Kn:Kn}return{titleX:_,titleY:E,maxWidth:x,rotation:v}}class Lu extends Ou{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=nr(e,Number.POSITIVE_INFINITY),n=nr(n,Number.NEGATIVE_INFINITY),i=nr(i,Number.POSITIVE_INFINITY),s=nr(s,Number.NEGATIVE_INFINITY),{min:nr(e,i),max:nr(n,s),minDefined:gs(e),maxDefined:gs(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,m=u.length;h<m;++h)l=u[h].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:nr(n,nr(i,n)),max:nr(i,nr(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qF(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?AA(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=lq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lt(this.options.afterUpdate,[this])}beforeSetDimensions(){Lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i],a.label=Lt(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=SA(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,u,h,m;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),v=g.widest.width,x=g.highest.height,_=Ai(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-qd(e.grid)-n.padding-CA(e.title,this.chart.options.font),m=Math.sqrt(v*v+x*x),l=bF(Math.min(Math.asin(Ai((g.highest.height+6)/u,-1,1)),Math.asin(Ai(h/m,-1,1))-Math.asin(Ai(x/m,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=CA(s,n.options.font);if(u?(e.width=this.maxWidth,e.height=qd(a)+h):(e.height=this.maxHeight,e.width=qd(a)+h),i.display&&this.ticks.length){const{first:m,last:g,widest:v,highest:x}=this._getLabelSizes(),_=i.padding*2,E=wl(this.labelRotation),C=Math.cos(E),A=Math.sin(E);if(u){const j=i.mirror?0:A*v.width+C*x.height;e.height=Math.min(this.maxHeight,e.height+j+_)}else{const j=i.mirror?0:C*v.width+A*x.height;e.width=Math.min(this.maxWidth,e.width+j+_)}this._calculatePadding(m,g,A,C)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,_=0;h?m?(x=s*e.width,_=i*n.height):(x=i*e.height,_=s*n.width):a==="start"?_=n.width:a==="end"?x=e.width:a!=="inner"&&(x=e.width/2,_=n.width/2),this.paddingLeft=Math.max((x-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-v+l)*this.width/(this.width-v),0)}else{let g=n.height/2,v=e.height/2;a==="start"?(g=0,v=e.height):a==="end"&&(g=n.height,v=0),this.paddingTop=g+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Nt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=AA(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(n/SA(n,i));let m=0,g=0,v,x,_,E,C,A,j,B,L,q,H;for(v=0;v<n;v+=h){if(E=e[v].label,C=this._resolveTickFontOptions(v),s.font=A=C.string,j=a[A]=a[A]||{data:{},gc:[]},B=C.lineHeight,L=q=0,!Nt(E)&&!Mn(E))L=nA(s,j.data,j.gc,L,E),q=B;else if(Mn(E))for(x=0,_=E.length;x<_;++x)H=E[x],!Nt(H)&&!Mn(H)&&(L=nA(s,j.data,j.gc,L,H),q+=B);l.push(L),u.push(q),m=Math.max(L,m),g=Math.max(q,g)}gq(a,n);const W=l.indexOf(m),D=u.indexOf(g),k=I=>({width:l[I]||0,height:u[I]||0});return{first:k(0),last:k(n-1),widest:k(W),highest:k(D),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return wF(this._alignToPixels?hl(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=vq(this.getContext(),e,i))}return this.$context||(this.$context=yq(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=wl(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,h=a.offset,m=this.isHorizontal(),v=this.ticks.length+(h?1:0),x=qd(a),_=[],E=u.setContext(this.getContext()),C=E.display?E.width:0,A=C/2,j=function(Y){return hl(i,Y,C)};let B,L,q,H,W,D,k,I,M,z,U,R;if(l==="top")B=j(this.bottom),D=this.bottom-x,I=B-A,z=j(e.top)+A,R=e.bottom;else if(l==="bottom")B=j(this.top),z=e.top,R=j(e.bottom)-A,D=B+A,I=this.top+x;else if(l==="left")B=j(this.right),W=this.right-x,k=B-A,M=j(e.left)+A,U=e.right;else if(l==="right")B=j(this.left),M=e.left,U=j(e.right)-A,W=B+A,k=this.left+x;else if(n==="x"){if(l==="center")B=j((e.top+e.bottom)/2+.5);else if(ut(l)){const Y=Object.keys(l)[0],K=l[Y];B=j(this.chart.scales[Y].getPixelForValue(K))}z=e.top,R=e.bottom,D=B+A,I=D+x}else if(n==="y"){if(l==="center")B=j((e.left+e.right)/2);else if(ut(l)){const Y=Object.keys(l)[0],K=l[Y];B=j(this.chart.scales[Y].getPixelForValue(K))}W=B-A,k=W-x,M=e.left,U=e.right}const ge=vt(s.ticks.maxTicksLimit,v),te=Math.max(1,Math.ceil(v/ge));for(L=0;L<v;L+=te){const Y=this.getContext(L),K=a.setContext(Y),ie=u.setContext(Y),ce=K.lineWidth,V=K.color,ae=ie.dash||[],ue=ie.dashOffset,he=K.tickWidth,xe=K.tickColor,Ce=K.tickBorderDash||[],_e=K.tickBorderDashOffset;q=pq(this,L,h),q!==void 0&&(H=hl(i,q,ce),m?W=k=M=U=H:D=I=z=R=H,_.push({tx1:W,ty1:D,tx2:k,ty2:I,x1:M,y1:z,x2:U,y2:R,width:ce,color:V,borderDash:ae,borderDashOffset:ue,tickWidth:he,tickColor:xe,tickBorderDash:Ce,tickBorderDashOffset:_e}))}return this._ticksLength=v,this._borderValue=B,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:m,padding:g,mirror:v}=a,x=qd(i.grid),_=x+g,E=v?-g:_,C=-wl(this.labelRotation),A=[];let j,B,L,q,H,W,D,k,I,M,z,U,R="middle";if(s==="top")W=this.bottom-E,D=this._getXAxisLabelAlignment();else if(s==="bottom")W=this.top+E,D=this._getXAxisLabelAlignment();else if(s==="left"){const te=this._getYAxisLabelAlignment(x);D=te.textAlign,H=te.x}else if(s==="right"){const te=this._getYAxisLabelAlignment(x);D=te.textAlign,H=te.x}else if(n==="x"){if(s==="center")W=(e.top+e.bottom)/2+_;else if(ut(s)){const te=Object.keys(s)[0],Y=s[te];W=this.chart.scales[te].getPixelForValue(Y)+_}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")H=(e.left+e.right)/2-_;else if(ut(s)){const te=Object.keys(s)[0],Y=s[te];H=this.chart.scales[te].getPixelForValue(Y)}D=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(h==="start"?R="top":h==="end"&&(R="bottom"));const ge=this._getLabelSizes();for(j=0,B=u.length;j<B;++j){L=u[j],q=L.label;const te=a.setContext(this.getContext(j));k=this.getPixelForTick(j)+a.labelOffset,I=this._resolveTickFontOptions(j),M=I.lineHeight,z=Mn(q)?q.length:1;const Y=z/2,K=te.color,ie=te.textStrokeColor,ce=te.textStrokeWidth;let V=D;l?(H=k,D==="inner"&&(j===B-1?V=this.options.reverse?"left":"right":j===0?V=this.options.reverse?"right":"left":V="center"),s==="top"?m==="near"||C!==0?U=-z*M+M/2:m==="center"?U=-ge.highest.height/2-Y*M+M:U=-ge.highest.height+M/2:m==="near"||C!==0?U=M/2:m==="center"?U=ge.highest.height/2-Y*M:U=ge.highest.height-z*M,v&&(U*=-1),C!==0&&!te.showLabelBackdrop&&(H+=M/2*Math.sin(C))):(W=k,U=(1-z)*M/2);let ae;if(te.showLabelBackdrop){const ue=Ps(te.backdropPadding),he=ge.heights[j],xe=ge.widths[j];let Ce=U-ue.top,_e=0-ue.left;switch(R){case"middle":Ce-=he/2;break;case"bottom":Ce-=he;break}switch(D){case"center":_e-=xe/2;break;case"right":_e-=xe;break;case"inner":j===B-1?_e-=xe:j>0&&(_e-=xe/2);break}ae={left:_e,top:Ce,width:xe+ue.width,height:he+ue.height,color:te.backdropColor}}A.push({label:q,font:I,textOffset:U,options:{rotation:C,color:K,strokeColor:ie,strokeWidth:ce,textAlign:V,textBaseline:R,translation:[H,W],backdrop:ae}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-wl(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let m,g;return n==="left"?s?(g=this.right+a,i==="near"?m="left":i==="center"?(m="center",g+=h/2):(m="right",g+=h)):(g=this.right-u,i==="near"?m="right":i==="center"?(m="center",g-=h/2):(m="left",g=this.left)):n==="right"?s?(g=this.left+a,i==="near"?m="right":i==="center"?(m="center",g-=h/2):(m="left",g-=h)):(g=this.left+u,i==="near"?m="left":i==="center"?(m="center",g+=h/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,m,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,g,v,x;this.isHorizontal()?(m=hl(e,this.left,l)-l/2,g=hl(e,this.right,u)+u/2,v=x=h):(v=hl(e,this.top,l)-l/2,x=hl(e,this.bottom,u)+u/2,m=g=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(m,v),n.lineTo(g,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Rw(i,s);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,m=l.label,g=l.textOffset;lg(i,m,0,g,h,u)}s&&jw(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=Ci(i.font),l=Ps(i.padding),u=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||ut(n)?(h+=l.bottom,Mn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:m,titleY:g,maxWidth:v,rotation:x}=xq(this,h,n,u);lg(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:x,textAlign:bq(u,n,s),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=vt(e.grid&&e.grid.z,-1),s=vt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Lu.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const u=n[a];u[i]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ci(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fm{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Eq(n)&&(i=this.register(n));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,wq(e,l,i),this.override&&on.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in on[s]&&(delete on[s][i],this.override&&delete Vl[i])}}function wq(t,e,n){const i=Rh(Object.create(null),[n?on.get(n):{},on.get(e),t.defaults]);on.set(e,i),t.defaultRoutes&&_q(e,t.defaultRoutes),t.descriptors&&on.describe(e,t.descriptors)}function _q(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),a=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),h=l.join(".");on.route(a,s,h,u)})}function Eq(t){return"id"in t&&"defaults"in t}class Tq{constructor(){this.controllers=new Fm(hh,"datasets",!0),this.elements=new Fm(Ou,"elements"),this.plugins=new Fm(Object,"plugins"),this.scales=new Fm(Lu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):Et(s,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const s=kw(e);Lt(i["before"+s],[],i),n[e](i),Lt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var sr=new Tq;class Sq{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,s){s=s||{};for(const a of e){const l=a.plugin,u=l[i],h=[n,s,a.options];if(Lt(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=vt(i.options&&i.options.plugins,{}),a=Aq(i);return s===!1&&!n?[]:kq(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function Aq(t){const e={},n=[],i=Object.keys(sr.plugins.items);for(let a=0;a<i.length;a++)n.push(sr.getPlugin(i[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function Cq(t,e){return!e&&t===!1?null:t===!0?{}:t}function kq(t,{plugins:e,localIds:n},i,s){const a=[],l=t.getContext();for(const u of e){const h=u.id,m=Cq(i[h],s);m!==null&&a.push({plugin:u,options:Nq(t.config,{plugin:u,local:n[h]},m,l)})}return a}function Nq(t,{plugin:e,local:n},i,s){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(i,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Nb(t,e){const n=on.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Rq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function jq(t,e){return t===e?"_index_":"_value_"}function kA(t){if(t==="x"||t==="y"||t==="r")return t}function Pq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Rb(t,...e){if(kA(t))return t;for(const n of e){const i=n.axis||Pq(n.position)||t.length>1&&kA(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function NA(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Iq(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return NA(t,"x",n[0])||NA(t,"y",n[0])}return{}}function Mq(t,e){const n=Vl[t.type]||{scales:{}},i=e.scales||{},s=Nb(t.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!ut(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Rb(l,u,Iq(l,t),on.scales[u.type]),m=jq(h,s),g=n.scales||{};a[l]=ch(Object.create(null),[{axis:h},u,g[h],g[m]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,h=l.indexAxis||Nb(u,e),g=(Vl[u]||{}).scales||{};Object.keys(g).forEach(v=>{const x=Rq(v,h),_=l[x+"AxisID"]||x;a[_]=a[_]||Object.create(null),ch(a[_],[{axis:x},i[_],g[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];ch(u,[on.scales[u.type],on.scale])}),a}function OP(t){const e=t.options||(t.options={});e.plugins=vt(e.plugins,{}),e.scales=Mq(t,e)}function LP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Dq(t){return t=t||{},t.data=LP(t.data),OP(t),t}const RA=new Map,VP=new Set;function Hm(t,e){let n=RA.get(t);return n||(n=e(),RA.set(t,n),VP.add(n)),n}const $d=(t,e,n)=>{const i=vu(e,n);i!==void 0&&t.add(i)};class Oq{constructor(e){this._config=Dq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=LP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),OP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Hm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Hm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Hm(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:a}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const h=new Set;n.forEach(g=>{e&&(h.add(e),g.forEach(v=>$d(h,e,v))),g.forEach(v=>$d(h,s,v)),g.forEach(v=>$d(h,Vl[a]||{},v)),g.forEach(v=>$d(h,on,v)),g.forEach(v=>$d(h,kb,v))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),VP.has(n)&&l.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Vl[n]||{},on.datasets[n]||{},{type:n},on,kb]}resolveNamedOptions(e,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=jA(this._resolverCache,e,s);let h=l;if(Vq(l,n)){a.$shared=!1,i=Eo(i)?i():i;const m=this.createResolver(e,i,u);h=bu(l,i,m)}for(const m of n)a[m]=h[m];return a}createResolver(e,n,i=[""],s){const{resolver:a}=jA(this._resolverCache,e,i);return ut(n)?bu(a,n,void 0,s):a}}function jA(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let a=i.get(s);return a||(a={resolver:Iw(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const Lq=t=>ut(t)&&Object.getOwnPropertyNames(t).some(e=>Eo(t[e]));function Vq(t,e){const{isScriptable:n,isIndexable:i}=_P(t);for(const s of e){const a=n(s),l=i(s),u=(l||a)&&t[s];if(a&&(Eo(u)||Lq(u))||l&&Mn(u))return!0}return!1}var zq="4.4.9";const Uq=["top","bottom","left","right","chartArea"];function PA(t,e){return t==="top"||t==="bottom"||Uq.indexOf(t)===-1&&e==="x"}function IA(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function MA(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Lt(n&&n.onComplete,[t],e)}function Bq(t){const e=t.chart,n=e.options.animation;Lt(n&&n.onProgress,[t],e)}function zP(t){return Ow()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const pp={},DA=t=>{const e=zP(t);return Object.values(pp).filter(n=>n.canvas===e).pop()};function Fq(t,e,n){const i=Object.keys(t);for(const s of i){const a=+s;if(a>=e){const l=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=l)}}}function Hq(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Xa;let ty=(Xa=class{static register(...e){sr.add(...e),OA()}static unregister(...e){sr.remove(...e),OA()}constructor(e,n){const i=this.config=new Oq(n),s=zP(e),a=DA(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||oq(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,m=h&&h.height,g=h&&h.width;if(this.id=oF(),this.ctx=u,this.canvas=h,this.width=g,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Sq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SF(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],pp[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Yr.listen(this,"complete",MA),Yr.listen(this,"progress",Bq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Nt(e)?n&&a?a:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():oA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iA(this.canvas,this.ctx),this}stop(){return Yr.stop(this),this}resize(e,n){Yr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,oA(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Lt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Et(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const u=n[l],h=Rb(l,u),m=h==="r",g=h==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),Et(a,l=>{const u=l.options,h=u.id,m=Rb(h,u),g=vt(u.type,l.dtype);(u.position===void 0||PA(u.position,m)!==PA(l.dposition))&&(u.position=l.dposition),s[h]=!0;let v=null;if(h in i&&i[h].type===g)v=i[h];else{const x=sr.getScale(g);v=new x({id:h,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),Et(s,(l,u)=>{l||delete i[u]}),Et(i,l=>{ro.configure(this,l,l.options),ro.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(IA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||Nb(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=sr.getController(u),{datasetElementType:m,dataElementType:g}=on.datasets[u];Object.assign(h,{dataElementType:sr.getElement(g),datasetElementType:m&&sr.getElement(m)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Et(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:v}=this.getDatasetMeta(m),x=!s&&a.indexOf(v)===-1;v.buildOrUpdateElements(x),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Et(a,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(IA("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Et(this.scales,e=>{ro.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!GS(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;Fq(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!GS(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ro.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Et(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Eo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yr.has(this)?this.attached&&!Yr.running(this)&&Yr.start(this):(this.draw(),MA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=uH(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Rw(n,s),e.controller.draw(),s&&jw(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return xP(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const a=UH.modes[n];return typeof a=="function"?a(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Du(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);jh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Yr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iA(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete pp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Et(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},s=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},a=(h,m)=>{this.canvas&&this.resize(h,m)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Et(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Et(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let a,l,u,h;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!sg(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,a=(h,m)=>h.filter(g=>!m.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),l=a(n,e),u=i?e:a(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:a}=this,l=n,u=this._getActiveElements(e,s,i,l),h=fF(e),m=Hq(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Lt(a.onHover,[e,u,this],this),h&&Lt(a.onClick,[e,u,this],this));const g=!sg(u,s);return(g||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=m,g}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},Fe(Xa,"defaults",on),Fe(Xa,"instances",pp),Fe(Xa,"overrides",Vl),Fe(Xa,"registry",sr),Fe(Xa,"version",zq),Fe(Xa,"getChart",DA),Xa);function OA(){return Et(ty.instances,t=>t._plugins.invalidate())}function qq(t,e,n){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:u,innerRadius:h}=e;let m=s/u;t.beginPath(),t.arc(a,l,u,i-m,n+m),h>s?(m=s/h,t.arc(a,l,h,n+m,i-m,!0)):t.arc(a,l,s,n+Kn,i-Kn),t.closePath(),t.clip()}function $q(t){return Pw(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Wq(t,e,n,i){const s=$q(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,i*e/2),u=h=>{const m=(n-Math.min(a,h))*i/2;return Ai(h,0,Math.min(a,m))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:Ai(s.innerStart,0,l),innerEnd:Ai(s.innerEnd,0,l)}}function Fc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function hg(t,e,n,i,s,a){const{x:l,y:u,startAngle:h,pixelMargin:m,innerRadius:g}=e,v=Math.max(e.outerRadius+i+n-m,0),x=g>0?g+i+n+m:0;let _=0;const E=s-h;if(i){const te=g>0?g-i:0,Y=v>0?v-i:0,K=(te+Y)/2,ie=K!==0?E*K/(K+i):E;_=(E-ie)/2}const C=Math.max(.001,E*v-n/ii)/v,A=(E-C)/2,j=h+A+_,B=s-A-_,{outerStart:L,outerEnd:q,innerStart:H,innerEnd:W}=Wq(e,x,v,B-j),D=v-L,k=v-q,I=j+L/D,M=B-q/k,z=x+H,U=x+W,R=j+H/z,ge=B-W/U;if(t.beginPath(),a){const te=(I+M)/2;if(t.arc(l,u,v,I,te),t.arc(l,u,v,te,M),q>0){const ce=Fc(k,M,l,u);t.arc(ce.x,ce.y,q,M,B+Kn)}const Y=Fc(U,B,l,u);if(t.lineTo(Y.x,Y.y),W>0){const ce=Fc(U,ge,l,u);t.arc(ce.x,ce.y,W,B+Kn,ge+Math.PI)}const K=(B-W/x+(j+H/x))/2;if(t.arc(l,u,x,B-W/x,K,!0),t.arc(l,u,x,K,j+H/x,!0),H>0){const ce=Fc(z,R,l,u);t.arc(ce.x,ce.y,H,R+Math.PI,j-Kn)}const ie=Fc(D,j,l,u);if(t.lineTo(ie.x,ie.y),L>0){const ce=Fc(D,I,l,u);t.arc(ce.x,ce.y,L,j-Kn,I)}}else{t.moveTo(l,u);const te=Math.cos(I)*v+l,Y=Math.sin(I)*v+u;t.lineTo(te,Y);const K=Math.cos(M)*v+l,ie=Math.sin(M)*v+u;t.lineTo(K,ie)}t.closePath()}function Gq(t,e,n,i,s){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){hg(t,e,n,i,h,s);for(let m=0;m<a;++m)t.fill();isNaN(u)||(h=l+(u%hi||hi))}return hg(t,e,n,i,h,s),t.fill(),h}function Kq(t,e,n,i,s){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:m,borderJoinStyle:g,borderDash:v,borderDashOffset:x}=h,_=h.borderAlign==="inner";if(!m)return;t.setLineDash(v||[]),t.lineDashOffset=x,_?(t.lineWidth=m*2,t.lineJoin=g||"round"):(t.lineWidth=m,t.lineJoin=g||"bevel");let E=e.endAngle;if(a){hg(t,e,n,i,E,s);for(let C=0;C<a;++C)t.stroke();isNaN(u)||(E=l+(u%hi||hi))}_&&qq(t,e,E),a||(hg(t,e,n,i,E,s),t.stroke())}class th extends Ou{constructor(n){super();Fe(this,"circumference");Fe(this,"endAngle");Fe(this,"fullCircles");Fe(this,"innerRadius");Fe(this,"outerRadius");Fe(this,"pixelMargin");Fe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.getProps(["x","y"],s),{angle:l,distance:u}=cP(a,{x:n,y:i}),{startAngle:h,endAngle:m,innerRadius:g,outerRadius:v,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,E=vt(x,m-h),C=uP(l,h,m)&&h!==m,A=E>=hi||C,j=_l(u,g+_,v+_);return A&&j}getCenterPoint(n){const{x:i,y:s,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:m,spacing:g}=this.options,v=(a+l)/2,x=(u+h+g+m)/2;return{x:i+Math.cos(v)*x,y:s+Math.sin(v)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>hi?Math.floor(s/hi):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*a,Math.sin(h)*a);const m=1-Math.sin(Math.min(ii,s||0)),g=a*m;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,Gq(n,this,g,l,u),Kq(n,this,g,l,u),n.restore()}}Fe(th,"id","arc"),Fe(th,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Fe(th,"defaultRoutes",{backgroundColor:"backgroundColor"}),Fe(th,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function UP(t,e){const{x:n,y:i,base:s,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let u,h,m,g,v;return t.horizontal?(v=l/2,u=Math.min(n,s),h=Math.max(n,s),m=i-v,g=i+v):(v=a/2,u=n-v,h=n+v,m=Math.min(i,s),g=Math.max(i,s)),{left:u,top:m,right:h,bottom:g}}function ao(t,e,n,i){return t?0:Ai(e,n,i)}function Yq(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,a=wP(i);return{t:ao(s.top,a.top,0,n),r:ao(s.right,a.right,0,e),b:ao(s.bottom,a.bottom,0,n),l:ao(s.left,a.left,0,e)}}function Xq(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=su(s),l=Math.min(e,n),u=t.borderSkipped,h=i||ut(s);return{topLeft:ao(!h||u.top||u.left,a.topLeft,0,l),topRight:ao(!h||u.top||u.right,a.topRight,0,l),bottomLeft:ao(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:ao(!h||u.bottom||u.right,a.bottomRight,0,l)}}function Qq(t){const e=UP(t),n=e.right-e.left,i=e.bottom-e.top,s=Yq(t,n/2,i/2),a=Xq(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Iv(t,e,n,i){const s=e===null,a=n===null,u=t&&!(s&&a)&&UP(t,i);return u&&(s||_l(e,u.left,u.right))&&(a||_l(n,u.top,u.bottom))}function Zq(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Jq(t,e){t.rect(e.x,e.y,e.w,e.h)}function Mv(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+a,h:t.h+l,radius:t.radius}}class gp extends Ou{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=Qq(this),u=Zq(l.radius)?cg:Jq;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),u(e,Mv(l,n,a)),e.clip(),u(e,Mv(a,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Mv(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Iv(this,e,n,i)}inXRange(e,n){return Iv(this,e,null,n)}inYRange(e,n){return Iv(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Fe(gp,"id","bar"),Fe(gp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Fe(gp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const LA=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},e$=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class VA extends Ou{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Lt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ci(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=LA(i,a);let m,g;n.font=s.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,m=this._fitCols(l,s,u,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],g=s+u;let v=e;a.textAlign="left",a.textBaseline="middle";let x=-1,_=-g;return this.legendItems.forEach((E,C)=>{const A=i+n/2+a.measureText(E.text).width;(C===0||m[m.length-1]+A+2*u>l)&&(v+=g,m[m.length-(C>0?0:1)]=0,_+=g,x++),h[C]={left:0,top:_,row:x,width:A,height:s},m[m.length-1]+=A+u}),v}_fitCols(e,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],g=l-e;let v=u,x=0,_=0,E=0,C=0;return this.legendItems.forEach((A,j)=>{const{itemWidth:B,itemHeight:L}=t$(i,n,a,A,s);j>0&&_+L+2*u>g&&(v+=x+u,m.push({width:x,height:_}),E+=x+u,C++,x=_=0),h[j]={left:E,top:_,col:C,width:B,height:L},x=Math.max(x,B),_+=L+u}),v+=x,m.push({width:x,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=ru(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=Fi(i,this.left+s,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,h=Fi(i,this.left+s,this.right-this.lineWidths[u])),m.top+=this.top+e+s,m.left=l.leftForLtr(l.x(h),m.width),h+=m.width+s}else{let u=0,h=Fi(i,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,h=Fi(i,this.top+e+s,this.bottom-this.columnSizes[u].height)),m.top=h,m.left+=this.left+s,m.left=l.leftForLtr(l.x(m.left),m.width),h+=m.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rw(e,this),this._draw(),jw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=e,u=on.color,h=ru(e.rtl,this.left,this.width),m=Ci(l.font),{padding:g}=l,v=m.size,x=v/2;let _;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=m.string;const{boxWidth:E,boxHeight:C,itemHeight:A}=LA(l,v),j=function(W,D,k){if(isNaN(E)||E<=0||isNaN(C)||C<0)return;s.save();const I=vt(k.lineWidth,1);if(s.fillStyle=vt(k.fillStyle,u),s.lineCap=vt(k.lineCap,"butt"),s.lineDashOffset=vt(k.lineDashOffset,0),s.lineJoin=vt(k.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=vt(k.strokeStyle,u),s.setLineDash(vt(k.lineDash,[])),l.usePointStyle){const M={radius:C*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:I},z=h.xPlus(W,E/2),U=D+x;bP(s,M,z,U,l.pointStyleWidth&&E)}else{const M=D+Math.max((v-C)/2,0),z=h.leftForLtr(W,E),U=su(k.borderRadius);s.beginPath(),Object.values(U).some(R=>R!==0)?cg(s,{x:z,y:M,w:E,h:C,radius:U}):s.rect(z,M,E,C),s.fill(),I!==0&&s.stroke()}s.restore()},B=function(W,D,k){lg(s,k.text,W,D+A/2,m,{strikethrough:k.hidden,textAlign:h.textAlign(k.textAlign)})},L=this.isHorizontal(),q=this._computeTitleHeight();L?_={x:Fi(a,this.left+g,this.right-i[0]),y:this.top+g+q,line:0}:_={x:this.left+g,y:Fi(a,this.top+q+g,this.bottom-n[0].height),line:0},AP(this.ctx,e.textDirection);const H=A+g;this.legendItems.forEach((W,D)=>{s.strokeStyle=W.fontColor,s.fillStyle=W.fontColor;const k=s.measureText(W.text).width,I=h.textAlign(W.textAlign||(W.textAlign=l.textAlign)),M=E+x+k;let z=_.x,U=_.y;h.setWidth(this.width),L?D>0&&z+M+g>this.right&&(U=_.y+=H,_.line++,z=_.x=Fi(a,this.left+g,this.right-i[_.line])):D>0&&U+H>this.bottom&&(z=_.x=z+n[_.line].width+g,_.line++,U=_.y=Fi(a,this.top+q+g,this.bottom-n[_.line].height));const R=h.x(z);if(j(R,U,W),z=AF(I,z+E+x,L?z+M:this.right,e.rtl),B(h.x(z),U,W),L)_.x+=M+g;else if(typeof W.text!="string"){const ge=m.lineHeight;_.y+=BP(W,ge)+g}else _.y+=H}),CP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ci(n.font),s=Ps(n.padding);if(!n.display)return;const a=ru(e.rtl,this.left,this.width),l=this.ctx,u=n.position,h=i.size/2,m=s.top+h;let g,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+m,v=Fi(e.align,v,this.right-x);else{const E=this.columnSizes.reduce((C,A)=>Math.max(C,A.height),0);g=m+Fi(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const _=Fi(u,v,v+x);l.textAlign=a.textAlign(pP(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,lg(l,n.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,n=Ci(e.font),i=Ps(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,a;if(_l(e,this.left,this.right)&&_l(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],_l(e,s.left,s.left+s.width)&&_l(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!s$(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=e$(s,i);s&&!a&&Lt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!a&&Lt(n.onHover,[e,i,this],this)}else i&&Lt(n.onClick,[e,i,this],this)}}function t$(t,e,n,i,s){const a=n$(i,t,e,n),l=i$(s,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function n$(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+i.measureText(s).width}function i$(t,e,n){let i=t;return typeof e.text!="string"&&(i=BP(e,n)),i}function BP(t,e){const n=t.text?t.text.length:0;return e*n}function s$(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var r$={id:"legend",_element:VA,start(t,e,n){const i=t.legend=new VA({ctx:t.ctx,options:n,chart:t});ro.configure(t,i,n),ro.addBox(t,i)},stop(t){ro.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ro.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),g=Ps(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:s||m.textAlign,borderRadius:l&&(u||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const nh={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=t.length;a<l;++a){const h=t[a].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),g=xF(e,m);g<s&&(s=g,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function ir(t,e){return e&&(Mn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Xr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function a$(t,e){const{element:n,datasetIndex:i,index:s}=e,a=t.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:t,label:l,parsed:a.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function zA(t,e){const n=t.chart.ctx,{body:i,footer:s,title:a}=t,{boxWidth:l,boxHeight:u}=e,h=Ci(e.bodyFont),m=Ci(e.titleFont),g=Ci(e.footerFont),v=a.length,x=s.length,_=i.length,E=Ps(e.padding);let C=E.height,A=0,j=i.reduce((q,H)=>q+H.before.length+H.lines.length+H.after.length,0);if(j+=t.beforeBody.length+t.afterBody.length,v&&(C+=v*m.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),j){const q=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;C+=_*q+(j-_)*h.lineHeight+(j-1)*e.bodySpacing}x&&(C+=e.footerMarginTop+x*g.lineHeight+(x-1)*e.footerSpacing);let B=0;const L=function(q){A=Math.max(A,n.measureText(q).width+B)};return n.save(),n.font=m.string,Et(t.title,L),n.font=h.string,Et(t.beforeBody.concat(t.afterBody),L),B=e.displayColors?l+2+e.boxPadding:0,Et(i,q=>{Et(q.before,L),Et(q.lines,L),Et(q.after,L)}),B=0,n.font=g.string,Et(t.footer,L),n.restore(),A+=E.width,{width:A,height:C}}function o$(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function l$(t,e,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&s+a+l>e.width||t==="right"&&s-a-l<0)return!0}function c$(t,e,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:u,right:h}}=t;let m="center";return i==="center"?m=s<=(u+h)/2?"left":"right":s<=a/2?m="left":s>=l-a/2&&(m="right"),l$(m,t,e,n)&&(m="center"),m}function UA(t,e,n){const i=n.yAlign||e.yAlign||o$(t,n);return{xAlign:n.xAlign||e.xAlign||c$(t,e,n,i),yAlign:i}}function u$(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function d$(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function BA(t,e,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=t,{xAlign:u,yAlign:h}=n,m=s+a,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:_}=su(l);let E=u$(e,u);const C=d$(e,h,m);return h==="center"?u==="left"?E+=m:u==="right"&&(E-=m):u==="left"?E-=Math.max(g,x)+s:u==="right"&&(E+=Math.max(v,_)+s),{x:Ai(E,0,i.width-e.width),y:Ai(C,0,i.height-e.height)}}function qm(t,e,n){const i=Ps(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function FA(t){return ir([],Xr(t))}function h$(t,e,n){return Du(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function HA(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const FP={beforeTitle:Kr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Kr,beforeBody:Kr,beforeLabel:Kr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Nt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Kr,afterBody:Kr,beforeFooter:Kr,footer:Kr,afterFooter:Kr};function xi(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?FP[e].call(n,i):s}class jb extends Ou{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new kP(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=h$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=xi(i,"beforeTitle",this,e),a=xi(i,"title",this,e),l=xi(i,"afterTitle",this,e);let u=[];return u=ir(u,Xr(s)),u=ir(u,Xr(a)),u=ir(u,Xr(l)),u}getBeforeBody(e,n){return FA(xi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Et(e,a=>{const l={before:[],lines:[],after:[]},u=HA(i,a);ir(l.before,Xr(xi(u,"beforeLabel",this,a))),ir(l.lines,xi(u,"label",this,a)),ir(l.after,Xr(xi(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,n){return FA(xi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=xi(i,"beforeFooter",this,e),a=xi(i,"footer",this,e),l=xi(i,"afterFooter",this,e);let u=[];return u=ir(u,Xr(s)),u=ir(u,Xr(a)),u=ir(u,Xr(l)),u}_createItems(e){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],h,m;for(h=0,m=n.length;h<m;++h)u.push(a$(this.chart,n[h]));return e.filter&&(u=u.filter((g,v,x)=>e.filter(g,v,x,i))),e.itemSort&&(u=u.sort((g,v)=>e.itemSort(g,v,i))),Et(u,g=>{const v=HA(e.callbacks,g);s.push(xi(v,"labelColor",this,g)),a.push(xi(v,"labelPointStyle",this,g)),l.push(xi(v,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=nh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=zA(this,i),m=Object.assign({},u,h),g=UA(this.chart,i,m),v=BA(i,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const a=this.getCaretPosition(e,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:v}=su(u),{x,y:_}=e,{width:E,height:C}=n;let A,j,B,L,q,H;return a==="center"?(q=_+C/2,s==="left"?(A=x,j=A-l,L=q+l,H=q-l):(A=x+E,j=A+l,L=q-l,H=q+l),B=A):(s==="left"?j=x+Math.max(h,g)+l:s==="right"?j=x+E-Math.max(m,v)-l:j=this.caretX,a==="top"?(L=_,q=L-l,A=j-l,B=j+l):(L=_+C,q=L+l,A=j+l,B=j-l),H=L),{x1:A,x2:j,x3:B,y1:L,y2:q,y3:H}}drawTitle(e,n,i){const s=this.title,a=s.length;let l,u,h;if(a){const m=ru(i.rtl,this.x,this.width);for(e.x=qm(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",l=Ci(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],m.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:m}=a,g=Ci(a.bodyFont),v=qm(this,"left",a),x=s.x(v),_=h<g.lineHeight?(g.lineHeight-h)/2:0,E=n.y+_;if(a.usePointStyle){const C={radius:Math.min(m,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=s.leftForLtr(x,m)+m/2,j=E+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,sA(e,C,A,j),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,sA(e,C,A,j)}else{e.lineWidth=ut(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const C=s.leftForLtr(x,m),A=s.leftForLtr(s.xPlus(x,1),m-2),j=su(l.borderRadius);Object.values(j).some(B=>B!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,cg(e,{x:C,y:E,w:m,h,radius:j}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),cg(e,{x:A,y:E+1,w:m-2,h:h-2,radius:j}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(C,E,m,h),e.strokeRect(C,E,m,h),e.fillStyle=l.backgroundColor,e.fillRect(A,E+1,m-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:m,boxPadding:g}=i,v=Ci(i.bodyFont);let x=v.lineHeight,_=0;const E=ru(i.rtl,this.x,this.width),C=function(k){n.fillText(k,E.x(e.x+_),e.y+x/2),e.y+=x+a},A=E.textAlign(l);let j,B,L,q,H,W,D;for(n.textAlign=l,n.textBaseline="middle",n.font=v.string,e.x=qm(this,A,i),n.fillStyle=i.bodyColor,Et(this.beforeBody,C),_=u&&A!=="right"?l==="center"?m/2+g:m+2+g:0,q=0,W=s.length;q<W;++q){for(j=s[q],B=this.labelTextColors[q],n.fillStyle=B,Et(j.before,C),L=j.lines,u&&L.length&&(this._drawColorBox(n,e,q,E,i),x=Math.max(v.lineHeight,h)),H=0,D=L.length;H<D;++H)C(L[H]),x=v.lineHeight;Et(j.after,C)}_=0,x=v.lineHeight,Et(this.afterBody,C),e.y-=a}drawFooter(e,n,i){const s=this.footer,a=s.length;let l,u;if(a){const h=ru(i.rtl,this.x,this.width);for(e.x=qm(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Ci(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<a;++u)n.fillText(s[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:m,height:g}=i,{topLeft:v,topRight:x,bottomLeft:_,bottomRight:E}=su(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+v,h),l==="top"&&this.drawCaret(e,n,i,s),n.lineTo(u+m-x,h),n.quadraticCurveTo(u+m,h,u+m,h+x),l==="center"&&a==="right"&&this.drawCaret(e,n,i,s),n.lineTo(u+m,h+g-E),n.quadraticCurveTo(u+m,h+g,u+m-E,h+g),l==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(u+_,h+g),n.quadraticCurveTo(u,h+g,u,h+g-_),l==="center"&&a==="left"&&this.drawCaret(e,n,i,s),n.lineTo(u,h+v),n.quadraticCurveTo(u,h,u+v,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=nh[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=zA(this,e),h=Object.assign({},l,this._size),m=UA(n,e,h),g=BA(e,h,m,n);(s._to!==g.x||a._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ps(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,s,n),AP(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),CP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:u,index:h})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[h],index:h}}),a=!sg(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,i),u=this._positionChanged(l,e),h=n||!sg(l,a)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:s,options:a}=this,l=nh[a.position].call(this,e,n);return l!==!1&&(i!==l.x||s!==l.y)}}Fe(jb,"positioners",nh);var f$={id:"tooltip",_element:jb,positioners:nh,afterInit(t,e,n){n&&(t.tooltip=new jb({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const m$=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function p$(t,e,n,i){const s=t.indexOf(e);if(s===-1)return m$(t,e,n,i);const a=t.lastIndexOf(e);return s!==a?n:s}const g$=(t,e)=>t===null?null:Ai(Math.round(t),0,e);function qA(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Pb extends Lu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Nt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:p$(i,e,vt(n,e),this._addedLabels),g$(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return qA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Fe(Pb,"id","category"),Fe(Pb,"defaults",{ticks:{callback:qA}});function y$(t,e){const n=[],{bounds:s,step:a,min:l,max:u,precision:h,count:m,maxTicks:g,maxDigits:v,includeBounds:x}=t,_=a||1,E=g-1,{min:C,max:A}=e,j=!Nt(l),B=!Nt(u),L=!Nt(m),q=(A-C)/(v+1);let H=YS((A-C)/E/_)*_,W,D,k,I;if(H<1e-14&&!j&&!B)return[{value:C},{value:A}];I=Math.ceil(A/H)-Math.floor(C/H),I>E&&(H=YS(I*H/E/_)*_),Nt(h)||(W=Math.pow(10,h),H=Math.ceil(H*W)/W),s==="ticks"?(D=Math.floor(C/H)*H,k=Math.ceil(A/H)*H):(D=C,k=A),j&&B&&a&&yF((u-l)/a,H/1e3)?(I=Math.round(Math.min((u-l)/H,g)),H=(u-l)/I,D=l,k=u):L?(D=j?l:D,k=B?u:k,I=m-1,H=(k-D)/I):(I=(k-D)/H,hp(I,Math.round(I),H/1e3)?I=Math.round(I):I=Math.ceil(I));const M=Math.max(XS(H),XS(D));W=Math.pow(10,Nt(h)?M:h),D=Math.round(D*W)/W,k=Math.round(k*W)/W;let z=0;for(j&&(x&&D!==l?(n.push({value:l}),D<l&&z++,hp(Math.round((D+z*H)*W)/W,l,$A(l,q,t))&&z++):D<l&&z++);z<I;++z){const U=Math.round((D+z*H)*W)/W;if(B&&U>u)break;n.push({value:U})}return B&&x&&k!==u?n.length&&hp(n[n.length-1].value,u,$A(u,q,t))?n[n.length-1].value=u:n.push({value:u}):(!B||k===u)&&n.push({value:k}),n}function $A(t,e,{horizontal:n,minRotation:i}){const s=wl(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class v$ extends Lu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Nt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,u=h=>a=i?a:h;if(e){const h=mo(s),m=mo(a);h<0&&m<0?u(0):h>0&&m>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);u(a+h),e||l(s-h)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=y$(s,a);return e.bounds==="ticks"&&vF(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return yP(e,this.chart.options.locale,this.options.ticks.format)}}class Ib extends v${determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gs(e)?e:0,this.max=gs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=wl(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Fe(Ib,"id","linear"),Fe(Ib,"defaults",{ticks:{callback:vP.formatters.numeric}});const ny={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Si=Object.keys(ny);function WA(t,e){return t-e}function GA(t,e){if(Nt(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:a}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),gs(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(og(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function KA(t,e,n,i){const s=Si.length;for(let a=Si.indexOf(t);a<s-1;++a){const l=ny[Si[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return Si[a]}return Si[s-1]}function b$(t,e,n,i,s){for(let a=Si.length-1;a>=Si.indexOf(n);a--){const l=Si[a];if(ny[l].common&&t._adapter.diff(s,i,l)>=e-1)return l}return Si[n?Si.indexOf(n):0]}function x$(t){for(let e=Si.indexOf(t)+1,n=Si.length;e<n;++e)if(ny[Si[e]].common)return Si[e]}function YA(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Nw(n,e),a=n[i]>=e?n[i]:n[s];t[a]=!0}}function w$(t,e,n,i){const s=t._adapter,a=+s.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+s.add(u,1,i))h=n[u],h>=0&&(e[h].major=!0);return e}function XA(t,e,n){const i=[],s={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],s[u]=l,i.push({value:u,major:!1});return a===0||!n?i:w$(t,i,s,n)}class fg extends Lu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new DH._date(e.adapters.date);s.init(n),ch(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:GA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(m){!l&&!isNaN(m.min)&&(s=Math.min(s,m.min)),!u&&!isNaN(m.max)&&(a=Math.max(a,m.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=gs(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=gs(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=EF(s,a,l);return this._unit=n.unit||(i.autoSkip?KA(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):b$(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:x$(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),XA(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Ai(n,0,l),i=Ai(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||KA(a.minUnit,n,i,this._getLabelCapacity(n)),u=vt(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,m=og(h)||h===!0,g={};let v=n,x,_;if(m&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,m?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(x=v,_=0;x<i;x=+e.add(x,u,l),_++)YA(g,x,E);return(x===i||s.bounds==="ticks"||_===1)&&YA(g,x,E),Object.keys(g).sort(WA).map(C=>+C)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return Lt(l,[e,n,i],this);const u=a.time.displayFormats,h=this._unit,m=this._majorUnit,g=h&&u[h],v=m&&u[m],x=i[n],_=m&&v&&x&&x.major;return this._adapter.format(e,s||(_?v:g))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=wl(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,XA(this,[e],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(GA(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hP(e.sort(WA))}}Fe(fg,"id","time"),Fe(fg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $m(t,e,n){let i=0,s=t.length-1,a,l,u,h;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Cb(t,"pos",e)),{pos:a,time:u}=t[i],{pos:l,time:h}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Cb(t,"time",e)),{time:a,pos:u}=t[i],{time:l,pos:h}=t[s]);const m=l-a;return m?u+(h-u)*(e-a)/m:u}class QA extends fg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=$m(n,this.min),this._tableRange=$m(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],a=[];let l,u,h,m,g;for(l=0,u=e.length;l<u;++l)m=e[l],m>=n&&m<=i&&s.push(m);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)g=s[l+1],h=s[l-1],m=s[l],Math.round((g+h)/2)!==m&&a.push({time:m,pos:l/(u-1)});return a}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return($m(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return $m(this._table,i*this._tableRange+this._minPos,!0)}}Fe(QA,"id","timeseries"),Fe(QA,"defaults",fg.defaults);const HP="label";function ZA(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _$(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function qP(t,e){t.labels=e}function $P(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HP;const i=[];t.datasets=e.map(s=>{const a=t.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function E$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HP;const n={labels:[],datasets:[]};return qP(n,t.labels),$P(n,t.datasets,e),n}function T$(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:m=[],fallbackContent:g,updateMode:v,...x}=t,_=N.useRef(null),E=N.useRef(null),C=()=>{_.current&&(E.current=new ty(_.current,{type:l,data:E$(u,a),options:h&&{...h},plugins:m}),ZA(e,E.current))},A=()=>{ZA(e,null),E.current&&(E.current.destroy(),E.current=null)};return N.useEffect(()=>{!s&&E.current&&h&&_$(E.current,h)},[s,h]),N.useEffect(()=>{!s&&E.current&&qP(E.current.config.data,u.labels)},[s,u.labels]),N.useEffect(()=>{!s&&E.current&&u.datasets&&$P(E.current.config.data,u.datasets,a)},[s,u.datasets]),N.useEffect(()=>{E.current&&(s?(A(),setTimeout(C)):E.current.update(v))},[s,h,u.labels,u.datasets,v]),N.useEffect(()=>{E.current&&(A(),setTimeout(C))},[l]),N.useEffect(()=>(C(),()=>A()),[]),Q.createElement("canvas",{ref:_,role:"img",height:n,width:i,...x},g)}const S$=N.forwardRef(T$);function A$(t,e){return ty.register(e),N.forwardRef((n,i)=>Q.createElement(S$,{...n,ref:i,type:t}))}const Wm=A$("bar",fp);ty.register(th,gp,Pb,Ib,f$,r$);function JA(){var Vo,Fs,zo,_s,Mi,dn,Hs,Uo,Qi,Sr,Ar,Sa,Cr,Cn,Aa,nc,kr;const t=Os(),{user:e,products:n,categories:i,fetchProducts:s,fetchCategories:a,addCategory:l,deleteCategory:u,updateCategory:h,usuarios:m,fetchUsers:g,deleteUserFromDB:v,updateUserRoleInDB:x}=ko(),[_,E]=N.useState({name:"",price:"",description:"",images:[],stock:"",mainImage:"",rating:"",reviews:"",material:"",color:"",category:""}),[C,A]=N.useState(!1),[j,B]=N.useState(null),[L,q]=N.useState(!1),[H,W]=N.useState(""),[D,k]=N.useState(n||[]),[I,M]=N.useState("analytics"),[z,U]=N.useState(""),[R,ge]=N.useState(""),[te,Y]=N.useState(!1),[K,ie]=N.useState(0),ce=F=>{M(F),Y(!1),ie(ye=>ye+1)},[V,ae]=N.useState([]),[ue,he]=N.useState(""),[xe,Ce]=N.useState(!1),[_e,xt]=N.useState(null),[at,we]=N.useState(""),[et,ot]=N.useState(5),[An,bn]=N.useState([]),[Gi,Mt]=N.useState(!1),[zt,Ln]=N.useState(null),[Kt,xr]=N.useState({code:"",discount:"",description:"",minOrderAmount:"",expiresAt:"",isActive:!0,usageLimit:"",usageCount:0}),[ys,wr]=N.useState([]),[Bu,_r]=N.useState(!1),[ht,Po]=N.useState(null),[Rt,ft]=N.useState(""),[ai,cn]=N.useState(!1),[Er,Zl]=N.useState(null),[pi,vs]=N.useState({name:"",description:""});N.useEffect(()=>{(!e||e.rol!=="admin"&&e.role!=="admin")&&t("/")},[e]),N.useEffect(()=>{console.log("Llamando a fetchProducts, fetchUsers y fetchCategories"),s(),g(),a(),n&&n.length>0&&(console.log("Inicializando filteredProducts con productos existentes:",n),k(n))},[s,g,a,n]),N.useEffect(()=>{const F=aa(an(Ne,"reviews"),ye=>{const ke=ye.docs.map(Se=>({id:Se.id,...Se.data()}));ke.sort((Se,Ue)=>{var lt,je,hn,Dt,Ot,li;const tt=(lt=Se.createdAt)!=null&&lt.toMillis?Se.createdAt.toMillis():((hn=(je=Se.createdAt)==null?void 0:je.getTime)==null?void 0:hn.call(je))||0;return((Dt=Ue.createdAt)!=null&&Dt.toMillis?Ue.createdAt.toMillis():((li=(Ot=Ue.createdAt)==null?void 0:Ot.getTime)==null?void 0:li.call(Ot))||0)-tt}),ae(ke)});return()=>F()},[]),N.useEffect(()=>{const F=aa(an(Ne,"promoCodes"),ye=>{const ke=ye.docs.map(Se=>({id:Se.id,...Se.data()}));ke.sort((Se,Ue)=>{var lt,je,hn,Dt,Ot,li;const tt=(lt=Se.createdAt)!=null&&lt.toMillis?Se.createdAt.toMillis():((hn=(je=Se.createdAt)==null?void 0:je.getTime)==null?void 0:hn.call(je))||0;return((Dt=Ue.createdAt)!=null&&Dt.toMillis?Ue.createdAt.toMillis():((li=(Ot=Ue.createdAt)==null?void 0:Ot.getTime)==null?void 0:li.call(Ot))||0)-tt}),bn(ke)});return()=>F()},[]),N.useEffect(()=>{const F=aa(an(Ne,"orders"),ye=>{const ke=ye.docs.map(Se=>({id:Se.id,...Se.data()}));ke.sort((Se,Ue)=>{var lt,je,hn,Dt,Ot,li;const tt=(lt=Se.createdAt)!=null&&lt.toMillis?Se.createdAt.toMillis():((hn=(je=Se.createdAt)==null?void 0:je.getTime)==null?void 0:hn.call(je))||0;return((Dt=Ue.createdAt)!=null&&Dt.toMillis?Ue.createdAt.toMillis():((li=(Ot=Ue.createdAt)==null?void 0:Ot.getTime)==null?void 0:li.call(Ot))||0)-tt}),wr(ke)});return()=>F()},[]),N.useEffect(()=>{if(console.log("Products actualizados:",n),n&&n.length>0)if(H.trim()){const F=n.filter(ye=>{var ke,Se;return((ke=ye.name)==null?void 0:ke.toLowerCase().includes(H.toLowerCase()))||((Se=ye.description)==null?void 0:Se.toLowerCase().includes(H.toLowerCase()))});k(F)}else k([...n]);else k([])},[H,n]);const Vn=F=>{E({..._,[F.target.name]:F.target.value})},ji=F=>{W(F.target.value)},wa=F=>{const ye=Array.from(F.target.files);if(ye.length<1||ye.length>4){ve.fire("Advertencia","Debes seleccionar entre 1 y 4 imágenes.","warning");return}const ke=2;if(ye.some(tt=>tt.size>ke*1024*1024)){ve.fire("Error",`Cada imagen debe pesar menos de ${ke}MB.`,"error");return}const Ue=ye.map(tt=>new Promise((mt,lt)=>{const je=new FileReader;je.onloadend=()=>mt(je.result),je.onerror=lt,je.readAsDataURL(tt)}));Promise.all(Ue).then(tt=>{E(mt=>({...mt,images:tt,mainImage:mt.mainImage||tt[0]}))})},Vs=F=>{E(ye=>({...ye,mainImage:F}))},_a=()=>{const{name:F,price:ye,images:ke,stock:Se,mainImage:Ue,rating:tt,reviews:mt}=_;if(!F||!ye||ke.length<1||!Se||!Ue)return ve.fire("Error","Todos los campos son obligatorios y debe seleccionar una imagen principal.","error"),!1;const lt=tt===""?0:parseFloat(tt);if(isNaN(lt)||lt<0||lt>5)return ve.fire("Error","El rating debe estar entre 0 y 5 (puedes usar pasos de 0.5).","error"),!1;const je=mt===""?0:parseInt(mt);return isNaN(je)||je<0?(ve.fire("Error","Las reviews deben ser un número mayor o igual a 0.","error"),!1):!0},Io=async()=>{if(!_a())return;const{name:F,price:ye,images:ke,stock:Se,mainImage:Ue,description:tt,rating:mt,reviews:lt,material:je,color:hn,category:Dt}=_;try{await _o(an(Ne,"products"),{name:F,price:parseFloat(ye),description:tt||"",images:ke,mainImage:Ue,stock:parseInt(Se),rating:mt===""?0:parseFloat(mt),reviews:lt===""?0:parseInt(lt),material:je||"",color:hn||"",category:Dt||""}),ve.fire("✅ Producto agregado correctamente.","","success"),oi(),s()}catch{ve.fire("Error","No se pudo agregar el producto.","error")}},Mo=async()=>{if(!_a())return;const{name:F,price:ye,description:ke,stock:Se,images:Ue,mainImage:tt,rating:mt,reviews:lt,material:je,color:hn,category:Dt}=_,Ot=$e(Ne,"products",j.id),li=Ue.length?Ue:j.images;try{await _i(Ot,{name:F,price:parseFloat(ye),description:ke||"",images:li,mainImage:tt,stock:parseInt(Se),rating:mt===""?j.rating||0:parseFloat(mt),reviews:lt===""?j.reviews||0:parseInt(lt),material:je??(j.material||""),color:hn??(j.color||""),category:Dt??(j.category||"")}),ve.fire("✅ Producto actualizado correctamente.","","success"),oi(),s()}catch{ve.fire("Error","No se pudo actualizar el producto.","error")}},bs=async F=>{ve.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await ta($e(Ne,"products",F)),ve.fire("Eliminado","El producto ha sido eliminado.","success"),s()}catch{ve.fire("Error","No se pudo eliminar el producto.","error")}})},xs=async F=>{ve.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await v(F),ve.fire("Eliminado","El usuario ha sido eliminado.","success"),g()}catch{ve.fire("Error","No se pudo eliminar el usuario.","error")}})},Do=F=>{A(!0),B(F),E({name:F.name,price:F.price,description:F.description||"",images:F.images||[],stock:F.stock||0,mainImage:F.mainImage||F.images[0],rating:F.rating??"",reviews:F.reviews??"",material:F.material??"",color:F.color??"",category:F.category??""}),q(!0)},oi=()=>{E({name:"",price:"",description:"",images:[],stock:"",mainImage:"",rating:"",reviews:"",material:"",color:"",category:""}),A(!1),q(!1)},zs=F=>Math.round(F).toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}),Us=m.filter(F=>{const ye=F.email.toLowerCase().includes(z.toLowerCase())||F.displayName&&F.displayName.toLowerCase().includes(z.toLowerCase()),ke=R?R==="admin"?F.email==="admin@gmail.com":F.email!=="admin@gmail.com":!0;return ye&&ke}),Ea=F=>{const ye=F.rol==="admin"?"user":"admin";ve.fire({title:`¿Estás seguro de cambiar el rol de este usuario a ${ye}?`,text:`El usuario podrá ${ye==="admin"?"acceder al panel de administración":"perder acceso de administrador"}.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, cambiar",cancelButtonText:"Cancelar"}).then(async ke=>{ke.isConfirmed&&(await x(F.id,ye),ve.fire("Rol actualizado",`El usuario ahora es ${ye}.`,"success"),g())})},ws=async F=>{const ye=ho(an(Ne,"reviews"),Ol("productId","==",F)),Se=(await vl(ye)).docs.map(mt=>mt.data()),Ue=Se.length,tt=Ue>0?Math.round(Se.reduce((mt,lt)=>mt+(parseFloat(lt.rating)||0),0)/Ue*10)/10:0;await _i($e(Ne,"products",F),{rating:tt,reviews:Ue})},Jl=F=>{xt(F),we(F.text||""),ot(F.rating||0),Ce(!0)},jt=async()=>{if(_e)try{await _i($e(Ne,"reviews",_e.id),{text:(at||"").trim(),rating:parseFloat(et)}),await ws(_e.productId),Ce(!1),xt(null),ve.fire("Review actualizada","","success")}catch{ve.fire("Error","No se pudo actualizar la review","error")}},Jt=async F=>{ve.fire({title:"¿Eliminar review?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await ta($e(Ne,"reviews",F.id)),await ws(F.productId),ve.fire("Eliminada","La review fue eliminada","success")}catch{ve.fire("Error","No se pudo eliminar la review","error")}})},Yt=ue?V.filter(F=>F.productId===ue):V,un=F=>{const{name:ye,value:ke,type:Se,checked:Ue}=F.target;xr(tt=>({...tt,[ye]:Se==="checkbox"?Ue:ke}))},Oo=()=>{const{code:F,discount:ye,description:ke}=Kt;return!F||!ye||!ke?(ve.fire("Error","El código, descuento y descripción son obligatorios","error"),!1):parseFloat(ye)<=0||parseFloat(ye)>100?(ve.fire("Error","El descuento debe estar entre 1 y 100","error"),!1):!0},Fu=async()=>{if(Oo())try{const F={code:Kt.code.toUpperCase(),discount:parseFloat(Kt.discount),description:Kt.description,minOrderAmount:Kt.minOrderAmount?parseFloat(Kt.minOrderAmount):0,expiresAt:Kt.expiresAt?new Date(Kt.expiresAt):null,isActive:Kt.isActive,usageLimit:Kt.usageLimit?parseInt(Kt.usageLimit):null,usageCount:zt?zt.usageCount:0,createdAt:zt?zt.createdAt:new Date,updatedAt:new Date};zt?(await _i($e(Ne,"promoCodes",zt.id),F),ve.fire("Éxito","Código promocional actualizado correctamente","success")):(await _o(an(Ne,"promoCodes"),F),ve.fire("Éxito","Código promocional creado correctamente","success")),Pi(),Mt(!1)}catch(F){console.error("Error saving promo code:",F),ve.fire("Error","No se pudo guardar el código promocional","error")}},Bs=F=>{console.log("editPromoCode called with:",F),Ln(F);let ye="";if(F.expiresAt)try{F.expiresAt.toDate?ye=F.expiresAt.toDate().toISOString().split("T")[0]:F.expiresAt instanceof Date?ye=F.expiresAt.toISOString().split("T")[0]:typeof F.expiresAt=="string"&&(ye=new Date(F.expiresAt).toISOString().split("T")[0])}catch(ke){console.warn("Error parsing expiration date:",ke),ye=""}xr({code:F.code||"",discount:(F.discount||"").toString(),description:F.description||"",minOrderAmount:F.minOrderAmount?F.minOrderAmount.toString():"",expiresAt:ye,isActive:F.isActive!==void 0?F.isActive:!0,usageLimit:F.usageLimit?F.usageLimit.toString():"",usageCount:F.usageCount||0}),console.log("Setting promoModalOpen to true"),Mt(!0)},ec=async F=>{ve.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await ta($e(Ne,"promoCodes",F)),ve.fire("Eliminado","El código promocional ha sido eliminado","success")}catch(ke){console.error("Error deleting promo code:",ke),ve.fire("Error","No se pudo eliminar el código promocional","error")}})},Tr=async(F,ye)=>{try{await _i($e(Ne,"promoCodes",F),{isActive:!ye}),ve.fire("Éxito",`Código promocional ${ye?"desactivado":"activado"}`,"success")}catch(ke){console.error("Error updating promo status:",ke),ve.fire("Error","No se pudo actualizar el estado del código promocional","error")}},Pi=()=>{xr({code:"",discount:"",description:"",minOrderAmount:"",expiresAt:"",isActive:!0,usageLimit:"",usageCount:0}),Ln(null)},Ki=F=>{const{name:ye,value:ke}=F.target;vs(Se=>({...Se,[ye]:ke}))},gi=()=>{vs({name:"",description:""}),Zl(null),cn(!1)},Yi=async()=>{if(!pi.name.trim()){ve.fire("Error","El nombre de la categoría es requerido","error");return}try{Er?(await h(Er.id,pi),ve.fire("✅ Categoría actualizada correctamente.","","success")):(await l(pi.name,pi.description),ve.fire("✅ Categoría agregada correctamente.","","success")),gi()}catch{ve.fire("Error","No se pudo guardar la categoría.","error")}},zn=F=>{Zl(F),vs({name:F.name,description:F.description||""}),cn(!0)},qt=async F=>{ve.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await u(F),ve.fire("Eliminada","La categoría ha sido eliminada.","success")}catch{ve.fire("Error","No se pudo eliminar la categoría.","error")}})},Lo=async(F,ye)=>{try{await _i($e(Ne,"orders",F),{status:ye,updatedAt:new Date}),ve.fire("Éxito",`Estado del pedido actualizado a ${ye}`,"success")}catch(ke){console.error("Error updating order status:",ke),ve.fire("Error","No se pudo actualizar el estado del pedido","error")}},Ta=F=>{Po(F),_r(!0)},Ii=async F=>{ve.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await ta($e(Ne,"orders",F)),ve.fire("Eliminado","El pedido ha sido eliminado","success")}catch(ke){console.error("Error deleting order:",ke),ve.fire("Error","No se pudo eliminar el pedido","error")}})},Xi=Rt?ys.filter(F=>F.status===Rt):ys,tc=F=>{switch(F){case"pending":return"pending";case"processing":return"pending";case"shipped":return"completed";case"delivered":return"completed";case"cancelled":return"expired";default:return"pending"}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"admin-navbar",children:d.jsxs("div",{className:"admin-navbar-content",children:[d.jsxs("div",{className:"admin-navbar-left",children:[d.jsx("button",{className:"mobile-menu-toggle",onClick:()=>Y(!te),children:d.jsx("i",{className:`fas ${te?"fa-times":"fa-bars"}`})}),d.jsxs("div",{className:"admin-brand",children:[d.jsx("i",{className:"fas fa-chart-line"}),d.jsx("span",{children:"Ecommerce Admin"})]})]}),d.jsxs("div",{className:"admin-navbar-right",children:[d.jsxs("div",{className:"admin-user-info",children:[d.jsx("div",{className:"admin-user-avatar",children:d.jsx("i",{className:"fas fa-user-circle"})}),d.jsxs("div",{className:"admin-user-details",children:[d.jsx("span",{className:"admin-user-name",children:(e==null?void 0:e.displayName)||((Vo=e==null?void 0:e.email)==null?void 0:Vo.split("@")[0])||"Admin"}),d.jsx("span",{className:"admin-user-role",children:"Administrador"})]})]}),d.jsx("button",{className:"admin-logout-btn",onClick:()=>t("/"),title:"Ir al sitio web",children:d.jsx("i",{className:"fas fa-external-link-alt"})})]})]})}),d.jsxs("div",{className:`admin-panel${L?" modal-open":""}`,children:[te&&d.jsx("div",{className:"mobile-menu-backdrop",onClick:()=>Y(!1)}),d.jsx("div",{className:`sidebar ${te?"mobile-open":""}`,children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${I==="analytics"?"active":""}`,onClick:()=>ce("analytics"),children:[d.jsx("i",{className:"fas fa-chart-bar"}),d.jsx("span",{children:"Analytics"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${I==="productos"?"active":""}`,onClick:()=>ce("productos"),children:[d.jsx("i",{className:"fas fa-box"}),d.jsx("span",{children:"Productos"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${I==="usuarios"?"active":""}`,onClick:()=>ce("usuarios"),children:[d.jsx("i",{className:"fas fa-users"}),d.jsx("span",{children:"Usuarios"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${I==="categorias"?"active":""}`,onClick:()=>ce("categorias"),children:[d.jsx("i",{className:"fas fa-tags"}),d.jsx("span",{children:"Categorías"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${I==="reviews"?"active":""}`,onClick:()=>ce("reviews"),children:[d.jsx("i",{className:"fas fa-comments"}),d.jsx("span",{children:"Reviews"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${I==="promos"?"active":""}`,onClick:()=>ce("promos"),children:[d.jsx("i",{className:"fas fa-tags"}),d.jsx("span",{children:"Códigos Promo"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${I==="orders"?"active":""}`,onClick:()=>ce("orders"),children:[d.jsx("i",{className:"fas fa-shopping-bag"}),d.jsx("span",{children:"Pedidos"})]})})]})}),d.jsxs("div",{className:"main-content",children:[console.log("Current activeSection:",I,"renderKey:",K),I==="analytics"&&d.jsxs("div",{className:"dashboard-container",children:[d.jsxs("div",{className:"dashboard-header",children:[d.jsx("h1",{className:"dashboard-title",children:"Panel de Control"}),d.jsx("div",{className:"dashboard-subtitle",children:"Resumen general de la tienda"})]}),d.jsxs("div",{className:"stats-grid",children:[d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Ventas Totales"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsx("div",{className:"stat-value",children:zs(ys.reduce((F,ye)=>{var ke;return F+(((ke=ye.pricing)==null?void 0:ke.total)||0)},0))}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Tienda Online"}),d.jsx("span",{className:"stat-percentage positive",children:"+2.2%"})]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Total Visitantes"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsx("div",{className:"stat-value",children:ys.length}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Órdenes"}),d.jsx("span",{className:"stat-percentage positive",children:"+7.6%"})]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Clientes Recurrentes"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsxs("div",{className:"stat-value",children:[(m.length/(m.length+10)*100).toFixed(1),"%"]}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Usuarios"}),d.jsx("span",{className:"stat-percentage negative",children:"-0.7%"})]})]})]}),d.jsxs("div",{className:"charts-grid-dashboard",children:[d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Ventas en el Tiempo"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Wm,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Ventas Totales",data:[Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4],backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",borderWidth:2,fill:!0}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Visitantes en el Tiempo"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Wm,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Total Visitantes",data:[42,38,65,72],backgroundColor:"rgba(34, 197, 94, 0.8)",borderRadius:4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Clientes"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Wm,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Primera vez",data:[15,20,25,18],backgroundColor:"rgba(34, 197, 94, 0.8)",borderRadius:4},{label:"Recurrentes",data:[8,12,15,22],backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:4}]},options:{plugins:{legend:{display:!0,position:"bottom",labels:{font:{family:"Inter"}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]})]}),d.jsxs("div",{className:"bottom-cards-grid",children:[d.jsxs("div",{className:"wide-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:"Ventas Actuales"}),d.jsx("span",{className:"date-range",children:"13/03/2018 to 20/03/2018"})]}),d.jsx("div",{className:"wide-chart-container",children:d.jsx(Wm,{data:{labels:Array.from({length:20},(F,ye)=>`${ye+1}/03`),datasets:[{label:"Ventas",data:Array.from({length:20},()=>Math.floor(Math.random()*6e4)+2e4),backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",borderWidth:3,fill:!0,tension:.4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"history-card",children:[d.jsx("div",{className:"card-header",children:d.jsx("h3",{children:"Historial"})}),d.jsxs("div",{className:"history-list",children:[d.jsxs("div",{className:"history-item",children:[d.jsx("span",{className:"history-month",children:"Enero"}),d.jsx("div",{className:"history-bar",children:d.jsx("div",{className:"history-progress",style:{width:"80%"}})}),d.jsx("span",{className:"history-amount",children:zs(12e4)})]}),d.jsxs("div",{className:"history-item",children:[d.jsx("span",{className:"history-month",children:"Febrero"}),d.jsx("div",{className:"history-bar",children:d.jsx("div",{className:"history-progress green",style:{width:"60%"}})}),d.jsx("span",{className:"history-amount",children:zs(85200)})]})]})]})]})]}),I==="productos"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Lista de Productos"}),d.jsxs("div",{className:"search-filter-container",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("i",{className:"fas fa-search search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"search-input",value:H,onChange:ji})]}),d.jsx("button",{onClick:()=>q(!0),className:"button primary",children:"+ Agregar Producto"})]})]}),d.jsxs("div",{className:"table-container",children:[console.log("Renderizando tabla con:",{products:n,filteredProducts:D}),d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Producto"}),d.jsx("th",{children:"Precio"}),d.jsx("th",{children:"Stock"}),d.jsx("th",{children:"Reviews"}),d.jsx("th",{children:"Imagen Principal"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:D&&D.length>0?D.map(F=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("div",{className:"product-info",children:d.jsx("div",{className:"product-details",children:d.jsx("span",{className:"product-name",children:F.name})})})}),d.jsx("td",{children:zs(F.price)}),d.jsx("td",{children:d.jsx("span",{className:`status-badge ${F.stock>0?"completed":"pending"}`,children:F.stock>0?`${F.stock} unidades`:"Agotado"})}),d.jsx("td",{children:F.reviews??0}),d.jsx("td",{children:d.jsx("img",{src:F.mainImage,alt:F.name,className:"product-thumb",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}})}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{onClick:()=>Do(F),className:"action-button",title:"Editar",children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{onClick:()=>bs(F.id),className:"action-button",title:"Eliminar",children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},F.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:n.length===0?d.jsxs("div",{children:[d.jsx("p",{children:"No hay productos disponibles."}),d.jsx("p",{children:'Agrega tu primer producto haciendo clic en "+ Agregar Producto"'})]}):d.jsxs("div",{children:[d.jsx("p",{children:"No se encontraron productos que coincidan con tu búsqueda."}),d.jsx("p",{children:"Intenta con otros términos o limpia el filtro."})]})})})})]})]})]}),I==="usuarios"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Lista de Usuarios"}),d.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[d.jsx("input",{type:"text",placeholder:"Buscar usuario por email o nombre...",value:z,onChange:F=>U(F.target.value),className:"input-field",style:{minWidth:220,maxWidth:300}}),d.jsxs("select",{value:R,onChange:F=>ge(F.target.value),className:"input-field",style:{minWidth:120,maxWidth:180},children:[d.jsx("option",{value:"",children:"Todos los roles"}),d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"user",children:"Usuario"})]})]})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table users-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Usuario"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Rol"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:Us.map(F=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"user-name",children:F.fullName||F.displayName||F.email.split("@")[0]})}),d.jsx("td",{children:F.email}),d.jsx("td",{children:d.jsx("span",{className:`role-badge ${F.rol==="admin"?"admin":"user"}`,children:F.rol==="admin"?"Admin":"Usuario"})}),d.jsx("td",{children:d.jsx("div",{className:"action-buttons",children:F.email!=="admin@gmail.com"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>Ea(F),className:"action-button",title:"Cambiar rol",style:{background:"#e0e7ff",color:"#2563eb"},children:[d.jsx("i",{className:"fas fa-user-shield"})," ",F.rol==="admin"?"Hacer usuario":"Hacer admin"]}),d.jsx("button",{onClick:()=>xs(F.id),className:"action-button delete",title:"Eliminar usuario",children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})})]},F.id))})]})})]}),I==="reviews"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",style:{alignItems:"center"},children:[d.jsx("h2",{className:"section-title",children:"Administrar Reviews"}),d.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:d.jsxs("select",{className:"input-field",value:ue,onChange:F=>he(F.target.value),style:{minWidth:220,maxWidth:320},children:[d.jsx("option",{value:"",children:"Todas los productos"}),n.map(F=>d.jsx("option",{value:F.id,children:F.name},F.id))]})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Producto"}),d.jsx("th",{children:"Rating"}),d.jsx("th",{children:"Texto"}),d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:Yt.map(F=>{var Se,Ue,tt;const ye=n.find(mt=>mt.id===F.productId),ke=(Se=F.createdAt)!=null&&Se.toDate?F.createdAt.toDate():F.createdAt||null;return d.jsxs("tr",{children:[d.jsx("td",{children:(ye==null?void 0:ye.name)||F.productId}),d.jsx("td",{children:F.rating??0}),d.jsxs("td",{children:[(Ue=F.text)==null?void 0:Ue.substring(0,80),(((tt=F.text)==null?void 0:tt.length)||0)>80?"…":""]}),d.jsx("td",{children:ke?new Date(ke).toLocaleString():"-"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Editar",onClick:()=>Jl(F),children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>Jt(F),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},F.id)})})]})}),xe&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Cerrar",onClick:()=>{Ce(!1),xt(null)},children:"×"}),d.jsx("h3",{children:"Editar reseña"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Datos de la reseña"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-rating",children:"Calificación"}),d.jsx("select",{className:"input-field",value:et,onChange:F=>ot(F.target.value),id:"review-rating",children:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5].map(F=>d.jsxs("option",{value:F,children:[F," estrellas"]},F))}),d.jsx("div",{className:"helper-text",children:"Selecciona la calificación de 0 a 5 estrellas"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-user",children:"Usuario"}),d.jsx("input",{type:"text",className:"input-field",placeholder:"Usuario (solo lectura)",value:(_e==null?void 0:_e.user)||"Anónimo",readOnly:!0,id:"review-user",style:{backgroundColor:"#f8fafc",cursor:"not-allowed"}}),d.jsx("div",{className:"helper-text",children:"Este campo no se puede editar"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-text",children:"Comentario de la reseña"}),d.jsx("textarea",{className:"input-field textarea",value:at,onChange:F=>we(F.target.value),placeholder:"Escribe el texto de la reseña...",id:"review-text",rows:"4"}),d.jsx("div",{className:"helper-text",children:"Texto completo de la reseña del cliente"})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{className:"button primary",onClick:jt,children:"Guardar"}),d.jsx("button",{className:"button delete",onClick:()=>{Ce(!1),xt(null)},children:"Cancelar"})]})]})})]}),I==="categorias"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Gestión de Categorías"}),d.jsxs("button",{onClick:()=>cn(!0),className:"button primary",children:[d.jsx("i",{className:"fas fa-plus"}),"Agregar Categoría"]})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Descripción"}),d.jsx("th",{children:"Productos"}),d.jsx("th",{children:"Fecha de creación"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:i.length>0?i.map(F=>{const ye=n.filter(ke=>ke.category===F.name).length;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("div",{className:"category-name",children:[d.jsx("i",{className:"fas fa-tag",style:{color:"#16a34a",marginRight:"8px"}}),F.name]})}),d.jsx("td",{children:d.jsx("div",{className:"category-description",children:F.description||"Sin descripción"})}),d.jsx("td",{children:d.jsxs("span",{className:"product-count-badge",children:[ye," producto",ye!==1?"s":""]})}),d.jsx("td",{children:F.createdAt?F.createdAt.toDate?F.createdAt.toDate().toLocaleDateString("es-ES"):new Date(F.createdAt).toLocaleDateString("es-ES"):"N/A"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{onClick:()=>zn(F),className:"action-button edit",title:"Editar categoría",children:d.jsx("i",{className:"fas fa-edit"})}),d.jsx("button",{onClick:()=>qt(F.id),className:"action-button delete",title:"Eliminar categoría",disabled:ye>0,children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},F.id)}):d.jsx("tr",{children:d.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:d.jsxs("div",{children:[d.jsx("p",{children:"No hay categorías creadas."}),d.jsx("p",{children:'Agrega tu primera categoría haciendo clic en "Agregar Categoría"'})]})})})})]})}),ai&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content category-modal",children:[d.jsx("button",{className:"modal-close","aria-label":"Cerrar",onClick:gi,children:"×"}),d.jsx("h3",{children:Er?"Editar Categoría":"Agregar Nueva Categoría"}),d.jsxs("div",{className:"modal-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"field-label",htmlFor:"categoryName",children:[d.jsx("i",{className:"fas fa-tag",style:{marginRight:"8px",color:"#3b82f6"}}),"Nombre de la Categoría"]}),d.jsx("input",{type:"text",name:"name",id:"categoryName",value:pi.name,onChange:Ki,placeholder:"ej. Smartphones, Accesorios, Ropa",className:"input-field",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"field-label",htmlFor:"categoryDescription",children:[d.jsx("i",{className:"fas fa-align-left",style:{marginRight:"8px",color:"#3b82f6"}}),"Descripción (Opcional)"]}),d.jsx("textarea",{name:"description",id:"categoryDescription",value:pi.description,onChange:Ki,placeholder:"Describe el tipo de productos que incluye esta categoría",className:"textarea",rows:"3"})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsxs("button",{className:"button primary",onClick:Yi,children:[d.jsx("i",{className:"fas fa-check",style:{marginRight:"8px"}}),Er?"Actualizar":"Agregar"," Categoría"]}),d.jsxs("button",{className:"button secondary",onClick:gi,children:[d.jsx("i",{className:"fas fa-times",style:{marginRight:"8px"}}),"Cancelar"]})]})]})})]}),I==="promos"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Gestión de Códigos Promocionales"}),d.jsx("button",{onClick:()=>{Pi(),Mt(!0)},className:"button primary",children:"+ Crear Código Promocional"})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Código"}),d.jsx("th",{children:"Descuento"}),d.jsx("th",{children:"Descripción"}),d.jsx("th",{children:"Compra Mín."}),d.jsx("th",{children:"Expira"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Uso"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:An.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:d.jsxs("div",{children:[d.jsx("p",{children:"Aún no hay códigos promocionales creados."}),d.jsx("p",{children:"Crea tu primer código promocional para ofrecer descuentos a los clientes."})]})})}):An.map(F=>{const ye=F.expiresAt&&F.expiresAt.toDate()<new Date,ke=F.usageLimit&&F.usageCount>=F.usageLimit;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"promo-code",children:F.code})}),d.jsxs("td",{children:[F.discount,"%"]}),d.jsx("td",{children:F.description}),d.jsxs("td",{children:["$",Math.round(F.minOrderAmount||0).toLocaleString("es-CO")]}),d.jsx("td",{children:F.expiresAt?d.jsx("span",{className:ye?"expired":"",children:F.expiresAt.toDate().toLocaleDateString()}):"Sin vencimiento"}),d.jsx("td",{children:d.jsx("span",{className:`status-badge ${F.isActive?ye||ke?"expired":"completed":"pending"}`,children:F.isActive?ye?"Expirado":ke?"Límite Alcanzado":"Activo":"Inactivo"})}),d.jsxs("td",{children:[F.usageCount,"/",F.usageLimit||"∞"]}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Editar",onClick:()=>Bs(F),children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{className:`action-button ${F.isActive?"deactivate":"activate"}`,title:F.isActive?"Desactivar":"Activar",onClick:()=>Tr(F.id,F.isActive),children:d.jsx("i",{className:`fas fa-${F.isActive?"pause":"play"}`})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>ec(F.id),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},F.id)})})]})}),Gi&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Close",onClick:()=>{Mt(!1),Pi()},children:"×"}),d.jsx("h3",{children:zt?"Editar código promocional":"Crear código promocional"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Información básica"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-code",children:"Código promocional"}),d.jsx("input",{type:"text",name:"code",id:"promo-code",value:Kt.code,onChange:un,placeholder:"SAVE20, DESCUENTO10",className:"input-field",style:{textTransform:"uppercase"}}),d.jsx("div",{className:"helper-text",children:"Código único que usarán los clientes"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-discount",children:"Descuento (%)"}),d.jsx("input",{type:"number",name:"discount",id:"promo-discount",value:Kt.discount,onChange:un,placeholder:"20",className:"input-field",min:"1",max:"100"}),d.jsx("div",{className:"helper-text",children:"Porcentaje de descuento (1-100%)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-description",children:"Descripción"}),d.jsx("input",{type:"text",name:"description",id:"promo-description",value:Kt.description,onChange:un,placeholder:"Descuento especial del 20% en toda la tienda",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Descripción breve de la oferta"})]}),d.jsx("div",{className:"form-subtitle",children:"Condiciones y restricciones"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-min-order",children:"Compra mínima (COP)"}),d.jsx("input",{type:"number",name:"minOrderAmount",id:"promo-min-order",value:Kt.minOrderAmount,onChange:un,placeholder:"50000",className:"input-field",min:"0",step:"1000"}),d.jsx("div",{className:"helper-text",children:"Mínimo requerido (opcional)"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-usage-limit",children:"Límite de uso"}),d.jsx("input",{type:"number",name:"usageLimit",id:"promo-usage-limit",value:Kt.usageLimit,onChange:un,placeholder:"100",className:"input-field",min:"1"}),d.jsx("div",{className:"helper-text",children:"Máx. usos permitidos (opcional)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-expires",children:"Fecha de expiración"}),d.jsx("input",{type:"date",name:"expiresAt",id:"promo-expires",value:Kt.expiresAt,onChange:un,className:"input-field",min:new Date().toISOString().split("T")[0]}),d.jsx("div",{className:"helper-text",children:"Fecha límite para usar el código (opcional)"})]}),d.jsx("div",{className:"checkbox-container",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",name:"isActive",checked:Kt.isActive,onChange:un}),d.jsx("span",{children:"Activar código (los usuarios podrán usarlo inmediatamente)"})]})})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{className:"button primary",onClick:Fu,children:zt?"Actualizar":"Crear código"}),d.jsx("button",{className:"button delete",onClick:()=>{Mt(!1),Pi()},children:"Cancelar"})]})]})})]}),I==="orders"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Gestión de Pedidos"}),d.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:d.jsxs("select",{className:"input-field",value:Rt,onChange:F=>ft(F.target.value),style:{minWidth:150,maxWidth:200},children:[d.jsx("option",{value:"",children:"Todos los Pedidos"}),d.jsx("option",{value:"pending",children:"Pendiente"}),d.jsx("option",{value:"processing",children:"Procesando"}),d.jsx("option",{value:"shipped",children:"Enviado"}),d.jsx("option",{value:"delivered",children:"Entregado"}),d.jsx("option",{value:"cancelled",children:"Cancelado"})]})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"ID Pedido"}),d.jsx("th",{children:"Cliente"}),d.jsx("th",{children:"Artículos"}),d.jsx("th",{children:"Total"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:Xi.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"20px"},children:d.jsxs("div",{children:[d.jsx("p",{children:"No se encontraron pedidos."}),d.jsx("p",{children:"Los pedidos aparecerán aquí una vez que los clientes empiecen a realizarlos."})]})})}):Xi.map(F=>{var ye,ke,Se;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("span",{className:"order-id",children:["#",F.id.substring(0,8)]})}),d.jsx("td",{children:d.jsxs("div",{children:[d.jsx("div",{className:"customer-name",children:F.userName||"Unknown"}),d.jsx("div",{className:"customer-email",children:F.userEmail||"No email"})]})}),d.jsxs("td",{children:[((ye=F.items)==null?void 0:ye.length)||0," artículos"]}),d.jsxs("td",{children:["$",Math.round(((ke=F.pricing)==null?void 0:ke.total)||0).toLocaleString("es-CO")]}),d.jsx("td",{children:d.jsxs("select",{className:`status-select ${tc(F.status||"pending")}`,value:F.status||"pending",onChange:Ue=>Lo(F.id,Ue.target.value),children:[d.jsx("option",{value:"pending",children:"Pendiente"}),d.jsx("option",{value:"processing",children:"Procesando"}),d.jsx("option",{value:"shipped",children:"Enviado"}),d.jsx("option",{value:"delivered",children:"Entregado"}),d.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),d.jsx("td",{children:(Se=F.createdAt)!=null&&Se.toDate?F.createdAt.toDate().toLocaleDateString():F.createdAt?new Date(F.createdAt).toLocaleDateString():"Unknown"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Ver Detalles",onClick:()=>Ta(F),children:d.jsx("i",{className:"fas fa-eye"})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>Ii(F.id),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},F.id)})})]})}),Bu&&ht&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content order-modal",children:[d.jsx("button",{className:"modal-close","aria-label":"Close",onClick:()=>{_r(!1),Po(null)},children:"×"}),d.jsxs("h3",{children:["Detalles del Pedido - #",ht.id.substring(0,8)]}),d.jsxs("div",{className:"order-details-content",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Información del Cliente"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Nombre:"})," ",ht.userName||"Desconocido"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Email:"})," ",ht.userEmail||"Sin email"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Método de Pago:"})," ",((zo=(Fs=ht.paymentMethod)==null?void 0:Fs.replace("_"," "))==null?void 0:zo.toUpperCase())||"No especificado"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Fecha del Pedido:"})," ",(_s=ht.createdAt)!=null&&_s.toDate?ht.createdAt.toDate().toLocaleString():ht.createdAt?new Date(ht.createdAt).toLocaleString():"Desconocida"]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Dirección de Entrega"}),d.jsxs("div",{className:"address-info",children:[d.jsx("strong",{children:((Mi=ht.deliveryAddress)==null?void 0:Mi.name)||"Sin nombre"}),d.jsx("br",{}),((dn=ht.deliveryAddress)==null?void 0:dn.street)||"Sin dirección",d.jsx("br",{}),((Hs=ht.deliveryAddress)==null?void 0:Hs.city)||"Sin ciudad",", ",((Uo=ht.deliveryAddress)==null?void 0:Uo.state)||"Sin estado"," ",((Qi=ht.deliveryAddress)==null?void 0:Qi.zipCode)||"Sin código postal",d.jsx("br",{}),((Sr=ht.deliveryAddress)==null?void 0:Sr.country)||"Sin país",d.jsx("br",{}),"Teléfono: ",((Ar=ht.deliveryAddress)==null?void 0:Ar.phone)||"Sin teléfono"]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Artículos del Pedido"}),d.jsx("div",{className:"order-items-list",children:(ht.items||[]).map((F,ye)=>d.jsxs("div",{className:"order-item-detail",children:[d.jsx("img",{src:F.image||"/placeholder.jpg",alt:F.name||"Producto",className:"item-image-small"}),d.jsxs("div",{className:"item-info",children:[d.jsx("div",{className:"item-name",children:F.name||"Producto Desconocido"}),d.jsxs("div",{className:"item-specs",children:["Material: ",F.material||"N/A"," | Color: ",F.color||"N/A"]}),d.jsxs("div",{className:"item-price",children:["Cant: ",F.quantity||0," × $",Math.round(F.price||0).toLocaleString("es-CO")," = $",Math.round((F.quantity||0)*(F.price||0)).toLocaleString("es-CO")]})]})]},ye))})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Desglose de Precios"}),d.jsxs("div",{className:"pricing-details",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(((Sa=ht.pricing)==null?void 0:Sa.subtotal)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envío:"}),d.jsxs("span",{children:["$",Math.round(((Cr=ht.pricing)==null?void 0:Cr.shippingFee)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuestos:"}),d.jsxs("span",{children:["$",Math.round(((Cn=ht.pricing)==null?void 0:Cn.tax)||0).toLocaleString("es-CO")]})]}),(((Aa=ht.pricing)==null?void 0:Aa.discount)||0)>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsx("span",{children:"Descuento:"}),d.jsxs("span",{children:["-$",Math.round(((nc=ht.pricing)==null?void 0:nc.discount)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(((kr=ht.pricing)==null?void 0:kr.total)||0).toLocaleString("es-CO")]})]})]})]}),ht.orderNotes&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Notas del Pedido"}),d.jsx("div",{className:"order-notes-display",children:ht.orderNotes})]})]})]})})]}),L&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Cerrar",onClick:oi,children:"×"}),d.jsx("h3",{children:C?"Editar Producto":"Agregar Producto"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Información básica"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"name",children:"Nombre del producto"}),d.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:Vn,placeholder:"Ej: iPhone 14 Pro Max",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Ingresa un nombre descriptivo y atractivo"})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"price",children:"Precio (COP)"}),d.jsx("input",{type:"number",name:"price",id:"price",value:_.price,onChange:Vn,placeholder:"150000",className:"input-field",min:"0",step:"1000"}),d.jsx("div",{className:"helper-text",children:"Precio en pesos colombianos"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"stock",children:"Stock disponible"}),d.jsx("input",{type:"number",name:"stock",id:"stock",value:_.stock,onChange:Vn,placeholder:"50",className:"input-field",min:"0"}),d.jsx("div",{className:"helper-text",children:"Cantidad de unidades"})]})]}),d.jsx("div",{className:"form-subtitle",children:"Valoración"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"rating",children:"Rating"}),d.jsx("input",{type:"number",step:"0.5",min:"0",max:"5",name:"rating",id:"rating",value:_.rating,onChange:Vn,placeholder:"4.5",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"De 0.0 a 5.0 estrellas"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"reviews",children:"Número de reseñas"}),d.jsx("input",{type:"number",step:"1",min:"0",name:"reviews",id:"reviews",value:_.reviews,onChange:Vn,placeholder:"127",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Cantidad de reseñas"})]})]}),d.jsx("div",{className:"form-subtitle",children:"Características"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"material",children:"Material"}),d.jsx("input",{type:"text",name:"material",id:"material",value:_.material,onChange:Vn,placeholder:"Aluminio, Cristal",className:"input-field"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"color",children:"Color"}),d.jsx("input",{type:"text",name:"color",id:"color",value:_.color,onChange:Vn,placeholder:"Negro espacial",className:"input-field"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"category",children:"Categoría"}),d.jsxs("select",{name:"category",id:"category",value:_.category,onChange:Vn,className:"input-field",children:[d.jsx("option",{value:"",children:"Selecciona una categoría"}),i.map(F=>d.jsx("option",{value:F.name,children:F.name},F.id))]}),d.jsx("div",{className:"helper-text",children:i.length>0?`Categorías disponibles: ${i.map(F=>F.name).join(", ")}`:"No hay categorías creadas aún. Ve a la sección Categorías para crear una."})]}),d.jsx("div",{className:"form-subtitle",children:"Descripción"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"description",children:"Descripción detallada"}),d.jsx("textarea",{name:"description",id:"description",value:_.description,onChange:Vn,placeholder:"Describe las características principales, beneficios y especificaciones del producto...",className:"input-field textarea",rows:"4"}),d.jsx("div",{className:"helper-text",children:"Una descripción atractiva ayuda a los clientes a tomar decisiones"})]}),d.jsx("div",{className:"form-subtitle",children:"Imágenes del producto"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",children:"Cargar imágenes"}),d.jsxs("div",{className:"image-upload-section",children:[d.jsxs("div",{className:"upload-instructions",children:[d.jsx("span",{className:"highlight",children:"Selecciona entre 1 y 4 imágenes"}),d.jsx("br",{}),"Formatos soportados: JPG, PNG, WEBP",d.jsx("br",{}),"Tamaño máximo: 2MB por imagen"]}),d.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:wa,className:"input-field"}),_.images.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"helper-text success",children:["✓ ",_.images.length," imagen(es) cargada(s). Selecciona la imagen principal:"]}),d.jsx("div",{className:"image-preview-container",children:_.images.map((F,ye)=>d.jsxs("div",{className:"image-preview-wrapper",children:[d.jsx("img",{src:F,alt:`preview-${ye}`,className:`image-preview ${F===_.mainImage?"selected":""}`,onClick:()=>Vs(F)}),d.jsx("input",{type:"radio",name:"mainImage",checked:F===_.mainImage,onChange:()=>Vs(F),className:"image-select-radio",title:"Seleccionar como imagen principal"})]},ye))})]})]})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{onClick:C?Mo:Io,className:"button primary",children:C?"Actualizar":"Agregar"}),d.jsx("button",{onClick:oi,className:"button delete",children:"Cancelar"})]})]})})]},K)]})]})}function C$({children:t}){const{user:e}=ko();return!e||(e==null?void 0:e.rol)!=="admin"&&(e==null?void 0:e.role)!=="admin"?d.jsx(XO,{to:"/"}):t}function k$(){const{id:t}=OO(),e=Os(),[n,i]=N.useState(null),[s,a]=N.useState(""),{agregarAlCarrito:l,agregarAFavoritos:u,quitarDeFavoritos:h,estaEnFavoritos:m}=No(),[g,v]=N.useState([]),[x,_]=N.useState(""),[E,C]=N.useState(5),[A,j]=N.useState(!1),[B,L]=N.useState(!0),[q,H]=N.useState(!1),W=N.useRef(!1),D=N.useMemo(()=>m(t),[m,t]),k=N.useCallback(R=>{if(!R||R.length===0)return;const ge=R.map(te=>new Promise(Y=>{const K=new Image;K.src=te,K.onload=()=>Y(),K.onerror=()=>Y()}));Promise.all(ge).then(()=>{H(!0)})},[]);N.useEffect(()=>W.current?void 0:(W.current=!0,(async()=>{var ge;L(!0);try{const te=$e(Ne,"products",t),Y=await mu(te);if(Y.exists()){const K=Y.data(),ie={id:Y.id,...K};i(ie),a(((ge=K.images)==null?void 0:ge[0])||K.image);const ce=K.images||[K.image];k(ce)}else console.log("No se encontró el producto")}catch(te){console.error("Error al obtener el producto:",te)}finally{setTimeout(()=>{L(!1),W.current=!1},300)}})(),()=>{W.current=!1}),[t,k]),N.useEffect(()=>{if(!n)return;const R=ho(an(Ne,"reviews"),Ol("productId","==",t));let ge=!0;const te=aa(R,Y=>{if(!ge)return;const K=Y.docs.map(ie=>({id:ie.id,...ie.data()}));K.sort((ie,ce)=>{var ue,he,xe,Ce,_e,xt;const V=(ue=ie.createdAt)!=null&&ue.toMillis?ie.createdAt.toMillis():((xe=(he=ie.createdAt)==null?void 0:he.getTime)==null?void 0:xe.call(he))||0;return((Ce=ce.createdAt)!=null&&Ce.toMillis?ce.createdAt.toMillis():((xt=(_e=ce.createdAt)==null?void 0:_e.getTime)==null?void 0:xt.call(_e))||0)-V}),v(K)});return()=>{ge=!1,te()}},[t,n]);const I=()=>{(n==null?void 0:n.stock)<=0?alert("Lo sentimos, no hay unidades disponibles de este producto."):(l(n),alert(`${n.name} ha sido agregado a tu carrito.`))},M=()=>{D?h(t):u(n)},z=(n==null?void 0:n.rating)||(g.length>0?Math.round(g.reduce((R,ge)=>R+(ge.rating||0),0)/g.length*10)/10:0),U=async R=>{if(R.preventDefault(),!!x.trim())try{await _o(an(Ne,"reviews"),{productId:t,rating:parseFloat(E),text:x.trim(),user:"Anónimo",createdAt:new Date});const ge=((n==null?void 0:n.reviews)||0)+1,te=g.length>0?(g.reduce((Y,K)=>Y+(K.rating||0),0)+parseFloat(E))/(g.length+1):parseFloat(E);await _i($e(Ne,"products",t),{rating:Math.round(te*10)/10,reviews:ge}),_(""),C(5),j(!1),alert("Gracias por tu review")}catch(ge){console.error(ge),alert("No se pudo enviar la review")}};return B?d.jsx("div",{className:"loader-wrapper",children:d.jsx(Ro,{size:"lg",color:"primary",text:"Cargando producto..."})}):n?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsxs("div",{className:"pd-container",children:[d.jsxs("div",{className:"pd-gallery",children:[d.jsx(pu,{src:s,alt:n.name,className:"pd-main",preload:!0}),d.jsx("div",{className:"pd-thumbs",children:(n.images||[n.image]).slice(0,4).map((R,ge)=>d.jsx(pu,{src:R,alt:`mini-${ge}`,className:`pd-thumb ${R===s?"active":""}`,onClick:()=>a(R),preload:q},ge))})]}),d.jsxs("div",{className:"pd-info",children:[d.jsx("h1",{className:"pd-title",children:n.name}),d.jsxs("div",{className:"pd-rating-row",children:[d.jsx(Eb,{rating:(n==null?void 0:n.rating)||z,readOnly:!0}),d.jsxs("span",{className:"pd-rating-num",children:["(",(n==null?void 0:n.rating)||z||0,")"]}),d.jsxs("span",{className:"pd-reviews",children:[g.length||(n==null?void 0:n.reviews)||0," Reviews"]})]}),d.jsx("p",{className:"pd-desc",children:n.description||""}),d.jsxs("div",{className:"pd-price-row",children:[d.jsxs("span",{className:"pd-price",children:["$",Math.round(n.price||0).toLocaleString("es-CO")]}),n.oldPrice&&d.jsxs("span",{className:"pd-old-price",children:["$",Math.round(n.oldPrice).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pd-attrs",children:[d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Material"}),d.jsx("span",{className:"value",children:n.material||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Color"}),d.jsx("span",{className:"value",children:n.color||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Categoría"}),d.jsx("span",{className:"value",children:n.category||"N/A"})]})]}),d.jsxs("div",{className:"pd-actions",children:[d.jsx(Tt,{variant:"primary",onClick:I,disabled:n.stock<=0,children:"Agregar al carrito"}),d.jsx("button",{className:`fav-btn ${D?"active":""}`,onClick:M,title:D?"Quitar de favoritos":"Agregar a favoritos","aria-label":D?"Quitar de favoritos":"Agregar a favoritos",children:d.jsx("i",{className:`${D?"fas":"far"} fa-heart`})})]}),d.jsx("div",{className:"pd-continue",children:d.jsx(Ye,{to:"/productos",className:"btn-ghost",children:"Seguir comprando"})})]})]}),d.jsxs("div",{className:"reviews-container",children:[d.jsxs("div",{className:"reviews-header",children:[d.jsx("h2",{children:"Reviews"}),d.jsx(Tt,{variant:"primary",onClick:()=>j(!0),children:"Escribir una review"})]}),g.length===0?d.jsx("p",{className:"no-reviews",children:"Este producto aún no tiene reviews."}):d.jsx("ul",{className:"reviews-list",children:g.map(R=>d.jsxs("li",{className:"review-item",children:[d.jsxs("div",{className:"review-header",children:[d.jsx(Eb,{rating:R.rating||0,size:"sm",readOnly:!0}),d.jsx("span",{className:"review-user",children:R.user||"Anónimo"})]}),d.jsx("p",{className:"review-text",children:R.text})]},R.id))})]}),A&&d.jsx(kz,{isOpen:A,onClose:()=>j(!1),title:"Escribe tu review",children:d.jsxs("form",{onSubmit:U,className:"review-form",children:[d.jsxs("div",{className:"rf-row",children:[d.jsx("label",{children:"Rating"}),d.jsx("select",{value:E,onChange:R=>C(R.target.value),children:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5].map(R=>d.jsx("option",{value:R,children:R},R))})]}),d.jsx("textarea",{className:"rf-text",placeholder:"Escribe tu review",value:x,onChange:R=>_(R.target.value)}),d.jsxs("div",{className:"modal-actions",children:[d.jsx(Tt,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),d.jsx(Tt,{variant:"primary",type:"submit",children:"Enviar"})]})]})}),d.jsx(ia,{}),d.jsx("style",{children:`
        .pd-container{max-width:1200px;margin:20px auto;display:grid;grid-template-columns:1fr 1fr;gap:24px;padding:0 16px;font-family:Inter,system-ui,-apple-system}
        .pd-gallery{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px rgba(0,0,0,.06);will-change:transform;transition:transform 0.2s ease}
        .pd-main{width:100%;height:420px;object-fit:contain;border-radius:12px;background:#f8fafc;will-change:opacity}
        .pd-thumbs{display:flex;gap:12px;margin-top:12px}
        .pd-thumb{width:70px;height:70px;object-fit:cover;border-radius:8px;border:2px solid #e5e7eb;cursor:pointer;transition:transform 0.2s ease}
        .pd-thumb:hover{transform:scale(1.05)}
        .pd-thumb.active{border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,.1)}
        .pd-info{display:flex;flex-direction:column;gap:12px}
        .pd-title{font-size:28px;color:#111827;margin:0;font-weight:700}
        .pd-rating-row{display:flex;align-items:center;gap:8px}
        .pd-rating-num{color:#6b7280;font-size:14px}
        .pd-reviews{color:#6b7280;font-size:14px}
        .pd-desc{color:#374151;line-height:1.6}
        .pd-price-row{display:flex;align-items:baseline;gap:12px;margin-top:4px}
        .pd-price{font-size:26px;font-weight:700;color:#111827}
        .pd-old-price{text-decoration:line-through;color:#9ca3af}
        .pd-attrs{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;background:#fff;border-radius:12px;padding:12px;border:1px solid #e5e7eb}
        .label{display:block;color:#6b7280;font-size:12px}
        .value{display:block;color:#111827;font-weight:600}
        .pd-actions{display:flex;gap:12px;margin-top:8px;align-items:center}
        .btn-ghost{display:inline-block;margin-top:10px;color:#2563eb;text-decoration:none;font-weight:700;border:1px solid #e5e7eb;border-radius:999px;padding:8px 14px}
        .btn-ghost:hover{background:#f1f5f9}
        .fav-btn{width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;border:1px solid #e5e7eb;background:#fff;color:#374151;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.06);transition: background .15s ease, transform .15s ease, color .15s ease, border-color .15s ease}
        .fav-btn:hover{background:#f1f5f9;transform:scale(1.05)}
        .fav-btn.active{background:#16a34a;color:#fff;border-color:#16a34a}

        .reviews-container{max-width:1200px;margin:24px auto;padding:0 16px}
        .reviews-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
        .no-reviews{color:#6b7280}
        .reviews-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
        .review-item{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:12px;transition:transform 0.2s ease}
        .review-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.08)}
        .review-header{display:flex;align-items:center;gap:8px}
        .review-user{color:#6b7280;font-size:13px}

        .review-form{display:flex;flex-direction:column;gap:10px}
        .rf-row{display:flex;align-items:center;gap:12px;color:#111827}
        .rf-text{min-height:120px;border:1px solid #e5e7eb;border-radius:8px;padding:10px}
        .modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:6px}

        .loader-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.9);z-index:9999;backdrop-filter:blur(5px)}
        .error-container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}

        @media(max-width:900px){.pd-container{grid-template-columns:1fr}}
        
        /* Animaciones para mejorar la experiencia de usuario */
        @keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
        .pd-container{animation:fadeIn 0.3s ease-in-out}
      `})]}):d.jsxs("div",{className:"error-container",children:[d.jsx("h2",{children:"Producto no encontrado"}),d.jsx(Tt,{variant:"primary",onClick:()=>e("/productos"),children:"Volver a productos"})]})}function N$(){const{products:t,categories:e,fetchProducts:n,isLoadingProducts:i}=ko(),{agregarAlCarrito:s,agregarAFavoritos:a,quitarDeFavoritos:l,estaEnFavoritos:u}=No(),[h,m]=N.useState(""),[g,v]=N.useState(""),[x,_]=N.useState({min:"",max:""}),[E,C]=N.useState("name"),[A,j]=N.useState(!1),[B,L]=N.useState(1),q=12;N.useEffect(()=>{t.length===0&&!i&&(console.log("Cargando productos en Productos..."),n())},[n,t.length,i]);const H=N.useMemo(()=>{let R=t.filter(ge=>{var V,ae;const te=h===""||((V=ge.name)==null?void 0:V.toLowerCase().includes(h.toLowerCase()))||((ae=ge.description)==null?void 0:ae.toLowerCase().includes(h.toLowerCase())),Y=g===""||ge.category===g,K=ge.price||0,ie=x.min===""||K>=parseFloat(x.min),ce=x.max===""||K<=parseFloat(x.max);return te&&Y&&ie&&ce});return R.sort((ge,te)=>{switch(E){case"price-low":return(ge.price||0)-(te.price||0);case"price-high":return(te.price||0)-(ge.price||0);case"name":return(ge.name||"").localeCompare(te.name||"");case"rating":return(te.rating||0)-(ge.rating||0);default:return 0}}),R},[t,h,g,x,E]),W=Math.ceil(H.length/q),D=B*q,k=D-q,I=H.slice(k,D),M=R=>L(R),z=()=>{m(""),v(""),_({min:"",max:""}),C("name"),L(1)},U=R=>{u(R.id)?l(R.id):a(R)};return d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsxs("div",{className:"productos-container",children:[d.jsx("h1",{className:"productos-titulo",children:"Productos disponibles"}),d.jsxs("div",{className:"search-filter-section",children:[d.jsx("div",{className:"search-bar",children:d.jsxs("div",{className:"search-input-wrapper",children:[d.jsx(Bz,{className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar productos...",value:h,onChange:R=>{m(R.target.value),L(1)},className:"search-input"}),h&&d.jsx("button",{className:"clear-search-btn",onClick:()=>{m(""),L(1)},children:d.jsx(Hz,{})})]})}),d.jsxs("button",{className:"filter-toggle-btn",onClick:()=>j(!A),children:[d.jsx(zz,{}),"Filtros"]})]}),A&&d.jsx("div",{className:"filters-panel",children:d.jsxs("div",{className:"filters-grid",children:[d.jsxs("div",{className:"filter-group",children:[d.jsx("label",{children:"Categoría"}),d.jsxs("select",{value:g,onChange:R=>{v(R.target.value),L(1)},className:"filter-select",children:[d.jsx("option",{value:"",children:"Todas las categorías"}),e.map(R=>d.jsx("option",{value:R.name||R,children:R.name||R},R.id||R))]})]}),d.jsxs("div",{className:"filter-group",children:[d.jsx("label",{children:"Rango de precio"}),d.jsxs("div",{className:"price-range-inputs",children:[d.jsx("input",{type:"number",placeholder:"Mín",value:x.min,onChange:R=>{_({...x,min:R.target.value}),L(1)},className:"price-input"}),d.jsx("span",{children:"-"}),d.jsx("input",{type:"number",placeholder:"Máx",value:x.max,onChange:R=>{_({...x,max:R.target.value}),L(1)},className:"price-input"})]})]}),d.jsxs("div",{className:"filter-group",children:[d.jsx("label",{children:"Ordenar por"}),d.jsxs("select",{value:E,onChange:R=>{C(R.target.value),L(1)},className:"filter-select",children:[d.jsx("option",{value:"name",children:"Nombre A-Z"}),d.jsx("option",{value:"price-low",children:"Precio: Menor a Mayor"}),d.jsx("option",{value:"price-high",children:"Precio: Mayor a Menor"}),d.jsx("option",{value:"rating",children:"Mejor valorados"})]})]}),d.jsx("div",{className:"filter-group",children:d.jsx("button",{className:"clear-filters-btn",onClick:z,children:"Limpiar filtros"})})]})}),d.jsx("div",{className:"results-summary",children:d.jsxs("span",{children:[H.length," producto",H.length!==1?"s":""," encontrado",H.length!==1?"s":""]})}),d.jsx("div",{className:"productos-grid",children:i?Array(8).fill(0).map((R,ge)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-button"})]},`skeleton-${ge}`)):I.length>0?I.map(R=>d.jsx(dp,{producto:R,agregarAlCarrito:()=>s(R),toggleFavorito:()=>U(R),favoritos:u(R.id)?[R]:[]},R.id)):d.jsxs("div",{className:"no-products-message",children:[d.jsx("p",{children:"No se encontraron productos que coincidan con los filtros aplicados."}),d.jsx("button",{className:"clear-filters-btn",onClick:z,children:"Limpiar filtros"})]})}),H.length>q&&d.jsxs("div",{className:"pagination",children:[d.jsxs("button",{className:"pagination-btn",onClick:()=>M(B-1),disabled:B===1,children:[d.jsx(Oz,{})," Anterior"]}),d.jsxs("span",{className:"pagination-info",children:["Página ",B," de ",W]}),d.jsxs("button",{className:"pagination-btn",onClick:()=>M(B+1),disabled:B===W,children:["Siguiente ",d.jsx(Lz,{})]})]})]}),d.jsx(ia,{})]})}function R$(){const t=Os(),{cart:e,quitarDelCarrito:n,actualizarCantidad:i}=No(),[s,a]=N.useState(null),[l,u]=N.useState(!0),[h,m]=N.useState(""),[g,v]=N.useState(null),[x,_]=N.useState(null),[E,C]=N.useState(!1);N.useEffect(()=>{const M=va(yn,z=>{z?a(z.uid):(a(null),u(!1))});return()=>M()},[]),N.useEffect(()=>{const M=setTimeout(()=>{u(!1)},500);return()=>clearTimeout(M)},[]);const A=M=>{confirm("¿Estás seguro que deseas eliminar este producto del carrito?")&&(n(M),ve.fire({icon:"success",title:"Producto eliminado",text:"El producto ha sido eliminado del carrito.",timer:1500,showConfirmButton:!1}))},j=(M,z)=>{z<1||i(M,z)},B=e.reduce((M,z)=>M+z.price*z.quantity,0),L=0,q=B*.02,H=x?B*x.discount/100:0,W=B+L+q-H,D=async()=>{if(!h.trim()){ve.fire("Error","Please enter a promo code","error");return}C(!0);try{const M=ho(an(Ne,"promoCodes"),Ol("code","==",h.toUpperCase()),Ol("isActive","==",!0)),z=await vl(M);if(z.empty){ve.fire("Error","Invalid or expired promo code","error"),C(!1);return}const U=z.docs[0].data();if(U.expiresAt&&U.expiresAt.toDate()<new Date){ve.fire("Error","This promo code has expired","error"),C(!1);return}if(U.minOrderAmount&&B<U.minOrderAmount){ve.fire("Error",`Minimum order amount of $${Math.round(U.minOrderAmount).toLocaleString("es-CO")} required`,"error"),C(!1);return}_(U),ve.fire("Success",`Promo code applied! ${U.discount}% discount`,"success"),m("")}catch(M){console.error("Error applying promo code:",M),ve.fire("Error","Failed to apply promo code","error")}C(!1)},k=()=>{_(null),ve.fire("Removed","Promo code removed","info")},I=()=>{if(!g){ve.fire("Error","Please select a delivery address","error");return}if(e.length===0){ve.fire("Error","Your cart is empty","error");return}t("/checkout",{state:{cart:e,selectedAddress:g,appliedPromo:x,subtotal:B,shippingFee:L,tax:q,discount:H,total:W}})};return l?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"loader-container",children:d.jsx(Ro,{size:"lg",color:"#16a34a",text:"Cargando tu carrito..."})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"cart-container",children:d.jsxs("div",{className:"cart-layout",children:[d.jsxs("div",{className:"cart-section",children:[d.jsxs("h2",{className:"cart-title",children:["Your ",d.jsx("span",{className:"highlight",children:"Cart"})]}),d.jsxs("p",{className:"item-count",children:[e.length," Items"]}),e.length===0?d.jsxs("div",{className:"empty-cart",children:[d.jsx("p",{children:"No tienes productos en el carrito."}),d.jsxs(Tt,{onClick:()=>t("/productos"),variant:"link",className:"continue-shopping-btn",children:[d.jsx("i",{className:"fas fa-arrow-left"}),"Continue Shopping"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"cart-items-list",children:e.map(M=>{var z;return d.jsxs("div",{className:"cart-item-card",children:[d.jsxs("div",{className:"cart-item-left",children:[d.jsx(pu,{src:M.image||M.mainImage||M.mainimg||((z=M.images)==null?void 0:z[0])||"",alt:M.name,className:"product-image",width:80,height:80,preload:!0}),d.jsxs("div",{className:"product-info",children:[d.jsx("h3",{className:"product-name",children:M.name}),d.jsxs("div",{className:"product-material",children:["Material: ",M.material||"N/A"]}),d.jsxs("div",{className:"product-color",children:["Color: ",M.color||"N/A"]})]})]}),d.jsxs("div",{className:"cart-item-right",children:[d.jsxs("div",{className:"product-price",children:["$",Math.round(M.price).toLocaleString("es-CO")]}),d.jsxs("div",{className:"product-quantity-controls",children:[d.jsx("button",{className:"quantity-btn",onClick:()=>j(M.id,Math.max(1,M.quantity-1)),children:"-"}),d.jsx("span",{className:"quantity-value",children:M.quantity}),d.jsx("button",{className:"quantity-btn",onClick:()=>j(M.id,M.quantity+1),children:"+"})]}),d.jsx("button",{className:"remove-item-btn",onClick:()=>A(M.id),title:"Remove",children:d.jsx("i",{className:"fas fa-trash"})})]})]},M.id)})}),d.jsx("div",{className:"continue-shopping",children:d.jsxs(Tt,{onClick:()=>t("/productos"),variant:"link",className:"continue-shopping-btn",children:[d.jsx("i",{className:"fas fa-arrow-left"}),"Continue Shopping"]})})]})]}),d.jsxs("div",{className:"order-summary-section",children:[d.jsx("h3",{className:"order-summary-title",children:"Order Summary"}),d.jsxs("div",{className:"summary-field",children:[d.jsx("label",{children:"SELECT ADDRESS"}),d.jsx(I7,{onAddressSelect:v,selectedAddress:g})]}),d.jsxs("div",{className:"summary-field",children:[d.jsx("label",{children:"PROMO CODE"}),x?d.jsxs("div",{className:"applied-promo",children:[d.jsxs("div",{className:"promo-info",children:[d.jsx("span",{className:"promo-code-display",children:x.code}),d.jsxs("span",{className:"promo-discount",children:["-",x.discount,"%"]})]}),d.jsx(Tt,{onClick:k,variant:"secondary",className:"remove-promo-btn",children:"Remove"})]}):d.jsxs("div",{className:"promo-input-group",children:[d.jsx("input",{type:"text",placeholder:"Enter promo code",value:h,onChange:M=>m(M.target.value),className:"promo-input",onKeyPress:M=>M.key==="Enter"&&D()}),d.jsx(Tt,{onClick:D,variant:"primary",className:"apply-btn",disabled:E,children:E?"Applying...":"Apply"})]})]}),d.jsxs("div",{className:"cost-breakdown",children:[d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Price:"}),d.jsxs("span",{children:["$",Math.round(B).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Shipping Fee:"}),d.jsx("span",{className:"free",children:"Free"})]}),d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Tax (2%):"}),d.jsxs("span",{children:["$",Math.round(q).toLocaleString("es-CO")]})]}),x&&d.jsxs("div",{className:"cost-row discount",children:[d.jsxs("span",{children:["Discount (",x.discount,"%):"]}),d.jsxs("span",{className:"discount-amount",children:["-$",Math.round(H).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"cost-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(W).toLocaleString("es-CO")]})]})]}),d.jsx(Tt,{onClick:I,disabled:e.length===0,variant:"primary",size:"lg",fullWidth:!0,className:"place-order-btn",children:"Place Order"})]})]})})]})}const WP=N.createContext({});function j$(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const zw=typeof window<"u",P$=zw?N.useLayoutEffect:N.useEffect,Uw=N.createContext(null);function Bw(t,e){t.indexOf(e)===-1&&t.push(e)}function Fw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ma=(t,e,n)=>n>e?e:n<t?t:n;let Hw=()=>{};const pa={},GP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function KP(t){return typeof t=="object"&&t!==null}const YP=t=>/^0[^.\s]+$/u.test(t);function qw(t){let e;return()=>(e===void 0&&(e=t()),e)}const hs=t=>t,I$=(t,e)=>n=>e(t(n)),af=(...t)=>t.reduce(I$),Ih=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class $w{constructor(){this.subscriptions=[]}add(e){return Bw(this.subscriptions,e),()=>Fw(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hr=t=>t*1e3,fr=t=>t/1e3;function XP(t,e){return e?t*(1e3/e):0}const QP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,M$=1e-7,D$=12;function O$(t,e,n,i,s){let a,l,u=0;do l=e+(n-e)/2,a=QP(l,i,s)-t,a>0?n=l:e=l;while(Math.abs(a)>M$&&++u<D$);return l}function of(t,e,n,i){if(t===e&&n===i)return hs;const s=a=>O$(a,0,1,t,n);return a=>a===0||a===1?a:QP(s(a),e,i)}const ZP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JP=t=>e=>1-t(1-e),eI=of(.33,1.53,.69,.99),Ww=JP(eI),tI=ZP(Ww),nI=t=>(t*=2)<1?.5*Ww(t):.5*(2-Math.pow(2,-10*(t-1))),Gw=t=>1-Math.sin(Math.acos(t)),iI=JP(Gw),sI=ZP(Gw),L$=of(.42,0,1,1),V$=of(0,0,.58,1),rI=of(.42,0,.58,1),z$=t=>Array.isArray(t)&&typeof t[0]!="number",aI=t=>Array.isArray(t)&&typeof t[0]=="number",U$={linear:hs,easeIn:L$,easeInOut:rI,easeOut:V$,circIn:Gw,circInOut:sI,circOut:iI,backIn:Ww,backInOut:tI,backOut:eI,anticipate:nI},B$=t=>typeof t=="string",eC=t=>{if(aI(t)){Hw(t.length===4);const[e,n,i,s]=t;return of(e,n,i,s)}else if(B$(t))return U$[t];return t},Gm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function F$(t,e){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(g){l.has(g)&&(m.schedule(g),t()),g(u)}const m={schedule:(g,v=!1,x=!1)=>{const E=x&&s?n:i;return v&&l.add(g),E.has(g)||E.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(h),n.clear(),s=!1,a&&(a=!1,m.process(g))}};return m}const H$=40;function oI(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Gm.reduce((L,q)=>(L[q]=F$(a),L),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:v,preRender:x,render:_,postRender:E}=l,C=()=>{const L=pa.useManualTiming?s.timestamp:performance.now();n=!1,pa.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(L-s.timestamp,H$),1)),s.timestamp=L,s.isProcessing=!0,u.process(s),h.process(s),m.process(s),g.process(s),v.process(s),x.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(C))},A=()=>{n=!0,i=!0,s.isProcessing||t(C)};return{schedule:Gm.reduce((L,q)=>{const H=l[q];return L[q]=(W,D=!1,k=!1)=>(n||A(),H.schedule(W,D,k)),L},{}),cancel:L=>{for(let q=0;q<Gm.length;q++)l[Gm[q]].cancel(L)},state:s,steps:l}}const{schedule:Bt,cancel:To,state:$n,steps:Dv}=oI(typeof requestAnimationFrame<"u"?requestAnimationFrame:hs,!0);let yp;function q$(){yp=void 0}const ki={now:()=>(yp===void 0&&ki.set($n.isProcessing||pa.useManualTiming?$n.timestamp:performance.now()),yp),set:t=>{yp=t,queueMicrotask(q$)}},lI=t=>e=>typeof e=="string"&&e.startsWith(t),Kw=lI("--"),$$=lI("var(--"),Yw=t=>$$(t)?W$.test(t.split("/*")[0].trim()):!1,W$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mh={...Vu,transform:t=>ma(0,1,t)},Km={...Vu,default:1},fh=t=>Math.round(t*1e5)/1e5,Xw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G$(t){return t==null}const K$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qw=(t,e)=>n=>!!(typeof n=="string"&&K$.test(n)&&n.startsWith(t)||e&&!G$(n)&&Object.prototype.hasOwnProperty.call(n,e)),cI=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,u]=i.match(Xw);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Y$=t=>ma(0,255,t),Ov={...Vu,transform:t=>Math.round(Y$(t))},El={test:Qw("rgb","red"),parse:cI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ov.transform(t)+", "+Ov.transform(e)+", "+Ov.transform(n)+", "+fh(Mh.transform(i))+")"};function X$(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Mb={test:Qw("#"),parse:X$,transform:El.transform},lf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qa=lf("deg"),mr=lf("%"),ze=lf("px"),Q$=lf("vh"),Z$=lf("vw"),tC={...mr,parse:t=>mr.parse(t)/100,transform:t=>mr.transform(t*100)},Gc={test:Qw("hsl","hue"),parse:cI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+mr.transform(fh(e))+", "+mr.transform(fh(n))+", "+fh(Mh.transform(i))+")"},gn={test:t=>El.test(t)||Mb.test(t)||Gc.test(t),parse:t=>El.test(t)?El.parse(t):Gc.test(t)?Gc.parse(t):Mb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?El.transform(t):Gc.transform(t),getAnimatableNone:t=>{const e=gn.parse(t);return e.alpha=0,gn.transform(e)}},J$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xw))==null?void 0:e.length)||0)+(((n=t.match(J$))==null?void 0:n.length)||0)>0}const uI="number",dI="color",tW="var",nW="var(",nC="${}",iW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(iW,h=>(gn.test(h)?(i.color.push(a),s.push(dI),n.push(gn.parse(h))):h.startsWith(nW)?(i.var.push(a),s.push(tW),n.push(h)):(i.number.push(a),s.push(uI),n.push(parseFloat(h))),++a,nC)).split(nC);return{values:n,split:u,indexes:i,types:s}}function hI(t){return Dh(t).values}function fI(t){const{split:e,types:n}=Dh(t),i=e.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===uI?a+=fh(s[l]):u===dI?a+=gn.transform(s[l]):a+=s[l]}return a}}const sW=t=>typeof t=="number"?0:gn.test(t)?gn.getAnimatableNone(t):t;function rW(t){const e=hI(t);return fI(t)(e.map(sW))}const So={test:eW,parse:hI,createTransformer:fI,getAnimatableNone:rW};function Lv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aW({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=Lv(h,u,t+1/3),a=Lv(h,u,t),l=Lv(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function mg(t,e){return n=>n>0?e:t}const Wt=(t,e,n)=>t+(e-t)*n,Vv=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},oW=[Mb,El,Gc],lW=t=>oW.find(e=>e.test(t));function iC(t){const e=lW(t);if(!e)return!1;let n=e.parse(t);return e===Gc&&(n=aW(n)),n}const sC=(t,e)=>{const n=iC(t),i=iC(e);if(!n||!i)return mg(t,e);const s={...n};return a=>(s.red=Vv(n.red,i.red,a),s.green=Vv(n.green,i.green,a),s.blue=Vv(n.blue,i.blue,a),s.alpha=Wt(n.alpha,i.alpha,a),El.transform(s))},Db=new Set(["none","hidden"]);function cW(t,e){return Db.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uW(t,e){return n=>Wt(t,e,n)}function Zw(t){return typeof t=="number"?uW:typeof t=="string"?Yw(t)?mg:gn.test(t)?sC:fW:Array.isArray(t)?mI:typeof t=="object"?gn.test(t)?sC:dW:mg}function mI(t,e){const n=[...t],i=n.length,s=t.map((a,l)=>Zw(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function dW(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=Zw(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function hW(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][i[a]],u=t.values[l]??0;n[s]=u,i[a]++}return n}const fW=(t,e)=>{const n=So.createTransformer(e),i=Dh(t),s=Dh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Db.has(t)&&!s.values.length||Db.has(e)&&!i.values.length?cW(t,e):af(mI(hW(i,s),s.values),n):mg(t,e)};function pI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Wt(t,e,n):Zw(t)(t,e)}const mW=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>To(e),now:()=>$n.isProcessing?$n.timestamp:ki.now()}},gI=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},pg=2e4;function Jw(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<pg;)e+=n,i=t.next(e);return e>=pg?1/0:e}function pW(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(Jw(i),pg);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:fr(s)}}const gW=5;function yI(t,e,n){const i=Math.max(e-gW,0);return XP(n-t(i),e-i)}const Zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rC=.001;function yW({duration:t=Zt.duration,bounce:e=Zt.bounce,velocity:n=Zt.velocity,mass:i=Zt.mass}){let s,a,l=1-e;l=ma(Zt.minDamping,Zt.maxDamping,l),t=ma(Zt.minDuration,Zt.maxDuration,fr(t)),l<1?(s=m=>{const g=m*l,v=g*t,x=g-n,_=Ob(m,l),E=Math.exp(-v);return rC-x/_*E},a=m=>{const v=m*l*t,x=v*n+n,_=Math.pow(l,2)*Math.pow(m,2)*t,E=Math.exp(-v),C=Ob(Math.pow(m,2),l);return(-s(m)+rC>0?-1:1)*((x-_)*E)/C}):(s=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-.001+g*v},a=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const u=5/t,h=bW(s,a,u);if(t=hr(t),isNaN(h))return{stiffness:Zt.stiffness,damping:Zt.damping,duration:t};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:l*2*Math.sqrt(i*m),duration:t}}}const vW=12;function bW(t,e,n){let i=n;for(let s=1;s<vW;s++)i=i-t(i)/e(i);return i}function Ob(t,e){return t*Math.sqrt(1-e*e)}const xW=["duration","bounce"],wW=["stiffness","damping","mass"];function aC(t,e){return e.some(n=>t[n]!==void 0)}function _W(t){let e={velocity:Zt.velocity,stiffness:Zt.stiffness,damping:Zt.damping,mass:Zt.mass,isResolvedFromDuration:!1,...t};if(!aC(t,wW)&&aC(t,xW))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*ma(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Zt.mass,stiffness:s,damping:a}}else{const n=yW(t);e={...e,...n,mass:Zt.mass},e.isResolvedFromDuration=!0}return e}function gg(t=Zt.visualDuration,e=Zt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:m,mass:g,duration:v,velocity:x,isResolvedFromDuration:_}=_W({...n,velocity:-fr(n.velocity||0)}),E=x||0,C=m/(2*Math.sqrt(h*g)),A=l-a,j=fr(Math.sqrt(h/g)),B=Math.abs(A)<5;i||(i=B?Zt.restSpeed.granular:Zt.restSpeed.default),s||(s=B?Zt.restDelta.granular:Zt.restDelta.default);let L;if(C<1){const H=Ob(j,C);L=W=>{const D=Math.exp(-C*j*W);return l-D*((E+C*j*A)/H*Math.sin(H*W)+A*Math.cos(H*W))}}else if(C===1)L=H=>l-Math.exp(-j*H)*(A+(E+j*A)*H);else{const H=j*Math.sqrt(C*C-1);L=W=>{const D=Math.exp(-C*j*W),k=Math.min(H*W,300);return l-D*((E+C*j*A)*Math.sinh(k)+H*A*Math.cosh(k))/H}}const q={calculatedDuration:_&&v||null,next:H=>{const W=L(H);if(_)u.done=H>=v;else{let D=H===0?E:0;C<1&&(D=H===0?hr(E):yI(L,H,W));const k=Math.abs(D)<=i,I=Math.abs(l-W)<=s;u.done=k&&I}return u.value=u.done?l:W,u},toString:()=>{const H=Math.min(Jw(q),pg),W=gI(D=>q.next(H*D).value,H,30);return H+"ms "+W},toTransition:()=>{}};return q}gg.applyToOptions=t=>{const e=pW(t,100,gg);return t.ease=e.ease,t.duration=hr(e.duration),t.type="keyframes",t};function Lb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:g}){const v=t[0],x={done:!1,value:v},_=k=>u!==void 0&&k<u||h!==void 0&&k>h,E=k=>u===void 0?h:h===void 0||Math.abs(u-k)<Math.abs(h-k)?u:h;let C=n*e;const A=v+C,j=l===void 0?A:l(A);j!==A&&(C=j-v);const B=k=>-C*Math.exp(-k/i),L=k=>j+B(k),q=k=>{const I=B(k),M=L(k);x.done=Math.abs(I)<=m,x.value=x.done?j:M};let H,W;const D=k=>{_(x.value)&&(H=k,W=gg({keyframes:[x.value,E(x.value)],velocity:yI(L,k,x.value),damping:s,stiffness:a,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:k=>{let I=!1;return!W&&H===void 0&&(I=!0,q(k),D(k)),H!==void 0&&k>=H?W.next(k-H):(!I&&q(k),x)}}}function EW(t,e,n){const i=[],s=n||pa.mix||pI,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||hs:e;u=af(h,u)}i.push(u)}return i}function TW(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if(Hw(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=EW(e,i,s),h=u.length,m=g=>{if(l&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const x=Ih(t[v],t[v+1],g);return u[v](x)};return n?g=>m(ma(t[0],t[a-1],g)):m}function SW(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Ih(0,e,i);t.push(Wt(n,1,s))}}function AW(t){const e=[0];return SW(e,t.length-1),e}function CW(t,e){return t.map(n=>n*e)}function kW(t,e){return t.map(()=>e||rI).splice(0,t.length-1)}function mh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=z$(i)?i.map(eC):eC(i),a={done:!1,value:e[0]},l=CW(n&&n.length===e.length?n:AW(e),t),u=TW(l,e,{ease:Array.isArray(s)?s:kW(e,s)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const NW=t=>t!==null;function e_(t,{repeat:e,repeatType:n="loop"},i,s=1){const a=t.filter(NW),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const RW={decay:Lb,inertia:Lb,tween:mh,keyframes:mh,spring:gg};function vI(t){typeof t.type=="string"&&(t.type=RW[t.type])}class t_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const jW=t=>t/100;class n_ extends t_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==ki.now()&&this.tick(ki.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vI(e);const{type:n=mh,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||mh;h!==mh&&typeof u[0]!="number"&&(this.mixKeyframes=af(jW,pI(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=Jw(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:x,repeatDelay:_,type:E,onUpdate:C,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let L=this.currentTime,q=i;if(v){const k=Math.min(this.currentTime,s)/u;let I=Math.floor(k),M=k%1;!M&&k>=1&&(M=1),M===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(x==="reverse"?(M=1-M,_&&(M-=_/u)):x==="mirror"&&(q=l)),L=ma(0,1,M)*u}const H=B?{done:!1,value:g[0]}:q.next(L);a&&(H.value=a(H.value));let{done:W}=H;!B&&h!==null&&(W=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return D&&E!==Lb&&(H.value=e_(g,this.options,A,this.speed)),C&&C(H.value),D&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return fr(this.calculatedDuration)}get time(){return fr(this.currentTime)}set time(e){var n;e=hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ki.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=mW,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ki.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function PW(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Tl=t=>t*180/Math.PI,Vb=t=>{const e=Tl(Math.atan2(t[1],t[0]));return zb(e)},IW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vb,rotateZ:Vb,skewX:t=>Tl(Math.atan(t[1])),skewY:t=>Tl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zb=t=>(t=t%360,t<0&&(t+=360),t),oC=Vb,lC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),cC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),MW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lC,scaleY:cC,scale:t=>(lC(t)+cC(t))/2,rotateX:t=>zb(Tl(Math.atan2(t[6],t[5]))),rotateY:t=>zb(Tl(Math.atan2(-t[2],t[0]))),rotateZ:oC,rotate:oC,skewX:t=>Tl(Math.atan(t[4])),skewY:t=>Tl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ub(t){return t.includes("scale")?1:0}function Bb(t,e){if(!t||t==="none")return Ub(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=MW,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=IW,s=u}if(!s)return Ub(e);const a=i[e],l=s[1].split(",").map(OW);return typeof a=="function"?a(l):l[a]}const DW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Bb(n,e)};function OW(t){return parseFloat(t.trim())}const zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uu=new Set(zu),uC=t=>t===Vu||t===ze,LW=new Set(["x","y","z"]),VW=zu.filter(t=>!LW.has(t));function zW(t){const e=[];return VW.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Cl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bb(e,"x"),y:(t,{transform:e})=>Bb(e,"y")};Cl.translateX=Cl.x;Cl.translateY=Cl.y;const kl=new Set;let Fb=!1,Hb=!1,qb=!1;function bI(){if(Hb){const t=Array.from(kl).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=zW(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var u;(u=i.getValue(a))==null||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hb=!1,Fb=!1,kl.forEach(t=>t.complete(qb)),kl.clear()}function xI(){kl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hb=!0)})}function UW(){qb=!0,xI(),bI(),qb=!1}class i_{constructor(e,n,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(kl.add(this),Fb||(Fb=!0,Bt.read(xI),Bt.resolveKeyframes(bI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const u=i.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}PW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),kl.delete(this)}cancel(){this.state==="scheduled"&&(kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BW=t=>t.startsWith("--");function FW(t,e,n){BW(e)?t.style.setProperty(e,n):t.style[e]=n}const HW=qw(()=>window.ScrollTimeline!==void 0),qW={};function $W(t,e){const n=qw(t);return()=>qW[e]??n()}const wI=$W(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ih=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,dC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ih([0,.65,.55,1]),circOut:ih([.55,0,1,.45]),backIn:ih([.31,.01,.66,-.59]),backOut:ih([.33,1.53,.69,.99])};function _I(t,e){if(t)return typeof t=="function"?wI()?gI(t,e):"ease-out":aI(t)?ih(t):Array.isArray(t)?t.map(n=>_I(n,e)||dC.easeOut):dC[t]}function WW(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const v=_I(u,s);Array.isArray(v)&&(g.easing=v);const x={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(g,x)}function EI(t){return typeof t=="function"&&"applyToOptions"in t}function GW({type:t,...e}){return EI(t)&&wI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class KW extends t_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Hw(typeof e.type!="string");const m=GW(e);this.animation=WW(n,i,s,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=e_(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):FW(n,i,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return fr(Number(e))}get time(){return fr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&HW()?(this.animation.timeline=e,hs):n(this)}}const TI={anticipate:nI,backInOut:tI,circInOut:sI};function YW(t){return t in TI}function XW(t){typeof t.ease=="string"&&YW(t.ease)&&(t.ease=TI[t.ease])}const hC=10;class QW extends KW{constructor(e){XW(e),vI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new n_({...l,autoplay:!1}),h=hr(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-hC).value,u.sample(h).value,hC),u.stop()}}const fC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function ZW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JW(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=fC(s,e),u=fC(a,e);return!l||!u?!1:ZW(t)||(n==="spring"||EI(n))&&i}function $b(t){t.duration=0,t.type}const eG=new Set(["opacity","clipPath","filter","transform"]),tG=qw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nG(t){var g;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:a,type:l}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return tG()&&n&&eG.has(n)&&(n!=="transform"||!m)&&!h&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const iG=40;class sG extends t_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:g,...v}){var E;super(),this.stop=()=>{var C,A;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=ki.now();const x={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:m,element:g,...v},_=(g==null?void 0:g.KeyframeResolver)||i_;this.keyframeResolver=new _(u,(C,A,j)=>this.onKeyframesResolved(C,A,x,!j),h,m,g),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:g}=i;this.resolvedAt=ki.now(),JW(e,a,l,u)||((pa.instantAnimations||!h)&&(g==null||g(e_(e,i,n))),e[0]=e[e.length-1],$b(i),i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>iG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!m&&nG(x)?new QW({...x,element:x.motionValue.owner.current}):new n_(x);_.finished.then(()=>this.notifyFinished()).catch(hs),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),UW()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const rG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aG(t){const e=rG.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function SI(t,e,n=1){const[i,s]=aG(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return GP(l)?parseFloat(l):l}return Yw(s)?SI(s,e,n+1):s}function s_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const AI=new Set(["width","height","top","left","right","bottom",...zu]),oG={test:t=>t==="auto",parse:t=>t},CI=t=>e=>e.test(t),kI=[Vu,ze,mr,Qa,Z$,Q$,oG],mC=t=>kI.find(CI(t));function lG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YP(t):!0}const cG=new Set(["brightness","contrast","saturate","opacity"]);function uG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Xw)||[];if(!i)return t;const s=n.replace(i,"");let a=cG.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const dG=/\b([a-z-]*)\(.*?\)/gu,Wb={...So,getAnimatableNone:t=>{const e=t.match(dG);return e?e.map(uG).join(" "):t}},pC={...Vu,transform:Math.round},hG={rotate:Qa,rotateX:Qa,rotateY:Qa,rotateZ:Qa,scale:Km,scaleX:Km,scaleY:Km,scaleZ:Km,skew:Qa,skewX:Qa,skewY:Qa,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Mh,originX:tC,originY:tC,originZ:ze},r_={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...hG,zIndex:pC,fillOpacity:Mh,strokeOpacity:Mh,numOctaves:pC},fG={...r_,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Wb,WebkitFilter:Wb},NI=t=>fG[t];function RI(t,e){let n=NI(t);return n!==Wb&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mG=new Set(["auto","none","0"]);function pG(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!mG.has(a)&&Dh(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=RI(n,s)}class gG extends i_{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Yw(m))){const g=SI(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!AI.has(i)||e.length!==2)return;const[s,a]=e,l=mC(s),u=mC(a);if(l!==u)if(uC(l)&&uC(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else Cl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||lG(e[s]))&&i.push(s);i.length&&pG(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Cl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function yG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const jI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vG(t){return KP(t)&&"offsetHeight"in t}const gC=30,bG=t=>!isNaN(parseFloat(t));class xG{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const s=ki.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ki.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $w);const i=this.events[e].add(n);return e==="change"?()=>{i(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ki.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gC);return XP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xu(t,e){return new xG(t,e)}const{schedule:a_}=oI(queueMicrotask,!1),Cs={x:!1,y:!1};function PI(){return Cs.x||Cs.y}function wG(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function II(t,e){const n=yG(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function yC(t){return!(t.pointerType==="touch"||PI())}function _G(t,e,n={}){const[i,s,a]=II(t,n),l=u=>{if(!yC(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=v=>{yC(v)&&(m(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const MI=(t,e)=>e?t===e?!0:MI(t,e.parentElement):!1,o_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,EG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TG(t){return EG.has(t.tagName)||t.tabIndex!==-1}const vp=new WeakSet;function vC(t){return e=>{e.key==="Enter"&&t(e)}}function zv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SG=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=vC(()=>{if(vp.has(n))return;zv(n,"down");const s=vC(()=>{zv(n,"up")}),a=()=>zv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function bC(t){return o_(t)&&!PI()}function AG(t,e,n={}){const[i,s,a]=II(t,n),l=u=>{const h=u.currentTarget;if(!bC(u))return;vp.add(h);const m=e(h,u),g=(_,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),vp.has(h)&&vp.delete(h),bC(_)&&typeof m=="function"&&m(_,{success:E})},v=_=>{g(_,h===window||h===document||n.useGlobalTarget||MI(h,_.target))},x=_=>{g(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",x,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),vG(u)&&(u.addEventListener("focus",m=>SG(m,s)),!TG(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function DI(t){return KP(t)&&"ownerSVGElement"in t}function CG(t){return DI(t)&&t.tagName==="svg"}const ti=t=>!!(t&&t.getVelocity),kG=[...kI,gn,So],NG=t=>kG.find(CI(t)),OI=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function RG(t=!0){const e=N.useContext(Uw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=N.useId();N.useEffect(()=>{if(t)return s(a)},[t]);const l=N.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}const LI=N.createContext({strict:!1}),xC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wu={};for(const t in xC)wu[t]={isEnabled:e=>xC[t].some(n=>!!e[n])};function jG(t){for(const e in t)wu[e]={...wu[e],...t[e]}}const PG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PG.has(t)}let VI=t=>!yg(t);function IG(t){typeof t=="function"&&(VI=e=>e.startsWith("on")?!yg(e):t(e))}try{IG(require("@emotion/is-prop-valid").default)}catch{}function MG(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(VI(s)||n===!0&&yg(s)||!e&&!yg(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const iy=N.createContext({});function sy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Oh(t){return typeof t=="string"||Array.isArray(t)}const l_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],c_=["initial",...l_];function ry(t){return sy(t.animate)||c_.some(e=>Oh(t[e]))}function zI(t){return!!(ry(t)||t.variants)}function DG(t,e){if(ry(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Oh(n)?n:void 0,animate:Oh(i)?i:void 0}}return t.inherit!==!1?e:{}}function OG(t){const{initial:e,animate:n}=DG(t,N.useContext(iy));return N.useMemo(()=>({initial:e,animate:n}),[wC(e),wC(n)])}function wC(t){return Array.isArray(t)?t.join(" "):t}const Lh={};function LG(t){for(const e in t)Lh[e]=t[e],Kw(e)&&(Lh[e].isCSSVariable=!0)}function UI(t,{layout:e,layoutId:n}){return Uu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lh[t]||t==="opacity")}const VG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zG=zu.length;function UG(t,e,n){let i="",s=!0;for(let a=0;a<zG;a++){const l=zu[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=jI(u,r_[l]);if(!h){s=!1;const g=VG[l]||l;i+=`${g}(${m}) `}n&&(e[l]=m)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function u_(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const m=e[h];if(Uu.has(h)){l=!0;continue}else if(Kw(h)){s[h]=m;continue}else{const g=jI(m,r_[h]);h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}}if(e.transform||(l||n?i.transform=UG(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${m} ${g}`}}const d_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BI(t,e,n){for(const i in e)!ti(e[i])&&!UI(i,n)&&(t[i]=e[i])}function BG({transformTemplate:t},e){return N.useMemo(()=>{const n=d_();return u_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FG(t,e){const n=t.style||{},i={};return BI(i,n,t),Object.assign(i,BG(t,e)),i}function HG(t,e){const n={},i=FG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const qG={offset:"stroke-dashoffset",array:"stroke-dasharray"},$G={offset:"strokeDashoffset",array:"strokeDasharray"};function WG(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?qG:$G;t[a.offset]=ze.transform(-i);const l=ze.transform(e),u=ze.transform(n);t[a.array]=`${l} ${u}`}function FI(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,m,g){if(u_(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&WG(v,s,a,l,!1)}const HI=()=>({...d_(),attrs:{}}),qI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GG(t,e,n,i){const s=N.useMemo(()=>{const a=HI();return FI(a,e,qI(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};BI(a,t.style,t),s.style={...a,...s.style}}return s}const KG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h_(t){return typeof t!="string"||t.includes("-")?!1:!!(KG.indexOf(t)>-1||/[A-Z]/u.test(t))}function YG(t,e,n,{latestValues:i},s,a=!1){const u=(h_(t)?GG:HG)(e,i,s,t),h=MG(e,typeof t=="string",a),m=t!==N.Fragment?{...h,...u,ref:n}:{},{children:g}=e,v=N.useMemo(()=>ti(g)?g.get():g,[g]);return N.createElement(t,{...m,children:v})}function _C(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function f_(t,e,n,i){if(typeof e=="function"){const[s,a]=_C(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=_C(i);e=e(n!==void 0?n:t.custom,s,a)}return e}function bp(t){return ti(t)?t.get():t}function XG({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:QG(n,i,s,t),renderState:e()}}function QG(t,e,n,i){const s={},a=i(t,{});for(const x in a)s[x]=bp(a[x]);let{initial:l,animate:u}=t;const h=ry(t),m=zI(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!sy(v)){const x=Array.isArray(v)?v:[v];for(let _=0;_<x.length;_++){const E=f_(t,x[_]);if(E){const{transitionEnd:C,transition:A,...j}=E;for(const B in j){let L=j[B];if(Array.isArray(L)){const q=g?L.length-1:0;L=L[q]}L!==null&&(s[B]=L)}for(const B in C)s[B]=C[B]}}}return s}const $I=t=>(e,n)=>{const i=N.useContext(iy),s=N.useContext(Uw),a=()=>XG(t,e,i,s);return n?a():j$(a)};function m_(t,e,n){var a;const{style:i}=t,s={};for(const l in i)(ti(i[l])||e.style&&ti(e.style[l])||UI(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const ZG=$I({scrapeMotionValuesFromProps:m_,createRenderState:d_});function WI(t,e,n){const i=m_(t,e,n);for(const s in t)if(ti(t[s])||ti(e[s])){const a=zu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}const JG=$I({scrapeMotionValuesFromProps:WI,createRenderState:HI}),eK=Symbol.for("motionComponentSymbol");function Kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tK(t,e,n){return N.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Kc(n)&&(n.current=i))},[e])}const p_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nK="framerAppearId",GI="data-"+p_(nK),KI=N.createContext({});function iK(t,e,n,i,s){var C,A;const{visualElement:a}=N.useContext(iy),l=N.useContext(LI),u=N.useContext(Uw),h=N.useContext(OI).reducedMotion,m=N.useRef(null);i=i||l.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,v=N.useContext(KI);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&sK(m.current,n,s,v);const x=N.useRef(!1);N.useInsertionEffect(()=>{g&&x.current&&g.update(n,u)});const _=n[GI],E=N.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,_)));return P$(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),E.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!E.current&&g.animationState&&g.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,_)}),E.current=!1),g.enteringChildren=void 0)}),g}function sK(t,e,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YI(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&Kc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:m})}function YI(t){if(t)return t.options.allowProjection!==!1?t.projection:YI(t.parent)}function Uv(t,{forwardMotionProps:e=!1}={},n,i){n&&jG(n);const s=h_(t)?JG:ZG;function a(u,h){let m;const g={...N.useContext(OI),...u,layoutId:rK(u)},{isStatic:v}=g,x=OG(u),_=s(u,v);if(!v&&zw){aK();const E=oK(g);m=E.MeasureLayout,x.visualElement=iK(t,_,g,i,E.ProjectionNode)}return d.jsxs(iy.Provider,{value:x,children:[m&&x.visualElement?d.jsx(m,{visualElement:x.visualElement,...g}):null,YG(t,u,tK(_,x.visualElement,h),_,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=N.forwardRef(a);return l[eK]=t,l}function rK({layoutId:t}){const e=N.useContext(WP).id;return e&&t!==void 0?e+"-"+t:t}function aK(t,e){N.useContext(LI).strict}function oK(t){const{drag:e,layout:n}=wu;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function lK(t,e){if(typeof Proxy>"u")return Uv;const n=new Map,i=(a,l)=>Uv(a,l,t,e),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(n.has(l)||n.set(l,Uv(l,void 0,t,e)),n.get(l))})}function XI({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function cK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Bv(t){return t===void 0||t===1}function Gb({scale:t,scaleX:e,scaleY:n}){return!Bv(t)||!Bv(e)||!Bv(n)}function yl(t){return Gb(t)||QI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QI(t){return EC(t.x)||EC(t.y)}function EC(t){return t&&t!=="0%"}function vg(t,e,n){const i=t-n,s=e*i;return n+s}function TC(t,e,n,i,s){return s!==void 0&&(t=vg(t,s,i)),vg(t,n,i)+e}function Kb(t,e=0,n=1,i,s){t.min=TC(t.min,e,n,i,s),t.max=TC(t.max,e,n,i,s)}function ZI(t,{x:e,y:n}){Kb(t.x,e.translate,e.scale,e.originPoint),Kb(t.y,n.translate,n.scale,n.originPoint)}const SC=.999999999999,AC=1.0000000000001;function dK(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,ZI(t,l)),i&&yl(a.latestValues)&&Xc(t,a.latestValues))}e.x<AC&&e.x>SC&&(e.x=1),e.y<AC&&e.y>SC&&(e.y=1)}function Yc(t,e){t.min=t.min+e,t.max=t.max+e}function CC(t,e,n,i,s=.5){const a=Wt(t.min,t.max,s);Kb(t,e,n,a,i)}function Xc(t,e){CC(t.x,e.x,e.scaleX,e.scale,e.originX),CC(t.y,e.y,e.scaleY,e.scale,e.originY)}function JI(t,e){return XI(uK(t.getBoundingClientRect(),e))}function hK(t,e,n){const i=JI(t,n),{scroll:s}=e;return s&&(Yc(i.x,s.offset.x),Yc(i.y,s.offset.y)),i}const kC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qc=()=>({x:kC(),y:kC()}),NC=()=>({min:0,max:0}),nn=()=>({x:NC(),y:NC()}),Yb={current:null},eM={current:!1};function fK(){if(eM.current=!0,!!zw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yb.current=t.matches;t.addEventListener("change",e),e()}else Yb.current=!1}const mK=new WeakMap;function pK(t,e,n){for(const i in e){const s=e[i],a=n[i];if(ti(s))t.addValue(i,s);else if(ti(a))t.addValue(i,xu(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,xu(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const RC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gK{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ki.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Bt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=ry(n),this.isVariantNode=zI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const _=v[x];h[x]!==void 0&&ti(_)&&_.set(h[x])}}mount(e){var n;this.current=e,mK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),eM.current||fK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Uu.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wu){const n=wu[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<RC.length;i++){const s=RC[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=pK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=xu(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(GP(i)||YP(i))?i=parseFloat(i):!NG(i)&&So.test(n)&&(i=RI(e,n)),this.setBaseTarget(e,ti(i)?i.get():i)),ti(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=f_(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ti(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $w),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){a_.render(this.render)}}class tM extends gK{constructor(){super(...arguments),this.KeyframeResolver=gG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ti(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nM(t,{style:e,vars:n},i,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,i);for(l in n)a.setProperty(l,n[l])}function yK(t){return window.getComputedStyle(t)}class vK extends tM{constructor(){super(...arguments),this.type="html",this.renderInstance=nM}readValueFromInstance(e,n){var i;if(Uu.has(n))return(i=this.projection)!=null&&i.isProjecting?Ub(n):DW(e,n);{const s=yK(e),a=(Kw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JI(e,n)}build(e,n,i){u_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return m_(e,n,i)}}const iM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bK(t,e,n,i){nM(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(iM.has(s)?s:p_(s),e.attrs[s])}class xK extends tM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uu.has(n)){const i=NI(n);return i&&i.default||0}return n=iM.has(n)?n:p_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return WI(e,n,i)}build(e,n,i){FI(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){bK(e,n,i,s)}mount(e){this.isSVGTag=qI(e.tagName),super.mount(e)}}const wK=(t,e)=>h_(t)?new xK(e):new vK(e,{allowProjection:t!==N.Fragment});function au(t,e,n){const i=t.getProps();return f_(i,e,n!==void 0?n:i.custom,t)}const Xb=t=>Array.isArray(t);function _K(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xu(n))}function EK(t){return Xb(t)?t[t.length-1]||0:t}function TK(t,e){const n=au(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const u=EK(a[l]);_K(t,l,u)}}function SK(t){return!!(ti(t)&&t.add)}function Qb(t,e){const n=t.getValue("willChange");if(SK(n))return n.add(e);if(!n&&pa.WillChange){const i=new pa.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function sM(t){return t.props[GI]}const AK=t=>t!==null;function CK(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(AK),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const kK={type:"spring",stiffness:500,damping:25,restSpeed:10},NK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RK={type:"keyframes",duration:.8},jK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PK=(t,{keyframes:e})=>e.length>2?RK:Uu.has(t)?t.startsWith("scale")?NK(e[1]):kK:jK;function IK({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const g_=(t,e,n,i={},s,a)=>l=>{const u=s_(i,t)||{},h=u.delay||i.delay||0;let{elapsed:m=0}=i;m=m-hr(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};IK(u)||Object.assign(g,PK(t,g)),g.duration&&(g.duration=hr(g.duration)),g.repeatDelay&&(g.repeatDelay=hr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&($b(g),g.delay===0&&(v=!0)),(pa.instantAnimations||pa.skipAnimations)&&(v=!0,$b(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const x=CK(g.keyframes,u);if(x!==void 0){Bt.update(()=>{g.onUpdate(x),g.onComplete()});return}}return u.isSync?new n_(g):new sG(g)};function MK({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function rM(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(a=i);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const v=t.getValue(g,t.latestValues[g]??null),x=u[g];if(x===void 0||m&&MK(m,g))continue;const _={delay:n,...s_(a||{},g)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===E&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const j=sM(t);if(j){const B=window.MotionHandoffAnimation(j,g,Bt);B!==null&&(_.startTime=B,C=!0)}}Qb(t,g),v.start(g_(g,v,x,t.shouldReduceMotion&&AI.has(g)?{type:!1}:_,t,C));const A=v.animation;A&&h.push(A)}return l&&Promise.all(h).then(()=>{Bt.update(()=>{l&&TK(t,l)})}),h}function aM(t,e,n,i=0,s=1){const a=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),l=t.size,u=(l-1)*i;return typeof n=="function"?n(a,l):s===1?a*i:u-a*i}function Zb(t,e,n={}){var h;const i=au(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(rM(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=s;return DK(t,e,m,g,v,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[m,g]=u==="beforeChildren"?[a,l]:[l,a];return m().then(()=>g())}else return Promise.all([a(),l(n.delay)])}function DK(t,e,n=0,i=0,s=0,a=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Zb(h,e,{...l,delay:n+(typeof i=="function"?0:i)+aM(t.variantChildren,h,i,s,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function OK(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>Zb(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=Zb(t,e,n);else{const s=typeof e=="function"?au(t,e,n.custom):e;i=Promise.all(rM(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function oM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const LK=c_.length;function lM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<LK;n++){const i=c_[n],s=t.props[i];(Oh(s)||s===!1)&&(e[i]=s)}return e}const VK=[...l_].reverse(),zK=l_.length;function UK(t){return e=>Promise.all(e.map(({animation:n,options:i})=>OK(t,n,i)))}function BK(t){let e=UK(t),n=jC(),i=!0;const s=h=>(m,g)=>{var x;const v=au(t,g,h==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:_,transitionEnd:E,...C}=v;m={...m,...C,...E}}return m};function a(h){e=h(t)}function l(h){const{props:m}=t,g=lM(t.parent)||{},v=[],x=new Set;let _={},E=1/0;for(let A=0;A<zK;A++){const j=VK[A],B=n[j],L=m[j]!==void 0?m[j]:g[j],q=Oh(L),H=j===h?B.isActive:null;H===!1&&(E=A);let W=L===g[j]&&L!==m[j]&&q;if(W&&i&&t.manuallyAnimateOnMount&&(W=!1),B.protectedKeys={..._},!B.isActive&&H===null||!L&&!B.prevProp||sy(L)||typeof L=="boolean")continue;const D=FK(B.prevProp,L);let k=D||j===h&&B.isActive&&!W&&q||A>E&&q,I=!1;const M=Array.isArray(L)?L:[L];let z=M.reduce(s(j),{});H===!1&&(z={});const{prevResolvedValues:U={}}=B,R={...U,...z},ge=K=>{k=!0,x.has(K)&&(I=!0,x.delete(K)),B.needsAnimating[K]=!0;const ie=t.getValue(K);ie&&(ie.liveStyle=!1)};for(const K in R){const ie=z[K],ce=U[K];if(_.hasOwnProperty(K))continue;let V=!1;Xb(ie)&&Xb(ce)?V=!oM(ie,ce):V=ie!==ce,V?ie!=null?ge(K):x.add(K):ie!==void 0&&x.has(K)?ge(K):B.protectedKeys[K]=!0}B.prevProp=L,B.prevResolvedValues=z,B.isActive&&(_={..._,...z}),i&&t.blockInitialAnimation&&(k=!1);const te=W&&D;k&&(!te||I)&&v.push(...M.map(K=>{const ie={type:j};if(typeof K=="string"&&i&&!te&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,V=au(ce,K);if(ce.enteringChildren&&V){const{delayChildren:ae}=V.transition||{};ie.delay=aM(ce.enteringChildren,t,ae)}}return{animation:K,options:ie}}))}if(x.size){const A={};if(typeof m.initial!="boolean"){const j=au(t,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(A.transition=j.transition)}x.forEach(j=>{const B=t.getBaseTarget(j),L=t.getValue(j);L&&(L.liveStyle=!0),A[j]=B??null}),v.push({animation:A})}let C=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function u(h,m){var v;if(n[h].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(h,m)}),n[h].isActive=m;const g=l(h);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=jC(),i=!0}}}function FK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oM(e,t):!1}function ml(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jC(){return{animate:ml(!0),whileInView:ml(),whileHover:ml(),whileTap:ml(),whileDrag:ml(),whileFocus:ml(),exit:ml()}}class jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HK extends jo{constructor(e){super(e),e.animationState||(e.animationState=BK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let qK=0;class $K extends jo{constructor(){super(...arguments),this.id=qK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const WK={animation:{Feature:HK},exit:{Feature:$K}};function Vh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function cf(t){return{point:{x:t.pageX,y:t.pageY}}}const GK=t=>e=>o_(e)&&t(e,cf(e));function ph(t,e,n,i){return Vh(t,e,GK(n),i)}const cM=1e-4,KK=1-cM,YK=1+cM,uM=.01,XK=0-uM,QK=0+uM;function di(t){return t.max-t.min}function ZK(t,e,n){return Math.abs(t-e)<=n}function PC(t,e,n,i=.5){t.origin=i,t.originPoint=Wt(e.min,e.max,t.origin),t.scale=di(n)/di(e),t.translate=Wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=KK&&t.scale<=YK||isNaN(t.scale))&&(t.scale=1),(t.translate>=XK&&t.translate<=QK||isNaN(t.translate))&&(t.translate=0)}function gh(t,e,n,i){PC(t.x,e.x,n.x,i?i.originX:void 0),PC(t.y,e.y,n.y,i?i.originY:void 0)}function IC(t,e,n){t.min=n.min+e.min,t.max=t.min+di(e)}function JK(t,e,n){IC(t.x,e.x,n.x),IC(t.y,e.y,n.y)}function MC(t,e,n){t.min=e.min-n.min,t.max=t.min+di(e)}function yh(t,e,n){MC(t.x,e.x,n.x),MC(t.y,e.y,n.y)}function us(t){return[t("x"),t("y")]}const dM=({current:t})=>t?t.ownerDocument.defaultView:null,DC=(t,e)=>Math.abs(t-e);function eY(t,e){const n=DC(t.x,e.x),i=DC(t.y,e.y);return Math.sqrt(n**2+i**2)}class hM{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Hv(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=eY(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:C}=x,{timestamp:A}=$n;this.history.push({...C,timestamp:A});const{onStart:j,onMove:B}=this.handlers;_||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,_)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Fv(_,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(x,_)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Hv(x.type==="pointercancel"?this.lastMoveEventInfo:Fv(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(x,j),C&&C(x,j)},!o_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=cf(e),h=Fv(u,this.transformPagePoint),{point:m}=h,{timestamp:g}=$n;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Hv(h,this.history)),this.removeListeners=af(ph(this.contextWindow,"pointermove",this.handlePointerMove),ph(this.contextWindow,"pointerup",this.handlePointerUp),ph(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),To(this.updatePoint)}}function Fv(t,e){return e?{point:e(t.point)}:t}function OC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hv({point:t},e){return{point:t,delta:OC(t,fM(e)),offset:OC(t,tY(e)),velocity:nY(e,.1)}}function tY(t){return t[0]}function fM(t){return t[t.length-1]}function nY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=fM(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>hr(e)));)n--;if(!i)return{x:0,y:0};const a=fr(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function iY(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Wt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Wt(n,t,i.max):Math.min(t,n)),t}function LC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sY(t,{top:e,left:n,bottom:i,right:s}){return{x:LC(t.x,n,s),y:LC(t.y,e,i)}}function VC(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function rY(t,e){return{x:VC(t.x,e.x),y:VC(t.y,e.y)}}function aY(t,e){let n=.5;const i=di(t),s=di(e);return s>i?n=Ih(e.min,e.max-i,t.min):i>s&&(n=Ih(t.min,t.max-s,e.min)),ma(0,1,n)}function oY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jb=.35;function lY(t=Jb){return t===!1?t=0:t===!0&&(t=Jb),{x:zC(t,"left","right"),y:zC(t,"top","bottom")}}function zC(t,e,n){return{min:UC(t,e),max:UC(t,n)}}function UC(t,e){return typeof t=="number"?t:t[e]||0}const cY=new WeakMap;class uY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cf(v).point)},l=(v,x)=>{const{drag:_,dragPropagation:E,onDragStart:C}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wG(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),us(j=>{let B=this.getAxisMotionValue(j).get()||0;if(mr.test(B)){const{projection:L}=this.visualElement;if(L&&L.layout){const q=L.layout.layoutBox[j];q&&(B=di(q)*(parseFloat(B)/100))}}this.originPoint[j]=B}),C&&Bt.postRender(()=>C(v,x)),Qb(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:C,onDrag:A}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:j}=x;if(E&&this.currentDirection===null){this.currentDirection=dY(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),A&&A(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>us(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new hM(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:dM(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Bt.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Ym(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=iY(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=sY(i.layoutBox,e):this.constraints=!1,this.elastic=lY(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&us(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=oY(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Kc(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=hK(i,s.root,this.visualElement.getTransformPagePoint());let l=rY(s.layout.layoutBox,a);if(n){const u=n(cK(l));this.hasMutatedConstraints=!!u,u&&(l=XI(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=us(g=>{if(!Ym(g,n,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,E={type:"inertia",velocity:i?e[g]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Qb(this.visualElement,e),i.start(g_(e,i,0,n,this.visualElement,!1))}stopAnimation(){us(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){us(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){us(n=>{const{drag:i}=this.getProps();if(!Ym(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];a.set(e[n]-Wt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Kc(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};us(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=aY({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),us(l=>{if(!Ym(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(Wt(h,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;cY.set(this.visualElement,this);const e=this.visualElement.current,n=ph(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Kc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bt.read(i);const l=Vh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(us(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Jb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Ym(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hY extends jo{constructor(e){super(e),this.removeGroupControls=hs,this.removeListeners=hs,this.controls=new uY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hs}unmount(){this.removeGroupControls(),this.removeListeners()}}const BC=t=>(e,n)=>{t&&Bt.postRender(()=>t(e,n))};class fY extends jo{constructor(){super(...arguments),this.removePointerDownListener=hs}onPointerDown(e){this.session=new hM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:BC(e),onStart:BC(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Bt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ph(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=FC(t,e.target.x),i=FC(t,e.target.y);return`${n}% ${i}%`}},mY={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=So.parse(t);if(s.length>5)return i;const a=So.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const m=Wt(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}};let qv=!1;class pY extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;LG(gY),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),qv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),xp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,qv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Bt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),a_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;qv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mM(t){const[e,n]=RG(),i=N.useContext(WP);return d.jsx(pY,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(KI),isPresent:e,safeToRemove:n})}const gY={borderRadius:{...Wd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wd,borderTopRightRadius:Wd,borderBottomLeftRadius:Wd,borderBottomRightRadius:Wd,boxShadow:mY};function yY(t,e,n){const i=ti(t)?t:xu(t);return i.start(g_("",i,e,n)),i.animation}const vY=(t,e)=>t.depth-e.depth;class bY{constructor(){this.children=[],this.isDirty=!1}add(e){Bw(this.children,e),this.isDirty=!0}remove(e){Fw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vY),this.isDirty=!1,this.children.forEach(e)}}function xY(t,e){const n=ki.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(To(i),t(a-e))};return Bt.setup(i,!0),()=>To(i)}const pM=["TopLeft","TopRight","BottomLeft","BottomRight"],wY=pM.length,HC=t=>typeof t=="string"?parseFloat(t):t,qC=t=>typeof t=="number"||ze.test(t);function _Y(t,e,n,i,s,a){s?(t.opacity=Wt(0,n.opacity??1,EY(i)),t.opacityExit=Wt(e.opacity??1,0,TY(i))):a&&(t.opacity=Wt(e.opacity??1,n.opacity??1,i));for(let l=0;l<wY;l++){const u=`border${pM[l]}Radius`;let h=$C(e,u),m=$C(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||qC(h)===qC(m)?(t[u]=Math.max(Wt(HC(h),HC(m),i),0),(mr.test(m)||mr.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Wt(e.rotate||0,n.rotate||0,i))}function $C(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EY=gM(0,.5,iI),TY=gM(.5,.95,hs);function gM(t,e,n){return i=>i<t?0:i>e?1:n(Ih(t,e,i))}function WC(t,e){t.min=e.min,t.max=e.max}function cs(t,e){WC(t.x,e.x),WC(t.y,e.y)}function GC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function KC(t,e,n,i,s){return t-=e,t=vg(t,1/n,i),s!==void 0&&(t=vg(t,1/s,i)),t}function SY(t,e=0,n=1,i=.5,s,a=t,l=t){if(mr.test(e)&&(e=parseFloat(e),e=Wt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Wt(a.min,a.max,i);t===a&&(u-=e),t.min=KC(t.min,e,n,u,s),t.max=KC(t.max,e,n,u,s)}function YC(t,e,[n,i,s],a,l){SY(t,e[n],e[i],e[s],e.scale,a,l)}const AY=["x","scaleX","originX"],CY=["y","scaleY","originY"];function XC(t,e,n,i){YC(t.x,e,AY,n?n.x:void 0,i?i.x:void 0),YC(t.y,e,CY,n?n.y:void 0,i?i.y:void 0)}function QC(t){return t.translate===0&&t.scale===1}function yM(t){return QC(t.x)&&QC(t.y)}function ZC(t,e){return t.min===e.min&&t.max===e.max}function kY(t,e){return ZC(t.x,e.x)&&ZC(t.y,e.y)}function JC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vM(t,e){return JC(t.x,e.x)&&JC(t.y,e.y)}function ek(t){return di(t.x)/di(t.y)}function tk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NY{constructor(){this.members=[]}add(e){Bw(this.members,e),e.scheduleRender()}remove(e){if(Fw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RY(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:x,skewX:_,skewY:E}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),E&&(i+=`skewY(${E}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const $v=["","X","Y","Z"],jY=1e3;let PY=0;function Wv(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function bM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&bM(i)}function xM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=PY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DY),this.nodes.forEach(zY),this.nodes.forEach(UY),this.nodes.forEach(OY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new bY)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new $w),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=DI(l)&&!CG(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let g,v=0;const x=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{v=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,g&&g(),g=xY(x,250),xp.hasAnimatedSinceResize&&(xp.hasAnimatedSinceResize=!1,this.nodes.forEach(sk)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||$Y,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=m.getProps(),j=!this.targetLayout||!vM(this.targetLayout,_),B=!v&&x;if(this.options.layoutRoot||this.resumeFrom||B||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...s_(E,"layout"),onPlay:C,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(g,B)}else v||sk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ik);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VY),this.nodes.forEach(IY),this.nodes.forEach(MY)):this.nodes.forEach(ik),this.clearAllSnapshots();const u=ki.now();$n.delta=ma(0,1e3/60,u-$n.timestamp),$n.timestamp=u,$n.isProcessing=!0,Dv.update.process($n),Dv.preRender.process($n),Dv.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LY),this.sharedNodes.forEach(FY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!di(this.snapshot.measuredBox.x)&&!di(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!yM(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||yl(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),WY(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return nn();const u=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(GY))){const{scroll:g}=this.root;g&&(Yc(u.x,g.offset.x),Yc(u.y,g.offset.y))}return u}removeElementScroll(l){var h;const u=nn();if(cs(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&cs(u,l),Yc(u.x,v.offset.x),Yc(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const h=nn();cs(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xc(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),yl(g.latestValues)&&Xc(h,g.latestValues)}return yl(this.latestValues)&&Xc(h,this.latestValues),h}removeTransform(l){const u=nn();cs(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!yl(m.latestValues))continue;Gb(m.latestValues)&&m.updateSnapshot();const g=nn(),v=m.measurePageBox();cs(g,v),XC(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return yl(this.latestValues)&&XC(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),yh(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cs(this.target,this.layout.layoutBox),ZI(this.target,this.targetDelta)):cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),yh(this.relativeTargetOrigin,this.target,_.target),cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gb(this.parent.latestValues)||QI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;cs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;dK(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GC(this.prevProjectionDelta.x,this.projectionDelta.x),GC(this.prevProjectionDelta.y,this.projectionDelta.y)),gh(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!tk(this.projectionDelta.x,this.prevProjectionDelta.x)||!tk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qc(),this.projectionDelta=Qc(),this.projectionDeltaWithTransform=Qc()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=Qc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=nn(),_=h?h.source:void 0,E=this.layout?this.layout.source:void 0,C=_!==E,A=this.getStack(),j=!A||A.members.length<=1,B=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(qY));this.animationProgress=0;let L;this.mixTargetDelta=q=>{const H=q/1e3;rk(v.x,l.x,H),rk(v.y,l.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HY(this.relativeTarget,this.relativeTargetOrigin,x,H),L&&kY(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=nn()),cs(L,this.relativeTarget)),C&&(this.animationValues=g,_Y(g,m,this.latestValues,H,B,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{xp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xu(0)),this.currentAnimation=yY(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&wM(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||nn();const v=di(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=di(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}cs(u,h),Xc(u,g),gh(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new NY),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Wv("z",l,m,this.animationValues);for(let g=0;g<$v.length;g++)Wv(`rotate${$v[g]}`,l,m,this.animationValues),Wv(`skew${$v[g]}`,l,m,this.animationValues);l.render();for(const g in m)l.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=bp(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=bp(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!yl(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=RY(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),l.transform=v;const{x,y:_}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,m.animationValues?l.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in Lh){if(g[E]===void 0)continue;const{correct:C,applyTo:A,isCSSVariable:j}=Lh[E],B=v==="none"?g[E]:C(g[E],m);if(A){const L=A.length;for(let q=0;q<L;q++)l[A[q]]=B}else j?this.options.visualElement.renderState.vars[E]=B:l[E]=B}this.options.layoutId&&(l.pointerEvents=m===this?bp(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(nk),this.root.sharedNodes.clear()}}}function IY(t){t.updateLayout()}function MY(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?us(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=di(x);x.min=i[v].min,x.max=x.min+_}):wM(a,e.layoutBox,i)&&us(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],_=di(i[v]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const u=Qc();gh(u,i,e.layoutBox);const h=Qc();l?gh(h,t.applyTransform(s,!0),e.measuredBox):gh(h,i,e.layoutBox);const m=!yM(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:_}=v;if(x&&_){const E=nn();yh(E,e.layoutBox,x.layoutBox);const C=nn();yh(C,i,_.layoutBox),vM(E,C)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function DY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function LY(t){t.clearSnapshot()}function nk(t){t.clearMeasurements()}function ik(t){t.isLayoutDirty=!1}function VY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zY(t){t.resolveTargetDelta()}function UY(t){t.calcProjection()}function BY(t){t.resetSkewAndRotation()}function FY(t){t.removeLeadSnapshot()}function rk(t,e,n){t.translate=Wt(e.translate,0,n),t.scale=Wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ak(t,e,n,i){t.min=Wt(e.min,n.min,i),t.max=Wt(e.max,n.max,i)}function HY(t,e,n,i){ak(t.x,e.x,n.x,i),ak(t.y,e.y,n.y,i)}function qY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $Y={duration:.45,ease:[.4,0,.1,1]},ok=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lk=ok("applewebkit/")&&!ok("chrome/")?Math.round:hs;function ck(t){t.min=lk(t.min),t.max=lk(t.max)}function WY(t){ck(t.x),ck(t.y)}function wM(t,e,n){return t==="position"||t==="preserve-aspect"&&!ZK(ek(e),ek(n),.2)}function GY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const KY=xM({attachResizeListener:(t,e)=>Vh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gv={current:void 0},_M=xM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gv.current){const t=new KY({});t.mount(window),t.setOptions({layoutScroll:!0}),Gv.current=t}return Gv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YY={pan:{Feature:fY},drag:{Feature:hY,ProjectionNode:_M,MeasureLayout:mM}};function uk(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Bt.postRender(()=>a(e,cf(e)))}class XY extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=_G(e,(n,i)=>(uk(this.node,i,"Start"),s=>uk(this.node,s,"End"))))}unmount(){}}class QY extends jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=af(Vh(this.node.current,"focus",()=>this.onFocus()),Vh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dk(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Bt.postRender(()=>a(e,cf(e)))}class ZY extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=AG(e,(n,i)=>(dk(this.node,i,"Start"),(s,{success:a})=>dk(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ex=new WeakMap,Kv=new WeakMap,JY=t=>{const e=ex.get(t.target);e&&e(t)},eX=t=>{t.forEach(JY)};function tX({root:t,...e}){const n=t||document;Kv.has(n)||Kv.set(n,{});const i=Kv.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(eX,{root:t,...e})),i[s]}function nX(t,e,n){const i=tX(e);return ex.set(t,n),i.observe(t),()=>{ex.delete(t),i.unobserve(t)}}const iX={some:0,all:1};class sX extends jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:iX[s]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=m?g:v;x&&x(h)};return nX(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rX(e,n))&&this.startObserver()}unmount(){}}function rX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aX={inView:{Feature:sX},tap:{Feature:ZY},focus:{Feature:QY},hover:{Feature:XY}},oX={layout:{ProjectionNode:_M,MeasureLayout:mM}},lX={...WK,...aX,...YY,...oX},hk=lK(lX,wK);function cX(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[s,a]=N.useState(!0),{agregarAlCarrito:l,favoritos:u,quitarDeFavoritos:h}=No();N.useEffect(()=>{const E=va(yn,C=>{C?i(C.uid):(i(null),e([]),a(!1))});return()=>E()},[]),N.useEffect(()=>{e(u);const E=setTimeout(()=>{a(!1)},500);return()=>clearTimeout(E)},[u]);const m=E=>{confirm("¿Estás seguro que deseas eliminar este producto de tus favoritos?")&&(h(E),alert("El producto ha sido eliminado de tus favoritos."))},g=()=>{confirm("¿Estás seguro que deseas eliminar todos tus favoritos?")&&([...u].forEach(E=>h(E.id)),alert("Todos los favoritos han sido eliminados."))},v=E=>{if(E.stock<=0){alert(`"${E.name}" está agotado.`);return}l(E),alert(`"${E.name}" ha sido agregado a tu carrito`)},x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},_={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"favorites-page",children:d.jsxs("div",{className:"favorites-container",children:[d.jsx("h1",{className:"favorites-title",children:"Wishlist"}),s?d.jsx("div",{className:"favorites-skeleton",children:Array.from({length:4}).map((E,C)=>d.jsxs("div",{className:"skeleton-wishlist-item",children:[d.jsx("div",{className:"skeleton-image"}),d.jsxs("div",{className:"skeleton-content",children:[d.jsx("div",{className:"skeleton-name"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-actions"})]})]},`skeleton-item-${C}`))}):u.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("i",{className:"far fa-heart empty-icon"}),d.jsx("h3",{children:"Tu lista de deseos está vacía"}),d.jsx("p",{children:"No tienes productos en tu lista de deseos. ¡Explora nuestra tienda y agrega algunos!"}),d.jsx(Ye,{to:"/productos",className:"browse-products-btn",children:"Explorar Productos"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"wishlist-header",children:[d.jsx("div",{className:"header-product",children:"PRODUCTO"}),d.jsx("div",{className:"header-price",children:"PRECIO"}),d.jsx("div",{className:"header-actions",children:"ACCIONES"})]}),d.jsx(hk.div,{className:"wishlist-grid",variants:x,initial:"hidden",animate:"visible",children:u.map(E=>{var C;return d.jsxs(hk.div,{className:"wishlist-item",variants:_,children:[d.jsxs("div",{className:"wishlist-item-main",children:[d.jsx("div",{className:"wishlist-item-image",children:d.jsx(pu,{src:E.image||E.mainImage||((C=E.images)==null?void 0:C[0])||"",alt:E.name,className:"product-image",width:80,height:80,placeholderSrc:"https://via.placeholder.com/80?text=...",preload:!0})}),d.jsxs("div",{className:"wishlist-item-info",children:[d.jsx(Ye,{to:`/producto/${E.id}`,className:"product-link",children:d.jsx("h3",{className:"wishlist-item-name",children:E.name})}),d.jsx("div",{className:"stock-info",children:d.jsxs("span",{className:`stock-badge ${E.stock>0?"in-stock":"out-of-stock"}`,children:[d.jsx("i",{className:E.stock>0?"fas fa-check-circle":"fas fa-times-circle"}),E.stock>0?`${E.stock} disponibles`:"Agotado"]})})]})]}),d.jsxs("div",{className:"wishlist-item-price",children:["$",Math.round(E.price||0).toLocaleString("es-CO")]}),d.jsxs("div",{className:"wishlist-item-actions",children:[d.jsx(Tt,{onClick:()=>v(E),variant:"primary",size:"sm",disabled:E.stock<=0,className:"add-to-cart-btn",title:"Agregar al Carrito",children:d.jsx("i",{className:"fas fa-shopping-cart"})}),d.jsx("button",{className:"remove-item-btn",onClick:()=>m(E.id),title:"Eliminar de favoritos",children:d.jsx("i",{className:"fas fa-trash"})})]})]},E.id)})}),u.length>0&&d.jsx("div",{className:"wishlist-footer",children:d.jsxs(Tt,{onClick:g,variant:"outline",size:"md",className:"clear-wishlist-btn",children:[d.jsx("i",{className:"fas fa-trash-alt"})," Eliminar Todos"]})})]})]})}),d.jsx(ia,{}),d.jsx("style",{children:`
        .favorites-page {
          background-color: #f9fafb;
          min-height: calc(100vh - 80px);
          padding: 40px 0;
        }

        .favorites-container {
          padding: 0 30px;
          max-width: 1200px;
          margin: 0 auto;
        }

        .favorites-title {
          font-size: 32px;
          margin-bottom: 40px;
          color: #111827;
          font-weight: 700;
          text-align: center;
          letter-spacing: -0.5px;
        }

        /* Estilos para el encabezado de la lista */
        .wishlist-header {
          display: grid;
          grid-template-columns: 3fr 1fr 1fr;
          padding: 15px 20px;
          background: #f3f4f6;
          border-radius: 8px 8px 0 0;
          font-weight: 600;
          color: #4b5563;
          font-size: 14px;
          letter-spacing: 0.5px;
          margin-bottom: 10px;
        }

        /* Estilos para la lista de deseos */
        .wishlist-grid {
          display: flex;
          flex-direction: column;
          gap: 10px;
          margin-bottom: 30px;
        }

        .wishlist-item {
          display: grid;
          grid-template-columns: 3fr 1fr 1fr;
          align-items: center;
          padding: 20px;
          background: #fff;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0,0,0,0.05);
          position: relative;
          transition: all 0.2s ease;
        }

        .wishlist-item:hover {
          box-shadow: 0 4px 12px rgba(0,0,0,0.08);
          transform: translateY(-2px);
        }

        .wishlist-item-main {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .wishlist-item-image {
          width: 80px;
          height: 80px;
          flex-shrink: 0;
          border-radius: 8px;
          overflow: hidden;
          background-color: #f8fafc;
          box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .product-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 8px;
          transition: transform 0.3s ease;
        }
        
        .product-image:hover {
          transform: scale(1.08);
        }

        .wishlist-item-info {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .wishlist-item-name {
          font-weight: 600;
          font-size: 16px;
          margin: 0;
          color: #111827;
        }

        .product-link {
          color: #111827;
          text-decoration: none;
          transition: color 0.2s ease;
        }

        .product-link:hover {
          color: #4f46e5;
        }

        .wishlist-item-price {
          font-weight: 700;
          color: #111827;
          font-size: 18px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .wishlist-item-actions {
          display: flex;
          align-items: center;
          justify-content: flex-end;
          gap: 15px;
        }

        .stock-info {
          display: flex;
          align-items: center;
          margin-top: 5px;
        }

        .stock-badge {
          padding: 4px 10px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 500;
          display: inline-flex;
          align-items: center;
        }

        .stock-badge i {
          margin-right: 6px;
          font-size: 14px;
        }

        .stock-badge.in-stock {
          background: rgba(22, 163, 74, 0.12);
          color: #16a34a;
        }

        .stock-badge.out-of-stock {
          background: rgba(239, 68, 68, 0.12);
          color: #ef4444;
        }
        
        .stock-badge.in-stock i {
          color: #16a34a;
        }
        
        .stock-badge.out-of-stock i {
          color: #ef4444;
        }

        .add-to-cart-btn {
          background: #4f46e5;
          color: white;
          border: none;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 2px 5px rgba(79, 70, 229, 0.3);
        }

        .add-to-cart-btn:hover {
          background: #4338ca;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(79, 70, 229, 0.4);
        }
        
        .add-to-cart-btn:disabled {
          background: #a5b4fc;
          cursor: not-allowed;
          opacity: 0.7;
          transform: none;
          box-shadow: none;
        }

        .remove-item-btn {
          background: transparent;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all 0.2s ease;
        }

        .remove-item-btn:hover {
          background: #f3f4f6;
          color: #ef4444;
        }
        
        .remove-item-btn i {
          font-size: 16px;
        }

        .wishlist-footer {
          display: flex;
          justify-content: flex-end;
          margin-top: 20px;
          padding-top: 20px;
          border-top: 1px solid #e5e7eb;
        }

        .clear-wishlist-btn {
          background: transparent;
          border: 1px solid #e5e7eb;
          color: #4b5563;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .clear-wishlist-btn:hover {
          background: #f3f4f6;
          color: #ef4444;
          border-color: #ef4444;
        }

        .empty-state {
          text-align: center;
          padding: 80px 20px;
          color: #6b7280;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 15px;
        }

        .empty-state .empty-icon {
          font-size: 48px;
          color: #d1d5db;
          margin-bottom: 10px;
        }

        .empty-state h3 {
          font-size: 20px;
          font-weight: 600;
          color: #374151;
          margin: 0;
        }

        .empty-state p {
          font-size: 16px;
          max-width: 500px;
          margin: 0 auto 20px;
        }

        .browse-products-btn {
          display: inline-block;
          background: #4f46e5;
          color: white;
          padding: 10px 20px;
          border-radius: 6px;
          text-decoration: none;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .browse-products-btn:hover {
          background: #4338ca;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(79, 70, 229, 0.3);
        }

        /* Estilos para los esqueletos de carga */
        .favorites-skeleton {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .skeleton-wishlist-item {
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            gap: 15px;
          }
          
          .skeleton-image {
            width: 80px;
            height: 80px;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 8px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
          }
          
          .skeleton-name {
            height: 20px;
            width: 70%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-price {
            height: 24px;
            width: 40%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-actions {
            height: 36px;
            width: 60%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          @keyframes shine {
            to {
              background-position-x: -200%;
            }
        }

        .skeleton-image {
          width: 80px;
          height: 80px;
          flex-shrink: 0;
          border-radius: 8px;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          margin-right: 20px;
        }

        .skeleton-content {
          flex-grow: 1;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .skeleton-name {
          height: 20px;
          width: 70%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
        }

        .skeleton-price {
          height: 24px;
          width: 30%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
        }

        .skeleton-actions {
          height: 36px;
          width: 60%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
          margin-top: 10px;
        }

        /* Animación de pulso para los esqueletos */
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }

        .reset-section {
          display: flex;
          justify-content: flex-end;
          margin-top: 20px;
        }

        .reset-btn {
          background: transparent;
          border: 1px solid #e2e8f0;
          color: #64748b;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .reset-btn:hover {
          background: #f8fafc;
          color: #ef4444;
          border-color: #ef4444;
        }

        /* Estilos para dispositivos móviles */
        @media (max-width: 768px) {
          .favorites-container {
            padding: 20px 15px;
          }

          .favorites-title {
            font-size: 24px;
            margin-bottom: 20px;
          }

          .wishlist-item {
            padding: 15px;
          }

          .wishlist-item-image {
            width: 60px;
            height: 60px;
            margin-right: 15px;
          }

          .wishlist-item-name {
            font-size: 14px;
          }

          .wishlist-item-price {
            font-size: 16px;
          }
        }

        @media (max-width: 600px) {
          .favorites-container {
            padding: 15px 10px;
          }

          .wishlist-item {
            flex-direction: column;
            align-items: flex-start;
            padding: 15px;
          }

          .wishlist-item-image {
            width: 100%;
            height: auto;
            margin-right: 0;
            margin-bottom: 15px;
          }

          .product-image {
            width: 100%;
            height: auto;
            aspect-ratio: 1/1;
          }

          .wishlist-item-details {
            width: 100%;
          }

          .wishlist-item-actions {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
            width: 100%;
          }

          .stock-info {
            margin-bottom: 5px;
          }

          .add-to-cart-btn {
            width: 100%;
            text-align: center;
          }

          .remove-item-btn {
            top: 10px;
            right: 10px;
          }
        }

          .action-buttons {
            gap: 4px;
          }

          .add-to-cart-btn,
          .delete-btn {
            padding: 6px 8px;
            font-size: 11px;
          }

          .add-to-cart-btn i,
          .delete-btn i {
            margin-right: 4px;
            font-size: 10px;
          }

          /* Ajustes para los esqueletos en móvil */
          .skeleton-header,
          .skeleton-row {
            min-width: 600px;
          }
        }
      `})]})}function uX(){const{user:t,resetPassword:e}=ko(),[n,i]=N.useState(""),[s,a]=N.useState(""),[l,u]=N.useState(!1),h=Os();N.useEffect(()=>{t&&h("/")},[t]);const m=async g=>{g.preventDefault(),u(!0);try{await e(n),ve.fire({icon:"success",title:"Correo enviado",text:"Revisa tu correo para restablecer la contraseña.",timer:3e3,showConfirmButton:!1}),a("✅ Revisa tu correo para restablecer la contraseña.")}catch{ve.fire({icon:"error",title:"Error",text:"Error al enviar el correo. Intentalo de nuevo."}),a("❌ Error al enviar el correo. Intenta de nuevo.")}finally{u(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:l?d.jsx("div",{className:"loader-container",children:d.jsx(Ro,{size:"lg",color:"#3b82f6",text:"Enviando correo..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Reset Password"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your email address and we'll send you a link to reset your password."}),d.jsxs("form",{onSubmit:m,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:n,onChange:g=>i(g.target.value),required:!0})]}),d.jsx(Tt,{type:"submit",variant:"primary",fullWidth:!0,className:"reset-btn-override",disabled:l,children:"Send Reset Link"})]}),s&&d.jsx("div",{className:`auth-message ${s.includes("✅")?"success":"error"}`,children:s}),d.jsx("div",{className:"auth-switch",children:d.jsx(Ye,{to:"/login",children:"← Back to Sign In"})})]})})})]})}function dX(){return d.jsx("div",{className:"not-found-container",children:d.jsxs("div",{className:"not-found-content",children:[d.jsx("div",{className:"not-found-image",children:d.jsx("div",{className:"error-logo-container",children:d.jsx("div",{className:"error-logo",children:d.jsx("div",{className:"error-frame",children:d.jsx("div",{className:"error-number",children:"404"})})})})}),d.jsx("h1",{children:"Lost in space"}),d.jsx("p",{children:"We know we're out of this world, but you seem to be far away from home."}),d.jsx(Ye,{to:"/",className:"go-home-button",children:"Go home now"})]})})}function EM({amount:t,currency:e="USD",onSuccess:n,onCancel:i,onError:s}){const[a,l]=N.useState(!1),[u,h]=N.useState(!1),[m,g]=N.useState(null);N.useEffect(()=>{if(window.paypal){console.log("PayPal SDK already loaded"),l(!0);return}console.log("Loading PayPal SDK...");const x=document.createElement("script");return x.src="https://www.paypal.com/sdk/js?client-id=AdgxAW2HZC5B-yzBWZKimJnJH8W5r-PwL5_lppQOw1w43p_mlpg5FzCDl2trocXC23YuwZhhjyiJIOEf&currency=USD",x.async=!0,x.onload=()=>{console.log("PayPal SDK loaded successfully"),l(!0),g(null)},x.onerror=()=>{console.error("Failed to load PayPal SDK");const _="Failed to load PayPal SDK. Please check your internet connection and try again.";g(_),s&&s(_)},document.head.appendChild(x),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[]),N.useEffect(()=>{a&&window.paypal&&(console.log("Initializing PayPal buttons..."),v())},[a,t,e]);const v=()=>{if(!window.paypal){console.error("PayPal SDK not available");return}const x=C=>e==="COP"?(C/4e3).toFixed(2):C.toFixed(2),_=window.paypal.Buttons({createOrder:(C,A)=>(console.log("Creating PayPal order..."),A.order.create({purchase_units:[{amount:{value:x(t)}}]})),onApprove:(C,A)=>(console.log("PayPal payment approved, capturing..."),h(!0),A.order.capture().then(j=>{console.log("Payment captured successfully:",j),h(!1),n&&n({success:!0,transactionId:j.id,payer:j.payer,paymentMethod:"paypal"})}).catch(j=>{console.error("Payment capture error:",j),h(!1),s&&s(j.message||"Payment capture failed")})),onCancel:()=>{console.log("PayPal payment cancelled"),i&&i()},onError:C=>{console.error("PayPal checkout error:",C),h(!1),s&&s(C.message||"PayPal checkout error")}});if(document.getElementById("paypal-buttons-container"))try{_.render("#paypal-buttons-container").then(()=>{console.log("PayPal buttons rendered successfully")}).catch(C=>{console.error("Failed to render PayPal buttons:",C),s&&s("Failed to render PayPal buttons")})}catch(C){console.error("PayPal button render error:",C),s&&s("PayPal button initialization error")}};return m?d.jsx("div",{className:"paypal-payment-container",children:d.jsx("div",{className:"paypal-error",children:d.jsx("p",{children:m})})}):a?d.jsxs("div",{className:"paypal-payment-container",children:[d.jsx("div",{id:"paypal-buttons-container"}),u&&d.jsx("div",{className:"processing-overlay",children:d.jsx("p",{children:"Procesando pago..."})}),d.jsx("div",{className:"paypal-info",children:d.jsx("p",{children:"Serás redirigido a PayPal para completar tu pago de forma segura."})})]}):d.jsx("div",{className:"paypal-payment-container",children:d.jsx("div",{className:"paypal-loading",children:d.jsx("p",{children:"Cargando PayPal..."})})})}function hX(){var L;const t=Ds(),e=Os(),{vaciarCarrito:n}=No(),[i,s]=N.useState(null),[a,l]=N.useState(!1),[u,h]=N.useState(null),[m,g]=N.useState("paypal"),[v,x]=N.useState(""),[_,E]=N.useState(""),[C,A]=N.useState({});N.useEffect(()=>{const q=va(yn,H=>{s(H),H||e("/login")});return()=>q()},[e]),N.useEffect(()=>{t.state?h(t.state):e("/carrito")},[t.state,e]);const j=async q=>{if(!u||!i){ve.fire("Error","Faltan datos del pedido","error");return}l(!0);try{const H={userId:i.uid,userEmail:i.email,userName:i.displayName||i.email.split("@")[0],items:u.cart.map(k=>{var I;return{id:k.id,name:k.name,price:k.price,quantity:k.quantity,image:k.image||k.mainImage||((I=k.images)==null?void 0:I[0])||"",material:k.material||"N/A",color:k.color||"N/A"}}),deliveryAddress:u.selectedAddress,appliedPromo:u.appliedPromo,pricing:{subtotal:u.subtotal,shippingFee:u.shippingFee,tax:u.tax,discount:u.discount||0,total:u.total},paymentMethod:"paypal",paymentTransactionId:q.transactionId,orderNotes:v,status:"pending",createdAt:new Date,updatedAt:new Date},D=(await _o(an(Ne,"orders"),H)).id;u.appliedPromo&&u.appliedPromo.id&&await _i($e(Ne,"promoCodes",u.appliedPromo.id),{usageCount:qp(1)}),n(),await ve.fire({title:"¡Pedido Realizado con Éxito!",text:`Su pedido #${D} ha sido realizado. ID de Transacción: ${q.transactionId}. Recibirá un correo de confirmación pronto.`,icon:"success",confirmButtonText:"Continuar Comprando",confirmButtonColor:"#16a34a"}),e("/productos")}catch(H){console.error("Error placing order:",H),ve.fire("Error",H.message||"No se pudo realizar el pedido. Por favor intente nuevamente.","error")}finally{l(!1)}},B=async()=>{if(!u||!i){ve.fire("Error","Faltan datos del pedido","error");return}if(m==="cash_on_delivery"){const q={success:!0,transactionId:"cod_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),paymentMethod:"cash_on_delivery"},H={userId:i.uid,userEmail:i.email,userName:i.displayName||i.email.split("@")[0],items:u.cart.map(W=>{var D;return{id:W.id,name:W.name,price:W.price,quantity:W.quantity,image:W.image||W.mainImage||((D=W.images)==null?void 0:D[0])||"",material:W.material||"N/A",color:W.color||"N/A"}}),deliveryAddress:u.selectedAddress,appliedPromo:u.appliedPromo,pricing:{subtotal:u.subtotal,shippingFee:u.shippingFee,tax:u.tax,discount:u.discount||0,total:u.total},paymentMethod:"cash_on_delivery",paymentTransactionId:q.transactionId,orderNotes:v,status:"pending",createdAt:new Date,updatedAt:new Date};l(!0);try{const D=(await _o(an(Ne,"orders"),H)).id;u.appliedPromo&&u.appliedPromo.id&&await _i($e(Ne,"promoCodes",u.appliedPromo.id),{usageCount:qp(1)}),n(),await ve.fire({title:"¡Pedido Realizado con Éxito!",text:`Su pedido #${D} ha sido realizado. ID de Transacción: ${q.transactionId}. Recibirá un correo de confirmación pronto.`,icon:"success",confirmButtonText:"Continuar Comprando",confirmButtonColor:"#16a34a"}),e("/productos")}catch(W){console.error("Error placing order:",W),ve.fire("Error",W.message||"No se pudo realizar el pedido. Por favor intente nuevamente.","error")}finally{l(!1)}}};return u?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"checkout-container",children:d.jsxs("div",{className:"checkout-content",children:[d.jsx("h1",{className:"checkout-title",children:"Pago"}),d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("div",{className:"order-summary",children:[d.jsx("h2",{children:"Resumen del Pedido"}),d.jsx("div",{className:"order-items",children:u.cart.map(q=>{var H;return d.jsxs("div",{className:"order-item",children:[d.jsx("img",{src:q.image||q.mainImage||((H=q.images)==null?void 0:H[0]),alt:q.name,className:"item-image"}),d.jsxs("div",{className:"item-details",children:[d.jsx("h3",{children:q.name}),d.jsxs("p",{children:["Cantidad: ",q.quantity]}),d.jsxs("p",{children:["Precio: $",Math.round(q.price).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"item-total",children:["$",Math.round(q.price*q.quantity).toLocaleString("es-CO")]})]},q.id)})}),d.jsxs("div",{className:"pricing-summary",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(u.subtotal).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envío:"}),d.jsx("span",{className:"free",children:"Gratis"})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuesto (2%):"}),d.jsxs("span",{children:["$",Math.round(u.tax).toLocaleString("es-CO")]})]}),u.discount>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsxs("span",{children:["Descuento (",(L=u.appliedPromo)==null?void 0:L.discount,"%):"]}),d.jsxs("span",{children:["-$",Math.round(u.discount).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(u.total).toLocaleString("es-CO")]})]})]})]}),d.jsxs("div",{className:"checkout-form",children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Dirección de Entrega"}),d.jsxs("div",{className:"address-display",children:[d.jsx("strong",{children:u.selectedAddress.name}),d.jsx("br",{}),u.selectedAddress.street,d.jsx("br",{}),u.selectedAddress.city,", ",u.selectedAddress.state," ",u.selectedAddress.zipCode,d.jsx("br",{}),u.selectedAddress.country,d.jsx("br",{}),"Teléfono: ",u.selectedAddress.phone]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Método de Pago"}),d.jsxs("div",{className:"payment-options",children:[d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"paypal",checked:m==="paypal",onChange:q=>g(q.target.value)}),d.jsx("span",{children:"PayPal"})]}),d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"cash_on_delivery",checked:m==="cash_on_delivery",onChange:q=>g(q.target.value)}),d.jsx("span",{children:"Contra Entrega"})]})]}),m==="paypal"&&d.jsxs("div",{className:"payment-form paypal-form",children:[d.jsx("h4",{children:"Pagar con PayPal"}),d.jsx(EM,{amount:u.total,currency:"COP",onSuccess:q=>{j(q)},onCancel:()=>{ve.fire("Pago Cancelado","Has cancelado el pago de PayPal. Puedes completar tu pedido cuando estés listo.","info")},onError:q=>{ve.fire("Error de Pago",q||"Error al procesar el pago con PayPal. Por favor intente nuevamente.","error")}})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Notas del Pedido (Opcional)"}),d.jsx("textarea",{value:v,onChange:q=>x(q.target.value),placeholder:"Cualquier instrucción especial para tu pedido...",className:"order-notes",rows:4})]}),d.jsx(Tt,{onClick:B,disabled:a||m==="paypal",variant:"primary",size:"lg",fullWidth:!0,className:"place-order-btn",children:a?d.jsxs("span",{children:[d.jsx("span",{className:"spinner"})," Procesando..."]}):`Realizar Pedido - $${Math.round(u.total).toLocaleString("es-CO")}`}),d.jsx(Tt,{onClick:()=>e("/carrito"),variant:"secondary",fullWidth:!0,className:"back-to-cart-btn",children:"Volver al Carrito"})]})]})]})}),d.jsx("style",{children:`
        .checkout-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 30px 20px;
        }

        .checkout-content {
          max-width: 1200px;
          margin: 0 auto;
        }

        .checkout-title {
          font-size: 2rem;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 30px;
          text-align: center;
        }

        .checkout-layout {
          display: grid;
          grid-template-columns: 1fr 400px;
          gap: 30px;
        }

        .order-summary {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .order-summary h2 {
          font-size: 1.5rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 20px;
        }

        .order-items {
          margin-bottom: 30px;
        }

        .order-item {
          display: flex;
          align-items: center;
          gap: 15px;
          padding: 15px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .order-item:last-child {
          border-bottom: none;
        }

        .item-image {
          width: 60px;
          height: 60px;
          object-fit: cover;
          border-radius: 8px;
        }

        .item-details {
          flex: 1;
        }

        .item-details h3 {
          margin: 0 0 5px 0;
          font-size: 1rem;
          font-weight: 600;
          color: #1e293b;
        }

        .item-details p {
          margin: 2px 0;
          font-size: 0.875rem;
          color: #6b7280;
        }

        .item-total {
          font-weight: 600;
          color: #1e293b;
        }

        .pricing-summary {
          border-top: 1px solid #e5e7eb;
          padding-top: 20px;
        }

        .pricing-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
          font-size: 0.95rem;
        }

        .pricing-row.total {
          font-size: 1.125rem;
          font-weight: 700;
          color: #1e293b;
          border-top: 1px solid #e5e7eb;
          padding-top: 15px;
          margin-top: 15px;
        }

        .pricing-row.discount {
          color: #16a34a;
        }

        .free {
          color: #16a34a;
          font-weight: 500;
        }

        .checkout-form {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
          height: fit-content;
        }

        .form-section {
          margin-bottom: 30px;
        }

        .form-section h3 {
          font-size: 1.125rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 15px;
        }

        .address-display {
          background: #f8fafc;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 15px;
          font-size: 0.875rem;
          line-height: 1.6;
          color: #374151;
        }

        .payment-options {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .payment-option {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .payment-option:hover {
          border-color: #ea580c;
          background: #fff7ed;
        }

        .payment-option input[type="radio"] {
          margin: 0;
          accent-color: #ea580c;
        }

        .payment-form {
          margin-top: 20px;
          padding: 20px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          background: #f8fafc;
        }

        .payment-form h4 {
          margin-top: 0;
          margin-bottom: 15px;
          color: #1e293b;
        }

        .form-group {
          margin-bottom: 15px;
        }

        .form-group label {
          display: block;
          margin-bottom: 5px;
          font-weight: 500;
          color: #374151;
          font-size: 0.875rem;
        }

        .form-input {
          width: 100%;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          font-size: 1rem;
          box-sizing: border-box;
        }

        .form-input:focus {
          outline: none;
          border-color: #ea580c;
          box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }

        .form-input.error {
          border-color: #ef4444;
        }

        .error-message {
          color: #ef4444;
          font-size: 0.875rem;
          margin-top: 5px;
          display: block;
        }

        .form-row {
          display: flex;
          gap: 15px;
        }

        .form-row .form-group {
          flex: 1;
        }

        .card-element {
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          background: white;
          transition: border-color 0.2s;
        }

        .card-element:hover {
          border-color: #d1d5db;
        }

        .card-element.error {
          border-color: #ef4444;
        }

        .stripe-payment-form {
          margin-top: 20px;
        }

        .stripe-form .pay-button {
          width: 100%;
          padding: 12px;
          background: #16a34a;
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 1rem;
          font-weight: 600;
          cursor: pointer;
          transition: background-color 0.2s;
        }

        .stripe-form .pay-button:hover:not(:disabled) {
          background: #15803d;
        }

        .stripe-form .pay-button:disabled {
          background: #9ca3af;
          cursor: not-allowed;
        }

        .paypal-info {
          margin-top: 15px;
          padding: 10px;
          background: #fff7ed;
          border-radius: 6px;
          font-size: 0.875rem;
          color: #c2410c;
        }

        .order-notes {
          width: 100%;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-size: 0.875rem;
          resize: vertical;
          font-family: inherit;
        }

        .order-notes:focus {
          outline: none;
          border-color: #ea580c;
          box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }

        .place-order-btn {
          background: #16a34a !important;
          margin-bottom: 15px;
          position: relative;
        }

        .place-order-btn:hover:not(:disabled) {
          background: #15803d !important;
        }

        .back-to-cart-btn {
          background: transparent !important;
          color: #6b7280 !important;
          border: 1px solid #e5e7eb !important;
        }

        .back-to-cart-btn:hover {
          background: #f8fafc !important;
          color: #374151 !important;
        }

        .loading-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 80vh;
        }

        .spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: #fff;
          animation: spin 1s ease-in-out infinite;
          margin-right: 8px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        @media (max-width: 1024px) {
          .checkout-layout {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .checkout-form {
            order: -1;
          }
        }

        @media (max-width: 768px) {
          .checkout-container {
            padding: 20px 15px;
          }

          .order-summary,
          .checkout-form {
            padding: 20px;
          }

          .checkout-title {
            font-size: 1.5rem;
          }

          .form-row {
            flex-direction: column;
            gap: 15px;
          }
        }
      `})]}):d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"loading-container",children:d.jsx(Ro,{size:"lg",color:"#ea580c",text:"Loading checkout..."})})]})}function fX(){var H;const t=Ds(),e=Os(),{vaciarCarrito:n}=No(),[i,s]=N.useState(null),[a,l]=N.useState(!1),[u,h]=N.useState(null),[m,g]=N.useState("paypal"),[v,x]=N.useState(""),[_,E]=N.useState(!1),[C,A]=N.useState(!1);N.useEffect(()=>{const W=va(yn,D=>{s(D),D||e("/login")});return()=>W()},[e]),N.useEffect(()=>{t.state?h(t.state):e("/carrito")},[t.state,e]);const j=async W=>{try{E(!0);const D={userId:i.uid,userEmail:i.email,userName:i.displayName||i.email.split("@")[0],items:u.cart.map(M=>{var z;return{id:M.id,name:M.name,price:M.price,quantity:M.quantity,image:M.image||M.mainImage||((z=M.images)==null?void 0:z[0])||"",material:M.material||"N/A",color:M.color||"N/A"}}),deliveryAddress:u.selectedAddress,appliedPromo:u.appliedPromo,pricing:{subtotal:u.subtotal,shippingFee:u.shippingFee,tax:u.tax,discount:u.discount||0,total:u.total},paymentMethod:m,paymentTransactionId:W.transactionId,orderNotes:v,status:"pending",createdAt:new Date,updatedAt:new Date},I=(await _o(an(Ne,"orders"),D)).id;u.appliedPromo&&u.appliedPromo.id&&await _i($e(Ne,"promoCodes",u.appliedPromo.id),{usageCount:qp(1)}),n(),await ve.fire({title:"¡Pedido Realizado con Éxito!",text:`Su pedido #${I} ha sido realizado. ID de Transacción: ${W.transactionId}. Recibirá un correo de confirmación pronto.`,icon:"success",confirmButtonText:"Continuar Comprando",confirmButtonColor:"#16a34a"}),e("/productos")}catch(D){console.error("Error placing order:",D),ve.fire("Error","No se pudo realizar el pedido. Por favor intente nuevamente.","error")}finally{E(!1)}},B=async W=>{try{E(!0);const D={userId:i.uid,userEmail:i.email,userName:i.displayName||i.email.split("@")[0],items:u.cart.map(M=>{var z;return{id:M.id,name:M.name,price:M.price,quantity:M.quantity,image:M.image||M.mainImage||((z=M.images)==null?void 0:z[0])||"",material:M.material||"N/A",color:M.color||"N/A"}}),deliveryAddress:u.selectedAddress,appliedPromo:u.appliedPromo,pricing:{subtotal:u.subtotal,shippingFee:u.shippingFee,tax:u.tax,discount:u.discount||0,total:u.total},paymentMethod:"paypal",paymentTransactionId:W.transactionId,orderNotes:v,status:"pending",createdAt:new Date,updatedAt:new Date},I=(await _o(an(Ne,"orders"),D)).id;u.appliedPromo&&u.appliedPromo.id&&await _i($e(Ne,"promoCodes",u.appliedPromo.id),{usageCount:qp(1)}),n(),await ve.fire({title:"¡Pedido Realizado con Éxito!",text:`Su pedido #${I} ha sido realizado. ID de Transacción: ${W.transactionId}. Recibirá un correo de confirmación pronto.`,icon:"success",confirmButtonText:"Continuar Comprando",confirmButtonColor:"#16a34a"}),e("/productos")}catch(D){console.error("Error placing order:",D),ve.fire("Error","No se pudo realizar el pedido. Por favor intente nuevamente.","error")}finally{E(!1)}},L=W=>{console.log("Payment cancelled:",W),ve.fire("Pago Cancelado","Has cancelado el pago de PayPal. Puedes completar tu pedido cuando estés listo.","info"),E(!1)},q=W=>{console.error("Payment error:",W),ve.fire("Error de Pago",W.message||"El pago falló. Por favor intente nuevamente.","error"),E(!1)};return u?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"checkout-container",children:d.jsxs("div",{className:"checkout-content",children:[d.jsx("h1",{className:"checkout-title",children:"Pago Seguro"}),d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("div",{className:"order-summary",children:[d.jsx("h2",{children:"Resumen del Pedido"}),d.jsx("div",{className:"order-items",children:u.cart.map(W=>{var D;return d.jsxs("div",{className:"order-item",children:[d.jsx("img",{src:W.image||W.mainImage||((D=W.images)==null?void 0:D[0]),alt:W.name,className:"item-image"}),d.jsxs("div",{className:"item-details",children:[d.jsx("h3",{children:W.name}),d.jsxs("p",{children:["Cantidad: ",W.quantity]}),d.jsxs("p",{children:["Precio: $",Math.round(W.price).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"item-total",children:["$",Math.round(W.price*W.quantity).toLocaleString("es-CO")]})]},W.id)})}),d.jsxs("div",{className:"pricing-summary",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(u.subtotal).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envío:"}),d.jsx("span",{className:"free",children:"Gratis"})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuesto (2%):"}),d.jsxs("span",{children:["$",Math.round(u.tax).toLocaleString("es-CO")]})]}),u.discount>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsxs("span",{children:["Descuento (",(H=u.appliedPromo)==null?void 0:H.discount,"%):"]}),d.jsxs("span",{children:["-$",Math.round(u.discount).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(u.total).toLocaleString("es-CO")]})]})]})]}),d.jsxs("div",{className:"checkout-form",children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Dirección de Entrega"}),d.jsxs("div",{className:"address-display",children:[d.jsx("strong",{children:u.selectedAddress.name}),d.jsx("br",{}),u.selectedAddress.street,d.jsx("br",{}),u.selectedAddress.city,", ",u.selectedAddress.state," ",u.selectedAddress.zipCode,d.jsx("br",{}),u.selectedAddress.country,d.jsx("br",{}),"Teléfono: ",u.selectedAddress.phone]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Método de Pago"}),d.jsxs("div",{className:"payment-options",children:[d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"paypal",checked:m==="paypal",onChange:W=>g(W.target.value)}),d.jsx("span",{children:"PayPal"})]}),d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"cash_on_delivery",checked:m==="cash_on_delivery",onChange:W=>g(W.target.value)}),d.jsx("span",{children:"Contra Entrega"})]})]}),m==="paypal"&&d.jsxs("div",{className:"payment-form paypal-form",children:[d.jsx("h4",{children:"Pagar con PayPal"}),d.jsx(EM,{amount:u.total,currency:"COP",onSuccess:B,onCancel:L,onError:q})]}),m==="cash_on_delivery"&&d.jsx("div",{className:"cod-info",children:d.jsx("p",{children:"Has seleccionado Contra Entrega. Pagarás cuando tu pedido sea entregado."})})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Notas del Pedido (Opcional)"}),d.jsx("textarea",{value:v,onChange:W=>x(W.target.value),placeholder:"Cualquier instrucción especial para tu pedido...",className:"order-notes",rows:4})]}),d.jsx(Tt,{onClick:()=>j({success:!0,transactionId:`${m}_${Date.now()}`,paymentMethod:m}),disabled:a||_||m==="paypal",variant:"primary",size:"lg",fullWidth:!0,className:"place-order-btn",children:a||_?d.jsxs("span",{children:[d.jsx("span",{className:"spinner"})," Procesando..."]}):`Realizar Pedido - $${Math.round(u.total).toLocaleString("es-CO")}`}),d.jsx(Tt,{onClick:()=>e("/carrito"),variant:"secondary",fullWidth:!0,className:"back-to-cart-btn",children:"Volver al Carrito"})]})]})]})}),d.jsx("style",{children:`
        .checkout-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 30px 20px;
        }

        .checkout-content {
          max-width: 1200px;
          margin: 0 auto;
        }

        .checkout-title {
          font-size: 2rem;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 30px;
          text-align: center;
        }

        .checkout-layout {
          display: grid;
          grid-template-columns: 1fr 400px;
          gap: 30px;
        }

        .order-summary {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .order-summary h2 {
          font-size: 1.5rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 20px;
        }

        .order-items {
          margin-bottom: 30px;
        }

        .order-item {
          display: flex;
          align-items: center;
          gap: 15px;
          padding: 15px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .order-item:last-child {
          border-bottom: none;
        }

        .item-image {
          width: 60px;
          height: 60px;
          object-fit: cover;
          border-radius: 8px;
        }

        .item-details {
          flex: 1;
        }

        .item-details h3 {
          margin: 0 0 5px 0;
          font-size: 1rem;
          font-weight: 600;
          color: #1e293b;
        }

        .item-details p {
          margin: 2px 0;
          font-size: 0.875rem;
          color: #6b7280;
        }

        .item-total {
          font-weight: 600;
          color: #1e293b;
        }

        .pricing-summary {
          border-top: 1px solid #e5e7eb;
          padding-top: 20px;
        }

        .pricing-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
          font-size: 0.95rem;
        }

        .pricing-row.total {
          font-size: 1.125rem;
          font-weight: 700;
          color: #1e293b;
          border-top: 1px solid #e5e7eb;
          padding-top: 15px;
          margin-top: 15px;
        }

        .pricing-row.discount {
          color: #16a34a;
        }

        .free {
          color: #16a34a;
          font-weight: 500;
        }

        .checkout-form {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
          height: fit-content;
        }

        .form-section {
          margin-bottom: 30px;
        }

        .form-section h3 {
          font-size: 1.125rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 15px;
        }

        .address-display {
          background: #f8fafc;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 15px;
          font-size: 0.875rem;
          line-height: 1.6;
          color: #374151;
        }

        .payment-options {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .payment-option {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .payment-option:hover {
          border-color: #16a34a;
          background: #f0fdf4;
        }

        .payment-option input[type="radio"] {
          margin: 0;
          accent-color: #16a34a;
        }

        .cod-info, .paypal-info {
          margin-top: 20px;
          padding: 15px;
          background: #f0fdf4;
          border-radius: 8px;
          font-size: 0.875rem;
          color: #15803d;
        }

        .order-notes {
          width: 100%;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-size: 0.875rem;
          resize: vertical;
          font-family: inherit;
        }

        .order-notes:focus {
          outline: none;
          border-color: #16a34a;
          box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
        }

        .place-order-btn {
          background: #16a34a !important;
          margin-bottom: 15px;
          position: relative;
        }

        .place-order-btn:hover:not(:disabled) {
          background: #15803d !important;
        }

        .back-to-cart-btn {
          background: transparent !important;
          color: #6b7280 !important;
          border: 1px solid #e5e7eb !important;
        }

        .back-to-cart-btn:hover {
          background: #f8fafc !important;
          color: #374151 !important;
        }

        .loading-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 80vh;
        }

        .spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: #fff;
          animation: spin 1s ease-in-out infinite;
          margin-right: 8px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        @media (max-width: 1024px) {
          .checkout-layout {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .checkout-form {
            order: -1;
          }
        }

        @media (max-width: 768px) {
          .checkout-container {
            padding: 20px 15px;
          }

          .order-summary,
          .checkout-form {
            padding: 20px;
          }

          .checkout-title {
            font-size: 1.5rem;
          }
        }
      `})]}):d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"loading-container",children:d.jsx(Ro,{size:"lg",color:"#ea580c",text:"Cargando pago..."})})]})}function mX(){var _,E,C,A,j,B,L,q,H,W,D,k,I,M,z,U,R,ge;const[t,e]=N.useState([]),[n,i]=N.useState(!0),[s,a]=N.useState(null),[l,u]=N.useState(null),[h,m]=N.useState(!1);N.useEffect(()=>{const te=va(yn,Y=>{a(Y),Y||i(!1)});return()=>te()},[]),N.useEffect(()=>{if(!s){i(!1);return}const te=ho(an(Ne,"orders"),Ol("userId","==",s.uid),z9("createdAt","desc")),Y=aa(te,K=>{const ie=K.docs.map(ce=>({id:ce.id,...ce.data()}));e(ie),i(!1)});return()=>Y()},[s]);const g=te=>{switch(te){case"pending":return"status-pending";case"processing":return"status-processing";case"shipped":return"status-shipped";case"delivered":return"status-delivered";case"cancelled":return"status-cancelled";default:return"status-pending"}},v=te=>{switch(te){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return"Pendiente"}},x=te=>{u(te),m(!0)};return n?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"loading-container",children:d.jsx(Ro,{size:"lg",color:"#ea580c",text:"Cargando órdenes..."})}),d.jsx(ia,{})]}):s?d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsxs("div",{className:"orders-container",children:[d.jsxs("div",{className:"orders-header",children:[d.jsx("h1",{children:"Mis Órdenes"}),d.jsx("p",{children:"Aquí puedes ver el historial de todas tus órdenes"})]}),t.length===0?d.jsxs("div",{className:"no-orders",children:[d.jsx("div",{className:"no-orders-icon",children:"📦"}),d.jsx("h3",{children:"No tienes órdenes aún"}),d.jsx("p",{children:"Cuando realices tu primera compra, aparecerá aquí."}),d.jsx("a",{href:"/productos",className:"shop-now-btn",children:"Ir a comprar"})]}):d.jsx("div",{className:"orders-list",children:t.map(te=>{var Y,K,ie,ce;return d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{className:"order-info",children:[d.jsxs("h3",{children:["Orden #",te.id.substring(0,8)]}),d.jsx("p",{className:"order-date",children:(Y=te.createdAt)!=null&&Y.toDate?te.createdAt.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),d.jsx("div",{className:"order-status",children:d.jsx("span",{className:`status-badge ${g(te.status)}`,children:v(te.status)})})]}),d.jsxs("div",{className:"order-items",children:[(K=te.items)==null?void 0:K.slice(0,3).map((V,ae)=>d.jsxs("div",{className:"order-item",children:[d.jsx("img",{src:V.image||"/placeholder.jpg",alt:V.name,className:"item-image"}),d.jsxs("div",{className:"item-details",children:[d.jsx("h4",{children:V.name}),d.jsxs("p",{children:["Cantidad: ",V.quantity]}),d.jsxs("p",{className:"item-price",children:["$",Math.round(V.price).toLocaleString("es-CO")]})]})]},ae)),((ie=te.items)==null?void 0:ie.length)>3&&d.jsxs("div",{className:"more-items",children:["+",te.items.length-3," productos más"]})]}),d.jsxs("div",{className:"order-footer",children:[d.jsx("div",{className:"order-total",children:d.jsxs("strong",{children:["Total: $",Math.round(((ce=te.pricing)==null?void 0:ce.total)||0).toLocaleString("es-CO")]})}),d.jsxs("div",{className:"order-actions",children:[d.jsx("button",{className:"order-details-btn",onClick:()=>x(te),children:"Ver detalles"}),te.status==="delivered"&&d.jsx("button",{className:"reorder-btn",children:"Volver a pedir"})]})]})]},te.id)})})]}),d.jsx(ia,{}),h&&l&&d.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:d.jsxs("div",{className:"modal-content",onClick:te=>te.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("h2",{children:["Detalles de la Orden #",l.id.substring(0,8)]}),d.jsx("button",{className:"modal-close",onClick:()=>m(!1),children:"×"})]}),d.jsxs("div",{className:"modal-body",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Información de la Orden"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Número de orden:"})," #",l.id.substring(0,8)]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Fecha:"})," ",(_=l.createdAt)!=null&&_.toDate?l.createdAt.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha no disponible"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Estado:"})," ",d.jsx("span",{className:`status-badge ${g(l.status)}`,children:v(l.status)})]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Método de pago:"})," ",((C=(E=l.paymentMethod)==null?void 0:E.replace("_"," "))==null?void 0:C.toUpperCase())||"No especificado"]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Dirección de Entrega"}),d.jsxs("div",{className:"address-details",children:[d.jsx("strong",{children:((A=l.deliveryAddress)==null?void 0:A.name)||"No especificado"}),d.jsx("br",{}),((j=l.deliveryAddress)==null?void 0:j.street)||"Dirección no disponible",d.jsx("br",{}),((B=l.deliveryAddress)==null?void 0:B.city)||"",", ",((L=l.deliveryAddress)==null?void 0:L.state)||""," ",((q=l.deliveryAddress)==null?void 0:q.zipCode)||"",d.jsx("br",{}),((H=l.deliveryAddress)==null?void 0:H.country)||"",d.jsx("br",{}),"Teléfono: ",((W=l.deliveryAddress)==null?void 0:W.phone)||"No especificado"]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsxs("h3",{children:["Productos (",((D=l.items)==null?void 0:D.length)||0," artículos)"]}),d.jsx("div",{className:"items-list",children:(k=l.items)==null?void 0:k.map((te,Y)=>d.jsxs("div",{className:"item-detail",children:[d.jsx("img",{src:te.image||"/placeholder.jpg",alt:te.name,className:"item-image-detail"}),d.jsxs("div",{className:"item-info-detail",children:[d.jsx("h4",{children:te.name}),d.jsxs("p",{children:["Material: ",te.material||"N/A"," | Color: ",te.color||"N/A"]}),d.jsxs("p",{children:["Cantidad: ",te.quantity," × $",Math.round(te.price).toLocaleString("es-CO")," = $",Math.round(te.quantity*te.price).toLocaleString("es-CO")]})]})]},Y))})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Resumen de Precios"}),d.jsxs("div",{className:"pricing-detail",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(((I=l.pricing)==null?void 0:I.subtotal)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envío:"}),d.jsxs("span",{children:["$",Math.round(((M=l.pricing)==null?void 0:M.shippingFee)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuestos:"}),d.jsxs("span",{children:["$",Math.round(((z=l.pricing)==null?void 0:z.tax)||0).toLocaleString("es-CO")]})]}),(((U=l.pricing)==null?void 0:U.discount)||0)>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsx("span",{children:"Descuento:"}),d.jsxs("span",{children:["-$",Math.round(((R=l.pricing)==null?void 0:R.discount)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(((ge=l.pricing)==null?void 0:ge.total)||0).toLocaleString("es-CO")]})]})]})]}),l.orderNotes&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Notas del Pedido"}),d.jsx("div",{className:"order-notes",children:l.orderNotes})]})]})]})}),d.jsx("style",{children:`
        .orders-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 30px 20px;
        }

        .orders-header {
          max-width: 1200px;
          margin: 0 auto 30px auto;
          text-align: center;
        }

        .orders-header h1 {
          font-size: 2.5rem;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 10px;
        }

        .orders-header p {
          font-size: 1.1rem;
          color: #64748b;
        }

        .loading-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 50vh;
        }

        .no-auth-message {
          max-width: 500px;
          margin: 100px auto;
          text-align: center;
          background: white;
          padding: 40px;
          border-radius: 16px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .no-auth-message h2 {
          color: #1e293b;
          margin-bottom: 15px;
        }

        .no-auth-message p {
          color: #64748b;
          margin-bottom: 25px;
        }

        .login-btn {
          display: inline-block;
          background: #ea580c;
          color: white;
          padding: 12px 24px;
          border-radius: 8px;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        }

        .login-btn:hover {
          background: #dc2626;
        }

        .no-orders {
          max-width: 500px;
          margin: 100px auto;
          text-align: center;
          background: white;
          padding: 60px 40px;
          border-radius: 16px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .no-orders-icon {
          font-size: 4rem;
          margin-bottom: 20px;
        }

        .no-orders h3 {
          color: #1e293b;
          font-size: 1.5rem;
          margin-bottom: 10px;
        }

        .no-orders p {
          color: #64748b;
          margin-bottom: 30px;
        }

        .shop-now-btn {
          display: inline-block;
          background: #16a34a;
          color: white;
          padding: 14px 28px;
          border-radius: 8px;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        }

        .shop-now-btn:hover {
          background: #15803d;
        }

        .orders-list {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .order-card {
          background: white;
          border-radius: 12px;
          padding: 24px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
          border: 1px solid #e5e7eb;
          transition: transform 0.2s, box-shadow 0.2s;
        }

        .order-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .order-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 1px solid #f1f5f9;
        }

        .order-info h3 {
          color: #1e293b;
          font-size: 1.25rem;
          font-weight: 600;
          margin-bottom: 5px;
        }

        .order-date {
          color: #64748b;
          font-size: 0.9rem;
        }

        .status-badge {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 0.8rem;
          font-weight: 600;
          text-transform: uppercase;
        }

        .status-pending {
          background: #fef3c7;
          color: #92400e;
        }

        .status-processing {
          background: #dbeafe;
          color: #1e40af;
        }

        .status-shipped {
          background: #d1fae5;
          color: #065f46;
        }

        .status-delivered {
          background: #dcfce7;
          color: #166534;
        }

        .status-cancelled {
          background: #fee2e2;
          color: #dc2626;
        }

        .order-items {
          margin-bottom: 20px;
        }

        .order-item {
          display: flex;
          align-items: center;
          gap: 15px;
          padding: 10px 0;
          border-bottom: 1px solid #f8fafc;
        }

        .order-item:last-child {
          border-bottom: none;
        }

        .item-image {
          width: 60px;
          height: 60px;
          object-fit: cover;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-details h4 {
          color: #1e293b;
          font-size: 1rem;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .item-details p {
          color: #64748b;
          font-size: 0.85rem;
          margin: 2px 0;
        }

        .item-price {
          color: #ea580c !important;
          font-weight: 600 !important;
        }

        .more-items {
          text-align: center;
          color: #64748b;
          font-size: 0.9rem;
          padding: 10px;
          background: #f8fafc;
          border-radius: 6px;
          margin-top: 10px;
        }

        .order-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 15px;
          border-top: 1px solid #f1f5f9;
        }

        .order-total {
          color: #1e293b;
          font-size: 1.1rem;
        }

        .order-actions {
          display: flex;
          gap: 10px;
        }

        .order-details-btn, .reorder-btn {
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 0.9rem;
          font-weight: 500;
          border: none;
          cursor: pointer;
          transition: all 0.2s;
        }

        .order-details-btn {
          background: #f1f5f9;
          color: #475569;
        }

        .order-details-btn:hover {
          background: #e2e8f0;
        }

        .reorder-btn {
          background: #ea580c;
          color: white;
        }

        .reorder-btn:hover {
          background: #dc2626;
        }

        @media (max-width: 768px) {
          .orders-container {
            padding: 20px 15px;
          }

          .orders-header h1 {
            font-size: 2rem;
          }

          .order-card {
            padding: 20px;
          }

          .order-header {
            flex-direction: column;
            gap: 15px;
            align-items: flex-start;
          }

          .order-footer {
            flex-direction: column;
            gap: 15px;
            align-items: flex-start;
          }

          .order-actions {
            width: 100%;
          }

          .order-details-btn, .reorder-btn {
            flex: 1;
          }

          .item-details h4 {
            font-size: 0.9rem;
          }
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          backdrop-filter: blur(4px);
        }

        .modal-content {
          background: white;
          border-radius: 16px;
          width: 90%;
          max-width: 800px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
          position: relative;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0 24px;
          border-bottom: 1px solid #f1f5f9;
          margin-bottom: 24px;
        }

        .modal-header h2 {
          color: #1e293b;
          font-size: 1.5rem;
          font-weight: 700;
          margin: 0;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 2rem;
          color: #6b7280;
          cursor: pointer;
          padding: 0;
          width: 32px;
          height: 32px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }

        .modal-close:hover {
          background: #f3f4f6;
          color: #374151;
        }

        .modal-body {
          padding: 0 24px 24px 24px;
        }

        .detail-section {
          margin-bottom: 32px;
        }

        .detail-section:last-child {
          margin-bottom: 0;
        }

        .detail-section h3 {
          color: #1e293b;
          font-size: 1.125rem;
          font-weight: 600;
          margin-bottom: 16px;
          padding-bottom: 8px;
          border-bottom: 2px solid #f1f5f9;
        }

        .detail-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 12px;
        }

        .detail-grid > div {
          padding: 8px 0;
          font-size: 0.9rem;
          color: #374151;
        }

        .address-details {
          background: #f8fafc;
          padding: 16px;
          border-radius: 8px;
          line-height: 1.6;
          color: #374151;
        }

        .items-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .item-detail {
          display: flex;
          gap: 16px;
          padding: 16px;
          background: #f8fafc;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-image-detail {
          width: 80px;
          height: 80px;
          object-fit: cover;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-info-detail {
          flex: 1;
        }

        .item-info-detail h4 {
          color: #1e293b;
          font-size: 1rem;
          font-weight: 600;
          margin-bottom: 8px;
        }

        .item-info-detail p {
          color: #6b7280;
          font-size: 0.875rem;
          margin: 4px 0;
        }

        .pricing-detail {
          background: #f8fafc;
          padding: 20px;
          border-radius: 8px;
        }

        .pricing-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .pricing-row:last-child {
          border-bottom: none;
        }

        .pricing-row.total {
          font-weight: 700;
          font-size: 1.1rem;
          color: #1e293b;
          border-top: 2px solid #e5e7eb;
          padding-top: 12px;
          margin-top: 8px;
        }

        .pricing-row.discount {
          color: #16a34a;
        }

        .order-notes {
          background: #f8fafc;
          padding: 16px;
          border-radius: 8px;
          color: #374151;
          line-height: 1.6;
          font-style: italic;
        }

        @media (max-width: 768px) {
          .modal-content {
            width: 95%;
            margin: 20px;
          }

          .modal-header {
            padding: 20px 20px 0 20px;
          }

          .modal-body {
            padding: 0 20px 20px 20px;
          }

          .detail-grid {
            grid-template-columns: 1fr;
          }

          .item-detail {
            flex-direction: column;
            align-items: center;
            text-align: center;
          }

          .item-image-detail {
            width: 60px;
            height: 60px;
          }
        }
      `})]}):d.jsxs(d.Fragment,{children:[d.jsx(Dn,{}),d.jsx("div",{className:"orders-container",children:d.jsxs("div",{className:"no-auth-message",children:[d.jsx("h2",{children:"Inicia sesión para ver tus órdenes"}),d.jsx("p",{children:"Necesitas estar autenticado para ver tu historial de órdenes."}),d.jsx("a",{href:"/login",className:"login-btn",children:"Iniciar sesión"})]})}),d.jsx(ia,{})]})}function pX(){return d.jsxs(ZO,{children:[d.jsx(qn,{path:"/",element:d.jsx(M7,{})}),d.jsx(qn,{path:"/blog",element:d.jsx(D7,{})}),d.jsx(qn,{path:"/contacto",element:d.jsx(O7,{})}),d.jsx(qn,{path:"/login",element:d.jsx(L7,{})}),d.jsx(qn,{path:"/register",element:d.jsx(V7,{})}),d.jsx(qn,{path:"/productos",element:d.jsx(N$,{})}),d.jsx(qn,{path:"/admin",element:d.jsx(JA,{})}),d.jsx(qn,{path:"/producto/:id",element:d.jsx(k$,{})}),d.jsx(qn,{path:"/Carrito",element:d.jsx(R$,{})}),d.jsx(qn,{path:"/favoritos",element:d.jsx(cX,{})}),d.jsx(qn,{path:"/reset-password",element:d.jsx(uX,{})}),d.jsx(qn,{path:"/checkout",element:d.jsx(hX,{})}),d.jsx(qn,{path:"/checkout-enhanced",element:d.jsx(fX,{})}),d.jsx(qn,{path:"/mis-ordenes",element:d.jsx(mX,{})}),d.jsx(qn,{path:"/admin",element:d.jsx(C$,{children:d.jsx(JA,{})})}),d.jsx(qn,{path:"*",element:d.jsx(dX,{})})]})}const gX=N.createContext(),yX=({children:t})=>{const[e,n]=N.useState([{id:"paypal",name:"PayPal",enabled:!0},{id:"cash_on_delivery",name:"Contra Entrega",enabled:!0}]),[i,s]=N.useState("paypal"),[a,l]=N.useState(!1),[u,h]=N.useState(null),_={paymentMethods:e,selectedPaymentMethod:i,paymentProcessing:a,paymentError:u,selectPaymentMethod:E=>{s(E)},startPaymentProcessing:()=>{l(!0),h(null)},completePaymentProcessing:()=>{l(!1)},setPaymentErrorMessage:E=>{h(E),l(!1)}};return d.jsx(gX.Provider,{value:_,children:t})};function vX(){return d.jsx(vz,{children:d.jsx(ij,{children:d.jsx(yX,{children:d.jsx(pX,{})})})})}aO.createRoot(document.getElementById("root")).render(d.jsx(Q.StrictMode,{children:d.jsx(_4,{children:d.jsx(ij,{children:d.jsx(vX,{})})})}));
