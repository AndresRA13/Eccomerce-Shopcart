var ZM=Object.defineProperty;var JM=(t,e,n)=>e in t?ZM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fe=(t,e,n)=>JM(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function yk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tv={exports:{}},Od={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function eD(){if(RE)return Od;RE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Od.Fragment=e,Od.jsx=n,Od.jsxs=n,Od}var jE;function tD(){return jE||(jE=1,tv.exports=eD()),tv.exports}var d=tD(),nv={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function nD(){if(NE)return qe;NE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function A(U,oe,ge){this.props=U,this.context=oe,this.refs=C,this.updater=ge||_}A.prototype.isReactComponent={},A.prototype.setState=function(U,oe){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,oe,"setState")},A.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=A.prototype;function B(U,oe,ge){this.props=U,this.context=oe,this.refs=C,this.updater=ge||_}var V=B.prototype=new j;V.constructor=B,E(V,A.prototype),V.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function z(U,oe,ge,pe,we,je){return ge=je.ref,{$$typeof:t,type:U,key:oe,ref:ge!==void 0?ge:null,props:je}}function k(U,oe){return z(U.type,oe,void 0,void 0,void 0,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function O(U){var oe={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return oe[ge]})}var L=/\/+/g;function D(U,oe){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):oe.toString(36)}function R(){}function ae(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(R,R):(U.status="pending",U.then(function(oe){U.status==="pending"&&(U.status="fulfilled",U.value=oe)},function(oe){U.status==="pending"&&(U.status="rejected",U.reason=oe)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ee(U,oe,ge,pe,we){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var Se=!1;if(U===null)Se=!0;else switch(je){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(U.$$typeof){case t:case e:Se=!0;break;case m:return Se=U._init,ee(Se(U._payload),oe,ge,pe,we)}}if(Se)return we=we(U),Se=pe===""?"."+D(U,0):pe,$(we)?(ge="",Se!=null&&(ge=Se.replace(L,"$&/")+"/"),ee(we,oe,ge,"",function(be){return be})):we!=null&&(P(we)&&(we=k(we,ge+(we.key==null||U&&U.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+Se)),oe.push(we)),1;Se=0;var jt=pe===""?".":pe+":";if($(U))for(var mt=0;mt<U.length;mt++)pe=U[mt],je=jt+D(pe,mt),Se+=ee(pe,oe,ge,je,we);else if(mt=b(U),typeof mt=="function")for(U=mt.call(U),mt=0;!(pe=U.next()).done;)pe=pe.value,je=jt+D(pe,mt++),Se+=ee(pe,oe,ge,je,we);else if(je==="object"){if(typeof U.then=="function")return ee(ae(U),oe,ge,pe,we);throw oe=String(U),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(U,oe,ge){if(U==null)return U;var pe=[],we=0;return ee(U,pe,"","",function(je){return oe.call(ge,je,we++)}),pe}function ne(U){if(U._status===-1){var oe=U._result;oe=oe(),oe.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=oe)}if(U._status===1)return U._result.default;throw U._result}var he=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function xe(){}return qe.Children={map:W,forEach:function(U,oe,ge){W(U,function(){oe.apply(this,arguments)},ge)},count:function(U){var oe=0;return W(U,function(){oe++}),oe},toArray:function(U){return W(U,function(oe){return oe})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},qe.Component=A,qe.Fragment=n,qe.Profiler=s,qe.PureComponent=B,qe.StrictMode=i,qe.Suspense=h,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,qe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return q.H.useMemoCache(U)}},qe.cache=function(U){return function(){return U.apply(null,arguments)}},qe.cloneElement=function(U,oe,ge){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var pe=E({},U.props),we=U.key,je=void 0;if(oe!=null)for(Se in oe.ref!==void 0&&(je=void 0),oe.key!==void 0&&(we=""+oe.key),oe)!J.call(oe,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&oe.ref===void 0||(pe[Se]=oe[Se]);var Se=arguments.length-2;if(Se===1)pe.children=ge;else if(1<Se){for(var jt=Array(Se),mt=0;mt<Se;mt++)jt[mt]=arguments[mt+2];pe.children=jt}return z(U.type,we,void 0,void 0,je,pe)},qe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},qe.createElement=function(U,oe,ge){var pe,we={},je=null;if(oe!=null)for(pe in oe.key!==void 0&&(je=""+oe.key),oe)J.call(oe,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(we[pe]=oe[pe]);var Se=arguments.length-2;if(Se===1)we.children=ge;else if(1<Se){for(var jt=Array(Se),mt=0;mt<Se;mt++)jt[mt]=arguments[mt+2];we.children=jt}if(U&&U.defaultProps)for(pe in Se=U.defaultProps,Se)we[pe]===void 0&&(we[pe]=Se[pe]);return z(U,je,void 0,void 0,null,we)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(U){return{$$typeof:u,render:U}},qe.isValidElement=P,qe.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:ne}},qe.memo=function(U,oe){return{$$typeof:p,type:U,compare:oe===void 0?null:oe}},qe.startTransition=function(U){var oe=q.T,ge={};q.T=ge;try{var pe=U(),we=q.S;we!==null&&we(ge,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(xe,he)}catch(je){he(je)}finally{q.T=oe}},qe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},qe.use=function(U){return q.H.use(U)},qe.useActionState=function(U,oe,ge){return q.H.useActionState(U,oe,ge)},qe.useCallback=function(U,oe){return q.H.useCallback(U,oe)},qe.useContext=function(U){return q.H.useContext(U)},qe.useDebugValue=function(){},qe.useDeferredValue=function(U,oe){return q.H.useDeferredValue(U,oe)},qe.useEffect=function(U,oe,ge){var pe=q.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(U,oe)},qe.useId=function(){return q.H.useId()},qe.useImperativeHandle=function(U,oe,ge){return q.H.useImperativeHandle(U,oe,ge)},qe.useInsertionEffect=function(U,oe){return q.H.useInsertionEffect(U,oe)},qe.useLayoutEffect=function(U,oe){return q.H.useLayoutEffect(U,oe)},qe.useMemo=function(U,oe){return q.H.useMemo(U,oe)},qe.useOptimistic=function(U,oe){return q.H.useOptimistic(U,oe)},qe.useReducer=function(U,oe,ge){return q.H.useReducer(U,oe,ge)},qe.useRef=function(U){return q.H.useRef(U)},qe.useState=function(U){return q.H.useState(U)},qe.useSyncExternalStore=function(U,oe,ge){return q.H.useSyncExternalStore(U,oe,ge)},qe.useTransition=function(){return q.H.useTransition()},qe.version="19.1.0",qe}var IE;function ib(){return IE||(IE=1,nv.exports=nD()),nv.exports}var I=ib();const Y=yk(I);var iv={exports:{}},Ld={},sv={exports:{}},rv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function iD(){return PE||(PE=1,function(t){function e(W,ne){var he=W.length;W.push(ne);e:for(;0<he;){var xe=he-1>>>1,U=W[xe];if(0<s(U,ne))W[xe]=ne,W[he]=U,he=xe;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ne=W[0],he=W.pop();if(he!==ne){W[0]=he;e:for(var xe=0,U=W.length,oe=U>>>1;xe<oe;){var ge=2*(xe+1)-1,pe=W[ge],we=ge+1,je=W[we];if(0>s(pe,he))we<U&&0>s(je,pe)?(W[xe]=je,W[we]=he,xe=we):(W[xe]=pe,W[ge]=he,xe=ge);else if(we<U&&0>s(je,he))W[xe]=je,W[we]=he,xe=we;else break e}}return ne}function s(W,ne){var he=W.sortIndex-ne.sortIndex;return he!==0?he:W.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,b=3,_=!1,E=!1,C=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(W){for(var ne=n(p);ne!==null;){if(ne.callback===null)i(p);else if(ne.startTime<=W)i(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(p)}}function q(W){if(C=!1,$(W),!E)if(n(h)!==null)E=!0,J||(J=!0,D());else{var ne=n(p);ne!==null&&ee(q,ne.startTime-W)}}var J=!1,z=-1,k=5,P=-1;function O(){return A?!0:!(t.unstable_now()-P<k)}function L(){if(A=!1,J){var W=t.unstable_now();P=W;var ne=!0;try{e:{E=!1,C&&(C=!1,B(z),z=-1),_=!0;var he=b;try{t:{for($(W),v=n(h);v!==null&&!(v.expirationTime>W&&O());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,b=v.priorityLevel;var U=xe(v.expirationTime<=W);if(W=t.unstable_now(),typeof U=="function"){v.callback=U,$(W),ne=!0;break t}v===n(h)&&i(h),$(W)}else i(h);v=n(h)}if(v!==null)ne=!0;else{var oe=n(p);oe!==null&&ee(q,oe.startTime-W),ne=!1}}break e}finally{v=null,b=he,_=!1}ne=void 0}}finally{ne?D():J=!1}}}var D;if(typeof V=="function")D=function(){V(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=L,D=function(){ae.postMessage(null)}}else D=function(){j(L,0)};function ee(W,ne){z=j(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var he=b;b=ne;try{return W()}finally{b=he}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=b;b=W;try{return ne()}finally{b=he}},t.unstable_scheduleCallback=function(W,ne,he){var xe=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?xe+he:xe):he=xe,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=he+U,W={id:m++,callback:ne,priorityLevel:W,startTime:he,expirationTime:U,sortIndex:-1},he>xe?(W.sortIndex=he,e(p,W),n(h)===null&&W===n(p)&&(C?(B(z),z=-1):C=!0,ee(q,he-xe))):(W.sortIndex=U,e(h,W),E||_||(E=!0,J||(J=!0,D()))),W},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(W){var ne=b;return function(){var he=b;b=ne;try{return W.apply(this,arguments)}finally{b=he}}}}(rv)),rv}var ME;function sD(){return ME||(ME=1,sv.exports=iD()),sv.exports}var av={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function rD(){if(DE)return Xn;DE=1;var t=ib();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:p,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xn.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(h,p,null,m)},Xn.flushSync=function(h){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=p,i.p=m,i.d.f()}},Xn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Xn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Xn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Xn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xn.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Xn.requestFormReset=function(h){i.d.r(h)},Xn.unstable_batchedUpdates=function(h,p){return h(p)},Xn.useFormState=function(h,p,m){return l.H.useFormState(h,p,m)},Xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Xn.version="19.1.0",Xn}var OE;function aD(){if(OE)return av.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),av.exports=rD(),av.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function oD(){if(LE)return Ld;LE=1;var t=sD(),e=ib(),n=aD();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var c=r,f=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return u(y),r;if(x===f)return u(y),o;x=x.sibling}throw Error(i(188))}if(c.return!==f.return)c=y,f=x;else{for(var S=!1,N=y.child;N;){if(N===c){S=!0,c=y,f=x;break}if(N===f){S=!0,f=y,c=x;break}N=N.sibling}if(!S){for(N=x.child;N;){if(N===c){S=!0,c=x,f=y;break}if(N===f){S=!0,f=x,c=y;break}N=N.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:o}function p(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=p(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case V:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case $:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case z:return o=r.displayName||null,o!==null?o:ae(r.type)||"Memo";case k:o=r._payload,r=r._init;try{return ae(r(o))}catch{}}return null}var ee=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],U=-1;function oe(r){return{current:r}}function ge(r){0>U||(r.current=xe[U],xe[U]=null,U--)}function pe(r,o){U++,xe[U]=r.current,r.current=o}var we=oe(null),je=oe(null),Se=oe(null),jt=oe(null);function mt(r,o){switch(pe(Se,o),pe(je,r),pe(we,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?iE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=iE(o),r=sE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(we),pe(we,r)}function be(){ge(we),ge(je),ge(Se)}function Ye(r){r.memoizedState!==null&&pe(jt,r);var o=we.current,c=sE(o,r.type);o!==c&&(pe(je,r),pe(we,c))}function Ge(r){je.current===r&&(ge(we),ge(je)),jt.current===r&&(ge(jt),Nd._currentValue=he)}var Tn=Object.prototype.hasOwnProperty,Ze=t.unstable_scheduleCallback,gi=t.unstable_cancelCallback,Ut=t.unstable_shouldYield,On=t.unstable_requestPaint,Gn=t.unstable_now,Gl=t.unstable_getCurrentPriorityLevel,gt=t.unstable_ImmediatePriority,br=t.unstable_UserBlockingPriority,ws=t.unstable_NormalPriority,Vu=t.unstable_LowPriority,Kn=t.unstable_IdlePriority,wo=t.log,Kl=t.unstable_setDisableYieldValue,Vt=null,ct=null;function li(r){if(typeof wo=="function"&&Kl(r),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Vt,r)}catch{}}var Sn=Math.clz32?Math.clz32:wr,Yl=Math.log,zu=Math.LN2;function wr(r){return r>>>=0,r===0?32:31-(Yl(r)/zu|0)|0}var Xi=256,Qi=4194304;function Ii(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ha(r,o,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,x=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var N=f&134217727;return N!==0?(f=N&~x,f!==0?y=Ii(f):(S&=N,S!==0?y=Ii(S):c||(c=N&~r,c!==0&&(y=Ii(c))))):(N=f&~x,N!==0?y=Ii(N):S!==0?y=Ii(S):c||(c=f&~r,c!==0&&(y=Ii(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Vs(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function _o(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var r=Xi;return Xi<<=1,(Xi&4194048)===0&&(Xi=256),r}function To(){var r=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),r}function _s(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Ln(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function So(r,o,c,f,y,x){var S=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var N=r.entanglements,F=r.expirationTimes,Z=r.hiddenUpdates;for(c=S&~c;0<c;){var le=31-Sn(c),ue=1<<le;N[le]=0,F[le]=-1;var te=Z[le];if(te!==null)for(Z[le]=null,le=0;le<te.length;le++){var ie=te[le];ie!==null&&(ie.lane&=-536870913)}c&=~ue}f!==0&&Zi(r,f,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(S&~o))}function Zi(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-Sn(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|c&4194090}function Ao(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-Sn(c),y=1<<f;y&o|r[f]&o&&(r[f]|=o),c&=~y}}function zs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function fa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pi(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:EE(r.type))}function Xl(r,o){var c=ne.p;try{return ne.p=r,o()}finally{ne.p=c}}var Mt=Math.random().toString(36).slice(2),tn="__reactFiber$"+Mt,Kt="__reactProps$"+Mt,yi="__reactContainer$"+Mt,pa="__reactEvents$"+Mt,Ql="__reactListeners$"+Mt,Es="__reactHandles$"+Mt,Co="__reactResources$"+Mt,Bs="__reactMarker$"+Mt;function Ts(r){delete r[tn],delete r[Kt],delete r[pa],delete r[Ql],delete r[Es]}function Ji(r){var o=r[tn];if(o)return o;for(var c=r.parentNode;c;){if(o=c[yi]||c[tn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=lE(r);r!==null;){if(c=r[tn])return c;r=lE(r)}return o}r=c,c=r.parentNode}return null}function Mi(r){if(r=r[tn]||r[yi]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Di(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function An(r){var o=r[Co];return o||(o=r[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ft(r){r[Bs]=!0}var ma=new Set,_r={};function vi(r,o){es(r,o),es(r+"Capture",o)}function es(r,o){for(_r[r]=o,r=0;r<o.length;r++)ma.add(o[r])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},H={};function ye(r){return Tn.call(H,r)?!0:Tn.call(Ro,r)?!1:ko.test(r)?H[r]=!0:(Ro[r]=!0,!1)}function Ce(r,o,c){if(ye(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Ne(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Oe(r,o,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+f)}}var nt,Nt;function ut(r){if(nt===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);nt=o&&o[1]||"",Nt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+r+Nt}var lt=!1;function gn(r,o){if(!r||lt)return"";lt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var te=ie}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ie){te=ie}r.call(ue.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),S=x[0],N=x[1];if(S&&N){var F=S.split(`
`),Z=N.split(`
`);for(y=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===F.length||y===Z.length)for(f=F.length-1,y=Z.length-1;1<=f&&0<=y&&F[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if(F[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||F[f]!==Z[y]){var le=`
`+F[f].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=f&&0<=y);break}}}finally{lt=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?ut(c):""}function Cn(r){switch(r.tag){case 26:case 27:case 5:return ut(r.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return gn(r.type,!1);case 11:return gn(r.type.render,!1);case 1:return gn(r.type,!0);case 31:return ut("Activity");default:return""}}function Ht(r){try{var o="";do o+=Cn(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Dt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Zl(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function r0(r){var o=Zl(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){f=""+S,x.call(this,S)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Jl(r){r._valueTracker||(r._valueTracker=r0(r))}function Bu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=Zl(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function jo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var a0=/[\n"\\]/g;function un(r){return r.replace(a0,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Oi(r,o,c,f,y,x,S,N){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),o!=null?S==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Dt(o)):r.value!==""+Dt(o)&&(r.value=""+Dt(o)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),o!=null?ga(r,S,Dt(o)):c!=null?ga(r,S,Dt(c)):f!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Dt(N):r.removeAttribute("name")}function No(r,o,c,f,y,x,S,N){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;c=c!=null?""+Dt(c):"",o=o!=null?""+Dt(o):c,N||o===r.value||(r.value=o),r.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=N?r.checked:!!f,r.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function ga(r,o,c){o==="number"&&jo(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Er(r,o,c,f){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Dt(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function At(r,o,c){if(o!=null&&(o=""+Dt(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Dt(c):""}function Io(r,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(i(92));if(ee(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Dt(o),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f)}function ts(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cf(r,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,c):typeof c!="number"||c===0||Po.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function Uu(r,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&cf(r,y,f)}else for(var x in o)o.hasOwnProperty(x)&&cf(r,x,o[x])}function Fu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ec(r){return l0.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Tr=null;function ns(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Sr=null,Ar=null;function Hu(r){var o=Mi(r);if(o&&(r=o.stateNode)){var c=r[Kt]||null;e:switch(r=o.stateNode,o.type){case"input":if(Oi(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+un(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var y=f[Kt]||null;if(!y)throw Error(i(90));Oi(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===r.form&&Bu(f)}break e;case"textarea":At(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Er(r,!!c.multiple,o,!1)}}}var Us=!1;function uf(r,o,c){if(Us)return r(o,c);Us=!0;try{var f=r(o);return f}finally{if(Us=!1,(Sr!==null||Ar!==null)&&(ip(),Sr&&(o=Sr,r=Ar,Ar=Sr=null,Hu(o),r)))for(o=0;o<r.length;o++)Hu(r[o])}}function Mo(r,o){var c=r.stateNode;if(c===null)return null;var f=c[Kt]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(Ss)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){is=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{is=!1}var Fs=null,ya=null,Cr=null;function qu(){if(Cr)return Cr;var r,o=ya,c=o.length,f,y="value"in Fs?Fs.value:Fs.textContent,x=y.length;for(r=0;r<c&&o[r]===y[r];r++);var S=c-r;for(f=1;f<=S&&o[c-f]===y[x-f];f++);return Cr=y.slice(r,1<f?1-f:void 0)}function Hs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function qs(){return!0}function $u(){return!1}function kn(r){function o(c,f,y,x,S){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(c=r[N],this[N]=c?c(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?qs:$u,this.isPropagationStopped=$u,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),o}var xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=kn(xt),Oo=m({},xt,{view:0,detail:0}),df=kn(Oo),nc,ic,$s,Lo=m({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$s&&($s&&r.type==="mousemove"?(nc=r.screenX-$s.screenX,ic=r.screenY-$s.screenY):ic=nc=0,$s=r),nc)},movementY:function(r){return"movementY"in r?r.movementY:ic}}),ss=kn(Lo),hf=m({},Lo,{dataTransfer:0}),c0=kn(hf),Vo=m({},Oo,{relatedTarget:0}),sc=kn(Vo),Wu=m({},xt,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=kn(Wu),ff=m({},xt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ac=kn(ff),u0=m({},xt,{data:0}),Gu=kn(u0),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=mf[r])?!!o[r]:!1}function Bo(){return Ku}var gf=m({},Oo,{key:function(r){if(r.key){var o=zo[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Hs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(r){return r.type==="keypress"?Hs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oc=kn(gf),yf=m({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yu=kn(yf),kr=m({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),vf=kn(kr),xf=m({},xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bf=kn(xf),wf=m({},Lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),lc=kn(wf),ci=m({},xt,{newState:0,oldState:0}),_f=kn(ci),Ef=[9,13,27,32],Ws=Ss&&"CompositionEvent"in window,g=null;Ss&&"documentMode"in document&&(g=document.documentMode);var w=Ss&&"TextEvent"in window&&!g,T=Ss&&(!Ws||g&&8<g&&11>=g),M=" ",X=!1;function se(r,o){switch(r){case"keyup":return Ef.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var it=!1;function yn(r,o){switch(r){case"compositionend":return ve(o);case"keypress":return o.which!==32?null:(X=!0,M);case"textInput":return r=o.data,r===M&&X?null:r;default:return null}}function st(r,o){if(it)return r==="compositionend"||!Ws&&se(r,o)?(r=qu(),Cr=ya=Fs=null,it=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Rn[r.type]:o==="textarea"}function Rr(r,o,c,f){Sr?Ar?Ar.push(f):Ar=[f]:Sr=f,o=cp(o,"onChange"),0<o.length&&(c=new tc("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var Vn=null,Gs=null;function Xu(r){Z2(r,0)}function Tf(r){var o=Di(r);if(Bu(o))return r}function x1(r,o){if(r==="change")return o}var b1=!1;if(Ss){var d0;if(Ss){var h0="oninput"in document;if(!h0){var w1=document.createElement("div");w1.setAttribute("oninput","return;"),h0=typeof w1.oninput=="function"}d0=h0}else d0=!1;b1=d0&&(!document.documentMode||9<document.documentMode)}function _1(){Vn&&(Vn.detachEvent("onpropertychange",E1),Gs=Vn=null)}function E1(r){if(r.propertyName==="value"&&Tf(Gs)){var o=[];Rr(o,Gs,r,ns(r)),uf(Xu,o)}}function kP(r,o,c){r==="focusin"?(_1(),Vn=o,Gs=c,Vn.attachEvent("onpropertychange",E1)):r==="focusout"&&_1()}function RP(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tf(Gs)}function jP(r,o){if(r==="click")return Tf(o)}function NP(r,o){if(r==="input"||r==="change")return Tf(o)}function IP(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Li=typeof Object.is=="function"?Object.is:IP;function Qu(r,o){if(Li(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Tn.call(o,y)||!Li(r[y],o[y]))return!1}return!0}function T1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function S1(r,o){var c=T1(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=T1(c)}}function A1(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?A1(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function C1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=jo(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=jo(r.document)}return o}function f0(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var PP=Ss&&"documentMode"in document&&11>=document.documentMode,cc=null,p0=null,Zu=null,m0=!1;function k1(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;m0||cc==null||cc!==jo(f)||(f=cc,"selectionStart"in f&&f0(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zu&&Qu(Zu,f)||(Zu=f,f=cp(p0,"onSelect"),0<f.length&&(o=new tc("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=cc)))}function Uo(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var uc={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},g0={},R1={};Ss&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function Fo(r){if(g0[r])return g0[r];if(!uc[r])return r;var o=uc[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in R1)return g0[r]=o[c];return r}var j1=Fo("animationend"),N1=Fo("animationiteration"),I1=Fo("animationstart"),MP=Fo("transitionrun"),DP=Fo("transitionstart"),OP=Fo("transitioncancel"),P1=Fo("transitionend"),M1=new Map,y0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y0.push("scrollEnd");function As(r,o){M1.set(r,o),vi(o,[r])}var D1=new WeakMap;function rs(r,o){if(typeof r=="object"&&r!==null){var c=D1.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Ht(o)},D1.set(r,o),o)}return{value:r,source:o,stack:Ht(o)}}var as=[],dc=0,v0=0;function Sf(){for(var r=dc,o=v0=dc=0;o<r;){var c=as[o];as[o++]=null;var f=as[o];as[o++]=null;var y=as[o];as[o++]=null;var x=as[o];if(as[o++]=null,f!==null&&y!==null){var S=f.pending;S===null?y.next=y:(y.next=S.next,S.next=y),f.pending=y}x!==0&&O1(c,y,x)}}function Af(r,o,c,f){as[dc++]=r,as[dc++]=o,as[dc++]=c,as[dc++]=f,v0|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function x0(r,o,c,f){return Af(r,o,c,f),Cf(r)}function hc(r,o){return Af(r,null,null,o),Cf(r)}function O1(r,o,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,x=r.return;x!==null;)x.childLanes|=c,f=x.alternate,f!==null&&(f.childLanes|=c),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&o!==null&&(y=31-Sn(c),r=x.hiddenUpdates,f=r[y],f===null?r[y]=[o]:f.push(o),o.lane=c|536870912),x):null}function Cf(r){if(50<Ed)throw Ed=0,Sy=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var fc={};function LP(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(r,o,c,f){return new LP(r,o,c,f)}function b0(r){return r=r.prototype,!(!r||!r.isReactComponent)}function jr(r,o){var c=r.alternate;return c===null?(c=Vi(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function L1(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function kf(r,o,c,f,y,x){var S=0;if(f=r,typeof r=="function")b0(r)&&(S=1);else if(typeof r=="string")S=zM(r,c,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=Vi(31,c,o,y),r.elementType=P,r.lanes=x,r;case E:return Ho(c.children,y,x,o);case C:S=8,y|=24;break;case A:return r=Vi(12,c,o,y|2),r.elementType=A,r.lanes=x,r;case q:return r=Vi(13,c,o,y),r.elementType=q,r.lanes=x,r;case J:return r=Vi(19,c,o,y),r.elementType=J,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case V:S=10;break e;case B:S=9;break e;case $:S=11;break e;case z:S=14;break e;case k:S=16,f=null;break e}S=29,c=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=Vi(S,c,o,y),o.elementType=r,o.type=f,o.lanes=x,o}function Ho(r,o,c,f){return r=Vi(7,r,f,o),r.lanes=c,r}function w0(r,o,c){return r=Vi(6,r,null,o),r.lanes=c,r}function _0(r,o,c){return o=Vi(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var pc=[],mc=0,Rf=null,jf=0,os=[],ls=0,qo=null,Nr=1,Ir="";function $o(r,o){pc[mc++]=jf,pc[mc++]=Rf,Rf=r,jf=o}function V1(r,o,c){os[ls++]=Nr,os[ls++]=Ir,os[ls++]=qo,qo=r;var f=Nr;r=Ir;var y=32-Sn(f)-1;f&=~(1<<y),c+=1;var x=32-Sn(o)+y;if(30<x){var S=y-y%5;x=(f&(1<<S)-1).toString(32),f>>=S,y-=S,Nr=1<<32-Sn(o)+y|c<<y|f,Ir=x+r}else Nr=1<<x|c<<y|f,Ir=r}function E0(r){r.return!==null&&($o(r,1),V1(r,1,0))}function T0(r){for(;r===Rf;)Rf=pc[--mc],pc[mc]=null,jf=pc[--mc],pc[mc]=null;for(;r===qo;)qo=os[--ls],os[ls]=null,Ir=os[--ls],os[ls]=null,Nr=os[--ls],os[ls]=null}var ui=null,Zt=null,yt=!1,Wo=null,Ks=!1,S0=Error(i(519));function Go(r){var o=Error(i(418,""));throw td(rs(o,r)),S0}function z1(r){var o=r.stateNode,c=r.type,f=r.memoizedProps;switch(o[tn]=r,o[Kt]=f,c){case"dialog":Qe("cancel",o),Qe("close",o);break;case"iframe":case"object":case"embed":Qe("load",o);break;case"video":case"audio":for(c=0;c<Sd.length;c++)Qe(Sd[c],o);break;case"source":Qe("error",o);break;case"img":case"image":case"link":Qe("error",o),Qe("load",o);break;case"details":Qe("toggle",o);break;case"input":Qe("invalid",o),No(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Jl(o);break;case"select":Qe("invalid",o);break;case"textarea":Qe("invalid",o),Io(o,f.value,f.defaultValue,f.children),Jl(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||nE(o.textContent,c)?(f.popover!=null&&(Qe("beforetoggle",o),Qe("toggle",o)),f.onScroll!=null&&Qe("scroll",o),f.onScrollEnd!=null&&Qe("scrollend",o),f.onClick!=null&&(o.onclick=up),o=!0):o=!1,o||Go(r)}function B1(r){for(ui=r.return;ui;)switch(ui.tag){case 5:case 13:Ks=!1;return;case 27:case 3:Ks=!0;return;default:ui=ui.return}}function Ju(r){if(r!==ui)return!1;if(!yt)return B1(r),yt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Uy(r.type,r.memoizedProps)),c=!c),c&&Zt&&Go(r),B1(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){Zt=ks(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}Zt=null}}else o===27?(o=Zt,Pa(r.type)?(r=$y,$y=null,Zt=r):Zt=o):Zt=ui?ks(r.stateNode.nextSibling):null;return!0}function ed(){Zt=ui=null,yt=!1}function U1(){var r=Wo;return r!==null&&(wi===null?wi=r:wi.push.apply(wi,r),Wo=null),r}function td(r){Wo===null?Wo=[r]:Wo.push(r)}var A0=oe(null),Ko=null,Pr=null;function va(r,o,c){pe(A0,o._currentValue),o._currentValue=c}function Mr(r){r._currentValue=A0.current,ge(A0)}function C0(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function k0(r,o,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var S=y.child;x=x.firstContext;e:for(;x!==null;){var N=x;x=y;for(var F=0;F<o.length;F++)if(N.context===o[F]){x.lanes|=c,N=x.alternate,N!==null&&(N.lanes|=c),C0(x.return,c,r),f||(S=null);break e}x=N.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(i(341));S.lanes|=c,x=S.alternate,x!==null&&(x.lanes|=c),C0(S,c,r),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===r){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function nd(r,o,c,f){r=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var N=y.type;Li(y.pendingProps.value,S.value)||(r!==null?r.push(N):r=[N])}}else if(y===jt.current){if(S=y.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Nd):r=[Nd])}y=y.return}r!==null&&k0(o,r,c,f),o.flags|=262144}function Nf(r){for(r=r.firstContext;r!==null;){if(!Li(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Yo(r){Ko=r,Pr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Yn(r){return F1(Ko,r)}function If(r,o){return Ko===null&&Yo(r),F1(r,o)}function F1(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Pr===null){if(r===null)throw Error(i(308));Pr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Pr=Pr.next=o;return c}var VP=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},zP=t.unstable_scheduleCallback,BP=t.unstable_NormalPriority,xn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function R0(){return{controller:new VP,data:new Map,refCount:0}}function id(r){r.refCount--,r.refCount===0&&zP(BP,function(){r.controller.abort()})}var sd=null,j0=0,gc=0,yc=null;function UP(r,o){if(sd===null){var c=sd=[];j0=0,gc=Iy(),yc={status:"pending",value:void 0,then:function(f){c.push(f)}}}return j0++,o.then(H1,H1),o}function H1(){if(--j0===0&&sd!==null){yc!==null&&(yc.status="fulfilled");var r=sd;sd=null,gc=0,yc=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function FP(r,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var q1=W.S;W.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&UP(r,o),q1!==null&&q1(r,o)};var Xo=oe(null);function N0(){var r=Xo.current;return r!==null?r:Ot.pooledCache}function Pf(r,o){o===null?pe(Xo,Xo.current):pe(Xo,o.pool)}function $1(){var r=N0();return r===null?null:{parent:xn._currentValue,pool:r}}var rd=Error(i(460)),W1=Error(i(474)),Mf=Error(i(542)),I0={then:function(){}};function G1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Df(){}function K1(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Df,Df),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,X1(r),r;default:if(typeof o.status=="string")o.then(Df,Df);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,X1(r),r}throw ad=o,rd}}var ad=null;function Y1(){if(ad===null)throw Error(i(459));var r=ad;return ad=null,r}function X1(r){if(r===rd||r===Mf)throw Error(i(483))}var xa=!1;function P0(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M0(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ba(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function wa(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(_t&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Cf(r),O1(r,null,c),o}return Af(r,f,o,c),Cf(r)}function od(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Ao(r,c)}}function D0(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=S:x=x.next=S,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var O0=!1;function ld(){if(O0){var r=yc;if(r!==null)throw r}}function cd(r,o,c,f){O0=!1;var y=r.updateQueue;xa=!1;var x=y.firstBaseUpdate,S=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var F=N,Z=F.next;F.next=null,S===null?x=Z:S.next=Z,S=F;var le=r.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==S&&(N===null?le.firstBaseUpdate=Z:N.next=Z,le.lastBaseUpdate=F))}if(x!==null){var ue=y.baseState;S=0,le=Z=F=null,N=x;do{var te=N.lane&-536870913,ie=te!==N.lane;if(ie?(rt&te)===te:(f&te)===te){te!==0&&te===gc&&(O0=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ze=r,Pe=N;te=o;var Rt=c;switch(Pe.tag){case 1:if(ze=Pe.payload,typeof ze=="function"){ue=ze.call(Rt,ue,te);break e}ue=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Pe.payload,te=typeof ze=="function"?ze.call(Rt,ue,te):ze,te==null)break e;ue=m({},ue,te);break e;case 2:xa=!0}}te=N.callback,te!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(Z=le=ie,F=ue):le=le.next=ie,S|=te;if(N=N.next,N===null){if(N=y.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);le===null&&(F=ue),y.baseState=F,y.firstBaseUpdate=Z,y.lastBaseUpdate=le,x===null&&(y.shared.lanes=0),Ra|=S,r.lanes=S,r.memoizedState=ue}}function Q1(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Z1(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Q1(c[r],o)}var vc=oe(null),Of=oe(0);function J1(r,o){r=Ur,pe(Of,r),pe(vc,o),Ur=r|o.baseLanes}function L0(){pe(Of,Ur),pe(vc,vc.current)}function V0(){Ur=Of.current,ge(vc),ge(Of)}var _a=0,$e=null,Ct=null,dn=null,Lf=!1,xc=!1,Qo=!1,Vf=0,ud=0,bc=null,HP=0;function nn(){throw Error(i(321))}function z0(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Li(r[c],o[c]))return!1;return!0}function B0(r,o,c,f,y,x){return _a=x,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=r===null||r.memoizedState===null?O_:L_,Qo=!1,x=c(f,y),Qo=!1,xc&&(x=t_(o,c,f,y)),e_(r),x}function e_(r){W.H=qf;var o=Ct!==null&&Ct.next!==null;if(_a=0,dn=Ct=$e=null,Lf=!1,ud=0,bc=null,o)throw Error(i(300));r===null||jn||(r=r.dependencies,r!==null&&Nf(r)&&(jn=!0))}function t_(r,o,c,f){$e=r;var y=0;do{if(xc&&(bc=null),ud=0,xc=!1,25<=y)throw Error(i(301));if(y+=1,dn=Ct=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=XP,x=o(c,f)}while(xc);return x}function qP(){var r=W.H,o=r.useState()[0];return o=typeof o.then=="function"?dd(o):o,r=r.useState()[0],(Ct!==null?Ct.memoizedState:null)!==r&&($e.flags|=1024),o}function U0(){var r=Vf!==0;return Vf=0,r}function F0(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function H0(r){if(Lf){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Lf=!1}_a=0,dn=Ct=$e=null,xc=!1,ud=Vf=0,bc=null}function xi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?$e.memoizedState=dn=r:dn=dn.next=r,dn}function hn(){if(Ct===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var o=dn===null?$e.memoizedState:dn.next;if(o!==null)dn=o,Ct=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},dn===null?$e.memoizedState=dn=r:dn=dn.next=r}return dn}function q0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dd(r){var o=ud;return ud+=1,bc===null&&(bc=[]),r=K1(bc,r,o),o=$e,(dn===null?o.memoizedState:dn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?O_:L_),r}function zf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return dd(r);if(r.$$typeof===V)return Yn(r)}throw Error(i(438,String(r)))}function $0(r){var o=null,c=$e.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=$e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=q0(),$e.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),f=0;f<r;f++)c[f]=O;return o.index++,c}function Dr(r,o){return typeof o=="function"?o(r):o}function Bf(r){var o=hn();return W0(o,Ct,r)}function W0(r,o,c){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var y=r.baseQueue,x=f.pending;if(x!==null){if(y!==null){var S=y.next;y.next=x.next,x.next=S}o.baseQueue=y=x,f.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{o=y.next;var N=S=null,F=null,Z=o,le=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(rt&ue)===ue:(_a&ue)===ue){var te=Z.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===gc&&(le=!0);else if((_a&te)===te){Z=Z.next,te===gc&&(le=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(N=F=ue,S=x):F=F.next=ue,$e.lanes|=te,Ra|=te;ue=Z.action,Qo&&c(x,ue),x=Z.hasEagerState?Z.eagerState:c(x,ue)}else te={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(N=F=te,S=x):F=F.next=te,$e.lanes|=ue,Ra|=ue;Z=Z.next}while(Z!==null&&Z!==o);if(F===null?S=x:F.next=N,!Li(x,r.memoizedState)&&(jn=!0,le&&(c=yc,c!==null)))throw c;r.memoizedState=x,r.baseState=S,r.baseQueue=F,f.lastRenderedState=x}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function G0(r){var o=hn(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do x=r(x,S.action),S=S.next;while(S!==y);Li(x,o.memoizedState)||(jn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function n_(r,o,c){var f=$e,y=hn(),x=yt;if(x){if(c===void 0)throw Error(i(407));c=c()}else c=o();var S=!Li((Ct||y).memoizedState,c);S&&(y.memoizedState=c,jn=!0),y=y.queue;var N=r_.bind(null,f,y,r);if(hd(2048,8,N,[r]),y.getSnapshot!==o||S||dn!==null&&dn.memoizedState.tag&1){if(f.flags|=2048,wc(9,Uf(),s_.bind(null,f,y,c,o),null),Ot===null)throw Error(i(349));x||(_a&124)!==0||i_(f,o,c)}return c}function i_(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=$e.updateQueue,o===null?(o=q0(),$e.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function s_(r,o,c,f){o.value=c,o.getSnapshot=f,a_(o)&&o_(r)}function r_(r,o,c){return c(function(){a_(o)&&o_(r)})}function a_(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Li(r,c)}catch{return!0}}function o_(r){var o=hc(r,2);o!==null&&Hi(o,r,2)}function K0(r){var o=xi();if(typeof r=="function"){var c=r;if(r=c(),Qo){li(!0);try{c()}finally{li(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},o}function l_(r,o,c,f){return r.baseState=c,W0(r,Ct,typeof f=="function"?f:Dr)}function $P(r,o,c,f,y){if(Hf(r))throw Error(i(485));if(r=o.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};W.T!==null?c(!0):x.isTransition=!1,f(x),c=o.pending,c===null?(x.next=o.pending=x,c_(o,x)):(x.next=c.next,o.pending=c.next=x)}}function c_(r,o){var c=o.action,f=o.payload,y=r.state;if(o.isTransition){var x=W.T,S={};W.T=S;try{var N=c(y,f),F=W.S;F!==null&&F(S,N),u_(r,o,N)}catch(Z){Y0(r,o,Z)}finally{W.T=x}}else try{x=c(y,f),u_(r,o,x)}catch(Z){Y0(r,o,Z)}}function u_(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){d_(r,o,f)},function(f){return Y0(r,o,f)}):d_(r,o,c)}function d_(r,o,c){o.status="fulfilled",o.value=c,h_(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,c_(r,c)))}function Y0(r,o,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,h_(o),o=o.next;while(o!==f)}r.action=null}function h_(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function f_(r,o){return o}function p_(r,o){if(yt){var c=Ot.formState;if(c!==null){e:{var f=$e;if(yt){if(Zt){t:{for(var y=Zt,x=Ks;y.nodeType!==8;){if(!x){y=null;break t}if(y=ks(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Zt=ks(y.nextSibling),f=y.data==="F!";break e}}Go(f)}f=!1}f&&(o=c[0])}}return c=xi(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:o},c.queue=f,c=P_.bind(null,$e,f),f.dispatch=c,f=K0(!1),x=ey.bind(null,$e,!1,f.queue),f=xi(),y={state:o,dispatch:null,action:r,pending:null},f.queue=y,c=$P.bind(null,$e,y,x,c),y.dispatch=c,f.memoizedState=r,[o,c,!1]}function m_(r){var o=hn();return g_(o,Ct,r)}function g_(r,o,c){if(o=W0(r,o,f_)[0],r=Bf(Dr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=dd(o)}catch(S){throw S===rd?Mf:S}else f=o;o=hn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&($e.flags|=2048,wc(9,Uf(),WP.bind(null,y,c),null)),[f,x,r]}function WP(r,o){r.action=o}function y_(r){var o=hn(),c=Ct;if(c!==null)return g_(o,c,r);hn(),o=o.memoizedState,c=hn();var f=c.queue.dispatch;return c.memoizedState=r,[o,f,!1]}function wc(r,o,c,f){return r={tag:r,create:c,deps:f,inst:o,next:null},o=$e.updateQueue,o===null&&(o=q0(),$e.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r),r}function Uf(){return{destroy:void 0,resource:void 0}}function v_(){return hn().memoizedState}function Ff(r,o,c,f){var y=xi();f=f===void 0?null:f,$e.flags|=r,y.memoizedState=wc(1|o,Uf(),c,f)}function hd(r,o,c,f){var y=hn();f=f===void 0?null:f;var x=y.memoizedState.inst;Ct!==null&&f!==null&&z0(f,Ct.memoizedState.deps)?y.memoizedState=wc(o,x,c,f):($e.flags|=r,y.memoizedState=wc(1|o,x,c,f))}function x_(r,o){Ff(8390656,8,r,o)}function b_(r,o){hd(2048,8,r,o)}function w_(r,o){return hd(4,2,r,o)}function __(r,o){return hd(4,4,r,o)}function E_(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function T_(r,o,c){c=c!=null?c.concat([r]):null,hd(4,4,E_.bind(null,o,r),c)}function X0(){}function S_(r,o){var c=hn();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&z0(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function A_(r,o){var c=hn();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&z0(o,f[1]))return f[0];if(f=r(),Qo){li(!0);try{r()}finally{li(!1)}}return c.memoizedState=[f,o],f}function Q0(r,o,c){return c===void 0||(_a&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=R2(),$e.lanes|=r,Ra|=r,c)}function C_(r,o,c,f){return Li(c,o)?c:vc.current!==null?(r=Q0(r,c,f),Li(r,o)||(jn=!0),r):(_a&42)===0?(jn=!0,r.memoizedState=c):(r=R2(),$e.lanes|=r,Ra|=r,o)}function k_(r,o,c,f,y){var x=ne.p;ne.p=x!==0&&8>x?x:8;var S=W.T,N={};W.T=N,ey(r,!1,o,c);try{var F=y(),Z=W.S;if(Z!==null&&Z(N,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=FP(F,f);fd(r,o,le,Fi(r))}else fd(r,o,f,Fi(r))}catch(ue){fd(r,o,{then:function(){},status:"rejected",reason:ue},Fi())}finally{ne.p=x,W.T=S}}function GP(){}function Z0(r,o,c,f){if(r.tag!==5)throw Error(i(476));var y=R_(r).queue;k_(r,y,o,he,c===null?GP:function(){return j_(r),c(f)})}function R_(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:he},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function j_(r){var o=R_(r).next.queue;fd(r,o,{},Fi())}function J0(){return Yn(Nd)}function N_(){return hn().memoizedState}function I_(){return hn().memoizedState}function KP(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Fi();r=ba(c);var f=wa(o,r,c);f!==null&&(Hi(f,o,c),od(f,o,c)),o={cache:R0()},r.payload=o;return}o=o.return}}function YP(r,o,c){var f=Fi();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Hf(r)?M_(o,c):(c=x0(r,o,c,f),c!==null&&(Hi(c,r,f),D_(c,o,f)))}function P_(r,o,c){var f=Fi();fd(r,o,c,f)}function fd(r,o,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hf(r))M_(o,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var S=o.lastRenderedState,N=x(S,c);if(y.hasEagerState=!0,y.eagerState=N,Li(N,S))return Af(r,o,y,0),Ot===null&&Sf(),!1}catch{}finally{}if(c=x0(r,o,y,f),c!==null)return Hi(c,r,f),D_(c,o,f),!0}return!1}function ey(r,o,c,f){if(f={lane:2,revertLane:Iy(),action:f,hasEagerState:!1,eagerState:null,next:null},Hf(r)){if(o)throw Error(i(479))}else o=x0(r,c,f,2),o!==null&&Hi(o,r,2)}function Hf(r){var o=r.alternate;return r===$e||o!==null&&o===$e}function M_(r,o){xc=Lf=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function D_(r,o,c){if((c&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Ao(r,c)}}var qf={readContext:Yn,use:zf,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},O_={readContext:Yn,use:zf,useCallback:function(r,o){return xi().memoizedState=[r,o===void 0?null:o],r},useContext:Yn,useEffect:x_,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,Ff(4194308,4,E_.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Ff(4194308,4,r,o)},useInsertionEffect:function(r,o){Ff(4,2,r,o)},useMemo:function(r,o){var c=xi();o=o===void 0?null:o;var f=r();if(Qo){li(!0);try{r()}finally{li(!1)}}return c.memoizedState=[f,o],f},useReducer:function(r,o,c){var f=xi();if(c!==void 0){var y=c(o);if(Qo){li(!0);try{c(o)}finally{li(!1)}}}else y=o;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=YP.bind(null,$e,r),[f.memoizedState,r]},useRef:function(r){var o=xi();return r={current:r},o.memoizedState=r},useState:function(r){r=K0(r);var o=r.queue,c=P_.bind(null,$e,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:X0,useDeferredValue:function(r,o){var c=xi();return Q0(c,r,o)},useTransition:function(){var r=K0(!1);return r=k_.bind(null,$e,r.queue,!0,!1),xi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var f=$e,y=xi();if(yt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),Ot===null)throw Error(i(349));(rt&124)!==0||i_(f,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,x_(r_.bind(null,f,x,r),[r]),f.flags|=2048,wc(9,Uf(),s_.bind(null,f,x,c,o),null),c},useId:function(){var r=xi(),o=Ot.identifierPrefix;if(yt){var c=Ir,f=Nr;c=(f&~(1<<32-Sn(f)-1)).toString(32)+c,o="«"+o+"R"+c,c=Vf++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=HP++,o="«"+o+"r"+c.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:J0,useFormState:p_,useActionState:p_,useOptimistic:function(r){var o=xi();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=ey.bind(null,$e,!0,c),c.dispatch=o,[r,o]},useMemoCache:$0,useCacheRefresh:function(){return xi().memoizedState=KP.bind(null,$e)}},L_={readContext:Yn,use:zf,useCallback:S_,useContext:Yn,useEffect:b_,useImperativeHandle:T_,useInsertionEffect:w_,useLayoutEffect:__,useMemo:A_,useReducer:Bf,useRef:v_,useState:function(){return Bf(Dr)},useDebugValue:X0,useDeferredValue:function(r,o){var c=hn();return C_(c,Ct.memoizedState,r,o)},useTransition:function(){var r=Bf(Dr)[0],o=hn().memoizedState;return[typeof r=="boolean"?r:dd(r),o]},useSyncExternalStore:n_,useId:N_,useHostTransitionStatus:J0,useFormState:m_,useActionState:m_,useOptimistic:function(r,o){var c=hn();return l_(c,Ct,r,o)},useMemoCache:$0,useCacheRefresh:I_},XP={readContext:Yn,use:zf,useCallback:S_,useContext:Yn,useEffect:b_,useImperativeHandle:T_,useInsertionEffect:w_,useLayoutEffect:__,useMemo:A_,useReducer:G0,useRef:v_,useState:function(){return G0(Dr)},useDebugValue:X0,useDeferredValue:function(r,o){var c=hn();return Ct===null?Q0(c,r,o):C_(c,Ct.memoizedState,r,o)},useTransition:function(){var r=G0(Dr)[0],o=hn().memoizedState;return[typeof r=="boolean"?r:dd(r),o]},useSyncExternalStore:n_,useId:N_,useHostTransitionStatus:J0,useFormState:y_,useActionState:y_,useOptimistic:function(r,o){var c=hn();return Ct!==null?l_(c,Ct,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:$0,useCacheRefresh:I_},_c=null,pd=0;function $f(r){var o=pd;return pd+=1,_c===null&&(_c=[]),K1(_c,r,o)}function md(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Wf(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function V_(r){var o=r._init;return o(r._payload)}function z_(r){function o(K,G){if(r){var Q=K.deletions;Q===null?(K.deletions=[G],K.flags|=16):Q.push(G)}}function c(K,G){if(!r)return null;for(;G!==null;)o(K,G),G=G.sibling;return null}function f(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function y(K,G){return K=jr(K,G),K.index=0,K.sibling=null,K}function x(K,G,Q){return K.index=Q,r?(Q=K.alternate,Q!==null?(Q=Q.index,Q<G?(K.flags|=67108866,G):Q):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function S(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function N(K,G,Q,ce){return G===null||G.tag!==6?(G=w0(Q,K.mode,ce),G.return=K,G):(G=y(G,Q),G.return=K,G)}function F(K,G,Q,ce){var Ae=Q.type;return Ae===E?le(K,G,Q.props.children,ce,Q.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===k&&V_(Ae)===G.type)?(G=y(G,Q.props),md(G,Q),G.return=K,G):(G=kf(Q.type,Q.key,Q.props,null,K.mode,ce),md(G,Q),G.return=K,G)}function Z(K,G,Q,ce){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=_0(Q,K.mode,ce),G.return=K,G):(G=y(G,Q.children||[]),G.return=K,G)}function le(K,G,Q,ce,Ae){return G===null||G.tag!==7?(G=Ho(Q,K.mode,ce,Ae),G.return=K,G):(G=y(G,Q),G.return=K,G)}function ue(K,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=w0(""+G,K.mode,Q),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return Q=kf(G.type,G.key,G.props,null,K.mode,Q),md(Q,G),Q.return=K,Q;case _:return G=_0(G,K.mode,Q),G.return=K,G;case k:var ce=G._init;return G=ce(G._payload),ue(K,G,Q)}if(ee(G)||D(G))return G=Ho(G,K.mode,Q,null),G.return=K,G;if(typeof G.then=="function")return ue(K,$f(G),Q);if(G.$$typeof===V)return ue(K,If(K,G),Q);Wf(K,G)}return null}function te(K,G,Q,ce){var Ae=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:N(K,G,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ae?F(K,G,Q,ce):null;case _:return Q.key===Ae?Z(K,G,Q,ce):null;case k:return Ae=Q._init,Q=Ae(Q._payload),te(K,G,Q,ce)}if(ee(Q)||D(Q))return Ae!==null?null:le(K,G,Q,ce,null);if(typeof Q.then=="function")return te(K,G,$f(Q),ce);if(Q.$$typeof===V)return te(K,G,If(K,Q),ce);Wf(K,Q)}return null}function ie(K,G,Q,ce,Ae){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(Q)||null,N(G,K,""+ce,Ae);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return K=K.get(ce.key===null?Q:ce.key)||null,F(G,K,ce,Ae);case _:return K=K.get(ce.key===null?Q:ce.key)||null,Z(G,K,ce,Ae);case k:var Ke=ce._init;return ce=Ke(ce._payload),ie(K,G,Q,ce,Ae)}if(ee(ce)||D(ce))return K=K.get(Q)||null,le(G,K,ce,Ae,null);if(typeof ce.then=="function")return ie(K,G,Q,$f(ce),Ae);if(ce.$$typeof===V)return ie(K,G,Q,If(G,ce),Ae);Wf(G,ce)}return null}function ze(K,G,Q,ce){for(var Ae=null,Ke=null,ke=G,Me=G=0,In=null;ke!==null&&Me<Q.length;Me++){ke.index>Me?(In=ke,ke=null):In=ke.sibling;var dt=te(K,ke,Q[Me],ce);if(dt===null){ke===null&&(ke=In);break}r&&ke&&dt.alternate===null&&o(K,ke),G=x(dt,G,Me),Ke===null?Ae=dt:Ke.sibling=dt,Ke=dt,ke=In}if(Me===Q.length)return c(K,ke),yt&&$o(K,Me),Ae;if(ke===null){for(;Me<Q.length;Me++)ke=ue(K,Q[Me],ce),ke!==null&&(G=x(ke,G,Me),Ke===null?Ae=ke:Ke.sibling=ke,Ke=ke);return yt&&$o(K,Me),Ae}for(ke=f(ke);Me<Q.length;Me++)In=ie(ke,K,Me,Q[Me],ce),In!==null&&(r&&In.alternate!==null&&ke.delete(In.key===null?Me:In.key),G=x(In,G,Me),Ke===null?Ae=In:Ke.sibling=In,Ke=In);return r&&ke.forEach(function(Va){return o(K,Va)}),yt&&$o(K,Me),Ae}function Pe(K,G,Q,ce){if(Q==null)throw Error(i(151));for(var Ae=null,Ke=null,ke=G,Me=G=0,In=null,dt=Q.next();ke!==null&&!dt.done;Me++,dt=Q.next()){ke.index>Me?(In=ke,ke=null):In=ke.sibling;var Va=te(K,ke,dt.value,ce);if(Va===null){ke===null&&(ke=In);break}r&&ke&&Va.alternate===null&&o(K,ke),G=x(Va,G,Me),Ke===null?Ae=Va:Ke.sibling=Va,Ke=Va,ke=In}if(dt.done)return c(K,ke),yt&&$o(K,Me),Ae;if(ke===null){for(;!dt.done;Me++,dt=Q.next())dt=ue(K,dt.value,ce),dt!==null&&(G=x(dt,G,Me),Ke===null?Ae=dt:Ke.sibling=dt,Ke=dt);return yt&&$o(K,Me),Ae}for(ke=f(ke);!dt.done;Me++,dt=Q.next())dt=ie(ke,K,Me,dt.value,ce),dt!==null&&(r&&dt.alternate!==null&&ke.delete(dt.key===null?Me:dt.key),G=x(dt,G,Me),Ke===null?Ae=dt:Ke.sibling=dt,Ke=dt);return r&&ke.forEach(function(QM){return o(K,QM)}),yt&&$o(K,Me),Ae}function Rt(K,G,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ae=Q.key;G!==null;){if(G.key===Ae){if(Ae=Q.type,Ae===E){if(G.tag===7){c(K,G.sibling),ce=y(G,Q.props.children),ce.return=K,K=ce;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===k&&V_(Ae)===G.type){c(K,G.sibling),ce=y(G,Q.props),md(ce,Q),ce.return=K,K=ce;break e}c(K,G);break}else o(K,G);G=G.sibling}Q.type===E?(ce=Ho(Q.props.children,K.mode,ce,Q.key),ce.return=K,K=ce):(ce=kf(Q.type,Q.key,Q.props,null,K.mode,ce),md(ce,Q),ce.return=K,K=ce)}return S(K);case _:e:{for(Ae=Q.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){c(K,G.sibling),ce=y(G,Q.children||[]),ce.return=K,K=ce;break e}else{c(K,G);break}else o(K,G);G=G.sibling}ce=_0(Q,K.mode,ce),ce.return=K,K=ce}return S(K);case k:return Ae=Q._init,Q=Ae(Q._payload),Rt(K,G,Q,ce)}if(ee(Q))return ze(K,G,Q,ce);if(D(Q)){if(Ae=D(Q),typeof Ae!="function")throw Error(i(150));return Q=Ae.call(Q),Pe(K,G,Q,ce)}if(typeof Q.then=="function")return Rt(K,G,$f(Q),ce);if(Q.$$typeof===V)return Rt(K,G,If(K,Q),ce);Wf(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(c(K,G.sibling),ce=y(G,Q),ce.return=K,K=ce):(c(K,G),ce=w0(Q,K.mode,ce),ce.return=K,K=ce),S(K)):c(K,G)}return function(K,G,Q,ce){try{pd=0;var Ae=Rt(K,G,Q,ce);return _c=null,Ae}catch(ke){if(ke===rd||ke===Mf)throw ke;var Ke=Vi(29,ke,null,K.mode);return Ke.lanes=ce,Ke.return=K,Ke}finally{}}}var Ec=z_(!0),B_=z_(!1),cs=oe(null),Ys=null;function Ea(r){var o=r.alternate;pe(bn,bn.current&1),pe(cs,r),Ys===null&&(o===null||vc.current!==null||o.memoizedState!==null)&&(Ys=r)}function U_(r){if(r.tag===22){if(pe(bn,bn.current),pe(cs,r),Ys===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ys=r)}}else Ta()}function Ta(){pe(bn,bn.current),pe(cs,cs.current)}function Or(r){ge(cs),Ys===r&&(Ys=null),ge(bn)}var bn=oe(0);function Gf(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||qy(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function ty(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:m({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var ny={enqueueSetState:function(r,o,c){r=r._reactInternals;var f=Fi(),y=ba(f);y.payload=o,c!=null&&(y.callback=c),o=wa(r,y,f),o!==null&&(Hi(o,r,f),od(o,r,f))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=Fi(),y=ba(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=wa(r,y,f),o!==null&&(Hi(o,r,f),od(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Fi(),f=ba(c);f.tag=2,o!=null&&(f.callback=o),o=wa(r,f,c),o!==null&&(Hi(o,r,c),od(o,r,c))}};function F_(r,o,c,f,y,x,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,x,S):o.prototype&&o.prototype.isPureReactComponent?!Qu(c,f)||!Qu(y,x):!0}function H_(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&ny.enqueueReplaceState(o,o.state,null)}function Zo(r,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(r=r.defaultProps){c===o&&(c=m({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var Kf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function q_(r){Kf(r)}function $_(r){console.error(r)}function W_(r){Kf(r)}function Yf(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function G_(r,o,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function iy(r,o,c){return c=ba(c),c.tag=3,c.payload={element:null},c.callback=function(){Yf(r,o)},c}function K_(r){return r=ba(r),r.tag=3,r}function Y_(r,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=f.value;r.payload=function(){return y(x)},r.callback=function(){G_(o,c,f)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){G_(o,c,f),typeof y!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function QP(r,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&nd(o,c,y,!0),c=cs.current,c!==null){switch(c.tag){case 13:return Ys===null?Cy():c.alternate===null&&Jt===0&&(Jt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===I0?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),Ry(r,f,y)),!1;case 22:return c.flags|=65536,f===I0?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),Ry(r,f,y)),!1}throw Error(i(435,c.tag))}return Ry(r,f,y),Cy(),!1}if(yt)return o=cs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==S0&&(r=Error(i(422),{cause:f}),td(rs(r,c)))):(f!==S0&&(o=Error(i(423),{cause:f}),td(rs(o,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=rs(f,c),y=iy(r.stateNode,f,y),D0(r,y),Jt!==4&&(Jt=2)),!1;var x=Error(i(520),{cause:f});if(x=rs(x,c),_d===null?_d=[x]:_d.push(x),Jt!==4&&(Jt=2),o===null)return!0;f=rs(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=iy(c.stateNode,f,r),D0(c,r),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ja===null||!ja.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=K_(y),Y_(y,r,c,f),D0(c,y),!1}c=c.return}while(c!==null);return!1}var X_=Error(i(461)),jn=!1;function zn(r,o,c,f){o.child=r===null?B_(o,null,c,f):Ec(o,r.child,c,f)}function Q_(r,o,c,f,y){c=c.render;var x=o.ref;if("ref"in f){var S={};for(var N in f)N!=="ref"&&(S[N]=f[N])}else S=f;return Yo(o),f=B0(r,o,c,S,x,y),N=U0(),r!==null&&!jn?(F0(r,o,y),Lr(r,o,y)):(yt&&N&&E0(o),o.flags|=1,zn(r,o,f,y),o.child)}function Z_(r,o,c,f,y){if(r===null){var x=c.type;return typeof x=="function"&&!b0(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,J_(r,o,x,f,y)):(r=kf(c.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(x=r.child,!dy(r,y)){var S=x.memoizedProps;if(c=c.compare,c=c!==null?c:Qu,c(S,f)&&r.ref===o.ref)return Lr(r,o,y)}return o.flags|=1,r=jr(x,f),r.ref=o.ref,r.return=o,o.child=r}function J_(r,o,c,f,y){if(r!==null){var x=r.memoizedProps;if(Qu(x,f)&&r.ref===o.ref)if(jn=!1,o.pendingProps=f=x,dy(r,y))(r.flags&131072)!==0&&(jn=!0);else return o.lanes=r.lanes,Lr(r,o,y)}return sy(r,o,c,f,y)}function e2(r,o,c){var f=o.pendingProps,y=f.children,x=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=x!==null?x.baseLanes|c:c,r!==null){for(y=o.child=r.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;o.childLanes=x&~f}else o.childLanes=0,o.child=null;return t2(r,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Pf(o,x!==null?x.cachePool:null),x!==null?J1(o,x):L0(),U_(o);else return o.lanes=o.childLanes=536870912,t2(r,o,x!==null?x.baseLanes|c:c,c)}else x!==null?(Pf(o,x.cachePool),J1(o,x),Ta(),o.memoizedState=null):(r!==null&&Pf(o,null),L0(),Ta());return zn(r,o,y,c),o.child}function t2(r,o,c,f){var y=N0();return y=y===null?null:{parent:xn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},r!==null&&Pf(o,null),L0(),U_(o),r!==null&&nd(r,o,f,!0),null}function Xf(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function sy(r,o,c,f,y){return Yo(o),c=B0(r,o,c,f,void 0,y),f=U0(),r!==null&&!jn?(F0(r,o,y),Lr(r,o,y)):(yt&&f&&E0(o),o.flags|=1,zn(r,o,c,y),o.child)}function n2(r,o,c,f,y,x){return Yo(o),o.updateQueue=null,c=t_(o,f,c,y),e_(r),f=U0(),r!==null&&!jn?(F0(r,o,x),Lr(r,o,x)):(yt&&f&&E0(o),o.flags|=1,zn(r,o,c,x),o.child)}function i2(r,o,c,f,y){if(Yo(o),o.stateNode===null){var x=fc,S=c.contextType;typeof S=="object"&&S!==null&&(x=Yn(S)),x=new c(f,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=ny,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=f,x.state=o.memoizedState,x.refs={},P0(o),S=c.contextType,x.context=typeof S=="object"&&S!==null?Yn(S):fc,x.state=o.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(ty(o,c,S,f),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&ny.enqueueReplaceState(x,x.state,null),cd(o,f,x,y),ld(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){x=o.stateNode;var N=o.memoizedProps,F=Zo(c,N);x.props=F;var Z=x.context,le=c.contextType;S=fc,typeof le=="object"&&le!==null&&(S=Yn(le));var ue=c.getDerivedStateFromProps;le=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",N=o.pendingProps!==N,le||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N||Z!==S)&&H_(o,x,f,S),xa=!1;var te=o.memoizedState;x.state=te,cd(o,f,x,y),ld(),Z=o.memoizedState,N||te!==Z||xa?(typeof ue=="function"&&(ty(o,c,ue,f),Z=o.memoizedState),(F=xa||F_(o,c,F,f,te,Z,S))?(le||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Z),x.props=f,x.state=Z,x.context=S,f=F):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,M0(r,o),S=o.memoizedProps,le=Zo(c,S),x.props=le,ue=o.pendingProps,te=x.context,Z=c.contextType,F=fc,typeof Z=="object"&&Z!==null&&(F=Yn(Z)),N=c.getDerivedStateFromProps,(Z=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==ue||te!==F)&&H_(o,x,f,F),xa=!1,te=o.memoizedState,x.state=te,cd(o,f,x,y),ld();var ie=o.memoizedState;S!==ue||te!==ie||xa||r!==null&&r.dependencies!==null&&Nf(r.dependencies)?(typeof N=="function"&&(ty(o,c,N,f),ie=o.memoizedState),(le=xa||F_(o,c,le,f,te,ie,F)||r!==null&&r.dependencies!==null&&Nf(r.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,ie,F),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,ie,F)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ie),x.props=f,x.state=ie,x.context=F,f=le):(typeof x.componentDidUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),f=!1)}return x=f,Xf(r,o),f=(o.flags&128)!==0,x||f?(x=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,r!==null&&f?(o.child=Ec(o,r.child,null,y),o.child=Ec(o,null,c,y)):zn(r,o,c,y),o.memoizedState=x.state,r=o.child):r=Lr(r,o,y),r}function s2(r,o,c,f){return ed(),o.flags|=256,zn(r,o,c,f),o.child}var ry={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ay(r){return{baseLanes:r,cachePool:$1()}}function oy(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=us),r}function r2(r,o,c){var f=o.pendingProps,y=!1,x=(o.flags&128)!==0,S;if((S=x)||(S=r!==null&&r.memoizedState===null?!1:(bn.current&2)!==0),S&&(y=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,r===null){if(yt){if(y?Ea(o):Ta(),yt){var N=Zt,F;if(F=N){e:{for(F=N,N=Ks;F.nodeType!==8;){if(!N){N=null;break e}if(F=ks(F.nextSibling),F===null){N=null;break e}}N=F}N!==null?(o.memoizedState={dehydrated:N,treeContext:qo!==null?{id:Nr,overflow:Ir}:null,retryLane:536870912,hydrationErrors:null},F=Vi(18,null,null,0),F.stateNode=N,F.return=o,o.child=F,ui=o,Zt=null,F=!0):F=!1}F||Go(o)}if(N=o.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return qy(N)?o.lanes=32:o.lanes=536870912,null;Or(o)}return N=f.children,f=f.fallback,y?(Ta(),y=o.mode,N=Qf({mode:"hidden",children:N},y),f=Ho(f,y,c,null),N.return=o,f.return=o,N.sibling=f,o.child=N,y=o.child,y.memoizedState=ay(c),y.childLanes=oy(r,S,c),o.memoizedState=ry,f):(Ea(o),ly(o,N))}if(F=r.memoizedState,F!==null&&(N=F.dehydrated,N!==null)){if(x)o.flags&256?(Ea(o),o.flags&=-257,o=cy(r,o,c)):o.memoizedState!==null?(Ta(),o.child=r.child,o.flags|=128,o=null):(Ta(),y=f.fallback,N=o.mode,f=Qf({mode:"visible",children:f.children},N),y=Ho(y,N,c,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,Ec(o,r.child,null,c),f=o.child,f.memoizedState=ay(c),f.childLanes=oy(r,S,c),o.memoizedState=ry,o=y);else if(Ea(o),qy(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var Z=S.dgst;S=Z,f=Error(i(419)),f.stack="",f.digest=S,td({value:f,source:null,stack:null}),o=cy(r,o,c)}else if(jn||nd(r,o,c,!1),S=(c&r.childLanes)!==0,jn||S){if(S=Ot,S!==null&&(f=c&-c,f=(f&42)!==0?1:zs(f),f=(f&(S.suspendedLanes|c))!==0?0:f,f!==0&&f!==F.retryLane))throw F.retryLane=f,hc(r,f),Hi(S,r,f),X_;N.data==="$?"||Cy(),o=cy(r,o,c)}else N.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=F.treeContext,Zt=ks(N.nextSibling),ui=o,yt=!0,Wo=null,Ks=!1,r!==null&&(os[ls++]=Nr,os[ls++]=Ir,os[ls++]=qo,Nr=r.id,Ir=r.overflow,qo=o),o=ly(o,f.children),o.flags|=4096);return o}return y?(Ta(),y=f.fallback,N=o.mode,F=r.child,Z=F.sibling,f=jr(F,{mode:"hidden",children:f.children}),f.subtreeFlags=F.subtreeFlags&65011712,Z!==null?y=jr(Z,y):(y=Ho(y,N,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,N=r.child.memoizedState,N===null?N=ay(c):(F=N.cachePool,F!==null?(Z=xn._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=$1(),N={baseLanes:N.baseLanes|c,cachePool:F}),y.memoizedState=N,y.childLanes=oy(r,S,c),o.memoizedState=ry,f):(Ea(o),c=r.child,r=c.sibling,c=jr(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,r!==null&&(S=o.deletions,S===null?(o.deletions=[r],o.flags|=16):S.push(r)),o.child=c,o.memoizedState=null,c)}function ly(r,o){return o=Qf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Qf(r,o){return r=Vi(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cy(r,o,c){return Ec(o,r.child,null,c),r=ly(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function a2(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),C0(r.return,o,c)}function uy(r,o,c,f,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=y)}function o2(r,o,c){var f=o.pendingProps,y=f.revealOrder,x=f.tail;if(zn(r,o,f.children,c),f=bn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&a2(r,c,o);else if(r.tag===19)a2(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(pe(bn,f),y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&Gf(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),uy(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Gf(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}uy(o,!0,c,null,x);break;case"together":uy(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lr(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Ra|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(nd(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,c=jr(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=jr(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function dy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Nf(r)))}function ZP(r,o,c){switch(o.tag){case 3:mt(o,o.stateNode.containerInfo),va(o,xn,r.memoizedState.cache),ed();break;case 27:case 5:Ye(o);break;case 4:mt(o,o.stateNode.containerInfo);break;case 10:va(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ea(o),o.flags|=128,null):(c&o.child.childLanes)!==0?r2(r,o,c):(Ea(o),r=Lr(r,o,c),r!==null?r.sibling:null);Ea(o);break;case 19:var y=(r.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(nd(r,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return o2(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pe(bn,bn.current),f)break;return null;case 22:case 23:return o.lanes=0,e2(r,o,c);case 24:va(o,xn,r.memoizedState.cache)}return Lr(r,o,c)}function l2(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)jn=!0;else{if(!dy(r,c)&&(o.flags&128)===0)return jn=!1,ZP(r,o,c);jn=(r.flags&131072)!==0}else jn=!1,yt&&(o.flags&1048576)!==0&&V1(o,jf,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")b0(f)?(r=Zo(f,r),o.tag=1,o=i2(null,o,f,r,c)):(o.tag=0,o=sy(null,o,f,r,c));else{if(f!=null){if(y=f.$$typeof,y===$){o.tag=11,o=Q_(null,o,f,r,c);break e}else if(y===z){o.tag=14,o=Z_(null,o,f,r,c);break e}}throw o=ae(f)||f,Error(i(306,o,""))}}return o;case 0:return sy(r,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=Zo(f,o.pendingProps),i2(r,o,f,y,c);case 3:e:{if(mt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var x=o.memoizedState;y=x.element,M0(r,o),cd(o,f,null,c);var S=o.memoizedState;if(f=S.cache,va(o,xn,f),f!==x.cache&&k0(o,[xn],c,!0),ld(),f=S.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=s2(r,o,f,c);break e}else if(f!==y){y=rs(Error(i(424)),o),td(y),o=s2(r,o,f,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Zt=ks(r.firstChild),ui=o,yt=!0,Wo=null,Ks=!0,c=B_(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ed(),f===y){o=Lr(r,o,c);break e}zn(r,o,f,c)}o=o.child}return o;case 26:return Xf(r,o),r===null?(c=hE(o.type,null,o.pendingProps,null))?o.memoizedState=c:yt||(c=o.type,r=o.pendingProps,f=dp(Se.current).createElement(c),f[tn]=o,f[Kt]=r,Un(f,c,r),Ft(f),o.stateNode=f):o.memoizedState=hE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ye(o),r===null&&yt&&(f=o.stateNode=cE(o.type,o.pendingProps,Se.current),ui=o,Ks=!0,y=Zt,Pa(o.type)?($y=y,Zt=ks(f.firstChild)):Zt=y),zn(r,o,o.pendingProps.children,c),Xf(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&yt&&((y=f=Zt)&&(f=AM(f,o.type,o.pendingProps,Ks),f!==null?(o.stateNode=f,ui=o,Zt=ks(f.firstChild),Ks=!1,y=!0):y=!1),y||Go(o)),Ye(o),y=o.type,x=o.pendingProps,S=r!==null?r.memoizedProps:null,f=x.children,Uy(y,x)?f=null:S!==null&&Uy(y,S)&&(o.flags|=32),o.memoizedState!==null&&(y=B0(r,o,qP,null,null,c),Nd._currentValue=y),Xf(r,o),zn(r,o,f,c),o.child;case 6:return r===null&&yt&&((r=c=Zt)&&(c=CM(c,o.pendingProps,Ks),c!==null?(o.stateNode=c,ui=o,Zt=null,r=!0):r=!1),r||Go(o)),null;case 13:return r2(r,o,c);case 4:return mt(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Ec(o,null,f,c):zn(r,o,f,c),o.child;case 11:return Q_(r,o,o.type,o.pendingProps,c);case 7:return zn(r,o,o.pendingProps,c),o.child;case 8:return zn(r,o,o.pendingProps.children,c),o.child;case 12:return zn(r,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,va(o,o.type,f.value),zn(r,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Yo(o),y=Yn(y),f=f(y),o.flags|=1,zn(r,o,f,c),o.child;case 14:return Z_(r,o,o.type,o.pendingProps,c);case 15:return J_(r,o,o.type,o.pendingProps,c);case 19:return o2(r,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},r===null?(c=Qf(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=jr(r.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return e2(r,o,c);case 24:return Yo(o),f=Yn(xn),r===null?(y=N0(),y===null&&(y=Ot,x=R0(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:f,cache:y},P0(o),va(o,xn,y)):((r.lanes&c)!==0&&(M0(r,o),cd(o,null,null,c),ld()),y=r.memoizedState,x=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),va(o,xn,f)):(f=x.cache,va(o,xn,f),f!==y.cache&&k0(o,[xn],c,!0))),zn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Vr(r){r.flags|=4}function c2(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!yE(o)){if(o=cs.current,o!==null&&((rt&4194048)===rt?Ys!==null:(rt&62914560)!==rt&&(rt&536870912)===0||o!==Ys))throw ad=I0,W1;r.flags|=8192}}function Zf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?To():536870912,r.lanes|=o,Cc|=o)}function gd(r,o){if(!yt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Yt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function JP(r,o,c){var f=o.pendingProps;switch(T0(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return Yt(o),null;case 3:return c=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Mr(xn),be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ju(o)?Vr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,U1())),Yt(o),null;case 26:return c=o.memoizedState,r===null?(Vr(o),c!==null?(Yt(o),c2(o,c)):(Yt(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Vr(o),Yt(o),c2(o,c)):(Yt(o),o.flags&=-16777217):(r.memoizedProps!==f&&Vr(o),Yt(o),o.flags&=-16777217),null;case 27:Ge(o),c=Se.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Vr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Yt(o),null}r=we.current,Ju(o)?z1(o):(r=cE(y,f,c),o.stateNode=r,Vr(o))}return Yt(o),null;case 5:if(Ge(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&Vr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Yt(o),null}if(r=we.current,Ju(o))z1(o);else{switch(y=dp(Se.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}r[tn]=o,r[Kt]=f;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(Un(r,c,f),c){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vr(o)}}return Yt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&Vr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=Se.current,Ju(o)){if(r=o.stateNode,c=o.memoizedProps,f=null,y=ui,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[tn]=o,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||nE(r.nodeValue,c)),r||Go(o)}else r=dp(r).createTextNode(f),r[tn]=o,o.stateNode=r}return Yt(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Ju(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[tn]=o}else ed(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),y=!1}else y=U1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Or(o),o):(Or(o),null)}if(Or(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,r=r!==null&&r.memoizedState!==null,c){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==y&&(f.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),Zf(o,o.updateQueue),Yt(o),null;case 4:return be(),r===null&&Oy(o.stateNode.containerInfo),Yt(o),null;case 10:return Mr(o.type),Yt(o),null;case 19:if(ge(bn),y=o.memoizedState,y===null)return Yt(o),null;if(f=(o.flags&128)!==0,x=y.rendering,x===null)if(f)gd(y,!1);else{if(Jt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=Gf(r),x!==null){for(o.flags|=128,gd(y,!1),r=x.updateQueue,o.updateQueue=r,Zf(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)L1(c,r),c=c.sibling;return pe(bn,bn.current&1|2),o.child}r=r.sibling}y.tail!==null&&Gn()>tp&&(o.flags|=128,f=!0,gd(y,!1),o.lanes=4194304)}else{if(!f)if(r=Gf(x),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,Zf(o,r),gd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!yt)return Yt(o),null}else 2*Gn()-y.renderingStartTime>tp&&c!==536870912&&(o.flags|=128,f=!0,gd(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(r=y.last,r!==null?r.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Gn(),o.sibling=null,r=bn.current,pe(bn,f?r&1|2:r&1),o):(Yt(o),null);case 22:case 23:return Or(o),V0(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Yt(o),o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),c=o.updateQueue,c!==null&&Zf(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),r!==null&&ge(Xo),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Mr(xn),Yt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function eM(r,o){switch(T0(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Mr(xn),be(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ge(o),null;case 13:if(Or(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ed()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ge(bn),null;case 4:return be(),null;case 10:return Mr(o.type),null;case 22:case 23:return Or(o),V0(),r!==null&&ge(Xo),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Mr(xn),null;case 25:return null;default:return null}}function u2(r,o){switch(T0(o),o.tag){case 3:Mr(xn),be();break;case 26:case 27:case 5:Ge(o);break;case 4:be();break;case 13:Or(o);break;case 19:ge(bn);break;case 10:Mr(o.type);break;case 22:case 23:Or(o),V0(),r!==null&&ge(Xo);break;case 24:Mr(xn)}}function yd(r,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var x=c.create,S=c.inst;f=x(),S.destroy=f}c=c.next}while(c!==y)}}catch(N){It(o,o.return,N)}}function Sa(r,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var x=y.next;f=x;do{if((f.tag&r)===r){var S=f.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,y=o;var F=c,Z=N;try{Z()}catch(le){It(y,F,le)}}}f=f.next}while(f!==x)}}catch(le){It(o,o.return,le)}}function d2(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{Z1(o,c)}catch(f){It(r,r.return,f)}}}function h2(r,o,c){c.props=Zo(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){It(r,o,f)}}function vd(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){It(r,o,y)}}function Xs(r,o){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){It(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){It(r,o,y)}else c.current=null}function f2(r){var o=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){It(r,r.return,y)}}function hy(r,o,c){try{var f=r.stateNode;wM(f,r.type,c,o),f[Kt]=o}catch(y){It(r,r.return,y)}}function p2(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Pa(r.type)||r.tag===4}function fy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||p2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Pa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function py(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=up));else if(f!==4&&(f===27&&Pa(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(py(r,o,c),r=r.sibling;r!==null;)py(r,o,c),r=r.sibling}function Jf(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(f===27&&Pa(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Jf(r,o,c),r=r.sibling;r!==null;)Jf(r,o,c),r=r.sibling}function m2(r){var o=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Un(o,f,c),o[tn]=r,o[Kt]=c}catch(x){It(r,r.return,x)}}var zr=!1,sn=!1,my=!1,g2=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function tM(r,o){if(r=r.containerInfo,zy=yp,r=C1(r),f0(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var S=0,N=-1,F=-1,Z=0,le=0,ue=r,te=null;t:for(;;){for(var ie;ue!==c||y!==0&&ue.nodeType!==3||(N=S+y),ue!==x||f!==0&&ue.nodeType!==3||(F=S+f),ue.nodeType===3&&(S+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)te=ue,ue=ie;for(;;){if(ue===r)break t;if(te===c&&++Z===y&&(N=S),te===x&&++le===f&&(F=S),(ie=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ie}c=N===-1||F===-1?null:{start:N,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(By={focusedElem:r,selectionRange:c},yp=!1,Nn=o;Nn!==null;)if(o=Nn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Nn=r;else for(;Nn!==null;){switch(o=Nn,x=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,f=c.stateNode;try{var ze=Zo(c.type,y,c.elementType===c.type);r=f.getSnapshotBeforeUpdate(ze,x),f.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){It(c,c.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Hy(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Nn=r;break}Nn=o.return}}function y2(r,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Aa(r,c),f&4&&yd(5,c);break;case 1:if(Aa(r,c),f&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(S){It(c,c.return,S)}else{var y=Zo(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(S){It(c,c.return,S)}}f&64&&d2(c),f&512&&vd(c,c.return);break;case 3:if(Aa(r,c),f&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Z1(r,o)}catch(S){It(c,c.return,S)}}break;case 27:o===null&&f&4&&m2(c);case 26:case 5:Aa(r,c),o===null&&f&4&&f2(c),f&512&&vd(c,c.return);break;case 12:Aa(r,c);break;case 13:Aa(r,c),f&4&&b2(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=uM.bind(null,c),kM(r,c))));break;case 22:if(f=c.memoizedState!==null||zr,!f){o=o!==null&&o.memoizedState!==null||sn,y=zr;var x=sn;zr=f,(sn=o)&&!x?Ca(r,c,(c.subtreeFlags&8772)!==0):Aa(r,c),zr=y,sn=x}break;case 30:break;default:Aa(r,c)}}function v2(r){var o=r.alternate;o!==null&&(r.alternate=null,v2(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Ts(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var qt=null,bi=!1;function Br(r,o,c){for(c=c.child;c!==null;)x2(r,o,c),c=c.sibling}function x2(r,o,c){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Vt,c)}catch{}switch(c.tag){case 26:sn||Xs(c,o),Br(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:sn||Xs(c,o);var f=qt,y=bi;Pa(c.type)&&(qt=c.stateNode,bi=!1),Br(r,o,c),Cd(c.stateNode),qt=f,bi=y;break;case 5:sn||Xs(c,o);case 6:if(f=qt,y=bi,qt=null,Br(r,o,c),qt=f,bi=y,qt!==null)if(bi)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(c.stateNode)}catch(x){It(c,o,x)}else try{qt.removeChild(c.stateNode)}catch(x){It(c,o,x)}break;case 18:qt!==null&&(bi?(r=qt,oE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Dd(r)):oE(qt,c.stateNode));break;case 4:f=qt,y=bi,qt=c.stateNode.containerInfo,bi=!0,Br(r,o,c),qt=f,bi=y;break;case 0:case 11:case 14:case 15:sn||Sa(2,c,o),sn||Sa(4,c,o),Br(r,o,c);break;case 1:sn||(Xs(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&h2(c,o,f)),Br(r,o,c);break;case 21:Br(r,o,c);break;case 22:sn=(f=sn)||c.memoizedState!==null,Br(r,o,c),sn=f;break;default:Br(r,o,c)}}function b2(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Dd(r)}catch(c){It(o,o.return,c)}}function nM(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new g2),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new g2),o;default:throw Error(i(435,r.tag))}}function gy(r,o){var c=nM(r);o.forEach(function(f){var y=dM.bind(null,r,f);c.has(f)||(c.add(f),f.then(y,y))})}function zi(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],x=r,S=o,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(Pa(N.type)){qt=N.stateNode,bi=!1;break e}break;case 5:qt=N.stateNode,bi=!1;break e;case 3:case 4:qt=N.stateNode.containerInfo,bi=!0;break e}N=N.return}if(qt===null)throw Error(i(160));x2(x,S,y),qt=null,bi=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)w2(o,r),o=o.sibling}var Cs=null;function w2(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:zi(o,r),Bi(r),f&4&&(Sa(3,r,r.return),yd(3,r),Sa(5,r,r.return));break;case 1:zi(o,r),Bi(r),f&512&&(sn||c===null||Xs(c,c.return)),f&64&&zr&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Cs;if(zi(o,r),Bi(r),f&512&&(sn||c===null||Xs(c,c.return)),f&4){var x=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Bs]||x[tn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(f),y.head.insertBefore(x,y.querySelector("head > title"))),Un(x,f,c),x[tn]=r,Ft(x),f=x;break e;case"link":var S=mE("link","href",y).get(f+(c.href||""));if(S){for(var N=0;N<S.length;N++)if(x=S[N],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(N,1);break t}}x=y.createElement(f),Un(x,f,c),y.head.appendChild(x);break;case"meta":if(S=mE("meta","content",y).get(f+(c.content||""))){for(N=0;N<S.length;N++)if(x=S[N],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(N,1);break t}}x=y.createElement(f),Un(x,f,c),y.head.appendChild(x);break;default:throw Error(i(468,f))}x[tn]=r,Ft(x),f=x}r.stateNode=f}else gE(y,r.type,r.stateNode);else r.stateNode=pE(y,f,r.memoizedProps);else x!==f?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,f===null?gE(y,r.type,r.stateNode):pE(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&hy(r,r.memoizedProps,c.memoizedProps)}break;case 27:zi(o,r),Bi(r),f&512&&(sn||c===null||Xs(c,c.return)),c!==null&&f&4&&hy(r,r.memoizedProps,c.memoizedProps);break;case 5:if(zi(o,r),Bi(r),f&512&&(sn||c===null||Xs(c,c.return)),r.flags&32){y=r.stateNode;try{ts(y,"")}catch(ie){It(r,r.return,ie)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,hy(r,y,c!==null?c.memoizedProps:y)),f&1024&&(my=!0);break;case 6:if(zi(o,r),Bi(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(ie){It(r,r.return,ie)}}break;case 3:if(pp=null,y=Cs,Cs=hp(o.containerInfo),zi(o,r),Cs=y,Bi(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Dd(o.containerInfo)}catch(ie){It(r,r.return,ie)}my&&(my=!1,_2(r));break;case 4:f=Cs,Cs=hp(r.stateNode.containerInfo),zi(o,r),Bi(r),Cs=f;break;case 12:zi(o,r),Bi(r);break;case 13:zi(o,r),Bi(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(_y=Gn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,gy(r,f)));break;case 22:y=r.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=zr,le=sn;if(zr=Z||y,sn=le||F,zi(o,r),sn=le,zr=Z,Bi(r),f&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||F||zr||sn||Jo(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){F=c=o;try{if(x=F.stateNode,y)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=F.stateNode;var ue=F.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ie){It(F,F.return,ie)}}}else if(o.tag===6){if(c===null){F=o;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(ie){It(F,F.return,ie)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,gy(r,c))));break;case 19:zi(o,r),Bi(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,gy(r,f)));break;case 30:break;case 21:break;default:zi(o,r),Bi(r)}}function Bi(r){var o=r.flags;if(o&2){try{for(var c,f=r.return;f!==null;){if(p2(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var y=c.stateNode,x=fy(r);Jf(r,x,y);break;case 5:var S=c.stateNode;c.flags&32&&(ts(S,""),c.flags&=-33);var N=fy(r);Jf(r,N,S);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=fy(r);py(r,Z,F);break;default:throw Error(i(161))}}catch(le){It(r,r.return,le)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function _2(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;_2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Aa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)y2(r,o.alternate,o),o=o.sibling}function Jo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Sa(4,o,o.return),Jo(o);break;case 1:Xs(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&h2(o,o.return,c),Jo(o);break;case 27:Cd(o.stateNode);case 26:case 5:Xs(o,o.return),Jo(o);break;case 22:o.memoizedState===null&&Jo(o);break;case 30:Jo(o);break;default:Jo(o)}r=r.sibling}}function Ca(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=r,x=o,S=x.flags;switch(x.tag){case 0:case 11:case 15:Ca(y,x,c),yd(4,x);break;case 1:if(Ca(y,x,c),f=x,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){It(f,f.return,Z)}if(f=x,y=f.updateQueue,y!==null){var N=f.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)Q1(F[y],N)}catch(Z){It(f,f.return,Z)}}c&&S&64&&d2(x),vd(x,x.return);break;case 27:m2(x);case 26:case 5:Ca(y,x,c),c&&f===null&&S&4&&f2(x),vd(x,x.return);break;case 12:Ca(y,x,c);break;case 13:Ca(y,x,c),c&&S&4&&b2(y,x);break;case 22:x.memoizedState===null&&Ca(y,x,c),vd(x,x.return);break;case 30:break;default:Ca(y,x,c)}o=o.sibling}}function yy(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&id(c))}function vy(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&id(r))}function Qs(r,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)E2(r,o,c,f),o=o.sibling}function E2(r,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Qs(r,o,c,f),y&2048&&yd(9,o);break;case 1:Qs(r,o,c,f);break;case 3:Qs(r,o,c,f),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&id(r)));break;case 12:if(y&2048){Qs(r,o,c,f),r=o.stateNode;try{var x=o.memoizedProps,S=x.id,N=x.onPostCommit;typeof N=="function"&&N(S,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){It(o,o.return,F)}}else Qs(r,o,c,f);break;case 13:Qs(r,o,c,f);break;case 23:break;case 22:x=o.stateNode,S=o.alternate,o.memoizedState!==null?x._visibility&2?Qs(r,o,c,f):xd(r,o):x._visibility&2?Qs(r,o,c,f):(x._visibility|=2,Tc(r,o,c,f,(o.subtreeFlags&10256)!==0)),y&2048&&yy(S,o);break;case 24:Qs(r,o,c,f),y&2048&&vy(o.alternate,o);break;default:Qs(r,o,c,f)}}function Tc(r,o,c,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=r,S=o,N=c,F=f,Z=S.flags;switch(S.tag){case 0:case 11:case 15:Tc(x,S,N,F,y),yd(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&2?Tc(x,S,N,F,y):xd(x,S):(le._visibility|=2,Tc(x,S,N,F,y)),y&&Z&2048&&yy(S.alternate,S);break;case 24:Tc(x,S,N,F,y),y&&Z&2048&&vy(S.alternate,S);break;default:Tc(x,S,N,F,y)}o=o.sibling}}function xd(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,f=o,y=f.flags;switch(f.tag){case 22:xd(c,f),y&2048&&yy(f.alternate,f);break;case 24:xd(c,f),y&2048&&vy(f.alternate,f);break;default:xd(c,f)}o=o.sibling}}var bd=8192;function Sc(r){if(r.subtreeFlags&bd)for(r=r.child;r!==null;)T2(r),r=r.sibling}function T2(r){switch(r.tag){case 26:Sc(r),r.flags&bd&&r.memoizedState!==null&&UM(Cs,r.memoizedState,r.memoizedProps);break;case 5:Sc(r);break;case 3:case 4:var o=Cs;Cs=hp(r.stateNode.containerInfo),Sc(r),Cs=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=bd,bd=16777216,Sc(r),bd=o):Sc(r));break;default:Sc(r)}}function S2(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function wd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Nn=f,C2(f,r)}S2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A2(r),r=r.sibling}function A2(r){switch(r.tag){case 0:case 11:case 15:wd(r),r.flags&2048&&Sa(9,r,r.return);break;case 3:wd(r);break;case 12:wd(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,ep(r)):wd(r);break;default:wd(r)}}function ep(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];Nn=f,C2(f,r)}S2(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Sa(8,o,o.return),ep(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,ep(o));break;default:ep(o)}r=r.sibling}}function C2(r,o){for(;Nn!==null;){var c=Nn;switch(c.tag){case 0:case 11:case 15:Sa(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:id(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Nn=f;else e:for(c=r;Nn!==null;){f=Nn;var y=f.sibling,x=f.return;if(v2(f),f===c){Nn=null;break e}if(y!==null){y.return=x,Nn=y;break e}Nn=x}}}var iM={getCacheForType:function(r){var o=Yn(xn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},sM=typeof WeakMap=="function"?WeakMap:Map,_t=0,Ot=null,Xe=null,rt=0,Et=0,Ui=null,ka=!1,Ac=!1,xy=!1,Ur=0,Jt=0,Ra=0,el=0,by=0,us=0,Cc=0,_d=null,wi=null,wy=!1,_y=0,tp=1/0,np=null,ja=null,Bn=0,Na=null,kc=null,Rc=0,Ey=0,Ty=null,k2=null,Ed=0,Sy=null;function Fi(){if((_t&2)!==0&&rt!==0)return rt&-rt;if(W.T!==null){var r=gc;return r!==0?r:Iy()}return Pi()}function R2(){us===0&&(us=(rt&536870912)===0||yt?Eo():536870912);var r=cs.current;return r!==null&&(r.flags|=32),us}function Hi(r,o,c){(r===Ot&&(Et===2||Et===9)||r.cancelPendingCommit!==null)&&(jc(r,0),Ia(r,rt,us,!1)),Ln(r,c),((_t&2)===0||r!==Ot)&&(r===Ot&&((_t&2)===0&&(el|=c),Jt===4&&Ia(r,rt,us,!1)),Zs(r))}function j2(r,o,c){if((_t&6)!==0)throw Error(i(327));var f=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Vs(r,o),y=f?oM(r,o):ky(r,o,!0),x=f;do{if(y===0){Ac&&!f&&Ia(r,o,0,!1);break}else{if(c=r.current.alternate,x&&!rM(c)){y=ky(r,o,!1),x=!1;continue}if(y===2){if(x=o,r.errorRecoveryDisabledLanes&x)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var N=r;y=_d;var F=N.current.memoizedState.isDehydrated;if(F&&(jc(N,S).flags|=256),S=ky(N,S,!1),S!==2){if(xy&&!F){N.errorRecoveryDisabledLanes|=x,el|=x,y=4;break e}x=wi,wi=y,x!==null&&(wi===null?wi=x:wi.push.apply(wi,x))}y=S}if(x=!1,y!==2)continue}}if(y===1){jc(r,0),Ia(r,o,0,!0);break}e:{switch(f=r,x=y,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ia(f,o,us,!ka);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=_y+300-Gn(),10<y)){if(Ia(f,o,us,!ka),ha(f,0,!0)!==0)break e;f.timeoutHandle=rE(N2.bind(null,f,c,wi,np,wy,o,us,el,Cc,ka,x,2,-0,0),y);break e}N2(f,c,wi,np,wy,o,us,el,Cc,ka,x,0,-0,0)}}break}while(!0);Zs(r)}function N2(r,o,c,f,y,x,S,N,F,Z,le,ue,te,ie){if(r.timeoutHandle=-1,ue=o.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(jd={stylesheets:null,count:0,unsuspend:BM},T2(o),ue=FM(),ue!==null)){r.cancelPendingCommit=ue(V2.bind(null,r,o,x,c,f,y,S,N,F,le,1,te,ie)),Ia(r,x,S,!Z);return}V2(r,o,x,c,f,y,S,N,F)}function rM(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],x=y.getSnapshot;y=y.value;try{if(!Li(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ia(r,o,c,f){o&=~by,o&=~el,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var y=o;0<y;){var x=31-Sn(y),S=1<<x;f[x]=-1,y&=~S}c!==0&&Zi(r,c,o)}function ip(){return(_t&6)===0?(Td(0),!1):!0}function Ay(){if(Xe!==null){if(Et===0)var r=Xe.return;else r=Xe,Pr=Ko=null,H0(r),_c=null,pd=0,r=Xe;for(;r!==null;)u2(r.alternate,r),r=r.return;Xe=null}}function jc(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,EM(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Ay(),Ot=r,Xe=c=jr(r.current,null),rt=o,Et=0,Ui=null,ka=!1,Ac=Vs(r,o),xy=!1,Cc=us=by=el=Ra=Jt=0,wi=_d=null,wy=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var y=31-Sn(f),x=1<<y;o|=r[y],f&=~x}return Ur=o,Sf(),c}function I2(r,o){$e=null,W.H=qf,o===rd||o===Mf?(o=Y1(),Et=3):o===W1?(o=Y1(),Et=4):Et=o===X_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ui=o,Xe===null&&(Jt=1,Yf(r,rs(o,r.current)))}function P2(){var r=W.H;return W.H=qf,r===null?qf:r}function M2(){var r=W.A;return W.A=iM,r}function Cy(){Jt=4,ka||(rt&4194048)!==rt&&cs.current!==null||(Ac=!0),(Ra&134217727)===0&&(el&134217727)===0||Ot===null||Ia(Ot,rt,us,!1)}function ky(r,o,c){var f=_t;_t|=2;var y=P2(),x=M2();(Ot!==r||rt!==o)&&(np=null,jc(r,o)),o=!1;var S=Jt;e:do try{if(Et!==0&&Xe!==null){var N=Xe,F=Ui;switch(Et){case 8:Ay(),S=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(o=!0);var Z=Et;if(Et=0,Ui=null,Nc(r,N,F,Z),c&&Ac){S=0;break e}break;default:Z=Et,Et=0,Ui=null,Nc(r,N,F,Z)}}aM(),S=Jt;break}catch(le){I2(r,le)}while(!0);return o&&r.shellSuspendCounter++,Pr=Ko=null,_t=f,W.H=y,W.A=x,Xe===null&&(Ot=null,rt=0,Sf()),S}function aM(){for(;Xe!==null;)D2(Xe)}function oM(r,o){var c=_t;_t|=2;var f=P2(),y=M2();Ot!==r||rt!==o?(np=null,tp=Gn()+500,jc(r,o)):Ac=Vs(r,o);e:do try{if(Et!==0&&Xe!==null){o=Xe;var x=Ui;t:switch(Et){case 1:Et=0,Ui=null,Nc(r,o,x,1);break;case 2:case 9:if(G1(x)){Et=0,Ui=null,O2(o);break}o=function(){Et!==2&&Et!==9||Ot!==r||(Et=7),Zs(r)},x.then(o,o);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:G1(x)?(Et=0,Ui=null,O2(o)):(Et=0,Ui=null,Nc(r,o,x,7));break;case 5:var S=null;switch(Xe.tag){case 26:S=Xe.memoizedState;case 5:case 27:var N=Xe;if(!S||yE(S)){Et=0,Ui=null;var F=N.sibling;if(F!==null)Xe=F;else{var Z=N.return;Z!==null?(Xe=Z,sp(Z)):Xe=null}break t}}Et=0,Ui=null,Nc(r,o,x,5);break;case 6:Et=0,Ui=null,Nc(r,o,x,6);break;case 8:Ay(),Jt=6;break e;default:throw Error(i(462))}}lM();break}catch(le){I2(r,le)}while(!0);return Pr=Ko=null,W.H=f,W.A=y,_t=c,Xe!==null?0:(Ot=null,rt=0,Sf(),Jt)}function lM(){for(;Xe!==null&&!Ut();)D2(Xe)}function D2(r){var o=l2(r.alternate,r,Ur);r.memoizedProps=r.pendingProps,o===null?sp(r):Xe=o}function O2(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=n2(c,o,o.pendingProps,o.type,void 0,rt);break;case 11:o=n2(c,o,o.pendingProps,o.type.render,o.ref,rt);break;case 5:H0(o);default:u2(c,o),o=Xe=L1(o,Ur),o=l2(c,o,Ur)}r.memoizedProps=r.pendingProps,o===null?sp(r):Xe=o}function Nc(r,o,c,f){Pr=Ko=null,H0(o),_c=null,pd=0;var y=o.return;try{if(QP(r,y,o,c,rt)){Jt=1,Yf(r,rs(c,r.current)),Xe=null;return}}catch(x){if(y!==null)throw Xe=y,x;Jt=1,Yf(r,rs(c,r.current)),Xe=null;return}o.flags&32768?(yt||f===1?r=!0:Ac||(rt&536870912)!==0?r=!1:(ka=r=!0,(f===2||f===9||f===3||f===6)&&(f=cs.current,f!==null&&f.tag===13&&(f.flags|=16384))),L2(o,r)):sp(o)}function sp(r){var o=r;do{if((o.flags&32768)!==0){L2(o,ka);return}r=o.return;var c=JP(o.alternate,o,Ur);if(c!==null){Xe=c;return}if(o=o.sibling,o!==null){Xe=o;return}Xe=o=r}while(o!==null);Jt===0&&(Jt=5)}function L2(r,o){do{var c=eM(r.alternate,r);if(c!==null){c.flags&=32767,Xe=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=c}while(r!==null);Jt=6,Xe=null}function V2(r,o,c,f,y,x,S,N,F){r.cancelPendingCommit=null;do rp();while(Bn!==0);if((_t&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=v0,So(r,c,x,S,N,F),r===Ot&&(Xe=Ot=null,rt=0),kc=o,Na=r,Rc=c,Ey=x,Ty=y,k2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hM(ws,function(){return H2(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,y=ne.p,ne.p=2,S=_t,_t|=4;try{tM(r,o,c)}finally{_t=S,ne.p=y,W.T=f}}Bn=1,z2(),B2(),U2()}}function z2(){if(Bn===1){Bn=0;var r=Na,o=kc,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var f=ne.p;ne.p=2;var y=_t;_t|=4;try{w2(o,r);var x=By,S=C1(r.containerInfo),N=x.focusedElem,F=x.selectionRange;if(S!==N&&N&&N.ownerDocument&&A1(N.ownerDocument.documentElement,N)){if(F!==null&&f0(N)){var Z=F.start,le=F.end;if(le===void 0&&(le=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(le,N.value.length);else{var ue=N.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ie=te.getSelection(),ze=N.textContent.length,Pe=Math.min(F.start,ze),Rt=F.end===void 0?Pe:Math.min(F.end,ze);!ie.extend&&Pe>Rt&&(S=Rt,Rt=Pe,Pe=S);var K=S1(N,Pe),G=S1(N,Rt);if(K&&G&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==G.node||ie.focusOffset!==G.offset)){var Q=ue.createRange();Q.setStart(K.node,K.offset),ie.removeAllRanges(),Pe>Rt?(ie.addRange(Q),ie.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ie.addRange(Q))}}}}for(ue=[],ie=N;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ue.length;N++){var ce=ue[N];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}yp=!!zy,By=zy=null}finally{_t=y,ne.p=f,W.T=c}}r.current=o,Bn=2}}function B2(){if(Bn===2){Bn=0;var r=Na,o=kc,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var f=ne.p;ne.p=2;var y=_t;_t|=4;try{y2(r,o.alternate,o)}finally{_t=y,ne.p=f,W.T=c}}Bn=3}}function U2(){if(Bn===4||Bn===3){Bn=0,On();var r=Na,o=kc,c=Rc,f=k2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Bn=5:(Bn=0,kc=Na=null,F2(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(ja=null),fa(c),o=o.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Vt,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=W.T,y=ne.p,ne.p=2,W.T=null;try{for(var x=r.onRecoverableError,S=0;S<f.length;S++){var N=f[S];x(N.value,{componentStack:N.stack})}}finally{W.T=o,ne.p=y}}(Rc&3)!==0&&rp(),Zs(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===Sy?Ed++:(Ed=0,Sy=r):Ed=0,Td(0)}}function F2(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,id(o)))}function rp(r){return z2(),B2(),U2(),H2()}function H2(){if(Bn!==5)return!1;var r=Na,o=Ey;Ey=0;var c=fa(Rc),f=W.T,y=ne.p;try{ne.p=32>c?32:c,W.T=null,c=Ty,Ty=null;var x=Na,S=Rc;if(Bn=0,kc=Na=null,Rc=0,(_t&6)!==0)throw Error(i(331));var N=_t;if(_t|=4,A2(x.current),E2(x,x.current,S,c),_t=N,Td(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Vt,x)}catch{}return!0}finally{ne.p=y,W.T=f,F2(r,o)}}function q2(r,o,c){o=rs(c,o),o=iy(r.stateNode,o,2),r=wa(r,o,2),r!==null&&(Ln(r,2),Zs(r))}function It(r,o,c){if(r.tag===3)q2(r,r,c);else for(;o!==null;){if(o.tag===3){q2(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ja===null||!ja.has(f))){r=rs(c,r),c=K_(2),f=wa(o,c,2),f!==null&&(Y_(c,f,o,r),Ln(f,2),Zs(f));break}}o=o.return}}function Ry(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new sM;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(xy=!0,y.add(c),r=cM.bind(null,r,o,c),o.then(r,r))}function cM(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Ot===r&&(rt&c)===c&&(Jt===4||Jt===3&&(rt&62914560)===rt&&300>Gn()-_y?(_t&2)===0&&jc(r,0):by|=c,Cc===rt&&(Cc=0)),Zs(r)}function $2(r,o){o===0&&(o=To()),r=hc(r,o),r!==null&&(Ln(r,o),Zs(r))}function uM(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),$2(r,c)}function dM(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),$2(r,c)}function hM(r,o){return Ze(r,o)}var ap=null,Ic=null,jy=!1,op=!1,Ny=!1,tl=0;function Zs(r){r!==Ic&&r.next===null&&(Ic===null?ap=Ic=r:Ic=Ic.next=r),op=!0,jy||(jy=!0,pM())}function Td(r,o){if(!Ny&&op){Ny=!0;do for(var c=!1,f=ap;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var x=0;else{var S=f.suspendedLanes,N=f.pingedLanes;x=(1<<31-Sn(42|r)+1)-1,x&=y&~(S&~N),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,Y2(f,x))}else x=rt,x=ha(f,f===Ot?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Vs(f,x)||(c=!0,Y2(f,x));f=f.next}while(c);Ny=!1}}function fM(){W2()}function W2(){op=jy=!1;var r=0;tl!==0&&(_M()&&(r=tl),tl=0);for(var o=Gn(),c=null,f=ap;f!==null;){var y=f.next,x=G2(f,o);x===0?(f.next=null,c===null?ap=y:c.next=y,y===null&&(Ic=c)):(c=f,(r!==0||(x&3)!==0)&&(op=!0)),f=y}Td(r)}function G2(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var S=31-Sn(x),N=1<<S,F=y[S];F===-1?((N&c)===0||(N&f)!==0)&&(y[S]=_o(N,o)):F<=o&&(r.expiredLanes|=N),x&=~N}if(o=Ot,c=rt,c=ha(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===o&&(Et===2||Et===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&gi(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Vs(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(f!==null&&gi(f),fa(c)){case 2:case 8:c=br;break;case 32:c=ws;break;case 268435456:c=Kn;break;default:c=ws}return f=K2.bind(null,r),c=Ze(c,f),r.callbackPriority=o,r.callbackNode=c,o}return f!==null&&f!==null&&gi(f),r.callbackPriority=2,r.callbackNode=null,2}function K2(r,o){if(Bn!==0&&Bn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(rp()&&r.callbackNode!==c)return null;var f=rt;return f=ha(r,r===Ot?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(j2(r,f,o),G2(r,Gn()),r.callbackNode!=null&&r.callbackNode===c?K2.bind(null,r):null)}function Y2(r,o){if(rp())return null;j2(r,o,!0)}function pM(){TM(function(){(_t&6)!==0?Ze(gt,fM):W2()})}function Iy(){return tl===0&&(tl=Eo()),tl}function X2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ec(""+r)}function Q2(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function mM(r,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var x=X2((y[Kt]||null).action),S=f.submitter;S&&(o=(o=S[Kt]||null)?X2(o.formAction):S.getAttribute("formAction"),o!==null&&(x=o,S=null));var N=new tc("action","action",null,f,y);r.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(tl!==0){var F=S?Q2(y,S):new FormData(y);Z0(c,{pending:!0,data:F,method:y.method,action:x},null,F)}}else typeof x=="function"&&(N.preventDefault(),F=S?Q2(y,S):new FormData(y),Z0(c,{pending:!0,data:F,method:y.method,action:x},x,F))},currentTarget:y}]})}}for(var Py=0;Py<y0.length;Py++){var My=y0[Py],gM=My.toLowerCase(),yM=My[0].toUpperCase()+My.slice(1);As(gM,"on"+yM)}As(j1,"onAnimationEnd"),As(N1,"onAnimationIteration"),As(I1,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(MP,"onTransitionRun"),As(DP,"onTransitionStart"),As(OP,"onTransitionCancel"),As(P1,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sd));function Z2(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var S=f.length-1;0<=S;S--){var N=f[S],F=N.instance,Z=N.currentTarget;if(N=N.listener,F!==x&&y.isPropagationStopped())break e;x=N,y.currentTarget=Z;try{x(y)}catch(le){Kf(le)}y.currentTarget=null,x=F}else for(S=0;S<f.length;S++){if(N=f[S],F=N.instance,Z=N.currentTarget,N=N.listener,F!==x&&y.isPropagationStopped())break e;x=N,y.currentTarget=Z;try{x(y)}catch(le){Kf(le)}y.currentTarget=null,x=F}}}}function Qe(r,o){var c=o[pa];c===void 0&&(c=o[pa]=new Set);var f=r+"__bubble";c.has(f)||(J2(o,r,2,!1),c.add(f))}function Dy(r,o,c){var f=0;o&&(f|=4),J2(c,r,f,o)}var lp="_reactListening"+Math.random().toString(36).slice(2);function Oy(r){if(!r[lp]){r[lp]=!0,ma.forEach(function(c){c!=="selectionchange"&&(vM.has(c)||Dy(c,!1,r),Dy(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[lp]||(o[lp]=!0,Dy("selectionchange",!1,o))}}function J2(r,o,c,f){switch(EE(o)){case 2:var y=$M;break;case 8:y=WM;break;default:y=Xy}c=y.bind(null,o,c,r),y=void 0,!is||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function Ly(r,o,c,f,y){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var N=f.stateNode.containerInfo;if(N===y)break;if(S===4)for(S=f.return;S!==null;){var F=S.tag;if((F===3||F===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;N!==null;){if(S=Ji(N),S===null)return;if(F=S.tag,F===5||F===6||F===26||F===27){f=x=S;continue e}N=N.parentNode}}f=f.return}uf(function(){var Z=x,le=ns(c),ue=[];e:{var te=M1.get(r);if(te!==void 0){var ie=tc,ze=r;switch(r){case"keypress":if(Hs(c)===0)break e;case"keydown":case"keyup":ie=oc;break;case"focusin":ze="focus",ie=sc;break;case"focusout":ze="blur",ie=sc;break;case"beforeblur":case"afterblur":ie=sc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=c0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=vf;break;case j1:case N1:case I1:ie=rc;break;case P1:ie=bf;break;case"scroll":case"scrollend":ie=df;break;case"wheel":ie=lc;break;case"copy":case"cut":case"paste":ie=ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Yu;break;case"toggle":case"beforetoggle":ie=_f}var Pe=(o&4)!==0,Rt=!Pe&&(r==="scroll"||r==="scrollend"),K=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var G=Z,Q;G!==null;){var ce=G;if(Q=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Q===null||K===null||(ce=Mo(G,K),ce!=null&&Pe.push(Ad(G,ce,Q))),Rt)break;G=G.return}0<Pe.length&&(te=new ie(te,ze,null,c,le),ue.push({event:te,listeners:Pe}))}}if((o&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",te&&c!==Tr&&(ze=c.relatedTarget||c.fromElement)&&(Ji(ze)||ze[yi]))break e;if((ie||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(ze=c.relatedTarget||c.toElement,ie=Z,ze=ze?Ji(ze):null,ze!==null&&(Rt=a(ze),Pe=ze.tag,ze!==Rt||Pe!==5&&Pe!==27&&Pe!==6)&&(ze=null)):(ie=null,ze=Z),ie!==ze)){if(Pe=ss,ce="onMouseLeave",K="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Yu,ce="onPointerLeave",K="onPointerEnter",G="pointer"),Rt=ie==null?te:Di(ie),Q=ze==null?te:Di(ze),te=new Pe(ce,G+"leave",ie,c,le),te.target=Rt,te.relatedTarget=Q,ce=null,Ji(le)===Z&&(Pe=new Pe(K,G+"enter",ze,c,le),Pe.target=Q,Pe.relatedTarget=Rt,ce=Pe),Rt=ce,ie&&ze)t:{for(Pe=ie,K=ze,G=0,Q=Pe;Q;Q=Pc(Q))G++;for(Q=0,ce=K;ce;ce=Pc(ce))Q++;for(;0<G-Q;)Pe=Pc(Pe),G--;for(;0<Q-G;)K=Pc(K),Q--;for(;G--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=Pc(Pe),K=Pc(K)}Pe=null}else Pe=null;ie!==null&&eE(ue,te,ie,Pe,!1),ze!==null&&Rt!==null&&eE(ue,Rt,ze,Pe,!0)}}e:{if(te=Z?Di(Z):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Ae=x1;else if(vn(te))if(b1)Ae=NP;else{Ae=RP;var Ke=kP}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&Fu(Z.elementType)&&(Ae=x1):Ae=jP;if(Ae&&(Ae=Ae(r,Z))){Rr(ue,Ae,c,le);break e}Ke&&Ke(r,te,Z),r==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&ga(te,"number",te.value)}switch(Ke=Z?Di(Z):window,r){case"focusin":(vn(Ke)||Ke.contentEditable==="true")&&(cc=Ke,p0=Z,Zu=null);break;case"focusout":Zu=p0=cc=null;break;case"mousedown":m0=!0;break;case"contextmenu":case"mouseup":case"dragend":m0=!1,k1(ue,c,le);break;case"selectionchange":if(PP)break;case"keydown":case"keyup":k1(ue,c,le)}var ke;if(Ws)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else it?se(r,c)&&(Me="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Me="onCompositionStart");Me&&(T&&c.locale!=="ko"&&(it||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&it&&(ke=qu()):(Fs=le,ya="value"in Fs?Fs.value:Fs.textContent,it=!0)),Ke=cp(Z,Me),0<Ke.length&&(Me=new Gu(Me,r,null,c,le),ue.push({event:Me,listeners:Ke}),ke?Me.data=ke:(ke=ve(c),ke!==null&&(Me.data=ke)))),(ke=w?yn(r,c):st(r,c))&&(Me=cp(Z,"onBeforeInput"),0<Me.length&&(Ke=new Gu("onBeforeInput","beforeinput",null,c,le),ue.push({event:Ke,listeners:Me}),Ke.data=ke)),mM(ue,r,Z,c,le)}Z2(ue,o)})}function Ad(r,o,c){return{instance:r,listener:o,currentTarget:c}}function cp(r,o){for(var c=o+"Capture",f=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Mo(r,c),y!=null&&f.unshift(Ad(r,y,x)),y=Mo(r,o),y!=null&&f.push(Ad(r,y,x))),r.tag===3)return f;r=r.return}return[]}function Pc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function eE(r,o,c,f,y){for(var x=o._reactName,S=[];c!==null&&c!==f;){var N=c,F=N.alternate,Z=N.stateNode;if(N=N.tag,F!==null&&F===f)break;N!==5&&N!==26&&N!==27||Z===null||(F=Z,y?(Z=Mo(c,x),Z!=null&&S.unshift(Ad(c,Z,F))):y||(Z=Mo(c,x),Z!=null&&S.push(Ad(c,Z,F)))),c=c.return}S.length!==0&&r.push({event:o,listeners:S})}var xM=/\r\n?/g,bM=/\u0000|\uFFFD/g;function tE(r){return(typeof r=="string"?r:""+r).replace(xM,`
`).replace(bM,"")}function nE(r,o){return o=tE(o),tE(r)===o}function up(){}function kt(r,o,c,f,y,x){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ts(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ts(r,""+f);break;case"className":Ne(r,"class",f);break;case"tabIndex":Ne(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ne(r,c,f);break;case"style":Uu(r,f,x);break;case"data":if(o!=="object"){Ne(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=ec(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&kt(r,o,"name",y.name,y,null),kt(r,o,"formEncType",y.formEncType,y,null),kt(r,o,"formMethod",y.formMethod,y,null),kt(r,o,"formTarget",y.formTarget,y,null)):(kt(r,o,"encType",y.encType,y,null),kt(r,o,"method",y.method,y,null),kt(r,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=ec(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=up);break;case"onScroll":f!=null&&Qe("scroll",r);break;case"onScrollEnd":f!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=ec(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),Ce(r,"popover",f);break;case"xlinkActuate":Oe(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Oe(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Oe(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Oe(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Oe(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Oe(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Oe(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Oe(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Oe(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ce(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=o0.get(c)||c,Ce(r,c,f))}}function Vy(r,o,c,f,y,x){switch(c){case"style":Uu(r,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof f=="string"?ts(r,f):(typeof f=="number"||typeof f=="bigint")&&ts(r,""+f);break;case"onScroll":f!=null&&Qe("scroll",r);break;case"onScrollEnd":f!=null&&Qe("scrollend",r);break;case"onClick":f!=null&&(r.onclick=up);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=r[Kt]||null,x=x!=null?x[c]:null,typeof x=="function"&&r.removeEventListener(o,x,y),typeof f=="function")){typeof x!="function"&&x!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):Ce(r,c,f)}}}function Un(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var f=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var S=c[x];if(S!=null)switch(x){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kt(r,o,x,S,c,null)}}y&&kt(r,o,"srcSet",c.srcSet,c,null),f&&kt(r,o,"src",c.src,c,null);return;case"input":Qe("invalid",r);var N=x=S=y=null,F=null,Z=null;for(f in c)if(c.hasOwnProperty(f)){var le=c[f];if(le!=null)switch(f){case"name":y=le;break;case"type":S=le;break;case"checked":F=le;break;case"defaultChecked":Z=le;break;case"value":x=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,o));break;default:kt(r,o,f,le,c,null)}}No(r,x,N,F,Z,S,y,!1),Jl(r);return;case"select":Qe("invalid",r),f=S=x=null;for(y in c)if(c.hasOwnProperty(y)&&(N=c[y],N!=null))switch(y){case"value":x=N;break;case"defaultValue":S=N;break;case"multiple":f=N;default:kt(r,o,y,N,c,null)}o=x,c=S,r.multiple=!!f,o!=null?Er(r,!!f,o,!1):c!=null&&Er(r,!!f,c,!0);return;case"textarea":Qe("invalid",r),x=y=f=null;for(S in c)if(c.hasOwnProperty(S)&&(N=c[S],N!=null))switch(S){case"value":f=N;break;case"defaultValue":y=N;break;case"children":x=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:kt(r,o,S,N,c,null)}Io(r,f,y,x),Jl(r);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(f=c[F],f!=null))switch(F){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:kt(r,o,F,f,c,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(f=0;f<Sd.length;f++)Qe(Sd[f],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(f=c[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kt(r,o,Z,f,c,null)}return;default:if(Fu(o)){for(le in c)c.hasOwnProperty(le)&&(f=c[le],f!==void 0&&Vy(r,o,le,f,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(f=c[N],f!=null&&kt(r,o,N,f,c,null))}function wM(r,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,S=null,N=null,F=null,Z=null,le=null;for(ie in c){var ue=c[ie];if(c.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":F=ue;default:f.hasOwnProperty(ie)||kt(r,o,ie,null,f,ue)}}for(var te in f){var ie=f[te];if(ue=c[te],f.hasOwnProperty(te)&&(ie!=null||ue!=null))switch(te){case"type":x=ie;break;case"name":y=ie;break;case"checked":Z=ie;break;case"defaultChecked":le=ie;break;case"value":S=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,o));break;default:ie!==ue&&kt(r,o,te,ie,f,ue)}}Oi(r,S,N,F,Z,le,x,y);return;case"select":ie=S=N=te=null;for(x in c)if(F=c[x],c.hasOwnProperty(x)&&F!=null)switch(x){case"value":break;case"multiple":ie=F;default:f.hasOwnProperty(x)||kt(r,o,x,null,f,F)}for(y in f)if(x=f[y],F=c[y],f.hasOwnProperty(y)&&(x!=null||F!=null))switch(y){case"value":te=x;break;case"defaultValue":N=x;break;case"multiple":S=x;default:x!==F&&kt(r,o,y,x,f,F)}o=N,c=S,f=ie,te!=null?Er(r,!!c,te,!1):!!f!=!!c&&(o!=null?Er(r,!!c,o,!0):Er(r,!!c,c?[]:"",!1));return;case"textarea":ie=te=null;for(N in c)if(y=c[N],c.hasOwnProperty(N)&&y!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:kt(r,o,N,null,f,y)}for(S in f)if(y=f[S],x=c[S],f.hasOwnProperty(S)&&(y!=null||x!=null))switch(S){case"value":te=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==x&&kt(r,o,S,y,f,x)}At(r,te,ie);return;case"option":for(var ze in c)if(te=c[ze],c.hasOwnProperty(ze)&&te!=null&&!f.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:kt(r,o,ze,null,f,te)}for(F in f)if(te=f[F],ie=c[F],f.hasOwnProperty(F)&&te!==ie&&(te!=null||ie!=null))switch(F){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:kt(r,o,F,te,f,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in c)te=c[Pe],c.hasOwnProperty(Pe)&&te!=null&&!f.hasOwnProperty(Pe)&&kt(r,o,Pe,null,f,te);for(Z in f)if(te=f[Z],ie=c[Z],f.hasOwnProperty(Z)&&te!==ie&&(te!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:kt(r,o,Z,te,f,ie)}return;default:if(Fu(o)){for(var Rt in c)te=c[Rt],c.hasOwnProperty(Rt)&&te!==void 0&&!f.hasOwnProperty(Rt)&&Vy(r,o,Rt,void 0,f,te);for(le in f)te=f[le],ie=c[le],!f.hasOwnProperty(le)||te===ie||te===void 0&&ie===void 0||Vy(r,o,le,te,f,ie);return}}for(var K in c)te=c[K],c.hasOwnProperty(K)&&te!=null&&!f.hasOwnProperty(K)&&kt(r,o,K,null,f,te);for(ue in f)te=f[ue],ie=c[ue],!f.hasOwnProperty(ue)||te===ie||te==null&&ie==null||kt(r,o,ue,te,f,ie)}var zy=null,By=null;function dp(r){return r.nodeType===9?r:r.ownerDocument}function iE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Uy(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fy=null;function _M(){var r=window.event;return r&&r.type==="popstate"?r===Fy?!1:(Fy=r,!0):(Fy=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,EM=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,TM=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(r){return aE.resolve(null).then(r).catch(SM)}:rE;function SM(r){setTimeout(function(){throw r})}function Pa(r){return r==="head"}function oE(r,o){var c=o,f=0,y=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(0<f&&8>f){c=f;var S=r.ownerDocument;if(c&1&&Cd(S.documentElement),c&2&&Cd(S.body),c&4)for(c=S.head,Cd(c),S=c.firstChild;S;){var N=S.nextSibling,F=S.nodeName;S[Bs]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=N}}if(y===0){r.removeChild(x),Dd(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=x}while(c);Dd(o)}function Hy(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Hy(c),Ts(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function AM(r,o,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Bs])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=ks(r.nextSibling),r===null)break}return null}function CM(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=ks(r.nextSibling),r===null))return null;return r}function qy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function kM(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ks(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var $y=null;function lE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function cE(r,o,c){switch(o=dp(c),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Cd(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Ts(r)}var ds=new Map,uE=new Set;function hp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Fr=ne.d;ne.d={f:RM,r:jM,D:NM,C:IM,L:PM,m:MM,X:OM,S:DM,M:LM};function RM(){var r=Fr.f(),o=ip();return r||o}function jM(r){var o=Mi(r);o!==null&&o.tag===5&&o.type==="form"?j_(o):Fr.r(r)}var Mc=typeof document>"u"?null:document;function dE(r,o,c){var f=Mc;if(f&&typeof o=="string"&&o){var y=un(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),uE.has(y)||(uE.add(y),r={rel:r,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),Un(o,"link",r),Ft(o),f.head.appendChild(o)))}}function NM(r){Fr.D(r),dE("dns-prefetch",r,null)}function IM(r,o){Fr.C(r,o),dE("preconnect",r,o)}function PM(r,o,c){Fr.L(r,o,c);var f=Mc;if(f&&r&&o){var y='link[rel="preload"][as="'+un(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+un(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+un(c.imageSizes)+'"]')):y+='[href="'+un(r)+'"]';var x=y;switch(o){case"style":x=Dc(r);break;case"script":x=Oc(r)}ds.has(x)||(r=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),ds.set(x,r),f.querySelector(y)!==null||o==="style"&&f.querySelector(kd(x))||o==="script"&&f.querySelector(Rd(x))||(o=f.createElement("link"),Un(o,"link",r),Ft(o),f.head.appendChild(o)))}}function MM(r,o){Fr.m(r,o);var c=Mc;if(c&&r){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+un(f)+'"][href="'+un(r)+'"]',x=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Oc(r)}if(!ds.has(x)&&(r=m({rel:"modulepreload",href:r},o),ds.set(x,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Rd(x)))return}f=c.createElement("link"),Un(f,"link",r),Ft(f),c.head.appendChild(f)}}}function DM(r,o,c){Fr.S(r,o,c);var f=Mc;if(f&&r){var y=An(f).hoistableStyles,x=Dc(r);o=o||"default";var S=y.get(x);if(!S){var N={loading:0,preload:null};if(S=f.querySelector(kd(x)))N.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},c),(c=ds.get(x))&&Wy(r,c);var F=S=f.createElement("link");Ft(F),Un(F,"link",r),F._p=new Promise(function(Z,le){F.onload=Z,F.onerror=le}),F.addEventListener("load",function(){N.loading|=1}),F.addEventListener("error",function(){N.loading|=2}),N.loading|=4,fp(S,o,f)}S={type:"stylesheet",instance:S,count:1,state:N},y.set(x,S)}}}function OM(r,o){Fr.X(r,o);var c=Mc;if(c&&r){var f=An(c).hoistableScripts,y=Oc(r),x=f.get(y);x||(x=c.querySelector(Rd(y)),x||(r=m({src:r,async:!0},o),(o=ds.get(y))&&Gy(r,o),x=c.createElement("script"),Ft(x),Un(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function LM(r,o){Fr.M(r,o);var c=Mc;if(c&&r){var f=An(c).hoistableScripts,y=Oc(r),x=f.get(y);x||(x=c.querySelector(Rd(y)),x||(r=m({src:r,async:!0,type:"module"},o),(o=ds.get(y))&&Gy(r,o),x=c.createElement("script"),Ft(x),Un(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(y,x))}}function hE(r,o,c,f){var y=(y=Se.current)?hp(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Dc(c.href),c=An(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Dc(c.href);var x=An(y).hoistableStyles,S=x.get(r);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,S),(x=y.querySelector(kd(r)))&&!x._p&&(S.instance=x,S.state.loading=5),ds.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ds.set(r,c),x||VM(y,r,c,S.state))),o&&f===null)throw Error(i(528,""));return S}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Oc(c),c=An(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Dc(r){return'href="'+un(r)+'"'}function kd(r){return'link[rel="stylesheet"]['+r+"]"}function fE(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function VM(r,o,c,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Un(o,"link",c),Ft(o),r.head.appendChild(o))}function Oc(r){return'[src="'+un(r)+'"]'}function Rd(r){return"script[async]"+r}function pE(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+un(c.href)+'"]');if(f)return o.instance=f,Ft(f),f;var y=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Ft(f),Un(f,"style",y),fp(f,c.precedence,r),o.instance=f;case"stylesheet":y=Dc(c.href);var x=r.querySelector(kd(y));if(x)return o.state.loading|=4,o.instance=x,Ft(x),x;f=fE(c),(y=ds.get(y))&&Wy(f,y),x=(r.ownerDocument||r).createElement("link"),Ft(x);var S=x;return S._p=new Promise(function(N,F){S.onload=N,S.onerror=F}),Un(x,"link",f),o.state.loading|=4,fp(x,c.precedence,r),o.instance=x;case"script":return x=Oc(c.src),(y=r.querySelector(Rd(x)))?(o.instance=y,Ft(y),y):(f=c,(y=ds.get(x))&&(f=m({},c),Gy(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),Ft(y),Un(y,"link",f),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,fp(f,c.precedence,r));return o.instance}function fp(r,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,x=y,S=0;S<f.length;S++){var N=f[S];if(N.dataset.precedence===o)x=N;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Wy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Gy(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var pp=null;function mE(r,o,c){if(pp===null){var f=new Map,y=pp=new Map;y.set(c,f)}else y=pp,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var x=c[y];if(!(x[Bs]||x[tn]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(o)||"";S=r+S;var N=f.get(S);N?N.push(x):f.set(S,[x])}}return f}function gE(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function zM(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function yE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var jd=null;function BM(){}function UM(r,o,c){if(jd===null)throw Error(i(475));var f=jd;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Dc(c.href),x=r.querySelector(kd(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=mp.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=x,Ft(x);return}x=r.ownerDocument||r,c=fE(c),(y=ds.get(y))&&Wy(c,y),x=x.createElement("link"),Ft(x);var S=x;S._p=new Promise(function(N,F){S.onload=N,S.onerror=F}),Un(x,"link",c),o.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=mp.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function FM(){if(jd===null)throw Error(i(475));var r=jd;return r.stylesheets&&r.count===0&&Ky(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&Ky(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function mp(){if(this.count--,this.count===0){if(this.stylesheets)Ky(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var gp=null;function Ky(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,gp=new Map,o.forEach(HM,r),gp=null,mp.call(r))}function HM(r,o){if(!(o.state.loading&4)){var c=gp.get(r);if(c)var f=c.get(null);else{c=new Map,gp.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var S=y[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),f=S)}f&&c.set(null,f)}y=o.instance,S=y.getAttribute("data-precedence"),x=c.get(S)||f,x===f&&c.set(null,y),c.set(S,y),this.count++,f=mp.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var Nd={$$typeof:V,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function qM(r,o,c,f,y,x,S,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function vE(r,o,c,f,y,x,S,N,F,Z,le,ue){return r=new qM(r,o,c,S,N,F,Z,ue),o=1,x===!0&&(o|=24),x=Vi(3,null,null,o),r.current=x,x.stateNode=r,o=R0(),o.refCount++,r.pooledCache=o,o.refCount++,x.memoizedState={element:f,isDehydrated:c,cache:o},P0(x),r}function xE(r){return r?(r=fc,r):fc}function bE(r,o,c,f,y,x){y=xE(y),f.context===null?f.context=y:f.pendingContext=y,f=ba(o),f.payload={element:c},x=x===void 0?null:x,x!==null&&(f.callback=x),c=wa(r,f,o),c!==null&&(Hi(c,r,o),od(c,r,o))}function wE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Yy(r,o){wE(r,o),(r=r.alternate)&&wE(r,o)}function _E(r){if(r.tag===13){var o=hc(r,67108864);o!==null&&Hi(o,r,67108864),Yy(r,67108864)}}var yp=!0;function $M(r,o,c,f){var y=W.T;W.T=null;var x=ne.p;try{ne.p=2,Xy(r,o,c,f)}finally{ne.p=x,W.T=y}}function WM(r,o,c,f){var y=W.T;W.T=null;var x=ne.p;try{ne.p=8,Xy(r,o,c,f)}finally{ne.p=x,W.T=y}}function Xy(r,o,c,f){if(yp){var y=Qy(f);if(y===null)Ly(r,o,f,vp,c),TE(r,f);else if(KM(y,r,o,c,f))f.stopPropagation();else if(TE(r,f),o&4&&-1<GM.indexOf(r)){for(;y!==null;){var x=Mi(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=Ii(x.pendingLanes);if(S!==0){var N=x;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var F=1<<31-Sn(S);N.entanglements[1]|=F,S&=~F}Zs(x),(_t&6)===0&&(tp=Gn()+500,Td(0))}}break;case 13:N=hc(x,2),N!==null&&Hi(N,x,2),ip(),Yy(x,2)}if(x=Qy(f),x===null&&Ly(r,o,f,vp,c),x===y)break;y=x}y!==null&&f.stopPropagation()}else Ly(r,o,f,null,c)}}function Qy(r){return r=ns(r),Zy(r)}var vp=null;function Zy(r){if(vp=null,r=Ji(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return vp=r,null}function EE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gl()){case gt:return 2;case br:return 8;case ws:case Vu:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var Jy=!1,Ma=null,Da=null,Oa=null,Id=new Map,Pd=new Map,La=[],GM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TE(r,o){switch(r){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Id.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(o.pointerId)}}function Md(r,o,c,f,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},o!==null&&(o=Mi(o),o!==null&&_E(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function KM(r,o,c,f,y){switch(o){case"focusin":return Ma=Md(Ma,r,o,c,f,y),!0;case"dragenter":return Da=Md(Da,r,o,c,f,y),!0;case"mouseover":return Oa=Md(Oa,r,o,c,f,y),!0;case"pointerover":var x=y.pointerId;return Id.set(x,Md(Id.get(x)||null,r,o,c,f,y)),!0;case"gotpointercapture":return x=y.pointerId,Pd.set(x,Md(Pd.get(x)||null,r,o,c,f,y)),!0}return!1}function SE(r){var o=Ji(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Xl(r.priority,function(){if(c.tag===13){var f=Fi();f=zs(f);var y=hc(c,f);y!==null&&Hi(y,c,f),Yy(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xp(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Qy(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Tr=f,c.target.dispatchEvent(f),Tr=null}else return o=Mi(c),o!==null&&_E(o),r.blockedOn=c,!1;o.shift()}return!0}function AE(r,o,c){xp(r)&&c.delete(o)}function YM(){Jy=!1,Ma!==null&&xp(Ma)&&(Ma=null),Da!==null&&xp(Da)&&(Da=null),Oa!==null&&xp(Oa)&&(Oa=null),Id.forEach(AE),Pd.forEach(AE)}function bp(r,o){r.blockedOn===o&&(r.blockedOn=null,Jy||(Jy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YM)))}var wp=null;function CE(r){wp!==r&&(wp=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wp===r&&(wp=null);for(var o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=r[o+2];if(typeof f!="function"){if(Zy(f||c)===null)continue;break}var x=Mi(c);x!==null&&(r.splice(o,3),o-=3,Z0(x,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Dd(r){function o(F){return bp(F,r)}Ma!==null&&bp(Ma,r),Da!==null&&bp(Da,r),Oa!==null&&bp(Oa,r),Id.forEach(o),Pd.forEach(o);for(var c=0;c<La.length;c++){var f=La[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<La.length&&(c=La[0],c.blockedOn===null);)SE(c),c.blockedOn===null&&La.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],x=c[f+1],S=y[Kt]||null;if(typeof x=="function")S||CE(c);else if(S){var N=null;if(x&&x.hasAttribute("formAction")){if(y=x,S=x[Kt]||null)N=S.formAction;else if(Zy(y)!==null)continue}else N=S.action;typeof N=="function"?c[f+1]=N:(c.splice(f,3),f-=3),CE(c)}}}function ev(r){this._internalRoot=r}_p.prototype.render=ev.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,f=Fi();bE(c,f,r,o,null,null)},_p.prototype.unmount=ev.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;bE(r.current,2,null,r,null,null),ip(),o[yi]=null}};function _p(r){this._internalRoot=r}_p.prototype.unstable_scheduleHydration=function(r){if(r){var o=Pi();r={blockedOn:null,target:r,priority:o};for(var c=0;c<La.length&&o!==0&&o<La[c].priority;c++);La.splice(c,0,r),c===0&&SE(r)}};var kE=e.version;if(kE!=="19.1.0")throw Error(i(527,kE,"19.1.0"));ne.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var XM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ep.isDisabled&&Ep.supportsFiber)try{Vt=Ep.inject(XM),ct=Ep}catch{}}return Ld.createRoot=function(r,o){if(!s(r))throw Error(i(299));var c=!1,f="",y=q_,x=$_,S=W_,N=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks)),o=vE(r,1,!1,null,null,c,f,y,x,S,N,null),r[yi]=o.current,Oy(r),new ev(o)},Ld.hydrateRoot=function(r,o,c){if(!s(r))throw Error(i(299));var f=!1,y="",x=q_,S=$_,N=W_,F=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),o=vE(r,1,!0,o,c??null,f,y,x,S,N,F,Z),o.context=xE(null),c=o.current,f=Fi(),f=zs(f),y=ba(f),y.callback=null,wa(c,y,f),c=f,o.current.lanes=c,Ln(o,c),Zs(o),r[yi]=o.current,Oy(r),new _p(o)},Ld.version="19.1.0",Ld}var VE;function lD(){if(VE)return iv.exports;VE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iv.exports=oD(),iv.exports}var cD=lD();const uD=yk(cD);var Vd={},zE;function dD(){if(zE)return Vd;zE=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=l,Vd.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,_){const E=new a,C=b.length;if(C<2)return E;const A=(_==null?void 0:_.decode)||m;let j=0;do{const B=b.indexOf("=",j);if(B===-1)break;const V=b.indexOf(";",j),$=V===-1?C:V;if(B>$){j=b.lastIndexOf(";",B-1)+1;continue}const q=u(b,j,B),J=h(b,B,q),z=b.slice(q,J);if(E[z]===void 0){let k=u(b,B+1,$),P=h(b,$,k);const O=A(b.slice(k,P));E[z]=O}j=$+1}while(j<C);return E}function u(b,_,E){do{const C=b.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<E);return E}function h(b,_,E){for(;_>E;){const C=b.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return E}function p(b,_,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=C(_);if(!e.test(A))throw new TypeError(`argument val is invalid: ${_}`);let j=b+"="+A;if(!E)return j;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);j+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);j+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);j+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);j+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(j+="; HttpOnly"),E.secure&&(j+="; Secure"),E.partitioned&&(j+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return j}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return s.call(b)==="[object Date]"}return Vd}dD();var BE="popstate";function hD(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:h=""}=Il(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Qv("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof a=="string"?a:yh(a))}function i(s,a){ys(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return pD(e,n,i,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ys(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fD(){return Math.random().toString(36).substring(2,10)}function UE(t,e){return{usr:t.state,key:t.key,idx:e}}function Qv(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Il(e):e,state:n,key:e&&e.key||i||fD()}}function yh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function pD(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,u="POP",h=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let A=m(),j=A==null?null:A-p;p=A,h&&h({action:u,location:C.location,delta:j})}function b(A,j){u="PUSH";let B=Qv(C.location,A,j);n&&n(B,A),p=m()+1;let V=UE(B,p),$=C.createHref(B);try{l.pushState(V,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign($)}a&&h&&h({action:u,location:C.location,delta:1})}function _(A,j){u="REPLACE";let B=Qv(C.location,A,j);n&&n(B,A),p=m();let V=UE(B,p),$=C.createHref(B);l.replaceState(V,"",$),a&&h&&h({action:u,location:C.location,delta:0})}function E(A){let j=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof A=="string"?A:yh(A);return B=B.replace(/ $/,"%20"),Wt(j,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,j)}let C={get action(){return u},get location(){return t(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(BE,v),h=A,()=>{s.removeEventListener(BE,v),h=null}},createHref(A){return e(s,A)},createURL:E,encodeLocation(A){let j=E(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:_,go(A){return l.go(A)}};return C}function vk(t,e,n="/"){return mD(t,e,n,!1)}function mD(t,e,n,i){let s=typeof e=="string"?Il(e):e,a=ta(s.pathname||"/",n);if(a==null)return null;let l=xk(t);gD(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=CD(a);u=SD(l[h],p,i)}return u}function xk(t,e=[],n=[],i=""){let s=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Wt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=Xr([i,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(Wt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xk(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:ED(p,a.index),routesMeta:m})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let h of bk(a.path))s(a,l,h)}),e}function bk(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=bk(i.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function gD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var yD=/^:[\w-]+$/,vD=3,xD=2,bD=1,wD=10,_D=-2,FE=t=>t==="*";function ED(t,e){let n=t.split("/"),i=n.length;return n.some(FE)&&(i+=_D),e&&(i+=xD),n.filter(s=>!FE(s)).reduce((s,a)=>s+(yD.test(a)?vD:a===""?bD:wD),i)}function TD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function SD(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],p=u===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=bm({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),b=h.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=bm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:Xr([a,v.pathname]),pathnameBase:ND(Xr([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=Xr([a,v.pathnameBase]))}return l}function bm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=AD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},b)=>{if(m==="*"){let E=u[b]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[b];return v&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function AD(t,e=!1,n=!0){ys(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function CD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ys(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function kD(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Il(t):t;return{pathname:n?n.startsWith("/")?n:RD(n,e):e,search:ID(i),hash:PD(s)}}function RD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sb(t){let e=jD(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function rb(t,e,n,i=!1){let s;typeof t=="string"?s=Il(t):(s={...t},Wt(!s.pathname||!s.pathname.includes("?"),ov("?","pathname","search",s)),Wt(!s.pathname||!s.pathname.includes("#"),ov("#","pathname","hash",s)),Wt(!s.search||!s.search.includes("#"),ov("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}u=v>=0?e[v]:"/"}let h=kD(s,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Xr=t=>t.join("/").replace(/\/\/+/g,"/"),ND=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ID=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var wk=["POST","PUT","PATCH","DELETE"];new Set(wk);var DD=["GET",...wk];new Set(DD);var xu=I.createContext(null);xu.displayName="DataRouter";var vg=I.createContext(null);vg.displayName="DataRouterState";var _k=I.createContext({isTransitioning:!1});_k.displayName="ViewTransition";var OD=I.createContext(new Map);OD.displayName="Fetchers";var LD=I.createContext(null);LD.displayName="Await";var Ds=I.createContext(null);Ds.displayName="Navigation";var Vh=I.createContext(null);Vh.displayName="Location";var Os=I.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var ab=I.createContext(null);ab.displayName="RouteError";function VD(t,{relative:e}={}){Wt(bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Ds),{hash:s,pathname:a,search:l}=zh(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Xr([n,a])),i.createHref({pathname:u,search:l,hash:s})}function bu(){return I.useContext(Vh)!=null}function gr(){return Wt(bu(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Vh).location}var Ek="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tk(t){I.useContext(Ds).static||I.useLayoutEffect(t)}function yr(){let{isDataRoute:t}=I.useContext(Os);return t?ZD():zD()}function zD(){Wt(bu(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(xu),{basename:e,navigator:n}=I.useContext(Ds),{matches:i}=I.useContext(Os),{pathname:s}=gr(),a=JSON.stringify(sb(i)),l=I.useRef(!1);return Tk(()=>{l.current=!0}),I.useCallback((h,p={})=>{if(ys(l.current,Ek),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=rb(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Xr([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,s,t])}I.createContext(null);function BD(){let{matches:t}=I.useContext(Os),e=t[t.length-1];return e?e.params:{}}function zh(t,{relative:e}={}){let{matches:n}=I.useContext(Os),{pathname:i}=gr(),s=JSON.stringify(sb(n));return I.useMemo(()=>rb(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function UD(t,e){return Sk(t,e)}function Sk(t,e,n,i){var B;Wt(bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=I.useContext(Ds),{matches:l}=I.useContext(Os),u=l[l.length-1],h=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let V=v&&v.path||"";Ak(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let b=gr(),_;if(e){let V=typeof e=="string"?Il(e):e;Wt(m==="/"||((B=V.pathname)==null?void 0:B.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${V.pathname}" was given in the \`location\` prop.`),_=V}else _=b;let E=_.pathname||"/",C=E;if(m!=="/"){let V=m.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(V.length).join("/")}let A=!a&&n&&n.matches&&n.matches.length>0?n.matches:vk(t,{pathname:C});ys(v||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ys(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=WD(A&&A.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Xr([m,s.encodeLocation?s.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?m:Xr([m,s.encodeLocation?s.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,n,i);return e&&j?I.createElement(Vh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},j):j}function FD(){let t=QD(),e=MD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,l)}var HD=I.createElement(FD,null),qD=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(Os.Provider,{value:this.props.routeContext},I.createElement(ab.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $D({routeContext:t,match:e,children:n}){let i=I.useContext(xu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Os.Provider,{value:t},n)}function WD(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:v}=n,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let v,b=!1,_=null,E=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||HD,l&&(u<0&&m===0?(Ak("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===m&&(b=!0,E=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,m+1)),A=()=>{let j;return v?j=_:b?j=E:p.route.Component?j=I.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,I.createElement($D,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?I.createElement(qD,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function ob(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GD(t){let e=I.useContext(xu);return Wt(e,ob(t)),e}function KD(t){let e=I.useContext(vg);return Wt(e,ob(t)),e}function YD(t){let e=I.useContext(Os);return Wt(e,ob(t)),e}function lb(t){let e=YD(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XD(){return lb("useRouteId")}function QD(){var i;let t=I.useContext(ab),e=KD("useRouteError"),n=lb("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function ZD(){let{router:t}=GD("useNavigate"),e=lb("useNavigate"),n=I.useRef(!1);return Tk(()=>{n.current=!0}),I.useCallback(async(s,a={})=>{ys(n.current,Ek),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var HE={};function Ak(t,e,n){!e&&!HE[t]&&(HE[t]=!0,ys(!1,n))}I.memo(JD);function JD({routes:t,future:e,state:n}){return Sk(t,void 0,n,e)}function e5({to:t,replace:e,state:n,relative:i}){Wt(bu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=I.useContext(Ds);ys(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=I.useContext(Os),{pathname:l}=gr(),u=yr(),h=rb(t,sb(a),l,i==="path"),p=JSON.stringify(h);return I.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:i})},[u,p,i,e,n]),null}function Zn(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t5({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){Wt(!bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Il(n));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:b="default"}=n,_=I.useMemo(()=>{let E=ta(h,l);return E==null?null:{location:{pathname:E,search:p,hash:m,state:v,key:b},navigationType:i}},[l,h,p,m,v,b,i]);return ys(_!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:I.createElement(Ds.Provider,{value:u},I.createElement(Vh.Provider,{children:e,value:_}))}function n5({children:t,location:e}){return UD(Zv(t),e)}function Zv(t,e=[]){let n=[];return I.Children.forEach(t,(i,s)=>{if(!I.isValidElement(i))return;let a=[...e,s];if(i.type===I.Fragment){n.push.apply(n,Zv(i.props.children,a));return}Wt(i.type===Zn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Zv(i.props.children,a)),n.push(l)}),n}var Qp="get",Zp="application/x-www-form-urlencoded";function xg(t){return t!=null&&typeof t.tagName=="string"}function i5(t){return xg(t)&&t.tagName.toLowerCase()==="button"}function s5(t){return xg(t)&&t.tagName.toLowerCase()==="form"}function r5(t){return xg(t)&&t.tagName.toLowerCase()==="input"}function a5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o5(t,e){return t.button===0&&(!e||e==="_self")&&!a5(t)}var Tp=null;function l5(){if(Tp===null)try{new FormData(document.createElement("form"),0),Tp=!1}catch{Tp=!0}return Tp}var c5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lv(t){return t!=null&&!c5.has(t)?(ys(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zp}"`),null):t}function u5(t,e){let n,i,s,a,l;if(s5(t)){let u=t.getAttribute("action");i=u?ta(u,e):null,n=t.getAttribute("method")||Qp,s=lv(t.getAttribute("enctype"))||Zp,a=new FormData(t)}else if(i5(t)||r5(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(i=h?ta(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Qp,s=lv(t.getAttribute("formenctype"))||lv(u.getAttribute("enctype"))||Zp,a=new FormData(u,t),!l5()){let{name:p,type:m,value:v}=t;if(m==="image"){let b=p?`${p}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else p&&a.append(p,v)}}else{if(xg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qp,i=null,s=Zp,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function cb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function d5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function f5(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await d5(a,n);return l.links?l.links():[]}return[]}));return y5(i.flat(1).filter(h5).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qE(t,e,n,i,s,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>{var m;return n[p].pathname!==h.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):a==="data"?e.filter((h,p)=>{var v;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function p5(t,e,{includeHydrateFallback:n}={}){return m5(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function m5(t){return[...new Set(t)]}function g5(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function y5(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(g5(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}var v5=new Set([100,101,204,205]);function x5(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ta(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Ck(){let t=I.useContext(xu);return cb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function b5(){let t=I.useContext(vg);return cb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ub=I.createContext(void 0);ub.displayName="FrameworkContext";function kk(){let t=I.useContext(ub);return cb(t,"You must render this element inside a <HydratedRouter> element"),t}function w5(t,e){let n=I.useContext(ub),[i,s]=I.useState(!1),[a,l]=I.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,b=I.useRef(null);I.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=j=>{j.forEach(B=>{l(B.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[t]),I.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:zd(u,_),onBlur:zd(h,E),onMouseEnter:zd(p,_),onMouseLeave:zd(m,E),onTouchStart:zd(v,_)}]:[!1,b,{}]}function zd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _5({page:t,...e}){let{router:n}=Ck(),i=I.useMemo(()=>vk(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?I.createElement(T5,{page:t,matches:i,...e}):null}function E5(t){let{manifest:e,routeModules:n}=kk(),[i,s]=I.useState([]);return I.useEffect(()=>{let a=!1;return f5(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),i}function T5({page:t,matches:e,...n}){let i=gr(),{manifest:s,routeModules:a}=kk(),{basename:l}=Ck(),{loaderData:u,matches:h}=b5(),p=I.useMemo(()=>qE(t,e,h,s,i,"data"),[t,e,h,s,i]),m=I.useMemo(()=>qE(t,e,h,s,i,"assets"),[t,e,h,s,i]),v=I.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,C=!1;if(e.forEach(j=>{var V;let B=s.routes[j.route.id];!B||!B.hasLoader||(!p.some($=>$.route.id===j.route.id)&&j.route.id in u&&((V=a[j.route.id])!=null&&V.shouldRevalidate)||B.hasClientLoader?C=!0:E.add(j.route.id))}),E.size===0)return[];let A=x5(t,l);return C&&E.size>0&&A.searchParams.set("_routes",e.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[l,u,i,s,p,e,t,a]),b=I.useMemo(()=>p5(m,s),[m,s]),_=E5(m);return I.createElement(I.Fragment,null,v.map(E=>I.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>I.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:C})=>I.createElement("link",{key:E,...C})))}function S5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rk&&(window.__reactRouterVersion="7.5.3")}catch{}function A5({basename:t,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=hD({window:n,v5Compat:!0}));let s=i.current,[a,l]=I.useState({action:s.action,location:s.location}),u=I.useCallback(h=>{I.startTransition(()=>l(h))},[l]);return I.useLayoutEffect(()=>s.listen(u),[s,u]),I.createElement(t5,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var jk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:u,target:h,to:p,preventScrollReset:m,viewTransition:v,...b},_){let{basename:E}=I.useContext(Ds),C=typeof p=="string"&&jk.test(p),A,j=!1;if(typeof p=="string"&&C&&(A=p,Rk))try{let P=new URL(window.location.href),O=p.startsWith("//")?new URL(P.protocol+p):new URL(p),L=ta(O.pathname,E);O.origin===P.origin&&L!=null?p=L+O.search+O.hash:j=!0}catch{ys(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=VD(p,{relative:s}),[V,$,q]=w5(i,b),J=j5(p,{replace:l,state:u,target:h,preventScrollReset:m,relative:s,viewTransition:v});function z(P){e&&e(P),P.defaultPrevented||J(P)}let k=I.createElement("a",{...b,...q,href:A||B,onClick:j||a?e:z,ref:S5(_,$),target:h,"data-discover":!C&&n==="render"?"true":void 0});return V&&!C?I.createElement(I.Fragment,null,k,I.createElement(_5,{page:B})):k});ot.displayName="Link";var C5=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:u,children:h,...p},m){let v=zh(l,{relative:p.relative}),b=gr(),_=I.useContext(vg),{navigator:E,basename:C}=I.useContext(Ds),A=_!=null&&D5(v)&&u===!0,j=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,B=b.pathname,V=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(B=B.toLowerCase(),V=V?V.toLowerCase():null,j=j.toLowerCase()),V&&C&&(V=ta(V,C)||V);const $=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let q=B===j||!s&&B.startsWith(j)&&B.charAt($)==="/",J=V!=null&&(V===j||!s&&V.startsWith(j)&&V.charAt(j.length)==="/"),z={isActive:q,isPending:J,isTransitioning:A},k=q?e:void 0,P;typeof i=="function"?P=i(z):P=[i,q?"active":null,J?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(z):a;return I.createElement(ot,{...p,"aria-current":k,className:P,ref:m,style:O,to:l,viewTransition:u},typeof h=="function"?h(z):h)});C5.displayName="NavLink";var k5=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Qp,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,...b},_)=>{let E=P5(),C=M5(u,{relative:p}),A=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&jk.test(u),B=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,q=($==null?void 0:$.getAttribute("formmethod"))||l;E($||V.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:s,state:a,relative:p,preventScrollReset:m,viewTransition:v})};return I.createElement("form",{ref:_,method:A,action:C,onSubmit:i?h:B,...b,"data-discover":!j&&t==="render"?"true":void 0})});k5.displayName="Form";function R5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nk(t){let e=I.useContext(xu);return Wt(e,R5(t)),e}function j5(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=yr(),h=gr(),p=zh(t,{relative:a});return I.useCallback(m=>{if(o5(m,e)){m.preventDefault();let v=n!==void 0?n:yh(h)===yh(p);u(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,u,p,n,i,e,t,s,a,l])}var N5=0,I5=()=>`__${String(++N5)}__`;function P5(){let{router:t}=Nk("useSubmit"),{basename:e}=I.useContext(Ds),n=XD();return I.useCallback(async(i,s={})=>{let{action:a,method:l,encType:u,formData:h,body:p}=u5(i,e);if(s.navigate===!1){let m=s.fetcherKey||I5();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function M5(t,{relative:e}={}){let{basename:n}=I.useContext(Ds),i=I.useContext(Os);Wt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...zh(t||".",{relative:e})},l=gr();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Xr([n,a.pathname])),yh(a)}function D5(t,e={}){let n=I.useContext(_k);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Nk("useViewTransitionState"),s=zh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ta(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ta(n.nextLocation.pathname,i)||n.nextLocation.pathname;return bm(s.pathname,l)!=null||bm(s.pathname,a)!=null}new TextEncoder;[...v5];function yl(){return d.jsxs("footer",{style:ht.footer,children:[d.jsxs("div",{style:ht.footerContent,children:[d.jsxs("div",{style:ht.footerColumn,children:[d.jsx("h3",{style:ht.logo,children:"🎀 Moñitos"}),d.jsx("p",{style:ht.footerText,children:"Productos de calidad para cada ocasión."})]}),d.jsxs("div",{style:ht.footerColumn,children:[d.jsx("h4",{style:ht.columnTitle,children:"Enlaces Rápidos"}),d.jsxs("ul",{style:ht.footerList,children:[d.jsx("li",{style:ht.footerListItem,children:"Inicio"}),d.jsx("li",{style:ht.footerListItem,children:"Productos"}),d.jsx("li",{style:ht.footerListItem,children:"Cómo Funciona"}),d.jsx("li",{style:ht.footerListItem,children:"Blog"}),d.jsx("li",{style:ht.footerListItem,children:"Contacto"})]})]}),d.jsxs("div",{style:ht.footerColumn,children:[d.jsx("h4",{style:ht.columnTitle,children:"Legal"}),d.jsxs("ul",{style:ht.footerList,children:[d.jsx("li",{style:ht.footerListItem,children:"Política de Privacidad"}),d.jsx("li",{style:ht.footerListItem,children:"Términos de Servicio"}),d.jsx("li",{style:ht.footerListItem,children:"Política de Envíos"}),d.jsx("li",{style:ht.footerListItem,children:"Devoluciones y Reembolsos"})]})]}),d.jsxs("div",{style:ht.footerColumn,children:[d.jsx("h4",{style:ht.columnTitle,children:"Conéctate con Nosotros"}),d.jsxs("div",{style:ht.socialIcons,children:[d.jsx("span",{style:ht.socialIcon,children:"📘"}),d.jsx("span",{style:ht.socialIcon,children:"📷"}),d.jsx("span",{style:ht.socialIcon,children:"🐦"}),d.jsx("span",{style:ht.socialIcon,children:"🎵"})]}),d.jsx("p",{style:ht.footerText,children:"Suscríbete para recibir ofertas especiales."}),d.jsxs("div",{style:ht.emailForm,children:[d.jsx("input",{type:"email",placeholder:"Tu correo electrónico",style:ht.emailInput}),d.jsx("button",{style:ht.sendButton,children:"📤"})]})]})]}),d.jsx("div",{style:ht.footerBottom,children:d.jsx("p",{children:"© 2025 Moñitos. Todos los derechos reservados. Hecho con orgullo en Colombia."})})]})}const ht={footer:{backgroundColor:"#f0fdf4",color:"#333",paddingTop:"40px",borderTop:"1px solid #dcfce7"},footerContent:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",padding:"0 20px 40px",maxWidth:"1200px",margin:"0 auto"},footerColumn:{flex:"1 1 200px",marginBottom:"20px"},logo:{fontSize:"22px",fontWeight:"bold",color:"#16a34a",marginBottom:"10px"},columnTitle:{fontSize:"18px",fontWeight:"600",marginBottom:"15px",color:"#16a34a"},footerText:{color:"#4b5563",lineHeight:"1.6",marginBottom:"15px"},footerList:{listStyle:"none",padding:0,marginTop:"10px",lineHeight:"1.8",color:"#4b5563"},footerListItem:{cursor:"pointer",transition:"color 0.2s",marginBottom:"8px"},socialIcons:{display:"flex",gap:"12px",fontSize:"18px",marginBottom:"15px"},socialIcon:{cursor:"pointer",backgroundColor:"#fff",width:"36px",height:"36px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",transition:"transform 0.2s, background-color 0.2s"},emailForm:{display:"flex",marginTop:"15px"},emailInput:{padding:"10px",borderRadius:"4px 0 0 4px",border:"1px solid #d1d5db",flex:1},sendButton:{padding:"10px 15px",backgroundColor:"#16a34a",border:"none",borderRadius:"0 4px 4px 0",color:"#fff",cursor:"pointer",transition:"background-color 0.2s"},footerBottom:{textAlign:"center",borderTop:"1px solid #dcfce7",backgroundColor:"#fff",padding:"15px 0",fontSize:"14px",color:"#4b5563"}},O5=()=>{};var $E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},L5=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Pk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,m=a>>2,v=(a&3)<<4|u>>4;let b=(u&15)<<2|p>>6,_=p&63;h||(_=64,l||(b=64)),i.push(n[m],n[v],n[b],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||p==null||v==null)throw new V5;const b=a<<2|u>>4;if(i.push(b),p!==64){const _=u<<4&240|p>>2;if(i.push(_),v!==64){const E=p<<6&192|v;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z5=function(t){const e=Ik(t);return Pk.encodeByteArray(e,!0)},wm=function(t){return z5(t).replace(/\./g,"")},Mk=function(t){try{return Pk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=()=>B5().__FIREBASE_DEFAULTS__,F5=()=>{if(typeof process>"u"||typeof $E>"u")return;const t=$E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mk(t[1]);return e&&JSON.parse(e)},bg=()=>{try{return O5()||U5()||F5()||H5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>{var e,n;return(n=(e=bg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ok=t=>{const e=Dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Lk=()=>{var t;return(t=bg())===null||t===void 0?void 0:t.config},Vk=t=>{var e;return(e=bg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wm(JSON.stringify(n)),wm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ai())}function W5(){var t;const e=(t=bg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function K5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X5(){const t=ai();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q5(){return!W5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z5(){try{return typeof indexedDB=="object"}catch{return!1}}function J5(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="FirebaseError";class vr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=e6,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bh.prototype.create)}}class Bh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?t6(a,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new vr(s,u,i)}}function t6(t,e){return t.replace(n6,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const n6=/\{\$([^}]+)}/g;function i6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _l(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],l=e[s];if(WE(a)&&WE(l)){if(!_l(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function WE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Gd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function s6(t,e){const n=new r6(t,e);return n.subscribe.bind(n)}class r6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");a6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=cv),s.error===void 0&&(s.error=cv),s.complete===void 0&&(s.complete=cv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class ro{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new q5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c6(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);i===u&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:l6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l6(t){return t===ll?void 0:t}function c6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const d6={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},h6=Je.INFO,f6={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},p6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=f6[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class db{constructor(e){this.name=e,this._logLevel=h6,this._logHandler=p6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const m6=(t,e)=>e.some(n=>t instanceof n);let GE,KE;function g6(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y6(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bk=new WeakMap,Jv=new WeakMap,Uk=new WeakMap,uv=new WeakMap,hb=new WeakMap;function v6(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Za(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Bk.set(n,t)}).catch(()=>{}),hb.set(e,t),e}function x6(t){if(Jv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Jv.set(t,e)}let ex={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function b6(t){ex=t(ex)}function w6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(dv(this),e,...n);return Uk.set(i,e.sort?e.sort():[e]),Za(i)}:y6().includes(t)?function(...e){return t.apply(dv(this),e),Za(Bk.get(this))}:function(...e){return Za(t.apply(dv(this),e))}}function _6(t){return typeof t=="function"?w6(t):(t instanceof IDBTransaction&&x6(t),m6(t,g6())?new Proxy(t,ex):t)}function Za(t){if(t instanceof IDBRequest)return v6(t);if(uv.has(t))return uv.get(t);const e=_6(t);return e!==t&&(uv.set(t,e),hb.set(e,t)),e}const dv=t=>hb.get(t);function E6(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Za(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Za(l.result),h.oldVersion,h.newVersion,Za(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const T6=["get","getKey","getAll","getAllKeys","count"],S6=["put","add","delete","clear"],hv=new Map;function YE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hv.get(e))return hv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=S6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||T6.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),s&&h.done]))[0]};return hv.set(e,a),a}b6(t=>({...t,get:(e,n,i)=>YE(e,n)||t.get(e,n,i),has:(e,n)=>!!YE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function C6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tx="@firebase/app",XE="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new db("@firebase/app"),k6="@firebase/app-compat",R6="@firebase/analytics-compat",j6="@firebase/analytics",N6="@firebase/app-check-compat",I6="@firebase/app-check",P6="@firebase/auth",M6="@firebase/auth-compat",D6="@firebase/database",O6="@firebase/data-connect",L6="@firebase/database-compat",V6="@firebase/functions",z6="@firebase/functions-compat",B6="@firebase/installations",U6="@firebase/installations-compat",F6="@firebase/messaging",H6="@firebase/messaging-compat",q6="@firebase/performance",$6="@firebase/performance-compat",W6="@firebase/remote-config",G6="@firebase/remote-config-compat",K6="@firebase/storage",Y6="@firebase/storage-compat",X6="@firebase/firestore",Q6="@firebase/vertexai",Z6="@firebase/firestore-compat",J6="firebase",eO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="[DEFAULT]",tO={[tx]:"fire-core",[k6]:"fire-core-compat",[j6]:"fire-analytics",[R6]:"fire-analytics-compat",[I6]:"fire-app-check",[N6]:"fire-app-check-compat",[P6]:"fire-auth",[M6]:"fire-auth-compat",[D6]:"fire-rtdb",[O6]:"fire-data-connect",[L6]:"fire-rtdb-compat",[V6]:"fire-fn",[z6]:"fire-fn-compat",[B6]:"fire-iid",[U6]:"fire-iid-compat",[F6]:"fire-fcm",[H6]:"fire-fcm-compat",[q6]:"fire-perf",[$6]:"fire-perf-compat",[W6]:"fire-rc",[G6]:"fire-rc-compat",[K6]:"fire-gcs",[Y6]:"fire-gcs-compat",[X6]:"fire-fst",[Z6]:"fire-fst-compat",[Q6]:"fire-vertex","fire-js":"fire-js",[J6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map,nO=new Map,ix=new Map;function QE(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function El(t){const e=t.name;if(ix.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;ix.set(e,t);for(const n of _m.values())QE(n,t);for(const n of nO.values())QE(n,t);return!0}function wg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new Bh("app","Firebase",iO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=eO;function Fk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:nx,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Ja.create("bad-app-name",{appName:String(s)});if(n||(n=Lk()),!n)throw Ja.create("no-options");const a=_m.get(s);if(a){if(_l(n,a.options)&&_l(i,a.config))return a;throw Ja.create("duplicate-app",{appName:s})}const l=new u6(s);for(const h of ix.values())l.addComponent(h);const u=new sO(n,i,l);return _m.set(s,u),u}function fb(t=nx){const e=_m.get(t);if(!e&&t===nx&&Lk())return Fk();if(!e)throw Ja.create("no-app",{appName:t});return e}function rr(t,e,n){var i;let s=(i=tO[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(u.join(" "));return}El(new ro(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="firebase-heartbeat-database",aO=1,vh="firebase-heartbeat-store";let fv=null;function Hk(){return fv||(fv=E6(rO,aO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),fv}async function oO(t){try{const n=(await Hk()).transaction(vh),i=await n.objectStore(vh).get(qk(t));return await n.done,i}catch(e){if(e instanceof vr)na.warn(e.message);else{const n=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});na.warn(n.message)}}}async function ZE(t,e){try{const i=(await Hk()).transaction(vh,"readwrite");await i.objectStore(vh).put(e,qk(t)),await i.done}catch(n){if(n instanceof vr)na.warn(n.message);else{const i=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});na.warn(i.message)}}}function qk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=1024,cO=30;class uO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=JE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>cO){const l=fO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){na.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=JE(),{heartbeatsToSend:i,unsentEntries:s}=dO(this._heartbeatsCache.heartbeats),a=wm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return na.warn(n),""}}}function JE(){return new Date().toISOString().substring(0,10)}function dO(t,e=lO){const n=[];let i=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),eT(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),eT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class hO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z5()?J5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eT(t){return wm(JSON.stringify({version:2,heartbeats:t})).length}function fO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){El(new ro("platform-logger",e=>new A6(e),"PRIVATE")),El(new ro("heartbeat",e=>new uO(e),"PRIVATE")),rr(tx,XE,t),rr(tx,XE,"esm2017"),rr("fire-js","")}pO("");var mO="firebase",gO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(mO,gO,"app");function pb(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function $k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yO=$k,Wk=new Bh("auth","Firebase",$k());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new db("@firebase/auth");function vO(t,...e){Em.logLevel<=Je.WARN&&Em.warn(`Auth (${Pl}): ${t}`,...e)}function Jp(t,...e){Em.logLevel<=Je.ERROR&&Em.error(`Auth (${Pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw gb(t,...e)}function Is(t,...e){return gb(t,...e)}function mb(t,e,n){const i=Object.assign(Object.assign({},yO()),{[e]:n});return new Bh("auth","Firebase",i).create(e,{appName:t.name})}function Qr(t){return mb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xO(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&vs(t,"argument-error"),mb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gb(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Wk.create(t,...e)}function Le(t,e,...n){if(!t)throw gb(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jp(e),new Error(e)}function ia(t,e){t||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bO(){return tT()==="http:"||tT()==="https:"}function tT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bO()||K5()||"connection"in navigator)?navigator.onLine:!0}function _O(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ia(n>e,"Short delay should be less than long delay!"),this.isMobile=$5()||Y5()}get(){return wO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e){ia(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SO=new Fh(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ls(t,e,n,i,s={}){return Kk(t,s,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const u=Uh(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return G5()||(p.referrerPolicy="no-referrer"),Gk.fetch()(await Yk(t,t.config.apiHost,n,u),p)})}async function Kk(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},EO),e);try{const s=new CO(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Sp(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sp(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Sp(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Sp(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw mb(t,m,p);vs(t,m)}}catch(s){if(s instanceof vr)throw s;vs(t,"network-request-failed",{message:String(s)})}}async function Hh(t,e,n,i,s={}){const a=await Ls(t,e,n,i,s);return"mfaPendingCredential"in a&&vs(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Yk(t,e,n,i){const s=`${e}${n}?${i}`,a=t,l=a.config.emulator?yb(t.config,s):`${t.config.apiScheme}://${s}`;return TO.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function AO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Is(this.auth,"network-request-failed")),SO.get())})}}function Sp(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Is(t,e,i);return s.customData._tokenResponse=n,s}function nT(t){return t!==void 0&&t.enterprise!==void 0}class kO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RO(t,e){return Ls(t,"GET","/v2/recaptchaConfig",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function Tm(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NO(t,e=!1){const n=Gt(t),i=await n.getIdToken(e),s=vb(i);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:ih(pv(s.auth_time)),issuedAtTime:ih(pv(s.iat)),expirationTime:ih(pv(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function pv(t){return Number(t)*1e3}function vb(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Jp("JWT malformed, contained fewer than 3 sections"),null;try{const s=Mk(n);return s?JSON.parse(s):(Jp("Failed to decode base64 JWT payload"),null)}catch(s){return Jp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iT(t){const e=vb(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vr&&IO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function IO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ih(this.lastLoginAt),this.creationTime=ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Tl(t,Tm(n,{idToken:i}));Le(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Xk(a.providerUserInfo):[],u=DO(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(u!=null&&u.length),m=h?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new rx(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function MO(t){const e=Gt(t);await Sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DO(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Xk(t){return t.map(e=>{var{providerId:n}=e,i=pb(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e){const n=await Kk(t,{},async()=>{const i=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await Yk(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Gk.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LO(t,e){return Ls(t,"POST","/v2/accounts:revokeToken",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=iT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await OO(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new Yc;return i&&(Le(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Le(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Le(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class js{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=pb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NO(this,e)}reload(){return MO(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Sm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Tl(this,jO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,l,u,h,p,m;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,_=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,j=(p=n.createdAt)!==null&&p!==void 0?p:void 0,B=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:$,isAnonymous:q,providerData:J,stsTokenManager:z}=n;Le(V&&z,e,"internal-error");const k=Yc.fromJSON(this.name,z);Le(typeof V=="string",e,"internal-error"),za(v,e.name),za(b,e.name),Le(typeof $=="boolean",e,"internal-error"),Le(typeof q=="boolean",e,"internal-error"),za(_,e.name),za(E,e.name),za(C,e.name),za(A,e.name),za(j,e.name),za(B,e.name);const P=new js({uid:V,auth:e,email:b,emailVerified:$,displayName:v,isAnonymous:q,photoURL:E,phoneNumber:_,tenantId:C,stsTokenManager:k,createdAt:j,lastLoginAt:B});return J&&Array.isArray(J)&&(P.providerData=J.map(O=>Object.assign({},O))),A&&(P._redirectEventId=A),P}static async _fromIdTokenResponse(e,n,i=!1){const s=new Yc;s.updateFromServerResponse(n);const a=new js({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Sm(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Le(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Xk(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),u=new Yc;u.updateFromIdToken(i);const h=new js({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function Yr(t){ia(t instanceof Function,"Expected a class definition");let e=sT.get(t);return e?(ia(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qk.type="NONE";const rT=Qk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e,n){return`firebase:${t}:${e}:${n}`}class Xc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=em(this.userKey,s.apiKey,a),this.fullPersistenceKey=em("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tm(this.auth,{idToken:e}).catch(()=>{});return n?js._fromGetAccountInfoResponse(this.auth,n,e):null}return js._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Xc(Yr(rT),e,i);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Yr(rT);const l=em(i,e.config.apiKey,e.name);let u=null;for(const p of n)try{const m=await p._get(l);if(m){let v;if(typeof m=="string"){const b=await Tm(e,{idToken:m}).catch(()=>{});if(!b)break;v=await js._fromGetAccountInfoResponse(e,b,m)}else v=js._fromJSON(e,m);p!==a&&(u=v),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Xc(a,e,i):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Xc(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iR(e))return"Blackberry";if(sR(e))return"Webos";if(Jk(e))return"Safari";if((e.includes("chrome/")||eR(e))&&!e.includes("edge/"))return"Chrome";if(nR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Zk(t=ai()){return/firefox\//i.test(t)}function Jk(t=ai()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eR(t=ai()){return/crios\//i.test(t)}function tR(t=ai()){return/iemobile/i.test(t)}function nR(t=ai()){return/android/i.test(t)}function iR(t=ai()){return/blackberry/i.test(t)}function sR(t=ai()){return/webos/i.test(t)}function xb(t=ai()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VO(t=ai()){var e;return xb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zO(){return X5()&&document.documentMode===10}function rR(t=ai()){return xb(t)||nR(t)||sR(t)||iR(t)||/windows phone/i.test(t)||tR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e=[]){let n;switch(t){case"Browser":n=aT(ai());break;case"Worker":n=`${aT(ai())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=6;class HO{constructor(e){var n,i,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:FO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new BO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Xc.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tm(this,{idToken:e}),i=await js._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_O()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Qr(this));const n=e?Gt(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UO(this),n=new HO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await LO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Xc.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ua(t){return Gt(t)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=s6(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $O(t){_g=t}function oR(t){return _g.loadJS(t)}function WO(){return _g.recaptchaEnterpriseScript}function GO(){return _g.gapiScript}function KO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YO{constructor(){this.enterprise=new XO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QO="recaptcha-enterprise",lR="NO_RECAPTCHA";class ZO{constructor(e){this.type=QO,this.auth=ua(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{RO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new kO(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function s(a,l,u){const h=window.grecaptcha;nT(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(lR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(u=>{if(!n&&nT(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=WO();h.length!==0&&(h+=u),oR(h).then(()=>{s(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function lT(t,e,n,i=!1,s=!1){const a=new ZO(t);let l;if(s)l=lR;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Am(t,e,n,i,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await lT(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lT(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t,e){const n=wg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(_l(a,e??{}))return s;vs(s,"already-initialized")}return n.initialize({options:e})}function e3(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function t3(t,e,n){const i=ua(t);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=cR(e),{host:l,port:u}=n3(e),h=u===null?"":`:${u}`,p={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(_l(p,i.config.emulator)&&_l(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,i3()}function cR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n3(t){const e=cR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:cT(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:cT(l)}}}function cT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}async function s3(t,e){return Ls(t,"POST","/v1/accounts:update",e)}async function r3(t,e){return Ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){return Hh(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}async function o3(t,e){return Ls(t,"POST","/v1/accounts:sendOobCode",ca(t,e))}async function l3(t,e){return o3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function u3(t,e){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends bb{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new xh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new xh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",a3);case"emailLink":return c3(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,i,"signUpPassword",r3);case"emailLink":return u3(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e){return Hh(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="http://localhost";class Sl extends bb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,a=pb(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Sl(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Qc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Qc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qc(e,n)}buildRequest(){const e={requestUri:d3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f3(t){const e=Wd(Gd(t)).link,n=e?Wd(Gd(e)).deep_link_id:null,i=Wd(Gd(t)).deep_link_id;return(i?Wd(Gd(i)).link:null)||i||n||e||t}class wb{constructor(e){var n,i,s,a,l,u;const h=Wd(Gd(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,v=h3((s=h.mode)!==null&&s!==void 0?s:null);Le(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=f3(e);try{return new wb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.providerId=wu.PROVIDER_ID}static credential(e,n){return xh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=wb.parseLink(n);return Le(i,"argument-error"),xh._fromEmailAndCode(e,i.code,i.tenantId)}}wu.PROVIDER_ID="password";wu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends _b{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends qh{constructor(){super("facebook.com")}static credential(e){return Sl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fa.credential(e.oauthAccessToken)}catch{return null}}}Fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends qh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sl._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gr.credential(n,i)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends qh{constructor(){super("github.com")}static credential(e){return Sl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com";Ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends qh{constructor(){super("twitter.com")}static credential(e,n){return Sl._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return qa.credential(n,i)}catch{return null}}}qa.TWITTER_SIGN_IN_METHOD="twitter.com";qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e){return Hh(t,"POST","/v1/accounts:signUp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await js._fromIdTokenResponse(e,i,s),l=uT(i);return new Al({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=uT(i);return new Al({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function uT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends vr{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Cm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Cm(e,n,i,s)}}function uR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Cm._fromErrorAndOperation(t,a,e,i):a})}async function m3(t,e,n=!1){const i=await Tl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Al._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e,n=!1){const{auth:i}=t;if(Ti(i.app))return Promise.reject(Qr(i));const s="reauthenticate";try{const a=await Tl(t,uR(i,s,e,t),n);Le(a.idToken,i,"internal-error");const l=vb(a.idToken);Le(l,i,"internal-error");const{sub:u}=l;return Le(t.uid===u,i,"user-mismatch"),Al._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vs(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(t,e,n=!1){if(Ti(t.app))return Promise.reject(Qr(t));const i="signIn",s=await uR(t,i,e),a=await Al._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function y3(t,e){return dR(ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t){const e=ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v3(t,e,n){const i=ua(t);await Am(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",l3)}async function x3(t,e,n){if(Ti(t.app))return Promise.reject(Qr(t));const i=ua(t),l=await Am(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&hR(t),h}),u=await Al._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function b3(t,e,n){return Ti(t.app)?Promise.reject(Qr(t)):y3(Gt(t),wu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&hR(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e){return Ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Gt(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Tl(i,w3(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function _3(t,e){return E3(Gt(t),null,e)}async function E3(t,e,n){const{auth:i}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await Tl(t,s3(i,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e){return Gt(t).setPersistence(e)}function T3(t,e,n,i){return Gt(t).onIdTokenChanged(e,n,i)}function S3(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function go(t,e,n,i){return Gt(t).onAuthStateChanged(e,n,i)}function A3(t){return Gt(t).signOut()}async function C3(t){return Gt(t).delete()}const km="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(km,"1"),this.storage.removeItem(km),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=1e3,R3=10;class pR extends fR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);zO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,R3):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},k3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pR.type="LOCAL";const ax=pR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends fR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mR.type="SESSION";const Rm=mR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Eg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async p=>p(n.origin,a)),h=await j3(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=Eb("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function I3(t){ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function P3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D3(){return gR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebaseLocalStorageDb",O3=1,jm="firebaseLocalStorage",vR="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tg(t,e){return t.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}function L3(){const t=indexedDB.deleteDatabase(yR);return new $h(t).toPromise()}function ox(){const t=indexedDB.open(yR,O3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(jm,{keyPath:vR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(jm)?e(i):(i.close(),await L3(),e(await ox()))})})}async function fT(t,e,n){const i=Tg(t,!0).put({[vR]:e,value:n});return new $h(i).toPromise()}async function V3(t,e){const n=Tg(t,!1).get(e),i=await new $h(n).toPromise();return i===void 0?null:i.value}function pT(t,e){const n=Tg(t,!0).delete(e);return new $h(n).toPromise()}const z3=800,B3=3;class xR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ox(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>B3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eg._getInstance(D3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await P3(),!this.activeServiceWorker)return;this.sender=new N3(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ox();return await fT(e,km,"1"),await pT(e,km),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>fT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>V3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Tg(s,!1).getAll();return new $h(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xR.type="LOCAL";const U3=xR;new Fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e){return e?Yr(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends bb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F3(t){return dR(t.auth,new Tb(t),t.bypassAuthState)}function H3(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),g3(n,new Tb(t),t.bypassAuthState)}async function q3(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),m3(n,new Tb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F3;case"linkViaPopup":case"linkViaRedirect":return q3;case"reauthViaPopup":case"reauthViaRedirect":return H3;default:vs(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Fh(2e3,1e4);async function W3(t,e,n){if(Ti(t.app))return Promise.reject(Is(t,"operation-not-supported-in-this-environment"));const i=ua(t);xO(t,e,_b);const s=bR(i,n);return new dl(i,"signInViaPopup",e,s).executeNotNull()}class dl extends wR{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=Eb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$3.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="pendingRedirect",tm=new Map;class K3 extends wR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=tm.get(this.auth._key());if(!e){try{const i=await Y3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y3(t,e){const n=Z3(e),i=Q3(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function X3(t,e){tm.set(t._key(),e)}function Q3(t){return Yr(t._redirectPersistence)}function Z3(t){return em(G3,t.config.apiKey,t.name)}async function J3(t,e,n=!1){if(Ti(t.app))return Promise.reject(Qr(t));const i=ua(t),s=bR(i,e),l=await new K3(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=10*60*1e3;class tL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!_R(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eL&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(e))}saveEventToCache(e){this.cachedEventUids.add(mT(e)),this.lastProcessedEventTime=Date.now()}}function mT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _R({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _R(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rL=/^https?/;async function aL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iL(t);for(const n of e)try{if(oL(n))return}catch{}vs(t,"unauthorized-domain")}function oL(t){const e=sx(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!rL.test(n))return!1;if(sL.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new Fh(3e4,6e4);function gT(){const t=ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cL(t){return new Promise((e,n)=>{var i,s,a;function l(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),n(Is(t,"network-request-failed"))},timeout:lL.get()})}if(!((s=(i=ar().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ar().gapi)===null||a===void 0)&&a.load)l();else{const u=KO("iframefcb");return ar()[u]=()=>{gapi.load?l():n(Is(t,"network-request-failed"))},oR(`${GO()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw nm=null,e})}let nm=null;function uL(t){return nm=nm||cL(t),nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new Fh(5e3,15e3),hL="__/auth/iframe",fL="emulator/auth/iframe",pL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gL(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yb(e,fL):`https://${t.config.authDomain}/${hL}`,i={apiKey:e.apiKey,appName:t.name,v:Pl},s=mL.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Uh(i).slice(1)}`}async function yL(t){const e=await uL(t),n=ar().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:gL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pL,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Is(t,"network-request-failed"),u=ar().setTimeout(()=>{a(l)},dL.get());function h(){ar().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xL=500,bL=600,wL="_blank",_L="http://localhost";class yT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EL(t,e,n,i=xL,s=bL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},vL),{width:i.toString(),height:s.toString(),top:a,left:l}),p=ai().toLowerCase();n&&(u=eR(p)?wL:n),Zk(p)&&(e=e||_L,h.scrollbars="yes");const m=Object.entries(h).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(VO(p)&&u!=="_self")return TL(e||"",u),new yT(null);const v=window.open(e||"",u,m);Le(v,t,"popup-blocked");try{v.focus()}catch{}return new yT(v)}function TL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="__/auth/handler",AL="emulator/auth/handler",CL=encodeURIComponent("fac");async function vT(t,e,n,i,s,a){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Pl,eventId:s};if(e instanceof _b){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",i6(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof qh){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),p=h?`#${CL}=${encodeURIComponent(h)}`:"";return`${kL(t)}?${Uh(u).slice(1)}${p}`}function kL({config:t}){return t.emulator?yb(t,AL):`https://${t.authDomain}/${SL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="webStorageSupport";class RL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rm,this._completeRedirectFn=J3,this._overrideRedirectResult=X3}async _openPopup(e,n,i,s){var a;ia((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await vT(e,n,i,sx(),s);return EL(e,l,Eb())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await vT(e,n,i,sx(),s);return I3(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ia(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await yL(e),i=new tL(e);return n.register("authEvent",s=>(Le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mv,{type:mv},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[mv];l!==void 0&&n(!!l),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rR()||Jk()||xb()}}const jL=RL;var xT="@firebase/auth",bT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PL(t){El(new ro("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Le(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aR(t)},p=new qO(i,s,a,h);return e3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),El(new ro("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(i=>new NL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(xT,bT,IL(t)),rr(xT,bT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=5*60,DL=Vk("authIdTokenMaxAge")||ML;let wT=null;const OL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>DL)return;const s=n==null?void 0:n.token;wT!==s&&(wT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LL(t=fb()){const e=wg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JO(t,{popupRedirectResolver:jL,persistence:[U3,ax,Rm]}),i=Vk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=OL(a.toString());S3(n,l,()=>l(n.currentUser)),T3(n,u=>l(u))}}const s=Dk("auth");return s&&t3(n,`http://${s}`),n}function VL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$O({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Is("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",VL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PL("Browser");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,ER;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,k){function P(){}P.prototype=k.prototype,z.D=k.prototype,z.prototype=new P,z.prototype.constructor=z,z.C=function(O,L,D){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return k.prototype[L].apply(O,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(z,k,P){P||(P=0);var O=Array(16);if(typeof k=="string")for(var L=0;16>L;++L)O[L]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(L=0;16>L;++L)O[L]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=z.g[0],P=z.g[1],L=z.g[2];var D=z.g[3],R=k+(D^P&(L^D))+O[0]+3614090360&4294967295;k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[1]+3905402710&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[2]+606105819&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[3]+3250441966&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(D^P&(L^D))+O[4]+4118548399&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[5]+1200080426&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[6]+2821735955&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[7]+4249261313&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(D^P&(L^D))+O[8]+1770035416&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[9]+2336552879&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[10]+4294925233&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[11]+2304563134&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(D^P&(L^D))+O[12]+1804603682&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(L^k&(P^L))+O[13]+4254626195&4294967295,D=k+(R<<12&4294967295|R>>>20),R=L+(P^D&(k^P))+O[14]+2792965006&4294967295,L=D+(R<<17&4294967295|R>>>15),R=P+(k^L&(D^k))+O[15]+1236535329&4294967295,P=L+(R<<22&4294967295|R>>>10),R=k+(L^D&(P^L))+O[1]+4129170786&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[6]+3225465664&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[11]+643717713&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[0]+3921069994&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(L^D&(P^L))+O[5]+3593408605&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[10]+38016083&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[15]+3634488961&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[4]+3889429448&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(L^D&(P^L))+O[9]+568446438&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[14]+3275163606&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[3]+4107603335&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[8]+1163531501&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(L^D&(P^L))+O[13]+2850285829&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^L&(k^P))+O[2]+4243563512&4294967295,D=k+(R<<9&4294967295|R>>>23),R=L+(k^P&(D^k))+O[7]+1735328473&4294967295,L=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(L^D))+O[12]+2368359562&4294967295,P=L+(R<<20&4294967295|R>>>12),R=k+(P^L^D)+O[5]+4294588738&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[8]+2272392833&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[11]+1839030562&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[14]+4259657740&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(P^L^D)+O[1]+2763975236&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[4]+1272893353&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[7]+4139469664&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[10]+3200236656&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(P^L^D)+O[13]+681279174&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[0]+3936430074&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[3]+3572445317&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[6]+76029189&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(P^L^D)+O[9]+3654602809&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^L)+O[12]+3873151461&4294967295,D=k+(R<<11&4294967295|R>>>21),R=L+(D^k^P)+O[15]+530742520&4294967295,L=D+(R<<16&4294967295|R>>>16),R=P+(L^D^k)+O[2]+3299628645&4294967295,P=L+(R<<23&4294967295|R>>>9),R=k+(L^(P|~D))+O[0]+4096336452&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[7]+1126891415&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[14]+2878612391&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[5]+4237533241&4294967295,P=L+(R<<21&4294967295|R>>>11),R=k+(L^(P|~D))+O[12]+1700485571&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[3]+2399980690&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[10]+4293915773&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[1]+2240044497&4294967295,P=L+(R<<21&4294967295|R>>>11),R=k+(L^(P|~D))+O[8]+1873313359&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[15]+4264355552&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[6]+2734768916&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[13]+1309151649&4294967295,P=L+(R<<21&4294967295|R>>>11),R=k+(L^(P|~D))+O[4]+4149444226&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~L))+O[11]+3174756917&4294967295,D=k+(R<<10&4294967295|R>>>22),R=L+(k^(D|~P))+O[2]+718787259&4294967295,L=D+(R<<15&4294967295|R>>>17),R=P+(D^(L|~k))+O[9]+3951481745&4294967295,z.g[0]=z.g[0]+k&4294967295,z.g[1]=z.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,z.g[2]=z.g[2]+L&4294967295,z.g[3]=z.g[3]+D&4294967295}i.prototype.u=function(z,k){k===void 0&&(k=z.length);for(var P=k-this.blockSize,O=this.B,L=this.h,D=0;D<k;){if(L==0)for(;D<=P;)s(this,z,D),D+=this.blockSize;if(typeof z=="string"){for(;D<k;)if(O[L++]=z.charCodeAt(D++),L==this.blockSize){s(this,O),L=0;break}}else for(;D<k;)if(O[L++]=z[D++],L==this.blockSize){s(this,O),L=0;break}}this.h=L,this.o+=k},i.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var k=1;k<z.length-8;++k)z[k]=0;var P=8*this.o;for(k=z.length-8;k<z.length;++k)z[k]=P&255,P/=256;for(this.u(z),z=Array(16),k=P=0;4>k;++k)for(var O=0;32>O;O+=8)z[P++]=this.g[k]>>>O&255;return z};function a(z,k){var P=u;return Object.prototype.hasOwnProperty.call(P,z)?P[z]:P[z]=k(z)}function l(z,k){this.h=k;for(var P=[],O=!0,L=z.length-1;0<=L;L--){var D=z[L]|0;O&&D==k||(P[L]=D,O=!1)}this.g=P}var u={};function h(z){return-128<=z&&128>z?a(z,function(k){return new l([k|0],0>k?-1:0)}):new l([z|0],0>z?-1:0)}function p(z){if(isNaN(z)||!isFinite(z))return v;if(0>z)return A(p(-z));for(var k=[],P=1,O=0;z>=P;O++)k[O]=z/P|0,P*=4294967296;return new l(k,0)}function m(z,k){if(z.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(z.charAt(0)=="-")return A(m(z.substring(1),k));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(k,8)),O=v,L=0;L<z.length;L+=8){var D=Math.min(8,z.length-L),R=parseInt(z.substring(L,L+D),k);8>D?(D=p(Math.pow(k,D)),O=O.j(D).add(p(R))):(O=O.j(P),O=O.add(p(R)))}return O}var v=h(0),b=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-A(this).m();for(var z=0,k=1,P=0;P<this.g.length;P++){var O=this.i(P);z+=(0<=O?O:4294967296+O)*k,k*=4294967296}return z},t.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(E(this))return"0";if(C(this))return"-"+A(this).toString(z);for(var k=p(Math.pow(z,6)),P=this,O="";;){var L=$(P,k).g;P=j(P,L.j(k));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(z);if(P=L,E(P))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},t.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function E(z){if(z.h!=0)return!1;for(var k=0;k<z.g.length;k++)if(z.g[k]!=0)return!1;return!0}function C(z){return z.h==-1}t.l=function(z){return z=j(this,z),C(z)?-1:E(z)?0:1};function A(z){for(var k=z.g.length,P=[],O=0;O<k;O++)P[O]=~z.g[O];return new l(P,~z.h).add(b)}t.abs=function(){return C(this)?A(this):this},t.add=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0,L=0;L<=k;L++){var D=O+(this.i(L)&65535)+(z.i(L)&65535),R=(D>>>16)+(this.i(L)>>>16)+(z.i(L)>>>16);O=R>>>16,D&=65535,R&=65535,P[L]=R<<16|D}return new l(P,P[P.length-1]&-2147483648?-1:0)};function j(z,k){return z.add(A(k))}t.j=function(z){if(E(this)||E(z))return v;if(C(this))return C(z)?A(this).j(A(z)):A(A(this).j(z));if(C(z))return A(this.j(A(z)));if(0>this.l(_)&&0>z.l(_))return p(this.m()*z.m());for(var k=this.g.length+z.g.length,P=[],O=0;O<2*k;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<z.g.length;L++){var D=this.i(O)>>>16,R=this.i(O)&65535,ae=z.i(L)>>>16,ee=z.i(L)&65535;P[2*O+2*L]+=R*ee,B(P,2*O+2*L),P[2*O+2*L+1]+=D*ee,B(P,2*O+2*L+1),P[2*O+2*L+1]+=R*ae,B(P,2*O+2*L+1),P[2*O+2*L+2]+=D*ae,B(P,2*O+2*L+2)}for(O=0;O<k;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=k;O<2*k;O++)P[O]=0;return new l(P,0)};function B(z,k){for(;(z[k]&65535)!=z[k];)z[k+1]+=z[k]>>>16,z[k]&=65535,k++}function V(z,k){this.g=z,this.h=k}function $(z,k){if(E(k))throw Error("division by zero");if(E(z))return new V(v,v);if(C(z))return k=$(A(z),k),new V(A(k.g),A(k.h));if(C(k))return k=$(z,A(k)),new V(A(k.g),k.h);if(30<z.g.length){if(C(z)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var P=b,O=k;0>=O.l(z);)P=q(P),O=q(O);var L=J(P,1),D=J(O,1);for(O=J(O,2),P=J(P,2);!E(O);){var R=D.add(O);0>=R.l(z)&&(L=L.add(P),D=R),O=J(O,1),P=J(P,1)}return k=j(z,L.j(k)),new V(L,k)}for(L=v;0<=z.l(k);){for(P=Math.max(1,Math.floor(z.m()/k.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=p(P),R=D.j(k);C(R)||0<R.l(z);)P-=O,D=p(P),R=D.j(k);E(D)&&(D=b),L=L.add(D),z=j(z,R)}return new V(L,z)}t.A=function(z){return $(this,z).h},t.and=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)&z.i(O);return new l(P,this.h&z.h)},t.or=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)|z.i(O);return new l(P,this.h|z.h)},t.xor=function(z){for(var k=Math.max(this.g.length,z.g.length),P=[],O=0;O<k;O++)P[O]=this.i(O)^z.i(O);return new l(P,this.h^z.h)};function q(z){for(var k=z.g.length+1,P=[],O=0;O<k;O++)P[O]=z.i(O)<<1|z.i(O-1)>>>31;return new l(P,z.h)}function J(z,k){var P=k>>5;k%=32;for(var O=z.g.length-P,L=[],D=0;D<O;D++)L[D]=0<k?z.i(D+P)>>>k|z.i(D+P+1)<<32-k:z.i(D+P);return new l(L,z.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ER=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,eo=l}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TR,Kd,SR,im,lx,AR,CR,kR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,T){return g==Array.prototype||g==Object.prototype||(g[w]=T.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var w=0;w<g.length;++w){var T=g[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)e:{var T=i;g=g.split(".");for(var M=0;M<g.length-1;M++){var X=g[M];if(!(X in T))break e;T=T[X]}g=g[g.length-1],M=T[g],w=w(M),w!=M&&w!=null&&e(T,g,{configurable:!0,writable:!0,value:w})}}function a(g,w){g instanceof String&&(g+="");var T=0,M=!1,X={next:function(){if(!M&&T<g.length){var se=T++;return{value:w(se,g[se]),done:!1}}return M=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(g){return g||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function p(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function m(g,w,T){return g.call.apply(g.bind,arguments)}function v(g,w,T){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,M),g.apply(w,X)}}return function(){return g.apply(w,arguments)}}function b(g,w,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,b.apply(null,arguments)}function _(g,w){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function E(g,w){function T(){}T.prototype=w.prototype,g.aa=w.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(M,X,se){for(var ve=Array(arguments.length-2),it=2;it<arguments.length;it++)ve[it-2]=arguments[it];return w.prototype[X].apply(M,ve)}}function C(g){const w=g.length;if(0<w){const T=Array(w);for(let M=0;M<w;M++)T[M]=g[M];return T}return[]}function A(g,w){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(h(M)){const X=g.length||0,se=M.length||0;g.length=X+se;for(let ve=0;ve<se;ve++)g[X+ve]=M[ve]}else g.push(M)}}class j{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function B(g){return/^[\s\xa0]*$/.test(g)}function V(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function J(g,w,T){for(const M in g)w.call(T,g[M],M,g)}function z(g,w){for(const T in g)w.call(void 0,g[T],T,g)}function k(g){const w={};for(const T in g)w[T]=g[T];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,w){let T,M;for(let X=1;X<arguments.length;X++){M=arguments[X];for(T in M)g[T]=M[T];for(let se=0;se<P.length;se++)T=P[se],Object.prototype.hasOwnProperty.call(M,T)&&(g[T]=M[T])}}function L(g){var w=1;g=g.split(":");const T=[];for(;0<w&&g.length;)T.push(g.shift()),w--;return g.length&&T.push(g.join(":")),T}function D(g){u.setTimeout(()=>{throw g},0)}function R(){var g=xe;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class ae{constructor(){this.h=this.g=null}add(w,T){const M=ee.get();M.set(w,T),this.h?this.h.next=M:this.g=M,this.h=M}}var ee=new j(()=>new W,g=>g.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,he=!1,xe=new ae,U=()=>{const g=u.Promise.resolve(void 0);ne=()=>{g.then(oe)}};var oe=()=>{for(var g;g=R();){try{g.h.call(g.g)}catch(T){D(T)}var w=ee;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}he=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return g}();function je(g,w){if(pe.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(q){e:{try{$(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else T=="mouseover"?w=g.fromElement:T=="mouseout"&&(w=g.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Se[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&je.aa.h.call(this)}}E(je,pe);var Se={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),mt=0;function be(g,w,T,M,X){this.listener=g,this.proxy=null,this.src=w,this.type=T,this.capture=!!M,this.ha=X,this.key=++mt,this.da=this.fa=!1}function Ye(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ge(g){this.src=g,this.g={},this.h=0}Ge.prototype.add=function(g,w,T,M,X){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var ve=Ze(g,w,M,X);return-1<ve?(w=g[ve],T||(w.fa=!1)):(w=new be(w,this.src,se,!!M,X),w.fa=T,g.push(w)),w};function Tn(g,w){var T=w.type;if(T in g.g){var M=g.g[T],X=Array.prototype.indexOf.call(M,w,void 0),se;(se=0<=X)&&Array.prototype.splice.call(M,X,1),se&&(Ye(w),g.g[T].length==0&&(delete g.g[T],g.h--))}}function Ze(g,w,T,M){for(var X=0;X<g.length;++X){var se=g[X];if(!se.da&&se.listener==w&&se.capture==!!T&&se.ha==M)return X}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),Ut={};function On(g,w,T,M,X){if(Array.isArray(w)){for(var se=0;se<w.length;se++)On(g,w[se],T,M,X);return null}return T=Kl(T),g&&g[jt]?g.K(w,T,p(M)?!!M.capture:!1,X):Gn(g,w,T,!1,M,X)}function Gn(g,w,T,M,X,se){if(!w)throw Error("Invalid event type");var ve=p(X)?!!X.capture:!!X,it=Kn(g);if(it||(g[gi]=it=new Ge(g)),T=it.add(w,T,M,ve,se),T.proxy)return T;if(M=Gl(),T.proxy=M,M.src=g,M.listener=T,g.addEventListener)we||(X=ve),X===void 0&&(X=!1),g.addEventListener(w.toString(),M,X);else if(g.attachEvent)g.attachEvent(ws(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Gl(){function g(T){return w.call(g.src,g.listener,T)}const w=Vu;return g}function gt(g,w,T,M,X){if(Array.isArray(w))for(var se=0;se<w.length;se++)gt(g,w[se],T,M,X);else M=p(M)?!!M.capture:!!M,T=Kl(T),g&&g[jt]?(g=g.i,w=String(w).toString(),w in g.g&&(se=g.g[w],T=Ze(se,T,M,X),-1<T&&(Ye(se[T]),Array.prototype.splice.call(se,T,1),se.length==0&&(delete g.g[w],g.h--)))):g&&(g=Kn(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Ze(w,T,M,X)),(T=-1<g?w[g]:null)&&br(T))}function br(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[jt])Tn(w.i,g);else{var T=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(T,M,g.capture):w.detachEvent?w.detachEvent(ws(T),M):w.addListener&&w.removeListener&&w.removeListener(M),(T=Kn(w))?(Tn(T,g),T.h==0&&(T.src=null,w[gi]=null)):Ye(g)}}}function ws(g){return g in Ut?Ut[g]:Ut[g]="on"+g}function Vu(g,w){if(g.da)g=!0;else{w=new je(w,this);var T=g.listener,M=g.ha||g.src;g.fa&&br(g),g=T.call(M,w)}return g}function Kn(g){return g=g[gi],g instanceof Ge?g:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(g){return typeof g=="function"?g:(g[wo]||(g[wo]=function(w){return g.handleEvent(w)}),g[wo])}function Vt(){ge.call(this),this.i=new Ge(this),this.M=this,this.F=null}E(Vt,ge),Vt.prototype[jt]=!0,Vt.prototype.removeEventListener=function(g,w,T,M){gt(this,g,w,T,M)};function ct(g,w){var T,M=g.F;if(M)for(T=[];M;M=M.F)T.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new pe(w,g);else if(w instanceof pe)w.target=w.target||g;else{var X=w;w=new pe(M,g),O(w,X)}if(X=!0,T)for(var se=T.length-1;0<=se;se--){var ve=w.g=T[se];X=li(ve,M,!0,w)&&X}if(ve=w.g=g,X=li(ve,M,!0,w)&&X,X=li(ve,M,!1,w)&&X,T)for(se=0;se<T.length;se++)ve=w.g=T[se],X=li(ve,M,!1,w)&&X}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var T=g.g[w],M=0;M<T.length;M++)Ye(T[M]);delete g.g[w],g.h--}}this.F=null},Vt.prototype.K=function(g,w,T,M){return this.i.add(String(g),w,!1,T,M)},Vt.prototype.L=function(g,w,T,M){return this.i.add(String(g),w,!0,T,M)};function li(g,w,T,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,se=0;se<w.length;++se){var ve=w[se];if(ve&&!ve.da&&ve.capture==T){var it=ve.listener,yn=ve.ha||ve.src;ve.fa&&Tn(g.i,ve),X=it.call(yn,M)!==!1&&X}}return X&&!M.defaultPrevented}function Sn(g,w,T){if(typeof g=="function")T&&(g=b(g,T));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(g,w||0)}function Yl(g){g.g=Sn(()=>{g.g=null,g.i&&(g.i=!1,Yl(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class zu extends ge{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(g){ge.call(this),this.h=g,this.g={}}E(wr,ge);var Xi=[];function Qi(g){J(g.g,function(w,T){this.g.hasOwnProperty(T)&&br(w)},g),g.g={}}wr.prototype.N=function(){wr.aa.N.call(this),Qi(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=u.JSON.stringify,ha=u.JSON.parse,Vs=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function _o(){}_o.prototype.h=null;function Eo(g){return g.h||(g.h=g.i())}function To(){}var _s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){pe.call(this,"d")}E(Ln,pe);function So(){pe.call(this,"c")}E(So,pe);var Zi={},Ao=null;function zs(){return Ao=Ao||new Vt}Zi.La="serverreachability";function fa(g){pe.call(this,Zi.La,g)}E(fa,pe);function Pi(g){const w=zs();ct(w,new fa(w))}Zi.STAT_EVENT="statevent";function Xl(g,w){pe.call(this,Zi.STAT_EVENT,g),this.stat=w}E(Xl,pe);function Mt(g){const w=zs();ct(w,new Xl(w,g))}Zi.Ma="timingevent";function tn(g,w){pe.call(this,Zi.Ma,g),this.size=w}E(tn,pe);function Kt(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},w)}function yi(){this.g=!0}yi.prototype.xa=function(){this.g=!1};function pa(g,w,T,M,X,se){g.info(function(){if(g.g)if(se)for(var ve="",it=se.split("&"),yn=0;yn<it.length;yn++){var st=it[yn].split("=");if(1<st.length){var Rn=st[0];st=st[1];var vn=Rn.split("_");ve=2<=vn.length&&vn[1]=="type"?ve+(Rn+"="+st+"&"):ve+(Rn+"=redacted&")}}else ve=null;else ve=se;return"XMLHTTP REQ ("+M+") [attempt "+X+"]: "+w+`
`+T+`
`+ve})}function Ql(g,w,T,M,X,se,ve){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+X+"]: "+w+`
`+T+`
`+se+" "+ve})}function Es(g,w,T,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Bs(g,T)+(M?" "+M:"")})}function Co(g,w){g.info(function(){return"TIMEOUT: "+w})}yi.prototype.info=function(){};function Bs(g,w){if(!g.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var M=T[g];if(!(2>M.length)){var X=M[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Ii(T)}catch{return w}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mi;function Di(){}E(Di,_o),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},Mi=new Di;function An(g,w,T,M){this.j=g,this.i=w,this.l=T,this.R=M||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var ma={},_r={};function vi(g,w,T){g.L=1,g.v=Io(Oi(w)),g.m=T,g.P=!0,es(g,null)}function es(g,w){g.F=Date.now(),H(g),g.A=Oi(g.v);var T=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),Hu(T.i,"t",M),g.C=0,T=g.j.J,g.h=new Ft,g.g=bf(g.j,T?w:null,!g.m),0<g.O&&(g.M=new zu(b(g.Y,g,g.g),g.O)),w=g.U,T=g.g,M=g.ca;var X="readystatechange";Array.isArray(X)||(X&&(Xi[0]=X.toString()),X=Xi);for(var se=0;se<X.length;se++){var ve=On(T,X[se],M||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Pi(),pa(g.i,g.u,g.A,g.l,g.R,g.m)}An.prototype.ca=function(g){g=g.target;const w=this.M;w&&ss(g)==3?w.j():this.Y(g)},An.prototype.Y=function(g){try{if(g==this.g)e:{const vn=ss(this.g);var w=this.g.Ba();const Rr=this.g.Z();if(!(3>vn)&&(vn!=3||this.g&&(this.h.h||this.g.oa()||hf(this.g)))){this.J||vn!=4||w==7||(w==8||0>=Rr?Pi(3):Pi(2)),Ce(this);var T=this.g.Z();this.X=T;t:if(ko(this)){var M=hf(this.g);g="";var X=M.length,se=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Ne(this);var ve="";break t}this.h.i=new u.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,g+=this.h.i.decode(M[w],{stream:!(se&&w==X-1)});M.length=0,this.h.g+=g,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=T==200,Ql(this.i,this.u,this.A,this.l,this.R,vn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var it,yn=this.g;if((it=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(it)){var st=it;break t}}st=null}if(T=st)Es(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nt(this,T);else{this.o=!1,this.s=3,Mt(12),Oe(this),Ne(this);break e}}if(this.P){T=!0;let Vn;for(;!this.J&&this.C<ve.length;)if(Vn=Ro(this,ve),Vn==_r){vn==4&&(this.s=4,Mt(14),T=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==ma){this.s=4,Mt(15),Es(this.i,this.l,ve,"[Invalid Chunk]"),T=!1;break}else Es(this.i,this.l,Vn,null),nt(this,Vn);if(ko(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vn!=4||ve.length!=0||this.h.h||(this.s=1,Mt(16),T=!1),this.o=this.o&&T,!T)Es(this.i,this.l,ve,"[Invalid Chunked Response]"),Oe(this),Ne(this);else if(0<ve.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Bo(Rn),Rn.M=!0,Mt(11))}}else Es(this.i,this.l,ve,null),nt(this,ve);vn==4&&Oe(this),this.o&&!this.J&&(vn==4?yf(this.j,this):(this.o=!1,H(this)))}else c0(this.g),T==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Oe(this),Ne(this)}}}catch{}finally{}};function ko(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ro(g,w){var T=g.C,M=w.indexOf(`
`,T);return M==-1?_r:(T=Number(w.substring(T,M)),isNaN(T)?ma:(M+=1,M+T>w.length?_r:(w=w.slice(M,M+T),g.C=M+T,w)))}An.prototype.cancel=function(){this.J=!0,Oe(this)};function H(g){g.S=Date.now()+g.I,ye(g,g.I)}function ye(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Kt(b(g.ba,g),w)}function Ce(g){g.B&&(u.clearTimeout(g.B),g.B=null)}An.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Co(this.i,this.A),this.L!=2&&(Pi(),Mt(17)),Oe(this),this.s=2,Ne(this)):ye(this,this.S-g)};function Ne(g){g.j.G==0||g.J||yf(g.j,g)}function Oe(g){Ce(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Qi(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function nt(g,w){try{var T=g.j;if(T.G!=0&&(T.g==g||Cn(T.h,g))){if(!g.K&&Cn(T.h,g)&&T.G==3){try{var M=T.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var X=M;if(X[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)oc(T),rc(T);else break e;Ku(T),Mt(18)}}else T.za=X[1],0<T.za-T.T&&37500>X[2]&&T.F&&T.v==0&&!T.C&&(T.C=Kt(b(T.Za,T),6e3));if(1>=gn(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else kr(T,11)}else if((g.K||T.g==g)&&oc(T),!B(w))for(X=T.Da.g.parse(w),w=0;w<X.length;w++){let st=X[w];if(T.T=st[0],st=st[1],T.G==2)if(st[0]=="c"){T.K=st[1],T.ia=st[2];const Rn=st[3];Rn!=null&&(T.la=Rn,T.j.info("VER="+T.la));const vn=st[4];vn!=null&&(T.Aa=vn,T.j.info("SVER="+T.Aa));const Rr=st[5];Rr!=null&&typeof Rr=="number"&&0<Rr&&(M=1.5*Rr,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const Vn=g.g;if(Vn){const Gs=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var se=M.h;se.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ht(se,se.h),se.h=null))}if(M.D){const Xu=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xu&&(M.ya=Xu,At(M.I,M.D,Xu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var ve=g;if(M.qa=xf(M,M.J?M.ia:null,M.W),ve.K){Dt(M.h,ve);var it=ve,yn=M.L;yn&&(it.I=yn),it.B&&(Ce(it),H(it)),M.g=ve}else mf(M);0<T.i.length&&ac(T)}else st[0]!="stop"&&st[0]!="close"||kr(T,7);else T.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?kr(T,7):Wu(T):st[0]!="noop"&&T.l&&T.l.ta(st),T.v=0)}}Pi(4)}catch{}}var Nt=class{constructor(g,w){this.g=g,this.map=w}};function ut(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function gn(g){return g.h?1:g.g?g.g.size:0}function Cn(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Ht(g,w){g.g?g.g.add(w):g.h=w}function Dt(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}ut.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Zl(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const T of g.g.values())w=w.concat(T.D);return w}return C(g.i)}function r0(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],T=g.length,M=0;M<T;M++)w.push(g[M]);return w}w=[],T=0;for(M in g)w[T++]=g[M];return w}function Jl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var T=0;T<g;T++)w.push(T);return w}w=[],T=0;for(const M in g)w[T++]=M;return w}}}function Bu(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var T=Jl(g),M=r0(g),X=M.length,se=0;se<X;se++)w.call(void 0,M[se],T&&T[se],g)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a0(g,w){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var M=g[T].indexOf("="),X=null;if(0<=M){var se=g[T].substring(0,M);X=g[T].substring(M+1)}else se=g[T];w(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function un(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof un){this.h=g.h,No(this,g.j),this.o=g.o,this.g=g.g,ga(this,g.s),this.l=g.l;var w=g.i,T=new Tr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Er(this,T),this.m=g.m}else g&&(w=String(g).match(jo))?(this.h=!1,No(this,w[1]||"",!0),this.o=ts(w[2]||""),this.g=ts(w[3]||"",!0),ga(this,w[4]),this.l=ts(w[5]||"",!0),Er(this,w[6]||"",!0),this.m=ts(w[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}un.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Po(w,Uu,!0),":");var T=this.g;return(T||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Po(w,Uu,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Po(T,T.charAt(0)=="/"?o0:Fu,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Po(T,ec)),g.join("")};function Oi(g){return new un(g)}function No(g,w,T){g.j=T?ts(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function ga(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function Er(g,w,T){w instanceof Tr?(g.i=w,uf(g.i,g.h)):(T||(w=Po(w,l0)),g.i=new Tr(w,g.h))}function At(g,w,T){g.i.set(w,T)}function Io(g){return At(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ts(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Po(g,w,T){return typeof g=="string"?(g=encodeURI(g).replace(w,cf),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function cf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Uu=/[#\/\?@]/g,Fu=/[#\?:]/g,o0=/[#\?]/g,l0=/[#\?@]/g,ec=/#/g;function Tr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function ns(g){g.g||(g.g=new Map,g.h=0,g.i&&a0(g.i,function(w,T){g.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Tr.prototype,t.add=function(g,w){ns(this),this.i=null,g=Us(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(w),this.h+=1,this};function Sr(g,w){ns(g),w=Us(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Ar(g,w){return ns(g),w=Us(g,w),g.g.has(w)}t.forEach=function(g,w){ns(this),this.g.forEach(function(T,M){T.forEach(function(X){g.call(w,X,M,this)},this)},this)},t.na=function(){ns(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let M=0;M<w.length;M++){const X=g[M];for(let se=0;se<X.length;se++)T.push(w[M])}return T},t.V=function(g){ns(this);let w=[];if(typeof g=="string")Ar(this,g)&&(w=w.concat(this.g.get(Us(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)w=w.concat(g[T])}return w},t.set=function(g,w){return ns(this),this.i=null,g=Us(this,g),Ar(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function Hu(g,w,T){Sr(g,w),0<T.length&&(g.i=null,g.g.set(Us(g,w),C(T)),g.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var M=w[T];const se=encodeURIComponent(String(M)),ve=this.V(M);for(M=0;M<ve.length;M++){var X=se;ve[M]!==""&&(X+="="+encodeURIComponent(String(ve[M]))),g.push(X)}}return this.i=g.join("&")};function Us(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function uf(g,w){w&&!g.j&&(ns(g),g.i=null,g.g.forEach(function(T,M){var X=M.toLowerCase();M!=X&&(Sr(this,M),Hu(this,X,T))},g)),g.j=w}function Mo(g,w){const T=new yi;if(u.Image){const M=new Image;M.onload=_(is,T,"TestLoadImage: loaded",!0,w,M),M.onerror=_(is,T,"TestLoadImage: error",!1,w,M),M.onabort=_(is,T,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(is,T,"TestLoadImage: timeout",!1,w,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function Ss(g,w){const T=new yi,M=new AbortController,X=setTimeout(()=>{M.abort(),is(T,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(se=>{clearTimeout(X),se.ok?is(T,"TestPingServer: ok",!0,w):is(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),is(T,"TestPingServer: error",!1,w)})}function is(g,w,T,M,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),M(T)}catch{}}function Do(){this.g=new Vs}function Fs(g,w,T){const M=T||"";try{Bu(g,function(X,se){let ve=X;p(X)&&(ve=Ii(X)),w.push(M+se+"="+encodeURIComponent(ve))})}catch(X){throw w.push(M+"type="+encodeURIComponent("_badmap")),X}}function ya(g){this.l=g.Ub||null,this.j=g.eb||!1}E(ya,_o),ya.prototype.g=function(){return new Cr(this.l,this.j)},ya.prototype.i=function(g){return function(){return g}}({});function Cr(g,w){Vt.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Cr,Vt),t=Cr.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,qs(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Hs(this):qs(this),this.readyState==3&&qu(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Hs(this))},t.Qa=function(g){this.g&&(this.response=g,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(g){g.readyState=4,g.l=null,g.j=null,g.v=null,qs(g)}t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=w.next();return g.join(`\r
`)};function qs(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function $u(g){let w="";return J(g,function(T,M){w+=M,w+=":",w+=T,w+=`\r
`}),w}function kn(g,w,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=$u(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):At(g,w,T))}function xt(g){Vt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(xt,Vt);var tc=/^https?$/i,Oo=["POST","PUT"];t=xt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mi.g(),this.v=this.o?Eo(this.o):Eo(Mi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(se){df(this,se);return}if(g=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var X in M)T.set(X,M[X]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const se of M.keys())T.set(se,M.get(se));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(se=>se.toLowerCase()=="content-type"),X=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Oo,w,void 0))||M||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ve]of T)this.g.setRequestHeader(se,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lo(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){df(this,se)}};function df(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,nc(g),$s(g)}function nc(g){g.A||(g.A=!0,ct(g,"complete"),ct(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ct(this,"complete"),ct(this,"abort"),$s(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ic(this):this.bb())},t.bb=function(){ic(this)};function ic(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ss(g)!=4||g.Z()!=2)){if(g.u&&ss(g)==4)Sn(g.Ea,0,g);else if(ct(g,"readystatechange"),ss(g)==4){g.h=!1;try{const ve=g.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var M;if(M=ve===0){var X=String(g.D).match(jo)[1]||null;!X&&u.self&&u.self.location&&(X=u.self.location.protocol.slice(0,-1)),M=!tc.test(X?X.toLowerCase():"")}T=M}if(T)ct(g,"complete"),ct(g,"success");else{g.m=6;try{var se=2<ss(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",nc(g)}}finally{$s(g)}}}}function $s(g,w){if(g.g){Lo(g);const T=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||ct(g,"ready");try{T.onreadystatechange=M}catch{}}}function Lo(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function ss(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),ha(w)}};function hf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function c0(g){const w={};g=(g.g&&2<=ss(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(B(g[M]))continue;var T=L(g[M]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const se=w[X]||[];w[X]=se,se.push(T)}z(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vo(g,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||w}function sc(g){this.Aa=0,this.i=[],this.j=new yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vo("baseRetryDelayMs",5e3,g),this.cb=Vo("retryDelaySeedMs",1e4,g),this.Wa=Vo("forwardChannelMaxRetries",2,g),this.wa=Vo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ut(g&&g.concurrentRequestLimit),this.Da=new Do,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sc.prototype,t.la=8,t.G=1,t.connect=function(g,w,T,M){Mt(0),this.W=g,this.H=w||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=xf(this,null,this.W),ac(this)};function Wu(g){if(ff(g),g.G==3){var w=g.U++,T=Oi(g.I);if(At(T,"SID",g.K),At(T,"RID",w),At(T,"TYPE","terminate"),zo(g,T),w=new An(g,g.j,w),w.L=2,w.v=Io(Oi(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=bf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),H(w)}vf(g)}function rc(g){g.g&&(Bo(g),g.g.cancel(),g.g=null)}function ff(g){rc(g),g.u&&(u.clearTimeout(g.u),g.u=null),oc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function ac(g){if(!lt(g.h)&&!g.s){g.s=!0;var w=g.Ga;ne||U(),he||(ne(),he=!0),xe.add(w,g),g.B=0}}function u0(g,w){return gn(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Kt(b(g.Ga,g,w),Yu(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const X=new An(this,this.j,g);let se=this.o;if(this.S&&(se?(se=k(se),O(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=pf(this,X,w),T=Oi(this.I),At(T,"RID",g),At(T,"CVER",22),this.D&&At(T,"X-HTTP-Session-Id",this.D),zo(this,T),se&&(this.O?w="headers="+encodeURIComponent(String($u(se)))+"&"+w:this.m&&kn(T,this.m,se)),Ht(this.h,X),this.Ua&&At(T,"TYPE","init"),this.P?(At(T,"$req",w),At(T,"SID","null"),X.T=!0,vi(X,T,null)):vi(X,T,w),this.G=2}}else this.G==3&&(g?Gu(this,g):this.i.length==0||lt(this.h)||Gu(this))};function Gu(g,w){var T;w?T=w.l:T=g.U++;const M=Oi(g.I);At(M,"SID",g.K),At(M,"RID",T),At(M,"AID",g.T),zo(g,M),g.m&&g.o&&kn(M,g.m,g.o),T=new An(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),w&&(g.i=w.D.concat(g.i)),w=pf(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ht(g.h,T),vi(T,M,w)}function zo(g,w){g.H&&J(g.H,function(T,M){At(w,M,T)}),g.l&&Bu({},function(T,M){At(w,M,T)})}function pf(g,w,T){T=Math.min(g.i.length,T);var M=g.l?b(g.l.Na,g.l,g):null;e:{var X=g.i;let se=-1;for(;;){const ve=["count="+T];se==-1?0<T?(se=X[0].g,ve.push("ofs="+se)):se=0:ve.push("ofs="+se);let it=!0;for(let yn=0;yn<T;yn++){let st=X[yn].g;const Rn=X[yn].map;if(st-=se,0>st)se=Math.max(0,X[yn].g-100),it=!1;else try{Fs(Rn,ve,"req"+st+"_")}catch{M&&M(Rn)}}if(it){M=ve.join("&");break e}}}return g=g.i.splice(0,T),w.D=g,M}function mf(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;ne||U(),he||(ne(),he=!0),xe.add(w,g),g.v=0}}function Ku(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Kt(b(g.Fa,g),Yu(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,gf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Kt(b(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),rc(this),gf(this))};function Bo(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function gf(g){g.g=new An(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Oi(g.qa);At(w,"RID","rpc"),At(w,"SID",g.K),At(w,"AID",g.T),At(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&At(w,"TO",g.ja),At(w,"TYPE","xmlhttp"),zo(g,w),g.m&&g.o&&kn(w,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=Io(Oi(w)),T.m=null,T.P=!0,es(T,g)}t.Za=function(){this.C!=null&&(this.C=null,rc(this),Ku(this),Mt(19))};function oc(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function yf(g,w){var T=null;if(g.g==w){oc(g),Bo(g),g.g=null;var M=2}else if(Cn(g.h,w))T=w.D,Dt(g.h,w),M=1;else return;if(g.G!=0){if(w.o)if(M==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var X=g.B;M=zs(),ct(M,new tn(M,T)),ac(g)}else mf(g);else if(X=w.s,X==3||X==0&&0<w.X||!(M==1&&u0(g,w)||M==2&&Ku(g)))switch(T&&0<T.length&&(w=g.h,w.i=w.i.concat(T)),X){case 1:kr(g,5);break;case 4:kr(g,10);break;case 3:kr(g,6);break;default:kr(g,2)}}}function Yu(g,w){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*w}function kr(g,w){if(g.j.info("Error code "+w),w==2){var T=b(g.fb,g),M=g.Xa;const X=!M;M=new un(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||No(M,"https"),Io(M),X?Mo(M.toString(),T):Ss(M.toString(),T)}else Mt(2);g.G=0,g.l&&g.l.sa(w),vf(g),ff(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function vf(g){if(g.G=0,g.ka=[],g.l){const w=Zl(g.h);(w.length!=0||g.i.length!=0)&&(A(g.ka,w),A(g.ka,g.i),g.h.i.length=0,C(g.i),g.i.length=0),g.l.ra()}}function xf(g,w,T){var M=T instanceof un?Oi(T):new un(T);if(M.g!="")w&&(M.g=w+"."+M.g),ga(M,M.s);else{var X=u.location;M=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var se=new un(null);M&&No(se,M),w&&(se.g=w),X&&ga(se,X),T&&(se.l=T),M=se}return T=g.D,w=g.ya,T&&w&&At(M,T,w),At(M,"VER",g.la),zo(g,M),M}function bf(g,w,T){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new xt(new ya({eb:T})):new xt(g.pa),w.Ha(g.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wf(){}t=wf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lc(){}lc.prototype.g=function(g,w){return new ci(g,w)};function ci(g,w){Vt.call(this),this.g=new sc(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!B(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!B(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Ws(this)}E(ci,Vt),ci.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ci.prototype.close=function(){Wu(this.g)},ci.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Ii(g),g=T);w.i.push(new Nt(w.Ya++,g)),w.G==3&&ac(w)},ci.prototype.N=function(){this.g.l=null,delete this.j,Wu(this.g),delete this.g,ci.aa.N.call(this)};function _f(g){Ln.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const T in w){g=T;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(_f,Ln);function Ef(){So.call(this),this.status=1}E(Ef,So);function Ws(g){this.g=g}E(Ws,wf),Ws.prototype.ua=function(){ct(this.g,"a")},Ws.prototype.ta=function(g){ct(this.g,new _f(g))},Ws.prototype.sa=function(g){ct(this.g,new Ef)},Ws.prototype.ra=function(){ct(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,ci.prototype.send=ci.prototype.o,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,kR=function(){return new lc},CR=function(){return zs()},AR=Zi,lx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,im=Ts,Ji.COMPLETE="complete",SR=Ji,To.EventType=_s,_s.OPEN="a",_s.CLOSE="b",_s.ERROR="c",_s.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Kd=To,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,TR=xt}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore",TT="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new db("@firebase/firestore");function zc(){return Cl.logLevel}function Ee(t,...e){if(Cl.logLevel<=Je.DEBUG){const n=e.map(Sb);Cl.debug(`Firestore (${_u}): ${t}`,...n)}}function sa(t,...e){if(Cl.logLevel<=Je.ERROR){const n=e.map(Sb);Cl.error(`Firestore (${_u}): ${t}`,...n)}}function su(t,...e){if(Cl.logLevel<=Je.WARN){const n=e.map(Sb);Cl.warn(`Firestore (${_u}): ${t}`,...n)}}function Sb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,RR(t,i,n)}function RR(t,e,n){let i=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw sa(i),new Error(i)}function wt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||RR(e,s,i)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class BL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UL{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wt(typeof i.accessToken=="string",31837,{l:i}),new jR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class FL{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HL{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new FL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ST{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const i=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ST(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ST(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=$L(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=e.charAt(s[a]%62))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function cx(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return We(i,s);{const a=NR(),l=WL(a.encode(AT(t,n)),a.encode(AT(e,n)));return l!==0?l:We(i,s)}}n+=i>65535?2:1}return We(t.length,e.length)}function AT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function ru(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=-62135596800,kT=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*kT);return new _n(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CT)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kT}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-CT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new _n(0,0))}static max(){return new Ue(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="__name__";class nr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ve(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const a=nr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return We(e.length,n.length)}static compareSegments(e,n){const i=nr.isNumericId(e),s=nr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?nr.extractNumericId(e).compare(nr.extractNumericId(n)):cx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class Bt extends nr{construct(e,n,i){return new Bt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const GL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends nr{construct(e,n,i){return new qn(e,n,i)}static isValidIdentifier(e){return GL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RT}static keyField(){return new qn([RT])}static fromServerFormat(e){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Te(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(a(),s++)}if(a(),l)throw new Te(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Bt.fromString(e))}static fromName(e){return new Re(Bt.fromString(e).popFirst(5))}static empty(){return new Re(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=-1;function KL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(i===1e9?new _n(n+1,0):new _n(n,i));return new ao(s,Re.empty(),e)}function YL(t){return new ao(t.readTime,t.key,bh)}class ao{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ao(Ue.min(),Re.empty(),bh)}static max(){return new ao(Ue.max(),Re.empty(),bh)}}function XL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==QL)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,i)=>{n(e)})}static reject(e){return new fe((n,i)=>{i(e)})}static waitFor(e){return new fe((n,i)=>{let s=0,a=0,l=!1;e.forEach(u=>{++s,u.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next(s=>s?fe.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(e,n){return new fe((i,s)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(m=>{l[p]=m,++u,u===a&&i(l)},m=>s(m))}})}static doWhile(e,n){return new fe((i,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):i()};a()})}}function JL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Sg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=-1;function Ag(t){return t==null}function Nm(t){return t===0&&1/t==-1/0}function eV(t){return typeof t=="number"&&Number.isInteger(t)&&!Nm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="";function tV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jT(e)),e=nV(t.get(n),e);return jT(e)}function nV(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case PR:n+="";break;default:n+=a}}return n}function jT(t){return t+PR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??Hn.RED,this.left=s??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,a){return new Hn(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Hn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,i,s,a){return this}insert(e,n,i){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Wi([])}unionWith(e){let n=new En(qn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DR("Invalid base64 string: "+a):a}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const iV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=iV.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lo(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="server_timestamp",LR="__type__",VR="__previous_value__",zR="__local_write_time__";function Cb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[LR])===null||n===void 0?void 0:n.stringValue)===OR}function Cg(t){const e=t.mapValue.fields[VR];return Cb(e)?Cg(e):e}function wh(t){const e=oo(t.mapValue.fields[zR].timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,i,s,a,l,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}const Im="(default)";class _h{constructor(e,n){this.projectId=e,this.database=n||Im}static empty(){return new _h("","")}get isDefaultDatabase(){return this.database===Im}isEqual(e){return e instanceof _h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="__type__",rV="__max__",kp={mapValue:{}},UR="__vector__",Pm="value";function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cb(t)?4:oV(t)?9007199254740991:aV(t)?10:11:Ve(28295,{value:t})}function fr(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wh(t).isEqual(wh(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=oo(s.timestampValue),u=oo(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return lo(s.bytesValue).isEqual(lo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return on(s.geoPointValue.latitude)===on(a.geoPointValue.latitude)&&on(s.geoPointValue.longitude)===on(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return on(s.integerValue)===on(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=on(s.doubleValue),u=on(a.doubleValue);return l===u?Nm(l)===Nm(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return ru(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(NT(l)!==NT(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!fr(l[h],u[h])))return!1;return!0}(t,e);default:return Ve(52216,{left:t})}}function Eh(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function au(t,e){if(t===e)return 0;const n=co(t),i=co(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=on(a.integerValue||a.doubleValue),h=on(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return PT(t.timestampValue,e.timestampValue);case 4:return PT(wh(t),wh(e));case 5:return cx(t.stringValue,e.stringValue);case 6:return function(a,l){const u=lo(a),h=lo(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const m=We(u[p],h[p]);if(m!==0)return m}return We(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=We(on(a.latitude),on(l.latitude));return u!==0?u:We(on(a.longitude),on(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,p,m;const v=a.fields||{},b=l.fields||{},_=(u=v[Pm])===null||u===void 0?void 0:u.arrayValue,E=(h=b[Pm])===null||h===void 0?void 0:h.arrayValue,C=We(((p=_==null?void 0:_.values)===null||p===void 0?void 0:p.length)||0,((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:MT(_,E)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===kp.mapValue&&l===kp.mapValue)return 0;if(a===kp.mapValue)return 1;if(l===kp.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},m=Object.keys(p);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const b=cx(h[v],m[v]);if(b!==0)return b;const _=au(u[h[v]],p[m[v]]);if(_!==0)return _}return We(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Ve(23264,{Pe:n})}}function PT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=oo(t),i=oo(e),s=We(n.seconds,i.seconds);return s!==0?s:We(n.nanos,i.nanos)}function MT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=au(n[s],i[s]);if(a)return a}return We(n.length,i.length)}function ou(t){return ux(t)}function ux(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=oo(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=ux(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${ux(n.fields[l])}`;return s+"}"}(t.mapValue):Ve(61005,{value:t})}function sm(t){switch(co(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cg(t);return e?16+sm(e):16;case 5:return 2*t.stringValue.length;case 6:return lo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+sm(a),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return yo(i.fields,(a,l)=>{s+=a.length+sm(l)}),s}(t.mapValue);default:throw Ve(13486,{value:t})}}function DT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dx(t){return!!t&&"integerValue"in t}function kb(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function LT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rm(t){return!!t&&"mapValue"in t}function aV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BR])===null||n===void 0?void 0:n.stringValue)===UR}function sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=sh(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.value=e}static empty(){return new Si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(n)}setAll(e){let n=qn.emptyPath(),i={},s=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=u.popLast()}l?i[u.lastSegment()]=sh(l):s.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(e){const n=this.field(e.popLast());rm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];rm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){yo(n,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new Si(sh(this.value))}}function FR(t){const e=[];return yo(t.fields,(n,i)=>{const s=new qn([n]);if(rm(i)){const a=FR(i.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,i,s,a,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new ei(e,0,Ue.min(),Ue.min(),Ue.min(),Si.empty(),0)}static newFoundDocument(e,n,i,s){return new ei(e,1,n,Ue.min(),i,s,0)}static newNoDocument(e,n){return new ei(e,2,n,Ue.min(),Ue.min(),Si.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,Ue.min(),Ue.min(),Si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.position=e,this.inclusive=n}}function VT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?i=Re.comparator(Re.fromName(l.referenceValue),n.key):i=au(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function zT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function lV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{}class mn extends HR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new uV(e,n,i):n==="array-contains"?new fV(e,i):n==="in"?new pV(e,i):n==="not-in"?new mV(e,i):n==="array-contains-any"?new gV(e,i):new mn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new dV(e,i):new hV(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(au(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(au(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends HR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ps(e,n)}matches(e){return qR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qR(t){return t.op==="and"}function $R(t){return cV(t)&&qR(t)}function cV(t){for(const e of t.filters)if(e instanceof Ps)return!1;return!0}function hx(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+ou(t.value);if($R(t))return t.filters.map(e=>hx(e)).join(",");{const e=t.filters.map(n=>hx(n)).join(",");return`${t.op}(${e})`}}function WR(t,e){return t instanceof mn?function(i,s){return s instanceof mn&&i.op===s.op&&i.field.isEqual(s.field)&&fr(i.value,s.value)}(t,e):t instanceof Ps?function(i,s){return s instanceof Ps&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,u)=>a&&WR(l,s.filters[u]),!0):!1}(t,e):void Ve(19439)}function GR(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${ou(n.value)}`}(t):t instanceof Ps?function(n){return n.op.toString()+" {"+n.getFilters().map(GR).join(" ,")+"}"}(t):"Filter"}class uV extends mn{constructor(e,n,i){super(e,n,i),this.key=Re.fromName(i.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class dV extends mn{constructor(e,n){super(e,"in",n),this.keys=KR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hV extends mn{constructor(e,n){super(e,"not-in",n),this.keys=KR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Re.fromName(i.referenceValue))}class fV extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kb(n)&&Eh(n.arrayValue,this.value)}}class pV extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eh(this.value.arrayValue,n)}}class mV extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eh(this.value.arrayValue,n)}}class gV extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Eh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n=null,i=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function BT(t,e=null,n=[],i=[],s=null,a=null,l=null){return new yV(t,e,n,i,s,a,l)}function Rb(t){const e=He(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>hx(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ag(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ou(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ou(i)).join(",")),e.Ie=n}return e.Ie}function jb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zT(t.startAt,e.startAt)&&zT(t.endAt,e.endAt)}function fx(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n=null,i=[],s=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vV(t,e,n,i,s,a,l,u){return new Su(t,e,n,i,s,a,l,u)}function kg(t){return new Su(t)}function UT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YR(t){return t.collectionGroup!==null}function rh(t){const e=He(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new En(qn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Th(a,i))}),n.has(qn.keyField().canonicalString())||e.Ee.push(new Th(qn.keyField(),i))}return e.Ee}function or(t){const e=He(t);return e.de||(e.de=xV(e,rh(t))),e.de}function xV(t,e){if(t.limitType==="F")return BT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Th(s.field,a)});const n=t.endAt?new Mm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Mm(t.startAt.position,t.startAt.inclusive):null;return BT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function px(t,e){const n=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dm(t,e,n){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rg(t,e){return jb(or(t),or(e))&&t.limitType===e.limitType}function XR(t){return`${Rb(or(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>GR(s)).join(", ")}]`),Ag(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ou(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ou(s)).join(",")),`Target(${i})`}(or(t))}; limitType=${t.limitType})`}function jg(t,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Re.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,s){for(const a of rh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,u,h){const p=VT(l,u,h);return l.inclusive?p<=0:p<0}(i.startAt,rh(i),s)||i.endAt&&!function(l,u,h){const p=VT(l,u,h);return l.inclusive?p>=0:p>0}(i.endAt,rh(i),s))}(t,e)}function bV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QR(t){return(e,n)=>{let i=!1;for(const s of rh(t)){const a=wV(s,e,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function wV(t,e,n){const i=t.field.isKeyField()?Re.comparator(e.key,n.key):function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?au(h,p):Ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return MR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new Qt(Re.comparator);function ra(){return _V}const ZR=new Qt(Re.comparator);function Yd(...t){let e=ZR;for(const n of t)e=e.insert(n.key,n);return e}function JR(t){let e=ZR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function hl(){return ah()}function ej(){return ah()}function ah(){return new Ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const EV=new Qt(Re.comparator),TV=new En(Re.comparator);function et(...t){let e=TV;for(const n of t)e=e.add(n);return e}const SV=new En(We);function AV(){return SV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nm(e)?"-0":e}}function tj(t){return{integerValue:""+t}}function nj(t,e){return eV(e)?tj(e):Nb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this._=void 0}}function CV(t,e,n){return t instanceof Om?function(s,a){const l={fields:{[LR]:{stringValue:OR},[zR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Cb(a)&&(a=Cg(a)),a&&(l.fields[VR]=a),{mapValue:l}}(n,e):t instanceof Sh?sj(t,e):t instanceof Ah?rj(t,e):function(s,a){const l=ij(s,a),u=FT(l)+FT(s.Re);return dx(l)&&dx(s.Re)?tj(u):Nb(s.serializer,u)}(t,e)}function kV(t,e,n){return t instanceof Sh?sj(t,e):t instanceof Ah?rj(t,e):n}function ij(t,e){return t instanceof Ch?function(i){return dx(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Om extends Ng{}class Sh extends Ng{constructor(e){super(),this.elements=e}}function sj(t,e){const n=aj(e);for(const i of t.elements)n.some(s=>fr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Ah extends Ng{constructor(e){super(),this.elements=e}}function rj(t,e){let n=aj(e);for(const i of t.elements)n=n.filter(s=>!fr(s,i));return{arrayValue:{values:n}}}class Ch extends Ng{constructor(e,n){super(),this.serializer=e,this.Re=n}}function FT(t){return on(t.integerValue||t.doubleValue)}function aj(t){return kb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n){this.field=e,this.transform=n}}function jV(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Sh&&s instanceof Sh||i instanceof Ah&&s instanceof Ah?ru(i.elements,s.elements,fr):i instanceof Ch&&s instanceof Ch?fr(i.Re,s.Re):i instanceof Om&&s instanceof Om}(t.transform,e.transform)}class NV{constructor(e,n){this.version=e,this.transformResults=n}}class ms{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ms}static exists(e){return new ms(void 0,e)}static updateTime(e){return new ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function am(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ig{}function oj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ib(t.key,ms.none()):new Wh(t.key,t.data,ms.none());{const n=t.data,i=Si.empty();let s=new En(qn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new vo(t.key,i,new Wi(s.toArray()),ms.none())}}function IV(t,e,n){t instanceof Wh?function(s,a,l){const u=s.value.clone(),h=qT(s.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(s,a,l){if(!am(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=qT(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(lj(s)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function oh(t,e,n,i){return t instanceof Wh?function(a,l,u,h){if(!am(a.precondition,l))return u;const p=a.value.clone(),m=$T(a.fieldTransforms,h,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof vo?function(a,l,u,h){if(!am(a.precondition,l))return u;const p=$T(a.fieldTransforms,h,l),m=l.data;return m.setAll(lj(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(a,l,u){return am(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function PV(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),a=ij(i.transform,s||null);a!=null&&(n===null&&(n=Si.empty()),n.set(i.field,a))}return n||null}function HT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ru(i,s,(a,l)=>jV(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wh extends Ig{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends Ig{constructor(e,n,i,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function qT(t,e,n){const i=new Map;wt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);i.set(a.field,kV(l,u,n[s]))}return i}function $T(t,e,n){const i=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);i.set(s.field,CV(a,l,e))}return i}class Ib extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MV extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&IV(a,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=oh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=oh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ej();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const h=oj(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ue.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(n,i)=>HT(n,i))&&ru(this.baseMutations,e.baseMutations,(n,i)=>HT(n,i))}}class Pb{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){wt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return EV}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new Pb(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,at;function VV(t){switch(t){case de.OK:return Ve(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function cj(t){if(t===void 0)return sa("GRPC error has no .code"),de.UNKNOWN;switch(t){case fn.OK:return de.OK;case fn.CANCELLED:return de.CANCELLED;case fn.UNKNOWN:return de.UNKNOWN;case fn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case fn.INTERNAL:return de.INTERNAL;case fn.UNAVAILABLE:return de.UNAVAILABLE;case fn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case fn.NOT_FOUND:return de.NOT_FOUND;case fn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case fn.ABORTED:return de.ABORTED;case fn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case fn.DATA_LOSS:return de.DATA_LOSS;default:return Ve(39323,{code:t})}}(at=fn||(fn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new eo([4294967295,4294967295],0);function WT(t){const e=NR().encode(t),n=new ER;return n.update(e),new Uint8Array(n.digest())}function GT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new eo([n,i],0),new eo([s,a],0)]}class Mb{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xd(`Invalid padding: ${n}`);if(i<0)throw new Xd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=eo.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(eo.fromNumber(i)));return s.compare(zV)===1&&(s=new eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=WT(e),[i,s]=GT(n);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);if(!this.be(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Mb(a,s,n);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const n=WT(e),[i,s]=GT(n);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,i,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Pg(Ue.min(),s,new Qt(We),ra(),et())}}class Gh{constructor(e,n,i,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Gh(i,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class uj{constructor(e,n){this.targetId=e,this.Ce=n}}class dj{constructor(e,n,i=Wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class KT{constructor(){this.Fe=0,this.Me=YT(),this.xe=Wn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),n=et(),i=et();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ve(38017,{changeType:a})}}),new Gh(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=YT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class BV{constructor(e){this.ze=e,this.je=new Map,this.He=ra(),this.Je=Rp(),this.Ye=Rp(),this.Ze=new Qt(We)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(fx(a))if(i===0){const l=new Re(a.path);this.tt(n,l,ei.newNoDocument(l,Ue.min()))}else wt(i===1,20013,{expectedCount:i});else{const l=this.ut(n);if(l!==i){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=lo(i).toUint8Array()}catch(h){if(h instanceof DR)return su("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Mb(l,s,a)}catch(h){return su(h instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&fx(u.target)){const h=new Re(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,ei.newNoDocument(h,e))}a.Le&&(n.set(l,a.qe()),a.Qe())}});let i=et();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new Pg(e,n,this.Ze,this.He,i);return this.He=ra(),this.Je=Rp(),this.Ye=Rp(),this.Ze=new Qt(We),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new KT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new En(We),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new En(We),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new KT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Rp(){return new Qt(Re.comparator)}function YT(){return new Qt(Re.comparator)}const UV={asc:"ASCENDING",desc:"DESCENDING"},FV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HV={and:"AND",or:"OR"};class qV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mx(t,e){return t.useProto3Json||Ag(e)?e:{value:e}}function Lm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $V(t,e){return Lm(t,e.toTimestamp())}function lr(t){return wt(!!t,49232),Ue.fromTimestamp(function(n){const i=oo(n);return new _n(i.seconds,i.nanos)}(t))}function Db(t,e){return gx(t,e).canonicalString()}function gx(t,e){const n=function(s){return new Bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fj(t){const e=Bt.fromString(t);return wt(vj(e),10190,{key:e.toString()}),e}function yx(t,e){return Db(t.databaseId,e.path)}function gv(t,e){const n=fj(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(mj(n))}function pj(t,e){return Db(t.databaseId,e)}function WV(t){const e=fj(t);return e.length===4?Bt.emptyPath():mj(e)}function vx(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mj(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XT(t,e,n){return{name:yx(t,e),fields:n.value.mapValue.fields}}function GV(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(wt(m===void 0||typeof m=="string",58123),Wn.fromBase64String(m||"")):(wt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Wn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?de.UNKNOWN:cj(p.code);return new Te(m,p.message||"")}(l);n=new dj(i,s,a,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=gv(t,i.document.name),a=lr(i.document.updateTime),l=i.document.createTime?lr(i.document.createTime):Ue.min(),u=new Si({mapValue:{fields:i.document.fields}}),h=ei.newFoundDocument(s,a,l,u),p=i.targetIds||[],m=i.removedTargetIds||[];n=new om(p,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=gv(t,i.document),a=i.readTime?lr(i.readTime):Ue.min(),l=ei.newNoDocument(s,a),u=i.removedTargetIds||[];n=new om([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=gv(t,i.document),a=i.removedTargetIds||[];n=new om([],a,s,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new LV(s,a),u=i.targetId;n=new uj(u,l)}}return n}function KV(t,e){let n;if(e instanceof Wh)n={update:XT(t,e.key,e.value)};else if(e instanceof Ib)n={delete:yx(t,e.key)};else if(e instanceof vo)n={update:XT(t,e.key,e.data),updateMask:i8(e.fieldMask)};else{if(!(e instanceof MV))return Ve(16599,{ft:e.type});n={verify:yx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const u=l.transform;if(u instanceof Om)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Sh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ah)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ch)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Ve(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:$V(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve(27497)}(t,e.precondition)),n}function YV(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?lr(s.updateTime):lr(a);return l.isEqual(Ue.min())&&(l=lr(a)),new NV(l,s.transformResults||[])}(n,e))):[]}function XV(t,e){return{documents:[pj(t,e.path)]}}function QV(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=pj(t,s);const a=function(p){if(p.length!==0)return yj(Ps.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(b){return{field:Uc(b.field),direction:e8(b.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=mx(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:s}}function ZV(t){let e=WV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){wt(i===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(v){const b=gj(v);return b instanceof Ps&&$R(b)?b.getFilters():[b]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(b=>function(E){return new Th(Fc(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(b))}(n.orderBy));let u=null;n.limit&&(u=function(v){let b;return b=typeof v=="object"?v.value:v,Ag(b)?null:b}(n.limit));let h=null;n.startAt&&(h=function(v){const b=!!v.before,_=v.values||[];return new Mm(_,b)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const b=!v.before,_=v.values||[];return new Mm(_,b)}(n.endAt)),vV(e,s,l,a,u,"F",h,p)}function JV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Fc(n.unaryFilter.field);return mn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Fc(n.unaryFilter.field);return mn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fc(n.unaryFilter.field);return mn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fc(n.unaryFilter.field);return mn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return mn.create(Fc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ps.create(n.compositeFilter.filters.map(i=>gj(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(t):Ve(30097,{filter:t})}function e8(t){return UV[t]}function t8(t){return FV[t]}function n8(t){return HV[t]}function Uc(t){return{fieldPath:t.canonicalString()}}function Fc(t){return qn.fromServerFormat(t.fieldPath)}function yj(t){return t instanceof mn?function(n){if(n.op==="=="){if(LT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:Uc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(n.field),op:t8(n.op),value:n.value}}}(t):t instanceof Ps?function(n){const i=n.getFilters().map(s=>yj(s));return i.length===1?i[0]:{compositeFilter:{op:n8(n.op),filters:i}}}(t):Ve(54877,{filter:t})}function i8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,i,s,a=Ue.min(),l=Ue.min(),u=Wn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.wt=e}}function r8(t){const e=ZV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.yn=new o8}addToCollectionParentIndex(e,n){return this.yn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(ao.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class o8{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new En(Bt.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new En(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xj=41943040;class Ei{static withCacheSize(e){return new Ei(e,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(xj,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new lu(0)}static ir(){return new lu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="LruGarbageCollector",l8=1048576;function JT([t,e],[n,i]){const s=We(t,n);return s===0?We(e,i):s}class c8{constructor(e){this.cr=e,this.buffer=new En(JT),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();JT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u8{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ee(ZT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tu(n)?Ee(ZT,"Ignoring IndexedDB error during garbage collection: ",n):await Eu(n)}await this.Ir(3e5)})}}class d8{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(Sg.le);const i=new c8(n);return this.Er.forEachTarget(e,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(QT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,s,a,l,u,h,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,n))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),zc()<=Je.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-m}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function h8(t,e){return new d8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.changes=new Ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&oh(i.mutation,s,Wi.empty(),_n.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,et()).next(()=>i))}getLocalViewOfDocuments(e,n,i=et()){const s=hl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(a=>{let l=Yd();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=hl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,et()))}populateOverlays(e,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,i,s){let a=ra();const l=ah(),u=function(){return ah()}();return n.forEach((h,p)=>{const m=i.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof vo)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),oh(m.mutation,p,m.mutation.getFieldMask(),_n.now())):l.set(p.key,Wi.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var v;return u.set(p,new p8(m,(v=l.get(p))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const i=ah();let s=new Qt((l,u)=>l-u),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let m=i.get(h)||Wi.empty();m=u.applyToLocalView(p,m),i.set(h,m);const v=(s.get(u.batchId)||et()).add(h);s=s.insert(u.batchId,v)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,m=h.value,v=ej();m.forEach(b=>{if(!a.has(b)){const _=oj(n.get(b),i.get(b));_!==null&&v.set(b,_),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return fe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-a.size):fe.resolve(hl());let u=bh,h=a;return l.next(p=>fe.forEach(p,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(m)?fe.resolve():this.remoteDocumentCache.getEntry(e,m).next(b=>{h=h.insert(m,b)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,et())).next(m=>({batchId:u,changes:JR(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(i=>{let s=Yd();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const a=n.collectionGroup;let l=Yd();return this.indexManager.getCollectionParents(e,a).next(u=>fe.forEach(u,h=>{const p=function(v,b){return new Su(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(m=>{m.forEach((v,b)=>{l=l.insert(v,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,s))).next(l=>{a.forEach((h,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,ei.newInvalidDocument(m)))});let u=Yd();return l.forEach((h,p)=>{const m=a.get(h);m!==void 0&&oh(m.mutation,p,Wi.empty(),_n.now()),jg(n,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:lr(s.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:r8(s.bundledQuery),readTime:lr(s.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.overlays=new Qt(Re.comparator),this.Or=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=hl();return fe.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,a)=>{this.St(e,n,a)}),fe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const s=hl(),a=n.length+1,l=new Re(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let a=new Qt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let m=a.get(p.largestBatchId);m===null&&(m=hl(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=hl(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=s)););return fe.resolve(u)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new OV(n,i));let a=this.Or.get(n);a===void 0&&(a=et(),this.Or.set(n,a)),this.Or.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.Nr=new En(Pn.Br),this.Lr=new En(Pn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new Pn(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new Pn(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new Re(new Bt([])),i=new Pn(n,e),s=new Pn(n,e+1),a=[];return this.Lr.forEachInRange([i,s],l=>{this.Qr(l),a.push(l.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Re(new Bt([])),i=new Pn(n,e),s=new Pn(n,e+1);let a=et();return this.Lr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Pn(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Re.comparator(e.key,n.key)||We(e.Gr,n.Gr)}static kr(e,n){return We(e.Gr,n.Gr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new En(Pn.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new DV(a,n,i,s);this.mutationQueue.push(l);for(const u of s)this.zr=this.zr.add(new Pn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,n){return fe.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Hr(i),a=s<0?0:s;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Ab:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pn(n,0),s=new Pn(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,s],l=>{const u=this.jr(l.Gr);a.push(u)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new En(We);return n.forEach(s=>{const a=new Pn(s,0),l=new Pn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,l],u=>{i=i.add(u.Gr)})}),fe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let a=i;Re.isDocumentKey(a)||(a=a.child(""));const l=new Pn(new Re(a),0);let u=new En(We);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(u=u.add(h.Gr)),!0)},l),fe.resolve(this.Jr(u))}Jr(e){const n=[];return e.forEach(i=>{const s=this.jr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){wt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return fe.forEach(n.mutations,s=>{const a=new Pn(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new Pn(n,0),s=this.zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.Zr=e,this.docs=function(){return new Qt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let i=ra();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():ei.newInvalidDocument(s))}),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let a=ra();const l=n.path,u=new Re(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:m}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||XL(YL(m),i)<=0||(s.has(m.key)||jg(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,n,i,s){Ve(9500)}Xr(e,n){return fe.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new w8(this)}getSize(e){return fe.resolve(this.size)}}class w8 extends f8{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(i)}),fe.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.persistence=e,this.ei=new Ml(n=>Rb(n),jb),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ob,this.targetCount=0,this.ri=lu.rr()}forEachTarget(e,n){return this.ei.forEach((i,s)=>n(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),fe.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new lu(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.ar(n),fe.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let s=0;const a=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.ei.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),fe.waitFor(a).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.ii={},this.overlays={},this.si=new Sg(0),this.oi=!1,this.oi=!0,this._i=new v8,this.referenceDelegate=e(this),this.ai=new _8(this),this.indexManager=new a8,this.remoteDocumentCache=function(s){return new b8(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new s8(n),this.ci=new g8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new x8(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){Ee("MemoryPersistence","Starting transaction:",e);const s=new E8(this.si.next());return this.referenceDelegate.li(),i(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,n){return fe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class E8 extends ZL{constructor(e){super(),this.currentSequenceNumber=e}}class Lb{constructor(e){this.persistence=e,this.Ti=new Ob,this.Ii=null}static Ei(e){return new Lb(e)}get di(){if(this.Ii)return this.Ii;throw Ve(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,i=>{const s=Re.fromPath(i);return this.Ai(e,s).next(a=>{a||n.removeEntry(s,Ue.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return fe.or([()=>fe.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Vm{constructor(e,n){this.persistence=e,this.Ri=new Ml(i=>tV(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=h8(this,n)}static Ei(e,n){return new Vm(e,n)}li(){}hi(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return fe.forEach(this.Ri,(i,s)=>this.gr(e,i,s).next(a=>a?fe.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,l=>this.gr(e,l,n).next(u=>{u||(i++,a.removeEntry(l,Ue.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sm(e.data.value)),n}gr(e,n,i){return fe.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=s}static Ps(e,n){let i=et(),s=et();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Vb(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Q5()?8:JL(ai())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,s){const a={result:null};return this.Rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Vs(e,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new T8;return this.fs(e,n,l).next(u=>{if(a.result=u,this.Is)return this.gs(e,n,l,u.size)})}).next(()=>a.result)}gs(e,n,i,s){return i.documentReadCount<this.Es?(zc()<=Je.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(zc()<=Je.DEBUG&&Ee("QueryEngine","Query:",Bc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(zc()<=Je.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):fe.resolve())}Rs(e,n){if(UT(n))return fe.resolve(null);let i=or(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Dm(n,null,"F"),i=or(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=et(...a);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.ps(n,u);return this.ys(n,p,l,h.readTime)?this.Rs(e,Dm(n,null,"F")):this.ws(e,p,n,h)}))})))}Vs(e,n,i,s){return UT(n)||s.isEqual(Ue.min())?fe.resolve(null):this.As.getDocuments(e,i).next(a=>{const l=this.ps(n,a);return this.ys(n,l,i,s)?fe.resolve(null):(zc()<=Je.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bc(n)),this.ws(e,l,n,KL(s,bh)).next(u=>u))})}ps(e,n){let i=new En(QR(e));return n.forEach((s,a)=>{jg(e,a)&&(i=i.add(a))}),i}ys(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,n,i){return zc()<=Je.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Bc(n)),this.As.getDocumentsMatchingQuery(e,n,ao.min(),i)}ws(e,n,i,s){return this.As.getDocumentsMatchingQuery(e,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="LocalStore",A8=3e8;class C8{constructor(e,n,i,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Qt(We),this.Ds=new Ml(a=>Rb(a),jb),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m8(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function k8(t,e,n,i){return new C8(t,e,n,i)}async function wj(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],u=[];let h=et();for(const p of s){l.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of a){u.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:u}))})})}function R8(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,p,m){const v=p.batch,b=v.keys();let _=fe.resolve();return b.forEach(E=>{_=_.next(()=>m.getEntry(h,E)).next(C=>{const A=p.docVersions.get(E);wt(A!==null,48541),C.version.compareTo(A)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),m.addEntry(C)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(h,v))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=et();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function _j(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function j8(t,e){const n=He(t),i=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const u=[];e.targetChanges.forEach((m,v)=>{const b=s.get(v);if(!b)return;u.push(n.ai.removeMatchingKeys(a,m.removedDocuments,v).next(()=>n.ai.addMatchingKeys(a,m.addedDocuments,v)));let _=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(Wn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,i)),s=s.insert(v,_),function(C,A,j){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=A8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,_,m)&&u.push(n.ai.updateTargetData(a,_))});let h=ra(),p=et();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(N8(a,l,e.documentUpdates).next(m=>{h=m.xs,p=m.Os})),!i.isEqual(Ue.min())){const m=n.ai.getLastRemoteSnapshotVersion(a).next(v=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));u.push(m)}return fe.waitFor(u).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.Ss=s,a))}function N8(t,e,n){let i=et(),s=et();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let l=ra();return n.forEach((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):Ee(zb,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{xs:l,Os:s}})}function I8(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ab),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function P8(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.ai.getTargetData(i,e).next(a=>a?(s=a,fe.resolve(s)):n.ai.allocateTargetId(i).next(l=>(s=new $a(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function xx(t,e,n){const i=He(t),s=i.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Tu(l))throw l;Ee(zb,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(s.target)}function eS(t,e,n){const i=He(t);let s=Ue.min(),a=et();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,m){const v=He(h),b=v.Ds.get(m);return b!==void 0?fe.resolve(v.Ss.get(b)):v.ai.getTargetData(p,m)}(i,l,or(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>i.bs.getDocumentsMatchingQuery(l,e,n?s:Ue.min(),n?a:et())).next(u=>(M8(i,bV(e),u),{documents:u,Ns:a})))}function M8(t,e,n){let i=t.vs.get(e)||Ue.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.vs.set(e,i)}class tS{constructor(){this.activeTargetIds=AV()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D8{constructor(){this.So=new tS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new tS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="ConnectivityMonitor";class iS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ee(nS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ee(nS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp=null;function bx(){return jp===null?jp=function(){return 268435456+Math.round(2147483648*Math.random())}():jp++,"0x"+jp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="RestConnection",L8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V8{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===Im?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(e,n,i,s,a){const l=bx(),u=this.$o(e,n.toUriEncodedString());Ee(yv,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(h,s,a),this.Ko(e,u,h,i).then(p=>(Ee(yv,`Received RPC '${e}' ${l}: `,p),p),p=>{throw su(yv,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}Wo(e,n,i,s,a,l){return this.Qo(e,n,i,s,a)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_u}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),i&&i.headers.forEach((s,a)=>e[a]=s)}$o(e,n){const i=L8[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class B8 extends V8{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,s){const a=bx();return new Promise((l,u)=>{const h=new TR;h.setWithCredentials(!0),h.listenOnce(SR.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case im.NO_ERROR:const m=h.getResponseJson();Ee(Qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case im.TIMEOUT:Ee(Qn,`RPC '${e}' ${a} timed out`),u(new Te(de.DEADLINE_EXCEEDED,"Request time out"));break;case im.HTTP_ERROR:const v=h.getStatus();if(Ee(Qn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const _=b==null?void 0:b.error;if(_&&_.status&&_.message){const E=function(A){const j=A.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(j)>=0?j:de.UNKNOWN}(_.status);u(new Te(E,_.message))}else u(new Te(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Te(de.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{s_:e,streamId:a,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Ee(Qn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);Ee(Qn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,i,15)})}a_(e,n,i){const s=bx(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=kR(),u=CR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=a.join("");Ee(Qn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const v=l.createWebChannel(m,h);let b=!1,_=!1;const E=new z8({Go:A=>{_?Ee(Qn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(b||(Ee(Qn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),b=!0),Ee(Qn,`RPC '${e}' stream ${s} sending:`,A),v.send(A))},zo:()=>v.close()}),C=(A,j,B)=>{A.listen(j,V=>{try{B(V)}catch($){setTimeout(()=>{throw $},0)}})};return C(v,Kd.EventType.OPEN,()=>{_||(Ee(Qn,`RPC '${e}' stream ${s} transport opened.`),E.t_())}),C(v,Kd.EventType.CLOSE,()=>{_||(_=!0,Ee(Qn,`RPC '${e}' stream ${s} transport closed`),E.r_())}),C(v,Kd.EventType.ERROR,A=>{_||(_=!0,su(Qn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),E.r_(new Te(de.UNAVAILABLE,"The operation could not be completed")))}),C(v,Kd.EventType.MESSAGE,A=>{var j;if(!_){const B=A.data[0];wt(!!B,16349);const V=B,$=(V==null?void 0:V.error)||((j=V[0])===null||j===void 0?void 0:j.error);if($){Ee(Qn,`RPC '${e}' stream ${s} received error:`,$);const q=$.status;let J=function(P){const O=fn[P];if(O!==void 0)return cj(O)}(q),z=$.message;J===void 0&&(J=de.INTERNAL,z="Unknown error status: "+q+" with message "+$.message),_=!0,E.r_(new Te(J,z)),v.close()}else Ee(Qn,`RPC '${e}' stream ${s} received:`,B),E.i_(B)}}),C(u,AR.STAT_EVENT,A=>{A.stat===lx.PROXY?Ee(Qn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===lx.NOPROXY&&Ee(Qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}function vv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){return new qV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,i=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-i);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="PersistentStream";class Tj{constructor(e,n,i,s,a,l,u,h){this.bi=e,this.R_=i,this.V_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Ej(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(sa(n.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===n&&this.B_(i,s)},i=>{e(()=>{const s=new Te(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ee(sS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ee(sS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U8 extends Tj{constructor(e,n,i,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=GV(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ue.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?lr(l.readTime):Ue.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=vx(this.serializer),n.addTarget=function(a,l){let u;const h=l.target;if(u=fx(h)?{documents:XV(a,h)}:{query:QV(a,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=hj(a,l.resumeToken);const p=mx(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ue.min())>0){u.readTime=Lm(a,l.snapshotVersion.toTimestamp());const p=mx(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const i=JV(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=vx(this.serializer),n.removeTarget=e,this.F_(n)}}class F8 extends Tj{constructor(e,n,i,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=YV(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=vx(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>KV(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{}class q8 extends H8{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Qo(e,gx(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(de.UNKNOWN,a.toString())})}Wo(e,n,i,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,gx(n,i),s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(de.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class $8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(sa(n),this.ea=!1):Ee("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="RemoteStore";class W8{constructor(e,n,i,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(l=>{i.enqueueAndForget(async()=>{Dl(this)&&(Ee(kl,"Restarting streams for network reachability change."),await async function(h){const p=He(h);p.aa.add(4),await Kh(p),p.la.set("Unknown"),p.aa.delete(4),await Dg(p)}(this))})}),this.la=new $8(i,s)}}async function Dg(t){if(Dl(t))for(const e of t.ua)await e(!0)}async function Kh(t){for(const e of t.ua)await e(!1)}function Sj(t,e){const n=He(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Hb(n)?Fb(n):Au(n).b_()&&Ub(n,e))}function Bb(t,e){const n=He(t),i=Au(n);n._a.delete(e),i.b_()&&Aj(n,e),n._a.size===0&&(i.b_()?i.v_():Dl(n)&&n.la.set("Unknown"))}function Ub(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Au(t).U_(e)}function Aj(t,e){t.ha.Ke(e),Au(t).K_(e)}function Fb(t){t.ha=new BV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.la.ta()}function Hb(t){return Dl(t)&&!Au(t).w_()&&t._a.size>0}function Dl(t){return He(t).aa.size===0}function Cj(t){t.ha=void 0}async function G8(t){t.la.set("Online")}async function K8(t){t._a.forEach((e,n)=>{Ub(t,e)})}async function Y8(t,e){Cj(t),Hb(t)?(t.la.ia(e),Fb(t)):t.la.set("Unknown")}async function X8(t,e,n){if(t.la.set("Online"),e instanceof dj&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s._a.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s._a.delete(u),s.ha.removeTarget(u))}(t,e)}catch(i){Ee(kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zm(t,i)}else if(e instanceof om?t.ha.Xe(e):e instanceof uj?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ue.min()))try{const i=await _j(t.localStore);n.compareTo(i)>=0&&await function(a,l){const u=a.ha.It(l);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const m=a._a.get(p);m&&a._a.set(p,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,p)=>{const m=a._a.get(h);if(!m)return;a._a.set(h,m.withResumeToken(Wn.EMPTY_BYTE_STRING,m.snapshotVersion)),Aj(a,h);const v=new $a(m.target,h,p,m.sequenceNumber);Ub(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){Ee(kl,"Failed to raise snapshot:",i),await zm(t,i)}}async function zm(t,e,n){if(!Tu(e))throw e;t.aa.add(1),await Kh(t),t.la.set("Offline"),n||(n=()=>_j(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(kl,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Dg(t)})}function kj(t,e){return e().catch(n=>zm(t,n,e))}async function Og(t){const e=He(t),n=uo(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ab;for(;Q8(e);)try{const s=await I8(e.localStore,i);if(s===null){e.oa.length===0&&n.v_();break}i=s.batchId,Z8(e,s)}catch(s){await zm(e,s)}Rj(e)&&jj(e)}function Q8(t){return Dl(t)&&t.oa.length<10}function Z8(t,e){t.oa.push(e);const n=uo(t);n.b_()&&n.W_&&n.G_(e.mutations)}function Rj(t){return Dl(t)&&!uo(t).w_()&&t.oa.length>0}function jj(t){uo(t).start()}async function J8(t){uo(t).H_()}async function ez(t){const e=uo(t);for(const n of t.oa)e.G_(n.mutations)}async function tz(t,e,n){const i=t.oa.shift(),s=Pb.from(i,e,n);await kj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Og(t)}async function nz(t,e){e&&uo(t).W_&&await async function(i,s){if(function(l){return VV(l)&&l!==de.ABORTED}(s.code)){const a=i.oa.shift();uo(i).D_(),await kj(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Og(i)}}(t,e),Rj(t)&&jj(t)}async function rS(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ee(kl,"RemoteStore received new credentials");const i=Dl(n);n.aa.add(3),await Kh(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Dg(n)}async function iz(t,e){const n=He(t);e?(n.aa.delete(2),await Dg(n)):e||(n.aa.add(2),await Kh(n),n.la.set("Unknown"))}function Au(t){return t.Pa||(t.Pa=function(n,i,s){const a=He(n);return a.Y_(),new U8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:G8.bind(null,t),Jo:K8.bind(null,t),Zo:Y8.bind(null,t),Q_:X8.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Hb(t)?Fb(t):t.la.set("Unknown")):(await t.Pa.stop(),Cj(t))})),t.Pa}function uo(t){return t.Ta||(t.Ta=function(n,i,s){const a=He(n);return a.Y_(),new F8(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:J8.bind(null,t),Zo:nz.bind(null,t),z_:ez.bind(null,t),j_:tz.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Og(t)):(await t.Ta.stop(),t.oa.length>0&&(Ee(kl,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){const l=Date.now()+i,u=new qb(e,n,l,s,a);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $b(t,e){if(sa("AsyncQueue",`${e}: ${t}`),Tu(t))return new Te(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Re.comparator(n.key,i.key):(n,i)=>Re.comparator(n.key,i.key),this.keyedMap=Yd(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Ia=new Qt(Re.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class cu{constructor(e,n,i,s,a,l,u,h,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,s,a){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new cu(e,n,Zc.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class rz{constructor(){this.queries=oS(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const s=He(n),a=s.queries;s.queries=oS(),a.forEach((l,u)=>{for(const h of u.Ra)h.onError(i)})})(this,new Te(de.ABORTED,"Firestore shutting down"))}}function oS(){return new Ml(t=>XR(t),Rg)}async function Wb(t,e){const n=He(t);let i=3;const s=e.query;let a=n.queries.get(s);a?!a.Va()&&e.ma()&&(i=2):(a=new sz,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await n.onListen(s,!0);break;case 1:a.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=$b(l,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&Kb(n)}async function Gb(t,e){const n=He(t),i=e.query;let s=3;const a=n.queries.get(i);if(a){const l=a.Ra.indexOf(e);l>=0&&(a.Ra.splice(l,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function az(t,e){const n=He(t);let i=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.Ra)u.pa(s)&&(i=!0);l.Aa=s}}i&&Kb(n)}function oz(t,e,n){const i=He(t),s=i.queries.get(e);if(s)for(const a of s.Ra)a.onError(n);i.queries.delete(e)}function Kb(t){t.fa.forEach(e=>{e.next()})}var wx,lS;(lS=wx||(wx={})).ya="default",lS.Cache="cache";class Yb{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new cu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==wx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.key=e}}class Ij{constructor(e){this.key=e}}class lz{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=et(),this.mutatedKeys=et(),this.Ua=QR(e),this.Ka=new Zc(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new aS,s=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,v)=>{const b=s.get(m),_=jg(this.query,v)?v:null,E=!!b&&this.mutatedKeys.has(b.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;b&&_?b.data.isEqual(_.data)?E!==C&&(i.track({type:3,doc:_}),A=!0):this.ja(b,_)||(i.track({type:2,doc:_}),A=!0,(h&&this.Ua(_,h)>0||p&&this.Ua(_,p)<0)&&(u=!0)):!b&&_?(i.track({type:0,doc:_}),A=!0):b&&!_&&(i.track({type:1,doc:b}),A=!0,(h||p)&&(u=!0)),A&&(_?(l=l.add(_),a=C?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{Ka:l,za:i,ys:u,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((m,v)=>function(_,E){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:A})}};return C(_)-C(E)}(m.type,v.type)||this.Ua(m.doc,v.doc)),this.Ha(i),s=s!=null&&s;const u=n&&!s?this.Ja():[],h=this.$a.size===0&&this.current&&!s?1:0,p=h!==this.Qa;return this.Qa=h,l.length!==0||p?{snapshot:new cu(this.query,e.Ka,a,l,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new aS,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=et(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new Ij(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new Nj(i))}),n}Xa(e){this.qa=e.Ns,this.$a=et();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return cu.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Xb="SyncEngine";class cz{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class uz{constructor(e){this.key=e,this.tu=!1}}class dz{constructor(e,n,i,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Ml(u=>XR(u),Rg),this.iu=new Map,this.su=new Set,this.ou=new Qt(Re.comparator),this._u=new Map,this.au=new Ob,this.uu={},this.cu=new Map,this.lu=lu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function hz(t,e,n=!0){const i=Vj(t);let s;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await Pj(i,e,n,!0),s}async function fz(t,e){const n=Vj(t);await Pj(n,e,!0,!1)}async function Pj(t,e,n,i){const s=await P8(t.localStore,or(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return i&&(u=await pz(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&Sj(t.remoteStore,s),u}async function pz(t,e,n,i,s){t.Pu=(v,b,_)=>async function(C,A,j,B){let V=A.view.Ga(j);V.ys&&(V=await eS(C.localStore,A.query,!1).then(({documents:z})=>A.view.Ga(z,V)));const $=B&&B.targetChanges.get(A.targetId),q=B&&B.targetMismatches.get(A.targetId)!=null,J=A.view.applyChanges(V,C.isPrimaryClient,$,q);return uS(C,A.targetId,J.Ya),J.snapshot}(t,v,b,_);const a=await eS(t.localStore,e,!0),l=new lz(e,a.Ns),u=l.Ga(a.documents),h=Gh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),p=l.applyChanges(u,t.isPrimaryClient,h);uS(t,n,p.Ya);const m=new cz(e,n,l);return t.ru.set(e,m),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),p.snapshot}async function mz(t,e,n){const i=He(t),s=i.ru.get(e),a=i.iu.get(s.targetId);if(a.length>1)return i.iu.set(s.targetId,a.filter(l=>!Rg(l,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await xx(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Bb(i.remoteStore,s.targetId),_x(i,s.targetId)}).catch(Eu)):(_x(i,s.targetId),await xx(i.localStore,s.targetId,!0))}async function gz(t,e){const n=He(t),i=n.ru.get(e),s=n.iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Bb(n.remoteStore,i.targetId))}async function yz(t,e,n){const i=Tz(t);try{const s=await function(l,u){const h=He(l),p=_n.now(),m=u.reduce((_,E)=>_.add(E.key),et());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ra(),C=et();return h.Cs.getEntries(_,m).next(A=>{E=A,E.forEach((j,B)=>{B.isValidDocument()||(C=C.add(j))})}).next(()=>h.localDocuments.getOverlayedDocuments(_,E)).next(A=>{v=A;const j=[];for(const B of u){const V=PV(B,v.get(B.key).overlayedDocument);V!=null&&j.push(new vo(B.key,V,FR(V.value.mapValue),ms.exists(!0)))}return h.mutationQueue.addMutationBatch(_,p,j,u)}).next(A=>{b=A;const j=A.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(_,A.batchId,j)})}).then(()=>({batchId:b.batchId,changes:JR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let p=l.uu[l.currentUser.toKey()];p||(p=new Qt(We)),p=p.insert(u,h),l.uu[l.currentUser.toKey()]=p}(i,s.batchId,n),await Yh(i,s.changes),await Og(i.remoteStore)}catch(s){const a=$b(s,"Failed to persist write");n.reject(a)}}async function Mj(t,e){const n=He(t);try{const i=await j8(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n._u.get(a);l&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.tu=!0:s.modifiedDocuments.size>0?wt(l.tu,14607):s.removedDocuments.size>0&&(wt(l.tu,42227),l.tu=!1))}),await Yh(n,i,e)}catch(i){await Eu(i)}}function cS(t,e,n){const i=He(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ru.forEach((a,l)=>{const u=l.view.ga(e);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=He(l);h.onlineState=u;let p=!1;h.queries.forEach((m,v)=>{for(const b of v.Ra)b.ga(u)&&(p=!0)}),p&&Kb(h)}(i.eventManager,e),s.length&&i.nu.Q_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function vz(t,e,n){const i=He(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i._u.get(e),a=s&&s.key;if(a){let l=new Qt(Re.comparator);l=l.insert(a,ei.newNoDocument(a,Ue.min()));const u=et().add(a),h=new Pg(Ue.min(),new Map,new Qt(We),l,u);await Mj(i,h),i.ou=i.ou.remove(a),i._u.delete(e),Qb(i)}else await xx(i.localStore,e,!1).then(()=>_x(i,e,n)).catch(Eu)}async function xz(t,e){const n=He(t),i=e.batch.batchId;try{const s=await R8(n.localStore,e);Oj(n,i,null),Dj(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Yh(n,s)}catch(s){await Eu(s)}}async function bz(t,e,n){const i=He(t);try{const s=await function(l,u){const h=He(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return h.mutationQueue.lookupMutationBatch(p,u).next(v=>(wt(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>h.localDocuments.getDocuments(p,m))})}(i.localStore,e);Oj(i,e,n),Dj(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Yh(i,s)}catch(s){await Eu(s)}}function Dj(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function Oj(t,e,n){const i=He(t);let s=i.uu[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),i.uu[i.currentUser.toKey()]=s}}function _x(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.iu.get(e))t.ru.delete(i),n&&t.nu.Tu(i,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(i=>{t.au.containsKey(i)||Lj(t,i)})}function Lj(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Bb(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Qb(t))}function uS(t,e,n){for(const i of n)i instanceof Nj?(t.au.addReference(i.key,e),wz(t,i)):i instanceof Ij?(Ee(Xb,"Document no longer in limbo: "+i.key),t.au.removeReference(i.key,e),t.au.containsKey(i.key)||Lj(t,i.key)):Ve(19791,{Iu:i})}function wz(t,e){const n=e.key,i=n.path.canonicalString();t.ou.get(n)||t.su.has(i)||(Ee(Xb,"New document in limbo: "+n),t.su.add(i),Qb(t))}function Qb(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Re(Bt.fromString(e)),i=t.lu.next();t._u.set(i,new uz(n)),t.ou=t.ou.insert(n,i),Sj(t.remoteStore,new $a(or(kg(n.path)),i,"TargetPurposeLimboResolution",Sg.le))}}async function Yh(t,e,n){const i=He(t),s=[],a=[],l=[];i.ru.isEmpty()||(i.ru.forEach((u,h)=>{l.push(i.Pu(h,e,n).then(p=>{var m;if((p||n)&&i.isPrimaryClient){const v=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Vb.Ps(h.targetId,p);a.push(v)}}))}),await Promise.all(l),i.nu.Q_(s),await async function(h,p){const m=He(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(p,b=>fe.forEach(b.ls,_=>m.persistence.referenceDelegate.addReference(v,b.targetId,_)).next(()=>fe.forEach(b.hs,_=>m.persistence.referenceDelegate.removeReference(v,b.targetId,_)))))}catch(v){if(!Tu(v))throw v;Ee(zb,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const _=m.Ss.get(b),E=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(E);m.Ss=m.Ss.insert(b,C)}}}(i.localStore,a))}async function _z(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ee(Xb,"User change. New user:",e.toKey());const i=await wj(n.localStore,e);n.currentUser=e,function(a,l){a.cu.forEach(u=>{u.forEach(h=>{h.reject(new Te(de.CANCELLED,l))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yh(n,i.Ms)}}function Ez(t,e){const n=He(t),i=n._u.get(e);if(i&&i.tu)return et().add(i.key);{let s=et();const a=n.iu.get(e);if(!a)return s;for(const l of a){const u=n.ru.get(l);s=s.unionWith(u.view.Wa)}return s}}function Vj(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vz.bind(null,e),e.nu.Q_=az.bind(null,e.eventManager),e.nu.Tu=oz.bind(null,e.eventManager),e}function Tz(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bz.bind(null,e),e}class Bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mg(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return k8(this.persistence,new S8,e.initialUser,this.serializer)}Ru(e){return new bj(Lb.Ei,this.serializer)}Au(e){return new D8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bm.provider={build:()=>new Bm};class Sz extends Bm{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){wt(this.persistence.referenceDelegate instanceof Vm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new u8(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new bj(i=>Vm.Ei(i,n),this.serializer)}}class Ex{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_z.bind(null,this.syncEngine),await iz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rz}()}createDatastore(e){const n=Mg(e.databaseInfo.databaseId),i=function(a){return new B8(a)}(e.databaseInfo);return function(a,l,u,h){return new q8(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,a,l,u){return new W8(i,s,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>cS(this.syncEngine,n,0),function(){return iS.C()?new iS:new O8}())}createSyncEngine(e,n){return function(s,a,l,u,h,p,m){const v=new dz(s,a,l,u,h,p);return m&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=He(s);Ee(kl,"RemoteStore shutting down."),a.aa.add(5),await Kh(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ex.provider={build:()=>new Ex};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):sa("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="FirestoreClient";class Az{constructor(e,n,i,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=IR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{Ee(ho,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Ee(ho,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=$b(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function xv(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await wj(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Cz(t);Ee(ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>rS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rS(e.remoteStore,s)),t._onlineComponents=e}async function Cz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(ho,"Using user provided OfflineComponentProvider");try{await xv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;su("Error using user provided cache. Falling back to memory cache: "+n),await xv(t,new Bm)}}else Ee(ho,"Using default OfflineComponentProvider"),await xv(t,new Sz(void 0));return t._offlineComponents}async function zj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(ho,"Using user provided OnlineComponentProvider"),await dS(t,t._uninitializedComponentsProvider._online)):(Ee(ho,"Using default OnlineComponentProvider"),await dS(t,new Ex))),t._onlineComponents}function kz(t){return zj(t).then(e=>e.syncEngine)}async function Um(t){const e=await zj(t),n=e.eventManager;return n.onListen=hz.bind(null,e.syncEngine),n.onUnlisten=mz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gz.bind(null,e.syncEngine),n}function Rz(t,e,n={}){const i=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const m=new Zb({next:b=>{m.yu(),l.enqueueAndForget(()=>Gb(a,v));const _=b.docs.has(u);!_&&b.fromCache?p.reject(new Te(de.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?p.reject(new Te(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new Yb(kg(u.path),m,{includeMetadataChanges:!0,Fa:!0});return Wb(a,v)}(await Um(t),t.asyncQueue,e,n,i)),i.promise}function jz(t,e,n={}){const i=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const m=new Zb({next:b=>{m.yu(),l.enqueueAndForget(()=>Gb(a,v)),b.fromCache&&h.source==="server"?p.reject(new Te(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new Yb(u,m,{includeMetadataChanges:!0,Fa:!0});return Wb(a,v)}(await Um(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e,n){if(!n)throw new Te(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Nz(t,e,n,i){if(e===!0&&i===!0)throw new Te(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fS(t){if(!Re.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pS(t){if(Re.isDocumentKey(t))throw new Te(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lg(t);throw new Te(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="firestore.googleapis.com",mS=!0;class gS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fj,this.ssl=mS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l8)throw new Te(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bj((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vg{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zL;switch(i.type){case"firstParty":return new HL(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=hS.get(n);i&&(Ee("ComponentProvider","Removing Datastore"),hS.delete(n),i.terminate())}(this),Promise.resolve()}}function Iz(t,e,n,i={}){var s;const a=(t=ji(t,Vg))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;a.host!==Fj&&a.host!==u&&su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:i});if(!_l(h,l)&&(t._setSettings(h),i.mockUserToken)){let p,m;if(typeof i.mockUserToken=="string")p=i.mockUserToken,m=Jn.MOCK_USER;else{p=zk(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Te(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jn(v)}t._authCredentials=new BL(new jR(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class ii{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class to extends da{constructor(e,n,i){super(e,n,kg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new Re(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function ti(t,e,...n){if(t=Gt(t),Uj("collection","path",e),t instanceof Vg){const i=Bt.fromString(e,...n);return pS(i),new to(t,null,i)}{if(!(t instanceof ii||t instanceof to))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bt.fromString(e,...n));return pS(i),new to(t.firestore,null,i)}}function tt(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=IR.newId()),Uj("doc","path",e),t instanceof Vg){const i=Bt.fromString(e,...n);return fS(i),new ii(t,null,new Re(i))}{if(!(t instanceof ii||t instanceof to))throw new Te(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Bt.fromString(e,...n));return fS(i),new ii(t.firestore,t instanceof to?t.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="AsyncQueue";class vS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Ej(this,"async_queue_retry"),this.ju=()=>{const i=vv();i&&Ee(yS,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=vv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=vv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Zr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Tu(e))throw e;Ee(yS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,sa("INTERNAL UNHANDLED ERROR: ",xS(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=qb.createAndSchedule(this,e,n,i,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&Ve(47125,{ec:xS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function xS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class aa extends Vg{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new vS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vS(e),this._firestoreClient=void 0,await e}}}function Pz(t,e){const n=typeof t=="object"?t:fb(),i=typeof t=="string"?t:Im,s=wg(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=Ok("firestore");a&&Iz(s,...a)}return s}function zg(t){if(t._terminated)throw new Te(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Mz(t),t._firestoreClient}function Mz(t){var e,n,i;const s=t._freezeSettings(),a=function(u,h,p,m){return new sV(u,h,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Bj(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Az(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Wn.fromBase64String(e))}catch(n){throw new Te(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uu(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=/^__.*__$/;class Oz{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wh(e,this.data,n,this.fieldTransforms)}}class Hj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{oc:t})}}class tw{constructor(e,n,i,s,a,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new tw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s.lc(e),s}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Fm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(qj(this.oc)&&Dz.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Lz{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Mg(e)}dc(e,n,i,s=!1){return new tw({oc:e,methodName:n,Ec:i,path:qn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fg(t){const e=t._freezeSettings(),n=Mg(t._databaseId);return new Lz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $j(t,e,n,i,s,a={}){const l=t.dc(a.merge||a.mergeFields?2:0,e,n,s);iw("Data must be an object, but it was:",l,i);const u=Wj(i,l);let h,p;if(a.merge)h=new Wi(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const b=Tx(e,v,n);if(!l.contains(b))throw new Te(de.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Kj(m,b)||m.push(b)}h=new Wi(m),p=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=l.fieldTransforms;return new Oz(new Si(u),h,p)}class Hg extends Ug{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hg}}class nw extends Ug{constructor(e,n){super(e),this.Rc=n}_toFieldTransform(e){const n=new Ch(e.serializer,nj(e.serializer,this.Rc));return new RV(e.path,n)}isEqual(e){return e instanceof nw&&this.Rc===e.Rc}}function Vz(t,e,n,i){const s=t.dc(1,e,n);iw("Data must be an object, but it was:",s,i);const a=[],l=Si.empty();yo(i,(h,p)=>{const m=sw(e,h,n);p=Gt(p);const v=s.hc(m);if(p instanceof Hg)a.push(m);else{const b=Xh(p,v);b!=null&&(a.push(m),l.set(m,b))}});const u=new Wi(a);return new Hj(l,u,s.fieldTransforms)}function zz(t,e,n,i,s,a){const l=t.dc(1,e,n),u=[Tx(e,i,n)],h=[s];if(a.length%2!=0)throw new Te(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(Tx(e,a[b])),h.push(a[b+1]);const p=[],m=Si.empty();for(let b=u.length-1;b>=0;--b)if(!Kj(p,u[b])){const _=u[b];let E=h[b];E=Gt(E);const C=l.hc(_);if(E instanceof Hg)p.push(_);else{const A=Xh(E,C);A!=null&&(p.push(_),m.set(_,A))}}const v=new Wi(p);return new Hj(m,v,l.fieldTransforms)}function Bz(t,e,n,i=!1){return Xh(n,t.dc(i?4:3,e))}function Xh(t,e){if(Gj(t=Gt(t)))return iw("Unsupported field value:",e,t),Wj(t,e);if(t instanceof Ug)return function(i,s){if(!qj(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const u of i){let h=Xh(u,s.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(i,s){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nj(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=_n.fromDate(i);return{timestampValue:Lm(s.serializer,a)}}if(i instanceof _n){const a=new _n(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lm(s.serializer,a)}}if(i instanceof Jb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof uu)return{bytesValue:hj(s.serializer,i._byteString)};if(i instanceof ii){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Db(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ew)return function(l,u){return{mapValue:{fields:{[BR]:{stringValue:UR},[Pm]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Tc("VectorValues must only contain numeric values.");return Nb(u.serializer,p)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${Lg(i)}`)}(t,e)}function Wj(t,e){const n={};return MR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(i,s)=>{const a=Xh(s,e.uc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function Gj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _n||t instanceof Jb||t instanceof uu||t instanceof ii||t instanceof Ug||t instanceof ew)}function iw(t,e,n){if(!Gj(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Lg(n);throw i==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+i)}}function Tx(t,e,n){if((e=Gt(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return sw(t,e);throw Fm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Uz=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(Uz)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fm(t,e,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Te(de.INVALID_ARGUMENT,u+t+h)}function Kj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,i,s,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fz extends Yj{data(){return super.data()}}function qg(t,e){return typeof e=="string"?sw(t,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rw{}class aw extends rw{}function no(t,e,...n){let i=[];e instanceof rw&&i.push(e),i=i.concat(n),function(a){const l=a.filter(h=>h instanceof ow).length,u=a.filter(h=>h instanceof $g).length;if(l>1||l>0&&u>0)throw new Te(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class $g extends aw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new $g(e,n,i)}_apply(e){const n=this._parse(e);return Qj(e._query,n),new da(e.firestore,e.converter,px(e._query,n))}_parse(e){const n=Fg(e.firestore);return function(a,l,u,h,p,m,v){let b;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Te(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ES(v,m);const E=[];for(const C of v)E.push(_S(h,a,C));b={arrayValue:{values:E}}}else b=_S(h,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ES(v,m),b=Bz(u,l,v,m==="in"||m==="not-in");return mn.create(p,m,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rl(t,e,n){const i=e,s=qg("where",t);return $g._create(s,i,n)}class ow extends rw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ow(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ps.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const u=a.getFlattenedFilters();for(const h of u)Qj(l,h),l=px(l,h)}(e._query,n),new da(e.firestore,e.converter,px(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lw extends aw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lw(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Te(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Th(a,l)}(e._query,this._field,this._direction);return new da(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Su(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Hz(t,e="asc"){const n=e,i=qg("orderBy",t);return lw._create(i,n)}class cw extends aw{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new cw(e,n,i)}_apply(e){return new da(e.firestore,e.converter,Dm(e._query,this._limit,this._limitType))}}function wS(t){return cw._create("limit",t,"F")}function _S(t,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new Te(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YR(e)&&n.indexOf("/")!==-1)throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Bt.fromString(n));if(!Re.isDocumentKey(i))throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return DT(t,new Re(i))}if(n instanceof ii)return DT(t,n._key);throw new Te(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(n)}.`)}function ES(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qj(t,e){const n=function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qz{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return yo(e,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,s;const a=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[Pm].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>on(l.doubleValue));return new ew(a)}convertGeoPoint(e){return new Jb(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Cg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const n=oo(e);return new _n(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Bt.fromString(e);wt(vj(i),9688,{name:e});const s=new _h(i.get(1),i.get(3)),a=new Re(i.popFirst(5));return s.isEqual(n)||sa(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jj extends Yj{constructor(e,n,i,s,a,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(qg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class lm extends Jj{data(e={}){return super.data(e)}}class eN{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qd(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new lm(this._firestore,this._userDataWriter,i.key,i,new Qd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new lm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Qd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new lm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Qd(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:$z(u.type),doc:h,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $z(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){t=ji(t,ii);const e=ji(t.firestore,aa);return Rz(zg(e),t._key).then(n=>tN(e,t,n))}class uw extends qz{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}function Hc(t){t=ji(t,da);const e=ji(t.firestore,aa),n=zg(e),i=new uw(e);return Xj(t._query),jz(n,t._query).then(s=>new eN(e,i,t,s))}function cr(t,e,n){t=ji(t,ii);const i=ji(t.firestore,aa),s=Zj(t.converter,e,n);return Wg(i,[$j(Fg(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ms.none())])}function sr(t,e,n,...i){t=ji(t,ii);const s=ji(t.firestore,aa),a=Fg(s);let l;return l=typeof(e=Gt(e))=="string"||e instanceof Bg?zz(a,"updateDoc",t._key,e,n,i):Vz(a,"updateDoc",t._key,e),Wg(s,[l.toMutation(t._key,ms.exists(!0))])}function Wa(t){return Wg(ji(t.firestore,aa),[new Ib(t._key,ms.none())])}function Hm(t,e){const n=ji(t.firestore,aa),i=tt(t),s=Zj(t.converter,e);return Wg(n,[$j(Fg(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,ms.exists(!1))]).then(()=>i)}function Jr(t,...e){var n,i,s;t=Gt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||bS(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(bS(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,p,m;if(t instanceof ii)p=ji(t.firestore,aa),m=kg(t._key.path),h={next:v=>{e[l]&&e[l](tN(p,t,v))},error:e[l+1],complete:e[l+2]};else{const v=ji(t,da);p=ji(v.firestore,aa),m=v._query;const b=new uw(p);h={next:_=>{e[l]&&e[l](new eN(p,b,v,_))},error:e[l+1],complete:e[l+2]},Xj(t._query)}return function(b,_,E,C){const A=new Zb(C),j=new Yb(_,A,E);return b.asyncQueue.enqueueAndForget(async()=>Wb(await Um(b),j)),()=>{A.yu(),b.asyncQueue.enqueueAndForget(async()=>Gb(await Um(b),j))}}(zg(p),m,u,h)}function Wg(t,e){return function(i,s){const a=new Zr;return i.asyncQueue.enqueueAndForget(async()=>yz(await kz(i),s,a)),a.promise}(zg(t),e)}function tN(t,e,n){const i=n.docs.get(e._key),s=new uw(t);return new Jj(t,s,e._key,i,new Qd(n.hasPendingWrites,n.fromCache),e.converter)}function Wz(t){return new nw("increment",t)}(function(e,n=!0){(function(s){_u=s})(Pl),El(new ro("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),u=new aa(new UL(i.getProvider("auth-internal")),new qL(l,i.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Te(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _h(p.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),rr(ET,TT,e),rr(ET,TT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="firebasestorage.googleapis.com",Gz="storageBucket",Kz=2*60*1e3,Yz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends vr{constructor(e,n,i=0){super(bv(e),`Firebase Storage: ${n} (${bv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function bv(t){return"storage/"+t}function Xz(){const t="An unknown error occurred, please check the error payload for server response.";return new xr(pr.UNKNOWN,t)}function Qz(){return new xr(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zz(){return new xr(pr.CANCELED,"User canceled the upload/download.")}function Jz(t){return new xr(pr.INVALID_URL,"Invalid URL '"+t+"'.")}function e9(t){return new xr(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TS(t){return new xr(pr.INVALID_ARGUMENT,t)}function iN(){return new xr(pr.APP_DELETED,"The Firebase app was deleted.")}function t9(t){return new xr(pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ns.makeFromUrl(e,n)}catch{return new Ns(e,"")}if(i.path==="")return i;throw e9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp(`^https?://${v}/${m}/b/${s}/o${b}`,"i"),E={bucket:1,path:3},C=n===nN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",j=new RegExp(`^https?://${C}/${s}/${A}`,"i"),V=[{regex:u,indices:h,postModify:a},{regex:_,indices:E,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<V.length;$++){const q=V[$],J=q.regex.exec(e);if(J){const z=J[q.indices.bucket];let k=J[q.indices.path];k||(k=""),i=new Ns(z,k),q.postModify(i);break}}if(i==null)throw Jz(e);return i}}class n9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e,n){let i=1,s=null,a=null,l=!1,u=0;function h(){return u===2}let p=!1;function m(...A){p||(p=!0,e.apply(null,A))}function v(A){s=setTimeout(()=>{s=null,t(_,h())},A)}function b(){a&&clearTimeout(a)}function _(A,...j){if(p){b();return}if(A){b(),m.call(null,A,...j);return}if(h()||l){b(),m.call(null,A,...j);return}i<64&&(i*=2);let V;u===1?(u=2,V=0):V=(i+Math.random())*1e3,v(V)}let E=!1;function C(A){E||(E=!0,b(),!p&&(s!==null?(A||(u=2),clearTimeout(s),v(0)):A||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,C(!0)},n),C}function s9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t){return t!==void 0}function SS(t,e,n,i){if(i<e)throw TS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw TS(`Invalid value for '${t}'. Expected ${n} or less.`)}function a9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var qm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qm||(qm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n,i,s,a,l,u,h,p,m,v,b=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Np(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const h=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===qm.NO_ERROR,h=a.getStatus();if(!u||o9(h,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===qm.ABORT;i(!1,new Np(!1,null,m));return}const p=this.successCodes_.indexOf(h)!==-1;i(!0,new Np(p,a))})},n=(i,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());r9(h)?a(h):a()}catch(h){l(h)}else if(u!==null){const h=Xz();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(s.canceled){const h=this.appDelete_?iN():Zz();l(h)}else{const h=Qz();l(h)}};this.canceled_?n(!1,new Np(!1,null,!0)):this.backoffId_=i9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Np{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function c9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function u9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function h9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function f9(t,e,n,i,s,a,l=!0){const u=a9(t.urlParams),h=t.url+u,p=Object.assign({},t.headers);return d9(p,e),c9(p,n),u9(p,a),h9(p,i),new l9(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function m9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this._service=e,n instanceof Ns?this._location=n:this._location=Ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $m(e,n)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m9(this._location.path)}get storage(){return this._service}get parent(){const e=p9(this._location.path);if(e===null)return null;const n=new Ns(this._location.bucket,e);return new $m(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw t9(e)}}function AS(t,e){const n=e==null?void 0:e[Gz];return n==null?null:Ns.makeFromBucketSpec(n,t)}function g9(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:zk(s,t.app.options.projectId))}class y9{constructor(e,n,i,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=nN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kz,this._maxUploadRetryTime=Yz,this._requests=new Set,s!=null?this._bucket=Ns.makeFromBucketSpec(s,this._host):this._bucket=AS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,e):this._bucket=AS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $m(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new n9(iN());{const l=f9(e,this._appId,i,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const CS="@firebase/storage",kS="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="storage";function v9(t=fb(),e){t=Gt(t);const i=wg(t,sN).getImmediate({identifier:e}),s=Ok("storage");return s&&x9(i,...s),i}function x9(t,e,n,i={}){g9(t,e,n,i)}function b9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new y9(n,i,s,e,Pl)}function w9(){El(new ro(sN,b9,"PUBLIC").setMultipleInstances(!0)),rr(CS,kS,""),rr(CS,kS,"esm2017")}w9();const _9={apiKey:"AIzaSyAQCwDr8Sh7GLZSUlCAnCcal7rAqBxG5-0",authDomain:"fir-app-7d6ea.firebaseapp.com",projectId:"fir-app-7d6ea",storageBucket:"fir-app-7d6ea.appspot.com",messagingSenderId:"340764694664",appId:"1:340764694664:web:6b92e4af5476eeeb4c273d"},dw=Fk(_9),wn=LL(dw),De=Pz(dw);v9(dw);const rN=I.createContext(),E9=({children:t})=>{const[e,n]=I.useState(null),[i,s]=I.useState([]),[a,l]=I.useState([]),[u,h]=I.useState([]),[p,m]=I.useState(null),[v,b]=I.useState(!0),[_,E]=I.useState(!0);I.useEffect(()=>{let L=null;b(!0);const D=wn.currentUser;if(D){n(D);const ae=tt(De,"users",D.uid);du(ae).then(ee=>{ee.exists()&&n({...D,...ee.data()}),b(!1)}).catch(()=>{b(!1)})}else b(!1);const R=go(wn,async ae=>{if(b(!0),L&&(L(),L=null),ae){n(ae);const ee=tt(De,"users",ae.uid);L=Jr(ee,async W=>{W.exists()?n({...ae,...W.data()}):(await cr(ee,{email:ae.email,uid:ae.uid,rol:"user",displayName:ae.displayName||"",createdAt:new Date}),n({...ae,displayName:ae.displayName||"",rol:"user"})),b(!1)},W=>{console.error("Error en user listener:",W),b(!1)})}else n(null),b(!1)});return()=>{L&&L(),R()}},[]);const C=I.useCallback(async()=>{if(!p){if(i.length>0){console.log("Usando productos en caché:",i.length);return}console.log("Iniciando carga de productos desde Firestore..."),E(!0);try{const L=no(ti(De,"products"),wS(20)),D=await Hc(L);if(!D.empty){const W=D.docs.map(he=>({id:he.id,...he.data()}));s(W);const ne=[...W].sort((he,xe)=>(xe.rating||0)-(he.rating||0)).slice(0,4);l(ne),console.log("Productos cargados inicialmente (parcial):",W.length)}const R=no(ti(De,"products")),ae=await Hc(R);if(!ae.empty){const W=ae.docs.map(he=>({id:he.id,...he.data()}));s(W);const ne=[...W].sort((he,xe)=>(xe.rating||0)-(he.rating||0)).slice(0,4);l(ne),E(!1),console.log("Productos cargados completamente:",W.length)}const ee=Jr(R,W=>{if(!W.metadata.hasPendingWrites&&!W.metadata.fromCache){const ne=W.docs.map(xe=>({id:xe.id,...xe.data()}));s(ne);const he=[...ne].sort((xe,U)=>(U.rating||0)-(xe.rating||0)).slice(0,4);l(he),console.log("Productos actualizados en tiempo real:",ne.length)}},W=>{console.error("Error en products listener:",W),E(!1)});m(()=>ee)}catch(L){console.error("Error al cargar productos:",L),E(!1)}}},[p,i.length]);I.useEffect(()=>()=>{p&&p()},[p]);const A=I.useCallback(async()=>{try{const D=(await Hc(ti(De,"users"))).docs.map(R=>({id:R.id,...R.data()}));return h(D),D}catch(L){return console.error("Error al obtener usuarios:",L),[]}},[]),j=I.useCallback(async(L,D)=>{try{const ae=(await x3(wn,L,D)).user;return await cr(tt(De,"users",ae.uid),{email:ae.email,uid:ae.uid,rol:"user",displayName:ae.displayName||"",createdAt:new Date}),ae}catch(R){throw console.error("Error al registrar usuario:",R),R}},[]),B=I.useCallback(async(L,D,R=!1)=>{try{return await hT(wn,R?ax:Rm),(await b3(wn,L,D)).user}catch(ae){throw console.error("Error al iniciar sesión:",ae),ae}},[]),V=I.useCallback(async(L=!1)=>{try{await hT(wn,L?ax:Rm);const D=new Gr,ae=(await W3(wn,D)).user,ee=tt(De,"users",ae.uid);return(await du(ee)).exists()||await cr(ee,{email:ae.email,uid:ae.uid,rol:"user",displayName:ae.displayName||"",createdAt:new Date}),ae}catch(D){throw console.error("Error al iniciar sesión con Google:",D),D}},[]),$=I.useCallback(L=>v3(wn,L),[]),q=I.useCallback(async()=>{try{await A3(wn),n(null)}catch(L){throw console.error("Error al cerrar sesión:",L),L}},[]),J=I.useCallback(async L=>{try{const D=no(ti(De,"products"),Rl("category","==",L),wS(20));return(await Hc(D)).docs.map(ae=>({id:ae.id,...ae.data()}))}catch(D){return console.error("Error al obtener productos por categoría:",D),[]}},[]),z=I.useCallback(async L=>{try{const D=L.toLowerCase();return i.filter(R=>{var ae,ee;return((ae=R.name)==null?void 0:ae.toLowerCase().includes(D))||((ee=R.description)==null?void 0:ee.toLowerCase().includes(D))})}catch(D){return console.error("Error al buscar productos:",D),[]}},[i]),k=I.useCallback(async(L,D)=>{try{const R=tt(De,"users",L);return await sr(R,{rol:D}),e&&e.uid===L&&n(ae=>({...ae,rol:D})),!0}catch(R){throw console.error("Error al actualizar rol de usuario:",R),R}},[e]),P=I.useCallback(async L=>{try{const D=tt(De,"users",L);return await Wa(D),!0}catch(D){throw console.error("Error al eliminar usuario:",D),D}},[]),O=I.useMemo(()=>({user:e,isLoadingUser:v,registerUser:j,loginUser:B,loginWithGoogle:V,resetPassword:$,logoutUser:q,products:i,featuredProducts:a,isLoadingProducts:_,fetchProducts:C,usuarios:u,fetchUsers:A,getProductsByCategory:J,searchProducts:z,updateUserRoleInDB:k,deleteUserFromDB:P}),[e,v,j,B,V,$,q,i,a,_,C,u,A,J,z,k,P]);return d.jsx(rN.Provider,{value:O,children:t})},xo=()=>I.useContext(rN),aN=I.createContext(),Ol=()=>I.useContext(aN),T9=({children:t})=>{const[e,n]=I.useState([]),[i,s]=I.useState([]),[a,l]=I.useState(null),[u,h]=I.useState(!0),[p,m]=I.useState(!0),v=I.useRef(!0),b=I.useRef(!0);I.useEffect(()=>{const D=go(wn,R=>{l(R),n([]),s([]),h(!0),m(!0),v.current=!0,b.current=!0});return()=>D()},[]);const _=I.useCallback(async D=>{if(!D)return[];try{const R=tt(De,"carritos",D),ae=await du(R);return ae.exists()?ae.data().products||[]:[]}catch(R){return console.error("Error al obtener carrito:",R),[]}},[]),E=I.useCallback(async D=>{if(!D)return[];try{const R=tt(De,"favoritos",D),ae=await du(R);return ae.exists()?ae.data().products||[]:[]}catch(R){return console.error("Error al obtener favoritos:",R),[]}},[]);I.useEffect(()=>{(async()=>{if(!a){h(!1),m(!1);return}try{const R=await _(a.uid);n(R)}finally{h(!1)}try{const R=await E(a.uid);s(R)}finally{m(!1)}})()},[a,_,E]);const C=I.useCallback(async(D,R)=>{if(R)try{const ae=D.map(ee=>{var W;return{id:ee.id,name:ee.name,price:ee.price,quantity:ee.quantity,image:ee.image||ee.mainImage||((W=ee.images)==null?void 0:W[0])||"",material:ee.material||"N/A",color:ee.color||"N/A",stock:ee.stock||0}});await cr(tt(De,"carritos",R),{products:ae})}catch(ae){console.error("Error guardando carrito:",ae)}},[]),A=I.useCallback(async(D,R)=>{if(R)try{const ae=D.map(ee=>{var W;return{id:ee.id,name:ee.name,price:ee.price,image:ee.image||ee.mainImage||((W=ee.images)==null?void 0:W[0])||"",stock:ee.stock||0,category:ee.category||"Sin categoría",type:ee.type||"Producto",material:ee.material||"N/A",color:ee.color||"N/A",status:ee.stock>0?"In Stock":"Out of Stock"}});await cr(tt(De,"favoritos",R),{products:ae})}catch(ae){console.error("Error guardando favoritos:",ae)}},[]);I.useEffect(()=>{if(!a||u||v.current){v.current=!1;return}const D=setTimeout(()=>{C(e,a.uid)},500);return()=>clearTimeout(D)},[e,a,u,C]),I.useEffect(()=>{if(!a||p||b.current){b.current=!1;return}const D=setTimeout(()=>{A(i,a.uid)},500);return()=>clearTimeout(D)},[i,a,p,A]);const j=I.useCallback(D=>{n(R=>R.find(ee=>ee.id===D.id)?R.map(ee=>ee.id===D.id?{...ee,quantity:ee.quantity+1}:ee):[...R,{...D,quantity:1}])},[]),B=I.useCallback(D=>{n(R=>R.filter(ae=>ae.id!==D))},[]),V=I.useCallback((D,R)=>{R<1||n(ae=>ae.map(ee=>ee.id===D?{...ee,quantity:R}:ee))},[]),$=I.useCallback(D=>{s(R=>R.find(ee=>ee.id===D.id)?R:[...R,D])},[]),q=I.useCallback(D=>{s(R=>R.filter(ae=>ae.id!==D))},[]),J=I.useMemo(()=>e.reduce((D,R)=>D+R.price*R.quantity,0),[e]),z=I.useMemo(()=>e.reduce((D,R)=>D+R.quantity,0),[e]),k=I.useCallback(D=>i.some(R=>R.id===D),[i]),P=I.useCallback(D=>e.some(R=>R.id===D),[e]),O=I.useCallback(()=>{n([])},[]),L=I.useMemo(()=>({cart:e,favoritos:i,cargandoCarrito:u,cargandoFavoritos:p,agregarAlCarrito:j,quitarDelCarrito:B,actualizarCantidad:V,agregarAFavoritos:$,quitarDeFavoritos:q,totalCarrito:J,cantidadItems:z,estaEnFavoritos:k,estaEnCarrito:P,vaciarCarrito:O}),[e,i,u,p,j,B,V,$,q,J,z,k,P,O]);return d.jsx(aN.Provider,{value:L,children:t})},S9=()=>{const[t,e]=I.useState(0),[n,i]=I.useState(null);return I.useEffect(()=>{const s=go(wn,a=>{i(a),a||e(0)});return()=>s()},[]),I.useEffect(()=>{if(!n){e(0);return}const s=no(ti(De,"orders"),Rl("userId","==",n.uid)),a=Jr(s,l=>{e(l.docs.length)});return()=>a()},[n]),{orderCount:t,currentUser:n}};var A9=I.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Cu=function(e,n,i){var s=i.get(e);return s?s(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function RS(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Ll=I.forwardRef(function(t,e){var n=t.alt,i=t.color,s=t.size,a=t.weight,l=t.mirrored,u=t.children,h=t.renderPath,p=RS(t,["alt","color","size","weight","mirrored","children","renderPath"]),m=I.useContext(A9),v=m.color,b=v===void 0?"currentColor":v,_=m.size,E=m.weight,C=E===void 0?"regular":E,A=m.mirrored,j=A===void 0?!1:A,B=RS(m,["color","size","weight","mirrored"]);return Y.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s??_,height:s??_,fill:i??b,viewBox:"0 0 256 256",transform:l||j?"scale(-1, 1)":void 0},B,p),!!n&&Y.createElement("title",null,n),u,Y.createElement("rect",{width:"256",height:"256",fill:"none"}),h(a??C,i??b))});Ll.displayName="IconBase";var Vl=new Map;Vl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"44",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Vl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M229.6,106,203.7,91.6a73.6,73.6,0,0,0-6.3-10.9l.5-29.7a102.6,102.6,0,0,0-38.2-22L134.3,44.2a88.3,88.3,0,0,0-12.6,0L96.2,28.9A104,104,0,0,0,58.1,51l.5,29.7a73.6,73.6,0,0,0-6.3,10.9L26.3,106a103.6,103.6,0,0,0,.1,44l25.9,14.4a80.1,80.1,0,0,0,6.3,11L58.1,205a102.6,102.6,0,0,0,38.2,22l25.4-15.2a88.3,88.3,0,0,0,12.6,0l25.5,15.3A104,104,0,0,0,197.9,205l-.5-29.7a73.6,73.6,0,0,0,6.3-10.9l26-14.4A102,102,0,0,0,229.6,106ZM128,176a48,48,0,1,1,48-48A48,48,0,0,1,128,176Z",opacity:"0.2"}),Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a103.6,103.6,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Vl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M237.5,104.3a8,8,0,0,0-4-5.3L209.7,85.8q-1.9-3.9-4.2-7.5l.4-27.2a8.3,8.3,0,0,0-2.6-6.1,112,112,0,0,0-41.1-23.7,8.1,8.1,0,0,0-6.6.8l-23.3,14c-2.9-.1-5.7-.1-8.6,0l-23.3-14a8.1,8.1,0,0,0-6.6-.8A111.1,111.1,0,0,0,52.7,45.1a7.9,7.9,0,0,0-2.6,6l.5,27.2c-1.6,2.4-3,4.9-4.4,7.5L22.5,99a7.7,7.7,0,0,0-4,5.3,111.4,111.4,0,0,0,0,47.4,8,8,0,0,0,4,5.3l23.8,13.2a69.3,69.3,0,0,0,4.3,7.5l-.5,27.2a8.3,8.3,0,0,0,2.6,6.1,112.9,112.9,0,0,0,41.1,23.7,8.1,8.1,0,0,0,6.6-.8l23.3-14h8.6l23.4,14a7.3,7.3,0,0,0,4.1,1.2,10,10,0,0,0,2.4-.4,111.1,111.1,0,0,0,41.1-23.8,7.9,7.9,0,0,0,2.6-6l-.4-27.2c1.5-2.4,2.9-4.9,4.3-7.5L233.6,157a7.9,7.9,0,0,0,3.9-5.3A111.4,111.4,0,0,0,237.5,104.3ZM172,128a44,44,0,1,1-44-44A44,44,0,0,1,172,128Z"}))});Vl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Vl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Vl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"128",r:"48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M197.4,80.7a73.6,73.6,0,0,1,6.3,10.9L229.6,106a102,102,0,0,1,.1,44l-26,14.4a73.6,73.6,0,0,1-6.3,10.9l.5,29.7a104,104,0,0,1-38.1,22.1l-25.5-15.3a88.3,88.3,0,0,1-12.6,0L96.3,227a102.6,102.6,0,0,1-38.2-22l.5-29.6a80.1,80.1,0,0,1-6.3-11L26.4,150a102,102,0,0,1-.1-44l26-14.4a73.6,73.6,0,0,1,6.3-10.9L58.1,51A104,104,0,0,1,96.2,28.9l25.5,15.3a88.3,88.3,0,0,1,12.6,0L159.7,29a102.6,102.6,0,0,1,38.2,22Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var C9=function(e,n){return Cu(e,n,Vl)},cm=I.forwardRef(function(t,e){return Y.createElement(Ll,Object.assign({ref:e},t,{renderPath:C9}))});cm.displayName="GearSix";var zl=new Map;zl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});zl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",opacity:"0.2"}),Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});zl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M176,32a60,60,0,0,0-48,24A60,60,0,0,0,20,92c0,71.9,99.9,128.6,104.1,131a7.8,7.8,0,0,0,3.9,1,7.6,7.6,0,0,0,3.9-1,314.3,314.3,0,0,0,51.5-37.6C218.3,154,236,122.6,236,92A60,60,0,0,0,176,32Z"}))});zl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});zl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});zl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M128,216S28,160,28,92A52,52,0,0,1,128,72h0A52,52,0,0,1,228,92C228,160,128,216,128,216Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var k9=function(e,n){return Cu(e,n,zl)},oN=I.forwardRef(function(t,e){return Y.createElement(Ll,Object.assign({ref:e},t,{renderPath:k9}))});oN.displayName="Heart";var Bl=new Map;Bl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Bl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Bl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M216,120H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),Y.createElement("path",{d:"M40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),Y.createElement("path",{d:"M216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))});Bl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Bl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Bl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var R9=function(e,n){return Cu(e,n,Bl)},lN=I.forwardRef(function(t,e){return Y.createElement(Ll,Object.assign({ref:e},t,{renderPath:R9}))});lN.displayName="List";var Ul=new Map;Ul.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Ul.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48Z",opacity:"0.2"}),Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Ul.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M223.9,65.4l-12.2,66.9A24,24,0,0,1,188.1,152H72.1l4.4,24H184a24,24,0,1,1-24,24,23.6,23.6,0,0,1,1.4-8H102.6a23.6,23.6,0,0,1,1.4,8,24,24,0,1,1-42.2-15.6L34.1,32H16a8,8,0,0,1,0-16H34.1A16,16,0,0,1,49.8,29.1L54.7,56H216a7.9,7.9,0,0,1,6.1,2.9A7.7,7.7,0,0,1,223.9,65.4Z"}))});Ul.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Ul.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Ul.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M184,184H69.8L41.9,30.6A8,8,0,0,0,34.1,24H16",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"80",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("circle",{cx:"184",cy:"204",r:"20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M62.5,144H188.1a15.9,15.9,0,0,0,15.7-13.1L216,64H48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var j9=function(e,n){return Cu(e,n,Ul)},cN=I.forwardRef(function(t,e){return Y.createElement(Ll,Object.assign({ref:e},t,{renderPath:j9}))});cN.displayName="ShoppingCart";var Fl=new Map;Fl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Fl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Fl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M221.7,133.7l-42,42A8.3,8.3,0,0,1,174,178a7.7,7.7,0,0,1-3-.6,8,8,0,0,1-5-7.4V136H104a8,8,0,0,1,0-16h62V86a8,8,0,0,1,5-7.4,8.2,8.2,0,0,1,8.7,1.7l42,42A8.1,8.1,0,0,1,221.7,133.7ZM104,208H48V48h56a8,8,0,0,0,0-16H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16h56a8,8,0,0,0,0-16Z"}))});Fl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Fl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Fl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("polyline",{points:"174 86 216 128 174 170",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("line",{x1:"104",y1:"128",x2:"216",y2:"128",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Y.createElement("path",{d:"M104,216H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h56",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var N9=function(e,n){return Cu(e,n,Fl)},uN=I.forwardRef(function(t,e){return Y.createElement(Ll,Object.assign({ref:e},t,{renderPath:N9}))});uN.displayName="SignOut";var Hl=new Map;Hl.set("bold",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Hl.set("duotone",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",opacity:"0.2"}),Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Hl.set("fill",function(){return Y.createElement(Y.Fragment,null,Y.createElement("path",{d:"M231.9,212a120.7,120.7,0,0,0-67.1-54.2,72,72,0,1,0-73.6,0A120.7,120.7,0,0,0,24.1,212a7.7,7.7,0,0,0,0,8,7.8,7.8,0,0,0,6.9,4H225a7.8,7.8,0,0,0,6.9-4A7.7,7.7,0,0,0,231.9,212Z"}))});Hl.set("light",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Hl.set("thin",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Hl.set("regular",function(t){return Y.createElement(Y.Fragment,null,Y.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),Y.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var I9=function(e,n){return Cu(e,n,Hl)},um=I.forwardRef(function(t,e){return Y.createElement(Ll,Object.assign({ref:e},t,{renderPath:I9}))});um.displayName="User";function si(){var jt,mt;const{user:t,logoutUser:e,updateUserRoleInDB:n}=xo(),{favoritos:i=[],cart:s=[],cantidadItems:a}=Ol(),{orderCount:l}=S9(),[u,h]=I.useState(!1),[p,m]=I.useState(!1),[v,b]=I.useState(!1),[_,E]=I.useState("profile"),[C,A]=I.useState(""),[j,B]=I.useState(""),[V,$]=I.useState(!1),[q,J]=I.useState({displayName:"",photoURL:"",email:""}),[z,k]=I.useState(!1),[P,O]=I.useState(""),[L,D]=I.useState(""),[R,ae]=I.useState(!1),ee=yr(),W=gr(),ne=async()=>{await e(),h(!1),m(!1)},he=()=>h(!u),xe=()=>m(!p),U=(t==null?void 0:t.rol)==="admin"||(t==null?void 0:t.role)==="admin",oe=async()=>{try{if(!t)return;await n(t.uid,"admin"),alert("¡Ahora eres administrador! La página se recargará."),window.location.reload()}catch(be){console.error("Error al convertir en administrador:",be),alert("Error al convertir en administrador: "+be.message)}};console.log("Usuario actual:",t),console.log("Rol del usuario:",t==null?void 0:t.rol),console.log("Role del usuario:",t==null?void 0:t.role),console.log("¿Es admin?",U);const ge=be=>!!(be==="/"&&W.pathname==="/"||be!=="/"&&W.pathname.startsWith(be));I.useEffect(()=>{t!=null&&t.email&&(async()=>{try{const Ye=await du(tt(De,"users",t.uid));if(Ye.exists()){const Ge=Ye.data();J({displayName:Ge.displayName||t.displayName||"ARK Technology",photoURL:Ge.photoURL||t.photoURL||"",email:t.email}),O(Ge.displayName||t.displayName||"ARK Technology"),D(Ge.photoURL||t.photoURL||"")}else await cr(tt(De,"users",t.uid),{displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email,createdAt:new Date}),J({displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email}),O(t.displayName||"ARK Technology"),D(t.photoURL||"")}catch(Ye){console.error("Error al cargar datos del usuario:",Ye),J({displayName:t.displayName||"ARK Technology",photoURL:t.photoURL||"",email:t.email}),O(t.displayName||"ARK Technology"),D(t.photoURL||"")}})()},[t]);const pe=be=>new Promise(Ye=>{const Ge=document.createElement("canvas"),Tn=Ge.getContext("2d"),Ze=new Image;Ze.onload=()=>{let{width:Ut,height:On}=Ze;Ut>On?Ut>150&&(On=On*150/Ut,Ut=150):On>150&&(Ut=Ut*150/On,On=150),Ge.width=Ut,Ge.height=On,Tn.drawImage(Ze,0,0,Ut,On),Ge.toBlob(Ye,"image/jpeg",.4)},Ze.src=URL.createObjectURL(be)}),we=async()=>{if(!P.trim()){alert("El nombre no puede estar vacío");return}ae(!0);try{const be=wn.currentUser;if(be){let Ye=q.photoURL;if(L&&L!==q.photoURL)try{console.log("Procesando nueva imagen...");const Ge=await fetch(L);if(!Ge.ok)throw new Error("Error al obtener la imagen del preview");const Tn=await Ge.blob();if(console.log("Blob creado, tamaño:",Tn.size),Tn.size>500*1024)throw new Error("La imagen es demasiado grande. Máximo 500KB permitido.");const Ze=new FileReader,gi=new Promise((On,Gn)=>{Ze.onload=()=>On(Ze.result),Ze.onerror=Gn});Ze.readAsDataURL(Tn);const Ut=await gi;Ut.length>1800&&console.log("URL demasiado larga para Auth, se guardará solo en Firestore"),Ye=Ut,console.log("Imagen procesada exitosamente como base64, longitud:",Ut.length)}catch(Ge){console.error("Error al procesar imagen:",Ge),alert("Error al procesar la imagen: "+Ge.message+". Se mantendrá la foto actual."),Ye=q.photoURL}await dT(be,{displayName:P.trim(),photoURL:Ye.length>2e3?null:Ye}),await cr(tt(De,"users",be.uid),{displayName:P.trim(),photoURL:Ye,email:be.email,updatedAt:new Date,lastProfileUpdate:new Date},{merge:!0}),J({...q,displayName:P.trim(),photoURL:Ye}),Ye.length<=1800&&await dT(be,{displayName:P.trim(),photoURL:Ye}),k(!1),alert("Perfil actualizado exitosamente. La foto se ha guardado correctamente."),m(!1),setTimeout(()=>{m(!0)},100)}}catch(be){console.error("Error al actualizar perfil:",be),alert("Error al actualizar el perfil: "+be.message)}finally{ae(!1)}},je=async()=>{if(C!==j){alert("Las contraseñas no coinciden");return}if(C.length<6){alert("La contraseña debe tener al menos 6 caracteres");return}ae(!0);try{const be=wn.currentUser;be&&(await _3(be,C),await sr(tt(De,"users",be.uid),{passwordUpdatedAt:new Date,lastPasswordChange:new Date}),A(""),B(""),$(!1),alert("Contraseña cambiada exitosamente"))}catch(be){console.error("Error al cambiar contraseña:",be),be.code==="auth/requires-recent-login"?alert("Por seguridad, necesitas volver a iniciar sesión para cambiar tu contraseña"):alert("Error al cambiar la contraseña: "+be.message)}finally{ae(!1)}},Se=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar tu cuenta? Esta acción no se puede deshacer.")){ae(!0);try{const be=wn.currentUser;be&&(await Wa(tt(De,"carritos",be.uid)),await Wa(tt(De,"favoritos",be.uid)),await Wa(tt(De,"users",be.uid)),await C3(be),await e(),alert("Cuenta eliminada exitosamente"))}catch(be){console.error("Error al eliminar la cuenta:",be),be.code==="auth/requires-recent-login"?alert("Por seguridad, necesitas volver a iniciar sesión para eliminar tu cuenta"):alert("Error al eliminar la cuenta: "+be.message)}finally{ae(!1)}}};return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:"navbar",children:[d.jsxs("div",{className:"navbar-container",children:[d.jsxs("div",{className:"navbar-left",children:[d.jsxs("div",{className:"hamburger",onClick:he,children:[d.jsx("div",{className:"bar"}),d.jsx("div",{className:"bar"}),d.jsx("div",{className:"bar"})]}),d.jsxs("h2",{className:"navbar-logo",children:[d.jsx("span",{className:"logo-shop",children:"SHOP"}),d.jsx("span",{className:"logo-cart",children:"CART"})]})]}),d.jsxs("div",{className:"navbar-links",children:[d.jsx(ot,{to:"/",className:`nav-link ${ge("/")?"active":""}`,children:"Home"}),d.jsx(ot,{to:"/productos",className:`nav-link ${ge("/productos")?"active":""}`,children:"Productos"}),d.jsx(ot,{to:"/blog",className:`nav-link ${ge("/blog")?"active":""}`,children:"Blog"}),d.jsx(ot,{to:"/contacto",className:`nav-link ${ge("/contacto")?"active":""}`,children:"Contacto"})]}),d.jsxs("div",{className:"navbar-icons",children:[d.jsxs(ot,{to:"/favoritos",title:"Favoritos",className:"icon-link",children:[d.jsx(oN,{weight:"regular",size:24}),i.length>0&&d.jsx("span",{className:"notification-badge",children:i.length},`fav-${i.length}`)]}),d.jsxs(ot,{to:"/carrito",title:"Carrito",className:"icon-link",children:[d.jsx(cN,{weight:"regular",size:24}),s.length>0&&d.jsx("span",{className:"notification-badge",children:s.length},`cart-${s.length}`)]}),d.jsxs(ot,{to:"/mis-ordenes",title:"Mis Órdenes",className:"icon-link",children:[d.jsx(lN,{weight:"regular",size:24}),l>0&&d.jsx("span",{className:"notification-badge",children:l})]}),t&&d.jsxs("div",{className:"user-menu",children:[d.jsxs("span",{className:"icon-link user-icon",onClick:xe,children:[q.photoURL||t!=null&&t.photoURL?d.jsx("img",{src:q.photoURL||(t==null?void 0:t.photoURL),alt:"Avatar",className:"nav-user-avatar",onError:be=>{be.target.style.display="none";const Ye=be.target.nextSibling;Ye&&(Ye.style.display="flex")}}):null,d.jsx("span",{className:"nav-user-initials",style:{display:q.photoURL||t!=null&&t.photoURL?"none":"flex"},children:(q.displayName||(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"US").split(" ").map(be=>be[0]).join("").substring(0,2).toUpperCase()})]}),p&&d.jsxs("div",{className:"user-dropdown",children:[d.jsxs("div",{className:"user-info",children:[d.jsxs("div",{className:"user-avatar",children:[q.photoURL?d.jsx("img",{src:q.photoURL,alt:"Profile",className:"user-avatar-image",onError:be=>{be.target.style.display="none",be.target.nextSibling.style.display="flex"}}):null,d.jsx("span",{className:"user-initials",style:{display:q.photoURL?"none":"flex"},children:((jt=q.displayName)==null?void 0:jt.split(" ").map(be=>be[0]).join("").toUpperCase())||"AT"})]}),d.jsxs("div",{className:"user-details",children:[d.jsx("p",{className:"user-name",children:q.displayName||"ARK Technology"}),d.jsx("p",{className:"user-email",children:t==null?void 0:t.email})]})]}),d.jsx("div",{className:"dropdown-separator"}),U?d.jsxs("button",{onClick:()=>{ee("/admin"),m(!1),h(!1)},className:"dropdown-button admin-button",children:[d.jsx(cm,{weight:"regular",size:20}),"Administrar página"]}):d.jsxs("button",{onClick:()=>{oe(),m(!1)},className:"dropdown-button admin-button",children:[d.jsx(cm,{weight:"regular",size:20}),"Convertirme en administrador"]}),d.jsxs("button",{onClick:()=>{b(!0),m(!1),h(!1)},className:"dropdown-button edit-profile-button",children:[d.jsx(um,{weight:"regular",size:20}),"Editar perfil"]}),d.jsxs("button",{onClick:ne,className:"dropdown-button logout-button",children:[d.jsx(uN,{weight:"regular",size:20}),"Cerrar sesión"]})]})]}),!t&&d.jsx(ot,{to:"/login",title:"Iniciar sesión",className:"icon-link",children:d.jsx(um,{weight:"regular",size:24})})]})]}),d.jsx("div",{className:`mobile-menu-overlay ${u?"open":""}`,children:d.jsxs("div",{className:"mobile-menu-content",children:[d.jsx("button",{className:"close-menu",onClick:he,children:"×"}),d.jsxs("div",{className:"mobile-logo",children:[d.jsx("span",{className:"logo-shop",children:"SHOP"}),d.jsx("span",{className:"logo-cart",children:"CART"})]}),d.jsxs("div",{className:"mobile-nav-links",children:[d.jsx(ot,{to:"/",onClick:()=>h(!1),className:`mobile-link ${ge("/")?"active":""}`,children:"Home"}),d.jsx(ot,{to:"/productos",onClick:()=>h(!1),className:`mobile-link ${ge("/productos")?"active":""}`,children:"Productos"}),d.jsx(ot,{to:"/blog",onClick:()=>h(!1),className:`mobile-link ${ge("/blog")?"active":""}`,children:"Blog"}),d.jsx(ot,{to:"/contacto",onClick:()=>h(!1),className:`mobile-link ${ge("/contacto")?"active":""}`,children:"Contacto"})]}),d.jsxs("div",{className:"mobile-social-icons",children:[d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"▶"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"📍"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"in"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"f"})}),d.jsx("a",{href:"#",className:"social-icon",children:d.jsx("span",{className:"social-icon-inner",children:"#"})})]})]})})]}),v&&d.jsx("div",{className:"profile-modal-overlay",onClick:()=>b(!1),children:d.jsxs("div",{className:"profile-modal",onClick:be=>be.stopPropagation(),children:[d.jsx("button",{className:"modal-close-btn",onClick:()=>b(!1),children:"×"}),d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-left-panel",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{className:"modal-title",children:"Account"}),d.jsx("p",{className:"modal-subtitle",children:"Manage your account info."})]}),d.jsxs("nav",{className:"modal-nav",children:[d.jsxs("button",{className:`nav-tab ${_==="profile"?"active":""}`,onClick:()=>E("profile"),children:[d.jsx(um,{weight:"regular",size:20}),"Profile"]}),d.jsxs("button",{className:`nav-tab ${_==="security"?"active":""}`,onClick:()=>E("security"),children:[d.jsx(cm,{weight:"regular",size:20}),"Security"]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsxs("p",{className:"secured-by",children:["Secured by ",d.jsx("span",{className:"clerk-logo",children:"clerk"})]}),d.jsx("p",{className:"dev-mode",children:"Development mode"})]})]}),d.jsxs("div",{className:"modal-right-panel",children:[_==="profile"&&d.jsxs("div",{className:"tab-content",children:[d.jsx("h3",{className:"tab-title",children:"Profile details"}),d.jsxs("div",{className:"profile-section",children:[d.jsx("h4",{children:"Profile"}),z?d.jsxs("div",{className:"update-profile-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Nombre"}),d.jsx("input",{type:"text",value:P,onChange:be=>O(be.target.value),placeholder:"Nombre completo",className:"profile-input"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Foto de perfil"}),d.jsxs("div",{className:"photo-upload-container",children:[d.jsx("input",{type:"file",accept:"image/*",onChange:async be=>{const Ye=be.target.files[0];if(Ye)try{const Ge=await pe(Ye),Tn=URL.createObjectURL(Ge);D(Tn)}catch(Ge){console.error("Error al procesar imagen:",Ge),alert("Error al procesar la imagen. Intenta con otra imagen.")}},className:"photo-input",id:"photo-upload"}),d.jsx("label",{htmlFor:"photo-upload",className:"photo-upload-btn",children:L?"Cambiar foto":"Seleccionar foto"}),L&&d.jsxs("div",{className:"photo-preview",children:[d.jsx("img",{src:L,alt:"Preview",className:"preview-image"}),d.jsx("button",{type:"button",className:"remove-photo-btn",onClick:()=>{D(""),document.getElementById("photo-upload").value=""},children:"×"})]})]})]}),d.jsxs("div",{className:"profile-form-actions",children:[d.jsx("button",{className:"save-profile-btn",onClick:we,disabled:R,children:R?"Guardando...":"Guardar"}),d.jsx("button",{className:"cancel-profile-btn",onClick:()=>{k(!1),O(q.displayName),D(q.photoURL),document.getElementById("photo-upload").value=""},disabled:R,children:"Cancelar"})]})]}):d.jsxs("div",{className:"profile-info",children:[d.jsxs("div",{className:"profile-avatar",children:[q.photoURL?d.jsx("img",{src:q.photoURL,alt:"Profile",className:"profile-image",onError:be=>{be.target.style.display="none",be.target.nextSibling.style.display="flex"}}):null,d.jsx("span",{className:"avatar-initials",style:{display:q.photoURL?"none":"flex"},children:((mt=q.displayName)==null?void 0:mt.split(" ").map(be=>be[0]).join("").toUpperCase())||"AT"})]}),d.jsx("div",{className:"profile-details",children:d.jsx("p",{className:"profile-name",children:q.displayName||"ARK Technology"})}),d.jsx("button",{className:"update-profile-btn",onClick:()=>k(!0),children:"Update profile"})]})]}),d.jsxs("div",{className:"email-section",children:[d.jsx("h4",{children:"Email addresses"}),d.jsxs("div",{className:"email-item",children:[d.jsx("span",{className:"email-address",children:t==null?void 0:t.email}),d.jsx("span",{className:"primary-tag",children:"Primary"})]})]}),d.jsxs("div",{className:"connected-accounts-section",children:[d.jsx("h4",{children:"Connected accounts"}),d.jsxs("div",{className:"connected-account",children:[d.jsxs("div",{className:"account-info",children:[d.jsx("span",{className:"google-icon",children:"G"}),d.jsx("span",{className:"account-name",children:"Google"}),d.jsx("span",{className:"account-email",children:(t==null?void 0:t.email)||"technologyark05@gmail.com"})]}),d.jsx("button",{className:"account-options",children:"⋮"})]})]})]}),_==="security"&&d.jsxs("div",{className:"tab-content",children:[d.jsx("h3",{className:"tab-title",children:"Security"}),d.jsxs("div",{className:"security-section",children:[d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Password"}),V?d.jsxs("div",{className:"password-form",children:[d.jsx("input",{type:"password",value:C,onChange:be=>A(be.target.value),placeholder:"Nueva contraseña",className:"password-input"}),d.jsx("input",{type:"password",value:j,onChange:be=>B(be.target.value),placeholder:"Confirmar contraseña",className:"password-input"}),d.jsxs("div",{className:"password-actions",children:[d.jsx("button",{className:"save-password-btn",onClick:je,disabled:R,children:R?"Guardando...":"Guardar"}),d.jsx("button",{className:"cancel-password-btn",onClick:()=>{$(!1),A(""),B("")},disabled:R,children:"Cancelar"})]})]}):d.jsx("button",{className:"security-action",onClick:()=>$(!0),children:"Set password"})]}),d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Active devices"}),d.jsxs("div",{className:"device-info",children:[d.jsx("span",{className:"device-icon",children:"⊞"}),d.jsx("span",{className:"device-name",children:"Windows This device"}),d.jsx("span",{className:"device-browser",children:"Opera 120.0.0.0"}),d.jsx("span",{className:"device-ip",children:"2803:e5e3:2c00:fa00:cd80:b62b:bc91:ba2d (Anaime, CO)"}),d.jsx("span",{className:"device-time",children:"Today at 10:17 AM"})]})]}),d.jsxs("div",{className:"security-item",children:[d.jsx("span",{className:"security-label",children:"Delete account"}),d.jsx("button",{className:"security-action delete-account",onClick:Se,disabled:R,children:R?"Eliminando...":"Delete account"})]})]})]})]})]})]})}),d.jsx("style",{children:`
        .navbar {
          background-color: #ffffff;  
          font-family: 'Arial', sans-serif;
          position: sticky;
          top: 0;
          z-index: 1000;
          border-bottom: 1px solid #e0e0e0;
        }

        .navbar-container {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }

        .navbar-left {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .hamburger {
          display: flex;
          flex-direction: column;
          gap: 3px;
          cursor: pointer;
          padding: 6px;
          border-radius: 4px;
          transition: background-color 0.3s ease;
        }

        .hamburger .bar {
          width: 18px;
          height: 2px;
          background-color: #333333;
          border-radius: 2px;
          transition: all 0.3s ease;
        }

        .hamburger:hover {
          background-color: rgba(0, 0, 0, 0.05);
        }

        .navbar-logo {
          font-size: 20px;
          font-weight: bold;
          letter-spacing: -0.5px;
          display: flex;
          align-items: center;
        }

        .logo-shop {
          color: #1a5f3c;
        }

        .logo-cart {
          color: #2d8a4e;
          text-decoration: underline;
          text-decoration-color: #2d8a4e;
          text-underline-offset: 2px;
        }

        .navbar-links {
          display: flex;
          gap: 25px;
        }

        .nav-link {
          text-decoration: none;
          color: #666666;
          font-weight: 500;
          font-size: 14px;
          position: relative;
          padding: 6px 0;
          transition: all 0.3s ease;
        }

        .nav-link.active {
          color: #2d8a4e;
        }

        .nav-link.active::after {
          content: '';
          position: absolute;
          bottom: -2px;
          left: 0;
          width: 100%;
          height: 2px;
          background-color: #2d8a4e;
        }

        .nav-link:hover {
          color: #2d8a4e;
        }

        .navbar-icons {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .icon-link {
          color: #666666;
          cursor: pointer;
          transition: all 0.3s ease;
          padding: 6px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          text-decoration: none;
        }

        .icon-link:hover {
          color: #333333;
          background-color: rgba(0, 0, 0, 0.05);
        }

        .notification-badge {
          position: absolute;
          top: 0;
          right: 0;
          background-color: #2d8a4e;
          color: white;
          font-size: 10px;
          font-weight: bold;
          width: 16px;
          height: 16px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .user-dropdown {
          position: absolute;
          right: 0;
          top: 60px;
          background-color: #2d2d2d;
          padding: 20px;
          border-radius: 12px;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
          width: 280px;
          border: 1px solid #404040;
          animation: dropdownFade 0.3s ease;
        }

        .user-info {
          display: flex;
          gap: 15px;
          padding-bottom: 15px;
          margin-bottom: 15px;
        }

        .user-avatar {
          width: 50px;
          height: 50px;
          background-color: #000000;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .user-initials {
          color: white;
          font-size: 18px;
          font-weight: bold;
          font-family: 'Arial', sans-serif;
        }

        .user-avatar-image {
          width: 100%;
          height: 100%;
          border-radius: 50%;
          object-fit: cover;
        }

        .user-details {
          flex: 1;
        }

        .user-name {
          margin: 0 0 5px 0;
          font-size: 16px;
          font-weight: 600;
          color: white;
        }

        .user-email {
          margin: 0;
          font-size: 14px;
          color: #cccccc;
        }

        .dropdown-separator {
          height: 1px;
          background-color: #404040;
          margin: 15px 0;
        }

        @keyframes dropdownFade {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .dropdown-button {
          margin-top: 8px;
          background-color: transparent;
          color: white;
          border: none;
          padding: 12px 15px;
          border-radius: 8px;
          cursor: pointer;
          width: 100%;
          font-weight: 500;
          font-size: 14px;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 12px;
          justify-content: flex-start;
          text-align: left;
        }

        .dropdown-button:hover {
          background-color: #404040;
          transform: translateX(5px);
        }

        .dropdown-button .admin-button {
          background-color: #00b894;
        }

        .dropdown-button .admin-button:hover {
          background-color: #00a884;
        }

        .dropdown-button .edit-profile-button {
          background-color: transparent;
        }

        .dropdown-button .edit-profile-button:hover {
          background-color: #404040;
        }

        .dropdown-button .logout-button {
          background-color: transparent;
        }

        .dropdown-button .logout-button:hover {
          background-color: #e74c3c;
        }

        /* Menú móvil overlay */
        .mobile-menu-overlay {
          position: fixed;
          top: 0;
          left: -100%;
          height: 100vh;
          width: 35%;
          background-color: #ffffff;
          transition: all 0.3s ease-in-out;
          z-index: 1001;
          border-right: 1px solid #e0e0e0;
        }

        .mobile-menu-overlay.open {
          left: 0;
        }

        .mobile-menu-content {
          padding: 20px 20px;
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        .close-menu {
          background-color: transparent;
          color: #333333;
          font-size: 24px;
          width: 30px;
          height: 30px;
          border: none;
          cursor: pointer;
          align-self: flex-end;
          margin-bottom: 25px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .close-menu:hover {
          color: #2d8a4e;
        }

        .mobile-logo {
          margin-bottom: 30px;
        }

        .mobile-logo .logo-shop {
          color: #1a5f3c;
          font-size: 22px;
          font-weight: bold;
        }

        .mobile-logo .logo-cart {
          color: #2d8a4e;
          font-size: 22px;
          font-weight: normal;
          text-decoration: underline;
          text-decoration-color: #2d8a4e;
          text-underline-offset: 3px;
        }

        .mobile-nav-links {
          display: flex;
          flex-direction: column;
          gap: 15px;
          margin-bottom: 20px;
        }

        .mobile-link {
          text-decoration: none;
          color: #666666;
          font-weight: 500;
          font-size: 16px;
          padding: 8px 0;
          transition: all 0.3s ease;
        }

        .mobile-link.active {
          color: #2d8a4e;
        }

        .mobile-link:hover {
          color: #2d8a4e;
        }

        .mobile-social-icons {
          display: flex;
          gap: 12px;
          margin-top: 0;
        }

        .social-icon {
          width: 32px;
          height: 32px;
          border: 1px solid #666666;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          text-decoration: none;
          transition: all 0.3s ease;
        }

        .social-icon:hover {
          border-color: #2d8a4e;
          background-color: #2d8a4e;
        }

        .social-icon-inner {
          color: #666666;
          font-size: 12px;
          font-weight: bold;
        }

        .social-icon:hover .social-icon-inner {
          color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .navbar-links {
            display: none;
          }

          .hamburger {
            display: flex;
          }

          .mobile-menu-overlay {
            width: 70%;
          }

          .mobile-menu-content {
            padding: 15px 15px;
          }

          .mobile-logo .logo-shop,
          .mobile-logo .logo-cart {
            font-size: 20px;
          }

          .mobile-nav-links {
            gap: 12px;
            margin-bottom: 15px;
          }

          .mobile-link {
            font-size: 15px;
            padding: 6px 0;
          }

          .mobile-social-icons {
            gap: 10px;
          }

          .social-icon {
            width: 28px;
            height: 28px;
          }

          .social-icon-inner {
            font-size: 11px;
          }
        }

        @media (min-width: 769px) {
          .hamburger {
          display: none;
        }

          .mobile-menu-overlay {
          display: none;
          }
        }

        /* Modal de Editar Perfil */
        .profile-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          padding: 20px;
        }

        .profile-modal {
          background-color: #f8f9fa;
          border-radius: 16px;
          width: 100%;
          max-width: 900px;
          height: 80vh;
          overflow: hidden;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          position: relative;
        }

        .modal-close-btn {
          position: absolute;
          top: 20px;
          right: 20px;
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #666;
          z-index: 10;
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all 0.2s ease;
        }

        .modal-close-btn:hover {
          background-color: #e9ecef;
          color: #333;
        }

        .modal-content {
          display: flex;
          max-width: none;
          height: 100%;
        }

        /* Panel izquierdo */
        .modal-left-panel {
          width: 280px;
          background-color: #e9ecef;
          padding: 30px 20px;
          display: flex;
          flex-direction: column;
          flex-shrink: 0;
        }

        .modal-header {
          margin-bottom: 30px;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          color: #212529;
          margin: 0 0 8px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          color: #6c757d;
          margin: 0;
        }

        .modal-nav {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .nav-tab {
          background: none;
          border: none;
          padding: 12px 16px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
          color: #495057;
          transition: all 0.2s ease;
          text-align: left;
        }

        .nav-tab:hover {
          background-color: #dee2e6;
        }

        .nav-tab.active {
          background-color: #ced4da;
          color: #212529;
        }

        .modal-footer {
          margin-top: auto;
          padding-top: 20px;
          border-top: 1px solid #dee2e6;
        }

        .secured-by {
          font-size: 12px;
          color: #6c757d;
          margin: 0 0 4px 0;
        }

        .clerk-logo {
          font-weight: 600;
          color: #495057;
        }

        .dev-mode {
          font-size: 12px;
          color: #fd7e14;
          margin: 0;
          font-weight: 500;
        }

        /* Panel derecho */
        .modal-right-panel {
          flex: 1;
          padding: 30px;
          overflow-y: auto;
          min-height: 0;
        }

        .tab-content {
          max-width: 500px;
        }

        .tab-title {
          font-size: 20px;
          font-weight: 600;
          color: #212529;
          margin: 0 0 30px 0;
        }

        /* Sección de perfil */
        .profile-section {
          margin-bottom: 30px;
        }

        .profile-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .profile-info {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .profile-avatar {
          width: 60px;
          height: 60px;
          background-color: #000;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .avatar-initials {
          color: white;
          font-size: 20px;
          font-weight: 600;
        }

        .profile-details {
          flex: 1;
        }

        .profile-name {
          font-size: 16px;
          font-weight: 500;
          color: #212529;
          margin: 0;
        }

        .update-profile-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .update-profile-btn:hover {
          background-color: #0056b3;
        }

        /* Formulario de actualización de perfil */
        .update-profile-form {
          padding: 20px;
          background-color: #f8f9fa;
          border-radius: 6px;
          border: 1px solid #e9ecef;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-group label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #495057;
          margin-bottom: 6px;
        }

        .profile-input {
          width: 100%;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
          box-sizing: border-box;
        }

        .profile-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .profile-form-actions {
          display: flex;
          gap: 10px;
          margin-top: 20px;
        }

        .save-profile-btn,
        .cancel-profile-btn {
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          border: none;
          transition: background-color 0.2s ease;
          flex: 1;
        }

        .save-profile-btn {
          background-color: #007bff;
          color: white;
        }

        .save-profile-btn:hover:not(:disabled) {
          background-color: #0056b3;
        }

        .save-profile-btn:disabled {
          background-color: #6c757d;
          cursor: not-allowed;
        }

        .cancel-profile-btn {
          background-color: #6c757d;
          color: white;
        }

        .cancel-profile-btn:hover:not(:disabled) {
          background-color: #5a6268;
        }

        .cancel-profile-btn:disabled {
          background-color: #adb5bd;
          cursor: not-allowed;
        }

        .profile-image {
          width: 100%;
          height: 100%;
          border-radius: 50%;
          object-fit: cover;
        }

        /* Upload de foto */
        .photo-upload-container {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .photo-input {
          display: none;
        }

        .photo-upload-btn {
          display: inline-block;
          padding: 8px 16px;
          background-color: #007bff;
          color: white;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
          text-align: center;
          transition: background-color 0.2s ease;
          border: none;
        }

        .photo-upload-btn:hover {
          background-color: #0056b3;
        }

        .photo-preview {
          position: relative;
          display: inline-block;
          margin-top: 8px;
        }

        .preview-image {
          width: 80px;
          height: 80px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid #e9ecef;
        }

        .remove-photo-btn {
          position: absolute;
          top: -8px;
          right: -8px;
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background-color: #dc3545;
          color: white;
          border: none;
          cursor: pointer;
          font-size: 16px;
          font-weight: bold;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.2s ease;
        }

        .remove-photo-btn:hover {
          background-color: #c82333;
        }

        /* Sección de email */
        .email-section {
          margin-bottom: 30px;
        }

        .email-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .email-item {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 12px;
        }

        .email-address {
          font-size: 14px;
          color: #212529;
          flex: 1;
        }

        .primary-tag {
          background-color: #e9ecef;
          color: #495057;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          font-weight: 500;
        }

        .email-actions {
          display: flex;
          gap: 8px;
          margin-left: auto;
        }

        .email-action-btn {
          background: none;
          border: none;
          font-size: 16px;
          color: #6c757d;
          cursor: pointer;
          padding: 4px;
          border-radius: 4px;
          transition: background-color 0.2s ease;
        }

        .email-action-btn:hover {
          background-color: #e9ecef;
        }

        .email-action-btn:disabled {
          color: #adb5bd;
          cursor: not-allowed;
        }

        .email-action-btn:disabled:hover {
          background-color: transparent;
        }

        .add-email-form {
          display: flex;
          gap: 10px;
          margin-top: 15px;
        }

        .email-input {
          flex: 1;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
        }

        .email-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .email-form-actions {
          display: flex;
          gap: 10px;
        }

        .save-email-btn,
        .cancel-email-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .save-email-btn:hover {
          background-color: #0056b3;
        }

        .cancel-email-btn:hover {
          background-color: #6c757d;
        }

        .add-email-btn {
          background: none;
          border: none;
          color: #007bff;
          font-size: 14px;
          cursor: pointer;
          padding: 8px 0;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: color 0.2s ease;
        }

        .add-email-btn:hover {
          color: #0056b3;
        }

        .add-email-btn span {
          font-size: 18px;
          font-weight: 600;
        }

        /* Formulario de contraseña */
        .password-form {
            display: flex;
            flex-direction: column;
          gap: 10px;
          min-width: 250px;
        }

        .password-input {
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 6px;
          font-size: 14px;
        }

        .password-input:focus {
          outline: none;
          border-color: #80bdff;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .password-actions {
          display: flex;
          gap: 10px;
        }

        .save-password-btn,
        .cancel-password-btn {
          background-color: #007bff;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
            cursor: pointer;
          transition: background-color 0.2s ease;
        }

        .save-password-btn:hover {
          background-color: #0056b3;
        }

        .cancel-password-btn {
          background-color: #6c757d;
        }

        .cancel-password-btn:hover {
          background-color: #5a6268;
        }

        /* Sección de cuentas conectadas */
        .connected-accounts-section h4 {
          font-size: 16px;
          font-weight: 600;
          color: #495057;
          margin: 0 0 16px 0;
        }

        .connected-account {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px 0;
        }

        .account-info {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .google-icon {
            width: 24px;
          height: 24px;
          background-color: #4285f4;
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 14px;
          font-weight: 600;
        }

        .account-name {
          font-size: 14px;
          font-weight: 500;
          color: #212529;
        }

        .account-email {
          font-size: 14px;
          color: #6c757d;
        }

        .account-options {
          background: none;
          border: none;
          font-size: 18px;
          color: #6c757d;
          cursor: pointer;
          padding: 4px;
            border-radius: 4px;
          transition: background-color 0.2s ease;
          }

        .account-options:hover {
          background-color: #e9ecef;
          }

        /* Sección de seguridad */
        .security-section {
            display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .security-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding: 16px 0;
          border-bottom: 1px solid #e9ecef;
        }

        .security-item:last-child {
          border-bottom: none;
        }

        .security-label {
          font-size: 14px;
          font-weight: 500;
          color: #495057;
        }

        .security-action {
          background: none;
          border: none;
          color: #007bff;
          font-size: 14px;
          cursor: pointer;
          padding: 0;
          transition: color 0.2s ease;
        }

        .security-action:hover {
          color: #0056b3;
        }

        .security-action.delete-account {
          color: #dc3545;
        }

        .security-action.delete-account:hover {
          color: #c82333;
        }

        .security-action:disabled {
          color: #6c757d;
          cursor: not-allowed;
        }

        .save-password-btn:disabled,
        .cancel-password-btn:disabled {
          background-color: #6c757d;
          cursor: not-allowed;
        }

        .device-info {
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          gap: 4px;
          text-align: right;
        }

        .device-icon {
          font-size: 16px;
          color: #212529;
        }

        .device-name {
          font-size: 14px;
          font-weight: 500;
          color: #212529;
        }

        .device-browser {
          font-size: 12px;
          color: #6c757d;
        }

        .device-ip {
          font-size: 12px;
          color: #6c757d;
          max-width: 200px;
          word-break: break-all;
        }

        .device-time {
          font-size: 12px;
          color: #6c757d;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .modal-content {
            flex-direction: column;
          }

          .modal-left-panel {
            width: 100%;
            padding: 20px;
          }

          .modal-right-panel {
            padding: 20px;
          }

          .profile-modal {
            max-height: 95vh;
          }
        }

        .nav-user-avatar{width:28px;height:28px;border-radius:50%;object-fit:cover}
        .nav-user-initials{width:28px;height:28px;border-radius:50%;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700}
      `})]})}const St=({variant:t="primary",size:e="md",fullWidth:n=!1,onClick:i,disabled:s=!1,children:a,...l})=>{const u={display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"500",borderRadius:"0.375rem",transition:"all 0.2s ease",cursor:s?"not-allowed":"pointer",opacity:s?"0.7":"1",width:n?"100%":"auto"},h={sm:{padding:"0.375rem 0.75rem",fontSize:"0.875rem"},md:{padding:"0.5rem 1rem",fontSize:"1rem"},lg:{padding:"0.75rem 1.5rem",fontSize:"1.125rem"}},p={primary:{backgroundColor:"#16a34a",color:"white",border:"none","&:hover":{backgroundColor:"#15803d"}},secondary:{backgroundColor:"#f0fdf4",color:"#16a34a",border:"1px solid #16a34a","&:hover":{backgroundColor:"#dcfce7"}},outline:{backgroundColor:"transparent",color:"#16a34a",border:"1px solid #16a34a","&:hover":{backgroundColor:"#f0fdf4"}},danger:{backgroundColor:"#ef4444",color:"white",border:"none","&:hover":{backgroundColor:"#dc2626"}}},m={...u,...h[e],...p[t]};return d.jsx("button",{style:m,onClick:i,disabled:s,...l,children:a})},P9=({src:t,alt:e,placeholderSrc:n="https://via.placeholder.com/300?text=Cargando...",style:i={},className:s="",preload:a=!1,...l})=>{const[u,h]=I.useState(a?t:n),[p,m]=I.useState(a),v=I.useRef(null),b=I.useRef(null);return I.useEffect(()=>{t!==u&&p&&(h(n),m(!1));const _=new Image;_.src=t;const E=()=>{h(t),m(!0)},C=()=>{console.error(`Error al cargar la imagen: ${t}`),m(!1)};return a?(_.onload=E,_.onerror=C):"IntersectionObserver"in window&&v.current?(b.current=new IntersectionObserver(A=>{A.forEach(j=>{j.isIntersecting&&(_.onload=E,_.onerror=C,b.current.disconnect())})},{rootMargin:"100px"}),b.current.observe(v.current)):(_.onload=E,_.onerror=C),()=>{_.onload=null,_.onerror=null,b.current&&b.current.disconnect()}},[t,n,a,u,p]),d.jsx("img",{ref:v,src:u,alt:e,className:`${s} image-loaded`,style:{transition:"opacity 0.3s ease-in-out, filter 0.3s ease-in-out",opacity:1,filter:"none",...i},loading:"lazy",...l})},hu=I.memo(P9),ql=({size:t="md",color:e="primary",text:n=""})=>{const i={sm:{width:"1.5rem",height:"1.5rem",borderWidth:"0.2rem"},md:{width:"2.5rem",height:"2.5rem",borderWidth:"0.25rem"},lg:{width:"3.5rem",height:"3.5rem",borderWidth:"0.3rem"}},s={primary:"#16a34a",secondary:"#4b5563",white:"#ffffff"},a={display:"inline-block",width:i[t].width,height:i[t].height,border:`${i[t].borderWidth} solid rgba(0, 0, 0, 0.1)`,borderLeftColor:s[e],borderRadius:"50%",animation:"spin 1s linear infinite"},l={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},u={marginTop:"0.75rem",fontSize:t==="sm"?"0.875rem":t==="md"?"1rem":"1.125rem",color:s[e==="white"?"secondary":e]};return d.jsxs("div",{style:l,className:"loader-container",children:[d.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),d.jsx("div",{style:a,className:"loader","aria-label":"Cargando"}),n&&d.jsx("p",{style:u,className:"loader-text",children:n})]})},M9=({isOpen:t,onClose:e,title:n,children:i,size:s="md",closeOnClickOutside:a=!0})=>{if(I.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]),!t)return null;const l={sm:"20rem",md:"28rem",lg:"36rem",xl:"48rem"},u={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},h={backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",width:"100%",maxWidth:l[s],maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},p={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #e5e7eb"},m={fontSize:"1.25rem",fontWeight:"bold",color:"#111827"},v={background:"none",border:"none",cursor:"pointer",fontSize:"1.5rem",color:"#6b7280",display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",borderRadius:"0.375rem",transition:"background-color 0.2s",":hover":{backgroundColor:"#f3f4f6"}},b={padding:"1rem",overflowY:"auto"},_=E=>{a&&E.target===E.currentTarget&&e()};return d.jsx("div",{style:u,onClick:_,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:d.jsxs("div",{style:h,children:[d.jsxs("div",{style:p,children:[d.jsx("h2",{id:"modal-title",style:m,children:n}),d.jsx("button",{style:v,onClick:e,"aria-label":"Cerrar modal",children:"×"})]}),d.jsx("div",{style:b,children:i})]})})};var dN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jS=Y.createContext&&Y.createContext(dN),D9=["attr","size","title"];function O9(t,e){if(t==null)return{};var n=L9(t,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function L9(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wm.apply(this,arguments)}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(i){V9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function V9(t,e,n){return e=z9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z9(t){var e=B9(t,"string");return typeof e=="symbol"?e:e+""}function B9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hN(t){return t&&t.map((e,n)=>Y.createElement(e.tag,Gm({key:n},e.attr),hN(e.child)))}function pi(t){return e=>Y.createElement(U9,Wm({attr:Gm({},t.attr)},e),hN(t.child))}function U9(t){var e=n=>{var{attr:i,size:s,title:a}=t,l=O9(t,D9),u=s||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Y.createElement("svg",Wm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:Gm(Gm({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Y.createElement("title",null,a),t.children)};return jS!==void 0?Y.createElement(jS.Consumer,null,n=>e(n)):e(dN)}function F9(t){return pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(t)}function H9(t){return pi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"},child:[]}]})(t)}function q9(t){return pi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function IS(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(t)}function $9(t){return pi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function fN(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function W9(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function wv(t){return pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M6.1 444.3c-9.6 10.8-7.5 27.6 4.5 35.7l68.8 27.9c9.9 6.7 23.3 5 31.3-3.8l91.8-101.9-79.2-87.9-117.2 130zm435.8 0s-292-324.6-295.4-330.1c15.4-8.4 40.2-17.9 77.5-17.9s62.1 9.5 77.5 17.9c-3.3 5.6-56 64.6-56 64.6l79.1 87.7 34.2-38c28.7-31.9 33.3-78.6 11.4-115.5l-43.7-73.5c-4.3-7.2-9.9-13.3-16.8-18-40.7-27.6-127.4-29.7-171.4 0-6.9 4.7-12.5 10.8-16.8 18l-43.6 73.2c-1.5 2.5-37.1 62.2 11.5 116L337.5 504c8 8.9 21.4 10.5 31.3 3.8l68.8-27.9c11.9-8 14-24.8 4.3-35.6z"},child:[]}]})(t)}function G9(t){return pi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function K9(t){return pi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(t)}function Y9(t){return pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}const pN=({producto:t,toggleFavorito:e,agregarAlCarrito:n,favoritos:i=[],showActions:s=!0})=>{var u;if(!t)return null;const a=i==null?void 0:i.some(h=>h.id===t.id),l=(h=0)=>{const p=Math.floor(h),m=h%1>=.5?1:0,v=5-p-m;return d.jsxs("span",{className:"stars",children:[Array(p).fill(0).map((b,_)=>d.jsx("i",{className:"fas fa-star"},`f${_}`)),m===1&&d.jsx("i",{className:"fas fa-star-half-alt"}),Array(v).fill(0).map((b,_)=>d.jsx("i",{className:"far fa-star"},`e${_}`))]})};return d.jsxs("div",{className:"producto-card",children:[d.jsxs("div",{className:"producto-img-wrapper",children:[t.onSale&&d.jsx("div",{className:"sale-badge",children:"Sale!"}),s&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:`fav-btn ${a?"active":""}`,title:a?"Quitar de favoritos":"Agregar a favoritos",onClick:()=>e(t),"aria-label":a?"Quitar de favoritos":"Agregar a favoritos",children:a?d.jsx(fN,{}):d.jsx(Y9,{})}),d.jsx(ot,{to:`/producto/${t.id}`,className:"view-btn",title:"Ver detalles","aria-label":"Ver detalles del producto",children:d.jsx(q9,{})})]}),d.jsx(ot,{to:`/producto/${t.id}`,children:d.jsx("img",{src:t.image||((u=t.images)==null?void 0:u[0])||"https://via.placeholder.com/300",alt:t.name,className:"producto-img",loading:"lazy"})})]}),d.jsxs("div",{className:"producto-info",children:[d.jsx(ot,{to:`/producto/${t.id}`,className:"producto-nombre",children:t.name}),d.jsx("div",{className:"producto-rating",children:l(t.rating)}),d.jsxs("div",{className:"producto-precio-stock",children:[d.jsx("div",{className:"producto-precio-container",children:t.oldPrice&&t.onSale?d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"producto-precio-original",children:["$",Math.round(t.oldPrice).toLocaleString("es-CO")]}),d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})]}):d.jsxs("span",{className:"producto-precio",children:["$",Math.round(t.price).toLocaleString("es-CO")]})}),d.jsx("span",{className:`producto-stock ${t.stock<=0?"agotado":""}`,children:t.stock<=0?"Agotado":`${t.stock} disponibles`})]}),s&&d.jsx("button",{className:"add-to-cart-btn",onClick:()=>n(t),disabled:t.stock<=0,children:t.stock<=0?"Sin stock":"Agregar al carrito"})]})]})},Sx=({rating:t=0,interactive:e=!1,onChange:n,size:i="md"})=>{const s=Math.floor(t),a=t%1>=.5,l=5-s-(a?1:0),h={color:"#f59e0b",marginRight:"2px",cursor:e?"pointer":"default",...{sm:{fontSize:"0.875rem"},md:{fontSize:"1rem"},lg:{fontSize:"1.25rem"}}[i]},p=m=>{e&&n&&n(m+1)};return d.jsxs("div",{className:"star-rating",children:[[...Array(s)].map((m,v)=>d.jsx("i",{className:"fas fa-star",style:h,onClick:()=>p(v),"aria-label":`${v+1} estrellas`},`full-${v}`)),a&&d.jsx("i",{className:"fas fa-star-half-alt",style:h,onClick:()=>p(s),"aria-label":`${s+.5} estrellas`}),[...Array(l)].map((m,v)=>d.jsx("i",{className:"far fa-star",style:h,onClick:()=>p(s+(a?1:0)+v),"aria-label":`${s+(a?1:0)+v+1} estrellas`},`empty-${v}`))]})};/*!
* sweetalert2 v11.21.0
* Released under the MIT License.
*/function mN(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function X9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PS(t,e){return t.get(mN(t,e))}function Q9(t,e,n){X9(t,e),e.set(t,n)}function Z9(t,e,n){return t.set(mN(t,e),n),n}const J9=100,Ie={},e7=()=>{Ie.previousActiveElement instanceof HTMLElement?(Ie.previousActiveElement.focus(),Ie.previousActiveElement=null):document.body&&document.body.focus()},t7=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;Ie.restoreFocusTimeout=setTimeout(()=>{e7(),e()},J9),window.scrollTo(n,i)}),gN="swal2-",n7=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],re=n7.reduce((t,e)=>(t[e]=gN+e,t),{}),i7=["success","warning","info","question","error"],Km=i7.reduce((t,e)=>(t[e]=gN+e,t),{}),yN="SweetAlert2:",hw=t=>t.charAt(0).toUpperCase()+t.slice(1),fi=t=>{console.warn(`${yN} ${typeof t=="object"?t.join(" "):t}`)},$l=t=>{console.error(`${yN} ${t}`)},MS=[],s7=t=>{MS.includes(t)||(MS.push(t),fi(t))},vN=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;s7(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Gg=t=>typeof t=="function"?t():t,fw=t=>t&&typeof t.toPromise=="function",Qh=t=>fw(t)?t.toPromise():Promise.resolve(t),pw=t=>t&&Promise.resolve(t)===t,mi=()=>document.body.querySelector(`.${re.container}`),Zh=t=>{const e=mi();return e?e.querySelector(t):null},Ki=t=>Zh(`.${t}`),pt=()=>Ki(re.popup),ku=()=>Ki(re.icon),r7=()=>Ki(re["icon-content"]),xN=()=>Ki(re.title),mw=()=>Ki(re["html-container"]),bN=()=>Ki(re.image),gw=()=>Ki(re["progress-steps"]),Kg=()=>Ki(re["validation-message"]),mr=()=>Zh(`.${re.actions} .${re.confirm}`),Ru=()=>Zh(`.${re.actions} .${re.cancel}`),Wl=()=>Zh(`.${re.actions} .${re.deny}`),a7=()=>Ki(re["input-label"]),ju=()=>Zh(`.${re.loader}`),Jh=()=>Ki(re.actions),wN=()=>Ki(re.footer),Yg=()=>Ki(re["timer-progress-bar"]),yw=()=>Ki(re.close),o7=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,vw=()=>{const t=pt();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),h=parseInt(l.getAttribute("tabindex")||"0");return u>h?1:u<h?-1:0}),i=t.querySelectorAll(o7),s=Array.from(i).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(a=>Ni(a))},xw=()=>ea(document.body,re.shown)&&!ea(document.body,re["toast-shown"])&&!ea(document.body,re["no-backdrop"]),Xg=()=>{const t=pt();return t?ea(t,re.toast):!1},l7=()=>{const t=pt();return t?t.hasAttribute("data-loading"):!1},Yi=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),s=i.querySelector("head");s&&Array.from(s.childNodes).forEach(l=>{t.appendChild(l)});const a=i.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},ea=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},c7=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(re).includes(n)&&!Object.values(Km).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Gi=(t,e,n)=>{if(c7(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){fi(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}vt(t,i)}},Qg=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${re.popup} > .${re[e]}`);case"checkbox":return t.querySelector(`.${re.popup} > .${re.checkbox} input`);case"radio":return t.querySelector(`.${re.popup} > .${re.radio} input:checked`)||t.querySelector(`.${re.popup} > .${re.radio} input:first-child`);case"range":return t.querySelector(`.${re.popup} > .${re.range} input`);default:return t.querySelector(`.${re.popup} > .${re.input}`)}},_N=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},EN=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(i):s.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},vt=(t,e)=>{EN(t,e,!0)},xs=(t,e)=>{EN(t,e,!1)},Ga=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const s=n[i];if(s instanceof HTMLElement&&ea(s,e))return s}},vl=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Dn=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},oi=t=>{t&&(t.style.display="none")},bw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{ef(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},DS=(t,e,n,i)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,i)},ef=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?Dn(t,n):oi(t)},Ni=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),u7=()=>!Ni(mr())&&!Ni(Wl())&&!Ni(Ru()),OS=t=>t.scrollHeight>t.clientHeight,TN=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},ww=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Yg();n&&Ni(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},d7=()=>{const t=Yg();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},h7=()=>typeof window>"u"||typeof document>"u",f7=`
 <div aria-labelledby="${re.title}" aria-describedby="${re["html-container"]}" class="${re.popup}" tabindex="-1">
   <button type="button" class="${re.close}"></button>
   <ul class="${re["progress-steps"]}"></ul>
   <div class="${re.icon}"></div>
   <img class="${re.image}" />
   <h2 class="${re.title}" id="${re.title}"></h2>
   <div class="${re["html-container"]}" id="${re["html-container"]}"></div>
   <input class="${re.input}" id="${re.input}" />
   <input type="file" class="${re.file}" />
   <div class="${re.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${re.select}" id="${re.select}"></select>
   <div class="${re.radio}"></div>
   <label class="${re.checkbox}">
     <input type="checkbox" id="${re.checkbox}" />
     <span class="${re.label}"></span>
   </label>
   <textarea class="${re.textarea}" id="${re.textarea}"></textarea>
   <div class="${re["validation-message"]}" id="${re["validation-message"]}"></div>
   <div class="${re.actions}">
     <div class="${re.loader}"></div>
     <button type="button" class="${re.confirm}"></button>
     <button type="button" class="${re.deny}"></button>
     <button type="button" class="${re.cancel}"></button>
   </div>
   <div class="${re.footer}"></div>
   <div class="${re["timer-progress-bar-container"]}">
     <div class="${re["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),p7=()=>{const t=mi();return t?(t.remove(),xs([document.documentElement,document.body],[re["no-backdrop"],re["toast-shown"],re["has-column"]]),!0):!1},nl=()=>{Ie.currentInstance.resetValidationMessage()},m7=()=>{const t=pt(),e=Ga(t,re.input),n=Ga(t,re.file),i=t.querySelector(`.${re.range} input`),s=t.querySelector(`.${re.range} output`),a=Ga(t,re.select),l=t.querySelector(`.${re.checkbox} input`),u=Ga(t,re.textarea);e.oninput=nl,n.onchange=nl,a.onchange=nl,l.onchange=nl,u.oninput=nl,i.oninput=()=>{nl(),s.value=i.value},i.onchange=()=>{nl(),s.value=i.value}},g7=t=>typeof t=="string"?document.querySelector(t):t,y7=t=>{const e=pt();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},v7=t=>{window.getComputedStyle(t).direction==="rtl"&&vt(mi(),re.rtl)},x7=t=>{const e=p7();if(h7()){$l("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=re.container,e&&vt(n,re["no-transition"]),Yi(n,f7),n.dataset.swal2Theme=t.theme;const i=g7(t.target);i.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),y7(t),v7(i),m7()},_w=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?b7(t,e):t&&Yi(e,t)},b7=(t,e)=>{t.jquery?w7(e,t):Yi(e,t.toString())},w7=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},_7=(t,e)=>{const n=Jh(),i=ju();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?oi(n):Dn(n),Gi(n,e,"actions"),E7(n,i,e),Yi(i,e.loaderHtml||""),Gi(i,e,"loader"))};function E7(t,e,n){const i=mr(),s=Wl(),a=Ru();!i||!s||!a||(Ev(i,"confirm",n),Ev(s,"deny",n),Ev(a,"cancel",n),T7(i,s,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,i),t.insertBefore(s,i)):(t.insertBefore(a,e),t.insertBefore(s,e),t.insertBefore(i,e))))}function T7(t,e,n,i){if(!i.buttonsStyling){xs([t,e,n],re.styled);return}vt([t,e,n],re.styled),i.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),_v(t),_v(e),_v(n)}function _v(t){const e=window.getComputedStyle(t),n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-outline",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Ev(t,e,n){const i=hw(e);ef(t,n[`show${i}Button`],"inline-block"),Yi(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=re[e],Gi(t,n,`${e}Button`)}const S7=(t,e)=>{const n=yw();n&&(Yi(n,e.closeButtonHtml||""),Gi(n,e,"closeButton"),ef(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},A7=(t,e)=>{const n=mi();n&&(C7(n,e.backdrop),k7(n,e.position),R7(n,e.grow),Gi(n,e,"container"))};function C7(t,e){typeof e=="string"?t.style.background=e:e||vt([document.documentElement,document.body],re["no-backdrop"])}function k7(t,e){e&&(e in re?vt(t,re[e]):(fi('The "position" parameter is not valid, defaulting to "center"'),vt(t,re.center)))}function R7(t,e){e&&vt(t,re[`grow-${e}`])}var Lt={innerParams:new WeakMap,domCache:new WeakMap};const j7=["input","file","range","select","radio","checkbox","textarea"],N7=(t,e)=>{const n=pt();if(!n)return;const i=Lt.innerParams.get(t),s=!i||e.input!==i.input;j7.forEach(a=>{const l=Ga(n,re[a]);l&&(M7(a,e.inputAttributes),l.className=re[a],s&&oi(l))}),e.input&&(s&&I7(e),D7(e))},I7=t=>{if(!t.input)return;if(!an[t.input]){$l(`Unexpected type of input! Expected ${Object.keys(an).join(" | ")}, got "${t.input}"`);return}const e=SN(t.input);if(!e)return;const n=an[t.input](e,t);Dn(e),t.inputAutoFocus&&setTimeout(()=>{_N(n)})},P7=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},M7=(t,e)=>{const n=pt();if(!n)return;const i=Qg(n,t);if(i){P7(i);for(const s in e)i.setAttribute(s,e[s])}},D7=t=>{if(!t.input)return;const e=SN(t.input);e&&Gi(e,t,"input")},Ew=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},tf=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),s=re["input-label"];i.setAttribute("for",t.id),i.className=s,typeof n.customClass=="object"&&vt(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},SN=t=>{const e=pt();if(e)return Ga(e,re[t]||re.input)},Ym=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:pw(e)||fi(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},an={};an.text=an.email=an.password=an.number=an.tel=an.url=an.search=an.date=an["datetime-local"]=an.time=an.week=an.month=(t,e)=>(Ym(t,e.inputValue),tf(t,t,e),Ew(t,e),t.type=e.input,t);an.file=(t,e)=>(tf(t,t,e),Ew(t,e),t);an.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return Ym(n,e.inputValue),n.type=e.input,Ym(i,e.inputValue),tf(n,t,e),t};an.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Yi(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return tf(t,t,e),t};an.radio=t=>(t.textContent="",t);an.checkbox=(t,e)=>{const n=Qg(pt(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return Yi(i,e.inputPlaceholder||e.inputLabel),n};an.textarea=(t,e)=>{Ym(t,e.inputValue),Ew(t,e),tf(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(pt()).width),s=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>i?pt().style.width=`${a}px`:vl(pt(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const O7=(t,e)=>{const n=mw();n&&(bw(n),Gi(n,e,"htmlContainer"),e.html?(_w(e.html,n),Dn(n,"block")):e.text?(n.textContent=e.text,Dn(n,"block")):oi(n),N7(t,e))},L7=(t,e)=>{const n=wN();n&&(bw(n),ef(n,e.footer,"block"),e.footer&&_w(e.footer,n),Gi(n,e,"footer"))},V7=(t,e)=>{const n=Lt.innerParams.get(t),i=ku();if(!i)return;if(n&&e.icon===n.icon){VS(i,e),LS(i,e);return}if(!e.icon&&!e.iconHtml){oi(i);return}if(e.icon&&Object.keys(Km).indexOf(e.icon)===-1){$l(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),oi(i);return}Dn(i),VS(i,e),LS(i,e),vt(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",AN)},LS=(t,e)=>{for(const[n,i]of Object.entries(Km))e.icon!==n&&xs(t,i);vt(t,e.icon&&Km[e.icon]),U7(t,e),AN(),Gi(t,e,"icon")},AN=()=>{const t=pt();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},z7=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,B7=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,VS=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=zS(e.iconHtml):e.icon==="success"?(i=z7,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=B7:e.icon&&(i=zS({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&Yi(t,i)},U7=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])DS(t,n,"background-color",e.iconColor);DS(t,".swal2-success-ring","border-color",e.iconColor)}},zS=t=>`<div class="${re["icon-content"]}">${t}</div>`,F7=(t,e)=>{const n=bN();if(n){if(!e.imageUrl){oi(n);return}Dn(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),vl(n,"width",e.imageWidth),vl(n,"height",e.imageHeight),n.className=re.image,Gi(n,e,"image")}};let Tw=!1,CN=0,kN=0,RN=0,jN=0;const H7=t=>{t.addEventListener("mousedown",Xm),document.body.addEventListener("mousemove",Qm),t.addEventListener("mouseup",Zm),t.addEventListener("touchstart",Xm),document.body.addEventListener("touchmove",Qm),t.addEventListener("touchend",Zm)},q7=t=>{t.removeEventListener("mousedown",Xm),document.body.removeEventListener("mousemove",Qm),t.removeEventListener("mouseup",Zm),t.removeEventListener("touchstart",Xm),document.body.removeEventListener("touchmove",Qm),t.removeEventListener("touchend",Zm)},Xm=t=>{const e=pt();if(t.target===e||ku().contains(t.target)){Tw=!0;const n=NN(t);CN=n.clientX,kN=n.clientY,RN=parseInt(e.style.insetInlineStart)||0,jN=parseInt(e.style.insetBlockStart)||0,vt(e,"swal2-dragging")}},Qm=t=>{const e=pt();if(Tw){let{clientX:n,clientY:i}=NN(t);e.style.insetInlineStart=`${RN+(n-CN)}px`,e.style.insetBlockStart=`${jN+(i-kN)}px`}},Zm=()=>{const t=pt();Tw=!1,xs(t,"swal2-dragging")},NN=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},$7=(t,e)=>{const n=mi(),i=pt();if(!(!n||!i)){if(e.toast){vl(n,"width",e.width),i.style.width="100%";const s=ju();s&&i.insertBefore(s,ku())}else vl(i,"width",e.width);vl(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),oi(Kg()),W7(i,e),e.draggable&&!e.toast?(vt(i,re.draggable),H7(i)):(xs(i,re.draggable),q7(i))}},W7=(t,e)=>{const n=e.showClass||{};t.className=`${re.popup} ${Ni(t)?n.popup:""}`,e.toast?(vt([document.documentElement,document.body],re["toast-shown"]),vt(t,re.toast)):vt(t,re.modal),Gi(t,e,"popup"),typeof e.customClass=="string"&&vt(t,e.customClass),e.icon&&vt(t,re[`icon-${e.icon}`])},G7=(t,e)=>{const n=gw();if(!n)return;const{progressSteps:i,currentProgressStep:s}=e;if(!i||i.length===0||s===void 0){oi(n);return}Dn(n),n.textContent="",s>=i.length&&fi("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((a,l)=>{const u=K7(a);if(n.appendChild(u),l===s&&vt(u,re["active-progress-step"]),l!==i.length-1){const h=Y7(e);n.appendChild(h)}})},K7=t=>{const e=document.createElement("li");return vt(e,re["progress-step"]),Yi(e,t),e},Y7=t=>{const e=document.createElement("li");return vt(e,re["progress-step-line"]),t.progressStepsDistance&&vl(e,"width",t.progressStepsDistance),e},X7=(t,e)=>{const n=xN();n&&(bw(n),ef(n,e.title||e.titleText,"block"),e.title&&_w(e.title,n),e.titleText&&(n.innerText=e.titleText),Gi(n,e,"title"))},IN=(t,e)=>{$7(t,e),A7(t,e),G7(t,e),V7(t,e),F7(t,e),X7(t,e),S7(t,e),O7(t,e),_7(t,e),L7(t,e);const n=pt();typeof e.didRender=="function"&&n&&e.didRender(n),Ie.eventEmitter.emit("didRender",n)},Q7=()=>Ni(pt()),PN=()=>{var t;return(t=mr())===null||t===void 0?void 0:t.click()},Z7=()=>{var t;return(t=Wl())===null||t===void 0?void 0:t.click()},J7=()=>{var t;return(t=Ru())===null||t===void 0?void 0:t.click()},Nu=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),MN=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},eB=(t,e,n)=>{MN(t),e.toast||(t.keydownHandler=i=>nB(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:pt(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Ax=(t,e)=>{var n;const i=vw();if(i.length){t=t+e,t===-2&&(t=i.length-1),t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=pt())===null||n===void 0||n.focus()},DN=["ArrowRight","ArrowDown"],tB=["ArrowLeft","ArrowUp"],nB=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?iB(e,t):e.key==="Tab"?sB(e):[...DN,...tB].includes(e.key)?rB(e.key):e.key==="Escape"&&aB(e,t,n)))},iB=(t,e)=>{if(!Gg(e.allowEnterKey))return;const n=Qg(pt(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;PN(),t.preventDefault()}},sB=t=>{const e=t.target,n=vw();let i=-1;for(let s=0;s<n.length;s++)if(e===n[s]){i=s;break}t.shiftKey?Ax(i,-1):Ax(i,1),t.stopPropagation(),t.preventDefault()},rB=t=>{const e=Jh(),n=mr(),i=Wl(),s=Ru();if(!e||!n||!i||!s)return;const a=[n,i,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=DN.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let h=0;h<e.children.length;h++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&Ni(u))break}u instanceof HTMLButtonElement&&u.focus()}},aB=(t,e,n)=>{Gg(e.allowEscapeKey)&&(t.preventDefault(),n(Nu.esc))};var fu={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const oB=()=>{const t=mi();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},ON=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},LN=typeof window<"u"&&!!window.GestureEvent,lB=()=>{if(LN&&!ea(document.body,re.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,vt(document.body,re.iosfix),cB()}},cB=()=>{const t=mi();if(!t)return;let e;t.ontouchstart=n=>{e=uB(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},uB=t=>{const e=t.target,n=mi(),i=mw();return!n||!i||dB(t)||hB(t)?!1:e===n||!OS(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(OS(i)&&i.contains(e))},dB=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",hB=t=>t.touches&&t.touches.length>1,fB=()=>{if(ea(document.body,re.iosfix)){const t=parseInt(document.body.style.top,10);xs(document.body,re.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},pB=()=>{const t=document.createElement("div");t.className=re["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Jc=null;const mB=t=>{Jc===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Jc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Jc+pB()}px`)},gB=()=>{Jc!==null&&(document.body.style.paddingRight=`${Jc}px`,Jc=null)};function VN(t,e,n,i){Xg()?BS(t,i):(t7(n).then(()=>BS(t,i)),MN(Ie)),LN?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),xw()&&(gB(),fB(),ON()),yB()}function yB(){xs([document.documentElement,document.body],[re.shown,re["height-auto"],re["no-backdrop"],re["toast-shown"]])}function Ka(t){t=xB(t);const e=fu.swalPromiseResolve.get(this),n=vB(this);this.isAwaitingPromise?t.isDismissed||(nf(this),e(t)):n&&e(t)}const vB=t=>{const e=pt();if(!e)return!1;const n=Lt.innerParams.get(t);if(!n||ea(e,n.hideClass.popup))return!1;xs(e,n.showClass.popup),vt(e,n.hideClass.popup);const i=mi();return xs(i,n.showClass.backdrop),vt(i,n.hideClass.backdrop),bB(t,e,n),!0};function zN(t){const e=fu.swalPromiseReject.get(this);nf(this),e&&e(t)}const nf=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Lt.innerParams.get(t)||t._destroy())},xB=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),bB=(t,e,n)=>{var i;const s=mi(),a=TN(e);typeof n.willClose=="function"&&n.willClose(e),(i=Ie.eventEmitter)===null||i===void 0||i.emit("willClose",e),a?wB(t,e,s,n.returnFocus,n.didClose):VN(t,s,n.returnFocus,n.didClose)},wB=(t,e,n,i,s)=>{Ie.swalCloseEventFinishedCallback=VN.bind(null,t,n,i,s);const a=function(l){if(l.target===e){var u;(u=Ie.swalCloseEventFinishedCallback)===null||u===void 0||u.call(Ie),delete Ie.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},BS=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=Ie.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},pu=t=>{let e=pt();if(e||new _e,e=pt(),!e)return;const n=ju();Xg()?oi(ku()):_B(e,t),Dn(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},_B=(t,e)=>{const n=Jh(),i=ju();!n||!i||(!e&&Ni(mr())&&(e=mr()),Dn(n),e&&(oi(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),vt([t,n],re.loading))},EB=(t,e)=>{e.input==="select"||e.input==="radio"?kB(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(fw(e.inputValue)||pw(e.inputValue))&&(pu(mr()),RB(t,e))},TB=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return SB(n);case"radio":return AB(n);case"file":return CB(n);default:return e.inputAutoTrim?n.value.trim():n.value}},SB=t=>t.checked?1:0,AB=t=>t.checked?t.value:null,CB=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,kB=(t,e)=>{const n=pt();if(!n)return;const i=s=>{e.input==="select"?jB(n,Jm(s),e):e.input==="radio"&&NB(n,Jm(s),e)};fw(e.inputOptions)||pw(e.inputOptions)?(pu(mr()),Qh(e.inputOptions).then(s=>{t.hideLoading(),i(s)})):typeof e.inputOptions=="object"?i(e.inputOptions):$l(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},RB=(t,e)=>{const n=t.getInput();n&&(oi(n),Qh(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Dn(n),n.focus(),t.hideLoading()}).catch(i=>{$l(`Error in inputValue promise: ${i}`),n.value="",Dn(n),n.focus(),t.hideLoading()}))};function jB(t,e,n){const i=Ga(t,re.select);if(!i)return;const s=(a,l,u)=>{const h=document.createElement("option");h.value=u,Yi(h,l),h.selected=BN(u,n.inputValue),a.appendChild(h)};e.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const h=document.createElement("optgroup");h.label=l,h.disabled=!1,i.appendChild(h),u.forEach(p=>s(h,p[1],p[0]))}else s(i,u,l)}),i.focus()}function NB(t,e,n){const i=Ga(t,re.radio);if(!i)return;e.forEach(a=>{const l=a[0],u=a[1],h=document.createElement("input"),p=document.createElement("label");h.type="radio",h.name=re.radio,h.value=l,BN(l,n.inputValue)&&(h.checked=!0);const m=document.createElement("span");Yi(m,u),m.className=re.label,p.appendChild(h),p.appendChild(m),i.appendChild(p)});const s=i.querySelectorAll("input");s.length&&s[0].focus()}const Jm=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let s=n;typeof s=="object"&&(s=Jm(s)),e.push([i,s])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=Jm(i)),e.push([n,i])}),e},BN=(t,e)=>!!e&&e.toString()===t.toString(),IB=t=>{const e=Lt.innerParams.get(t);t.disableButtons(),e.input?UN(t,"confirm"):Aw(t,!0)},PB=t=>{const e=Lt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?UN(t,"deny"):Sw(t,!1)},MB=(t,e)=>{t.disableButtons(),e(Nu.cancel)},UN=(t,e)=>{const n=Lt.innerParams.get(t);if(!n.input){$l(`The "input" parameter is needed to be set when using returnInputValueOn${hw(e)}`);return}const i=t.getInput(),s=TB(t,n);n.inputValidator?DB(t,s,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?Sw(t,s):Aw(t,s)},DB=(t,e,n)=>{const i=Lt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Qh(i.inputValidator(e,i.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Sw(t,e):Aw(t,e)})},Sw=(t,e)=>{const n=Lt.innerParams.get(t||void 0);n.showLoaderOnDeny&&pu(Wl()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Qh(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),nf(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>FN(t||void 0,s))):t.close({isDenied:!0,value:e})},US=(t,e)=>{t.close({isConfirmed:!0,value:e})},FN=(t,e)=>{t.rejectPromise(e)},Aw=(t,e)=>{const n=Lt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&pu(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Qh(n.preConfirm(e,n.validationMessage))).then(s=>{Ni(Kg())||s===!1?(t.hideLoading(),nf(t)):US(t,typeof s>"u"?e:s)}).catch(s=>FN(t||void 0,s))):US(t,e)};function eg(){const t=Lt.innerParams.get(this);if(!t)return;const e=Lt.domCache.get(this);oi(e.loader),Xg()?t.icon&&Dn(ku()):OB(e),xs([e.popup,e.actions],re.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const OB=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Dn(e[0],"inline-block"):u7()&&oi(t.actions)};function HN(){const t=Lt.innerParams.get(this),e=Lt.domCache.get(this);return e?Qg(e.popup,t.input):null}function qN(t,e,n){const i=Lt.domCache.get(t);e.forEach(s=>{i[s].disabled=n})}function $N(t,e){const n=pt();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${re.radio}"]`);for(let s=0;s<i.length;s++)i[s].disabled=e}else t.disabled=e}function WN(){qN(this,["confirmButton","denyButton","cancelButton"],!1)}function GN(){qN(this,["confirmButton","denyButton","cancelButton"],!0)}function KN(){$N(this.getInput(),!1)}function YN(){$N(this.getInput(),!0)}function XN(t){const e=Lt.domCache.get(this),n=Lt.innerParams.get(this);Yi(e.validationMessage,t),e.validationMessage.className=re["validation-message"],n.customClass&&n.customClass.validationMessage&&vt(e.validationMessage,n.customClass.validationMessage),Dn(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",re["validation-message"]),_N(i),vt(i,re.inputerror))}function QN(){const t=Lt.domCache.get(this);t.validationMessage&&oi(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),xs(e,re.inputerror))}const eu={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},LB=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],VB={allowEnterKey:void 0},zB=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ZN=t=>Object.prototype.hasOwnProperty.call(eu,t),JN=t=>LB.indexOf(t)!==-1,eI=t=>VB[t],BB=t=>{ZN(t)||fi(`Unknown parameter "${t}"`)},UB=t=>{zB.includes(t)&&fi(`The parameter "${t}" is incompatible with toasts`)},FB=t=>{const e=eI(t);e&&vN(t,e)},tI=t=>{t.backdrop===!1&&t.allowOutsideClick&&fi('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe"].includes(t.theme)&&fi(`Invalid theme "${t.theme}". Expected "light", "dark", "auto", "minimal", "borderless", or "embed-iframe"`);for(const e in t)BB(e),t.toast&&UB(e),FB(e)};function nI(t){const e=mi(),n=pt(),i=Lt.innerParams.get(this);if(!n||ea(n,i.hideClass.popup)){fi("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=HB(t),a=Object.assign({},i,s);tI(a),e.dataset.swal2Theme=a.theme,IN(this,a),Lt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const HB=t=>{const e={};return Object.keys(t).forEach(n=>{JN(n)?e[n]=t[n]:fi(`Invalid parameter to update: ${n}`)}),e};function iI(){const t=Lt.domCache.get(this),e=Lt.innerParams.get(this);if(!e){sI(this);return}t.popup&&Ie.swalCloseEventFinishedCallback&&(Ie.swalCloseEventFinishedCallback(),delete Ie.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ie.eventEmitter.emit("didDestroy"),qB(this)}const qB=t=>{sI(t),delete t.params,delete Ie.keydownHandler,delete Ie.keydownTarget,delete Ie.currentInstance},sI=t=>{t.isAwaitingPromise?(Tv(Lt,t),t.isAwaitingPromise=!0):(Tv(fu,t),Tv(Lt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Tv=(t,e)=>{for(const n in t)t[n].delete(e)};var $B=Object.freeze({__proto__:null,_destroy:iI,close:Ka,closeModal:Ka,closePopup:Ka,closeToast:Ka,disableButtons:GN,disableInput:YN,disableLoading:eg,enableButtons:WN,enableInput:KN,getInput:HN,handleAwaitingPromise:nf,hideLoading:eg,rejectPromise:zN,resetValidationMessage:QN,showValidationMessage:XN,update:nI});const WB=(t,e,n)=>{t.toast?GB(t,e,n):(YB(e),XB(e),QB(t,e,n))},GB=(t,e,n)=>{e.popup.onclick=()=>{t&&(KB(t)||t.timer||t.input)||n(Nu.close)}},KB=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let tg=!1;const YB=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(tg=!0)}}},XB=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(tg=!0)}}},QB=(t,e,n)=>{e.container.onclick=i=>{if(tg){tg=!1;return}i.target===e.container&&Gg(t.allowOutsideClick)&&n(Nu.backdrop)}},ZB=t=>typeof t=="object"&&t.jquery,FS=t=>t instanceof Element||ZB(t),JB=t=>{const e={};return typeof t[0]=="object"&&!FS(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const s=t[i];typeof s=="string"||FS(s)?e[n]=s:s!==void 0&&$l(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function eU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function tU(t){class e extends this{_main(i,s){return super._main(i,Object.assign({},t,s))}}return e}const nU=()=>Ie.timeout&&Ie.timeout.getTimerLeft(),rI=()=>{if(Ie.timeout)return d7(),Ie.timeout.stop()},aI=()=>{if(Ie.timeout){const t=Ie.timeout.start();return ww(t),t}},iU=()=>{const t=Ie.timeout;return t&&(t.running?rI():aI())},sU=t=>{if(Ie.timeout){const e=Ie.timeout.increase(t);return ww(e,!0),e}},rU=()=>!!(Ie.timeout&&Ie.timeout.isRunning());let HS=!1;const Cx={};function aU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Cx[t]=this,HS||(document.body.addEventListener("click",oU),HS=!0)}const oU=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Cx){const i=e.getAttribute(n);if(i){Cx[n].fire({template:i});return}}};class lU{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){var i=this;const s=function(){i.removeListener(e,s);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n.apply(i,l)};this.on(e,s)}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(a=>{try{a.apply(this,i)}catch(l){console.error(l)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),s=i.indexOf(n);s>-1&&i.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ie.eventEmitter=new lU;const cU=(t,e)=>{Ie.eventEmitter.on(t,e)},uU=(t,e)=>{Ie.eventEmitter.once(t,e)},dU=(t,e)=>{if(!t){Ie.eventEmitter.reset();return}e?Ie.eventEmitter.removeListener(t,e):Ie.eventEmitter.removeAllListeners(t)};var hU=Object.freeze({__proto__:null,argsToParams:JB,bindClickHandler:aU,clickCancel:J7,clickConfirm:PN,clickDeny:Z7,enableLoading:pu,fire:eU,getActions:Jh,getCancelButton:Ru,getCloseButton:yw,getConfirmButton:mr,getContainer:mi,getDenyButton:Wl,getFocusableElements:vw,getFooter:wN,getHtmlContainer:mw,getIcon:ku,getIconContent:r7,getImage:bN,getInputLabel:a7,getLoader:ju,getPopup:pt,getProgressSteps:gw,getTimerLeft:nU,getTimerProgressBar:Yg,getTitle:xN,getValidationMessage:Kg,increaseTimer:sU,isDeprecatedParameter:eI,isLoading:l7,isTimerRunning:rU,isUpdatableParameter:JN,isValidParameter:ZN,isVisible:Q7,mixin:tU,off:dU,on:cU,once:uU,resumeTimer:aI,showLoading:pu,stopTimer:rI,toggleTimer:iU});class fU{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const oI=["swal-title","swal-html","swal-footer"],pU=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return _U(n),Object.assign(mU(n),gU(n),yU(n),vU(n),xU(n),bU(n),wU(n,oI))},mU=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{jl(i,["name","value"]);const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(typeof eu[s]=="boolean"?e[s]=a!=="false":typeof eu[s]=="object"?e[s]=JSON.parse(a):e[s]=a)}),e},gU=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const s=i.getAttribute("name"),a=i.getAttribute("value");!s||!a||(e[s]=new Function(`return ${a}`)())}),e},yU=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{jl(i,["type","color","aria-label"]);const s=i.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=i.innerHTML,e[`show${hw(s)}Button`]=!0,i.hasAttribute("color")&&(e[`${s}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},vU=t=>{const e={},n=t.querySelector("swal-image");return n&&(jl(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},xU=t=>{const e={},n=t.querySelector("swal-icon");return n&&(jl(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},bU=t=>{const e={},n=t.querySelector("swal-input");n&&(jl(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(s=>{jl(s,["value"]);const a=s.getAttribute("value");if(!a)return;const l=s.innerHTML;e.inputOptions[a]=l})),e},wU=(t,e)=>{const n={};for(const i in e){const s=e[i],a=t.querySelector(s);a&&(jl(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},_U=t=>{const e=oI.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||fi(`Unrecognized element <${i}>`)})},jl=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&fi([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},lI=10,EU=t=>{const e=mi(),n=pt();typeof t.willOpen=="function"&&t.willOpen(n),Ie.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;AU(e,n,t),setTimeout(()=>{TU(e,n)},lI),xw()&&(SU(e,t.scrollbarPadding,s),oB()),!Xg()&&!Ie.previousActiveElement&&(Ie.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),Ie.eventEmitter.emit("didOpen",n),xs(e,re["no-transition"])},ng=t=>{const e=pt();if(t.target!==e)return;const n=mi();e.removeEventListener("animationend",ng),e.removeEventListener("transitionend",ng),n.style.overflowY="auto"},TU=(t,e)=>{TN(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",ng),e.addEventListener("transitionend",ng)):t.style.overflowY="auto"},SU=(t,e,n)=>{lB(),e&&n!=="hidden"&&mB(n),setTimeout(()=>{t.scrollTop=0})},AU=(t,e,n)=>{vt(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Dn(e,"grid"),setTimeout(()=>{vt(e,n.showClass.popup),e.style.removeProperty("opacity")},lI)):Dn(e,"grid"),vt([document.documentElement,document.body],re.shown),n.heightAuto&&n.backdrop&&!n.toast&&vt([document.documentElement,document.body],re["height-auto"])};var qS={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function CU(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=qS.email),t.input==="url"&&(t.inputValidator=qS.url))}function kU(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(fi('Target parameter is not valid, defaulting to "body"'),t.target="body")}function RU(t){CU(t),t.showLoaderOnConfirm&&!t.preConfirm&&fi(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),kU(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),x7(t)}let ir;var Ip=new WeakMap;class cn{constructor(){if(Q9(this,Ip,void 0),typeof window>"u")return;ir=this;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const s=Object.freeze(this.constructor.argsToParams(n));this.params=s,this.isAwaitingPromise=!1,Z9(Ip,this,this._main(ir.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tI(Object.assign({},n,e)),Ie.currentInstance){const a=fu.swalPromiseResolve.get(Ie.currentInstance),{isAwaitingPromise:l}=Ie.currentInstance;Ie.currentInstance._destroy(),l||a({isDismissed:!0}),xw()&&ON()}Ie.currentInstance=ir;const i=NU(e,n);RU(i),Object.freeze(i),Ie.timeout&&(Ie.timeout.stop(),delete Ie.timeout),clearTimeout(Ie.restoreFocusTimeout);const s=IU(ir);return IN(ir,i),Lt.innerParams.set(ir,i),jU(ir,s,i)}then(e){return PS(Ip,this).then(e)}finally(e){return PS(Ip,this).finally(e)}}const jU=(t,e,n)=>new Promise((i,s)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};fu.swalPromiseResolve.set(t,i),fu.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{IB(t)},e.denyButton.onclick=()=>{PB(t)},e.cancelButton.onclick=()=>{MB(t,a)},e.closeButton.onclick=()=>{a(Nu.close)},WB(n,e,a),eB(Ie,n,a),EB(t,n),EU(n),PU(Ie,n,a),MU(e,n),setTimeout(()=>{e.container.scrollTop=0})}),NU=(t,e)=>{const n=pU(t),i=Object.assign({},eu,e,n,t);return i.showClass=Object.assign({},eu.showClass,i.showClass),i.hideClass=Object.assign({},eu.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},IU=t=>{const e={popup:pt(),container:mi(),actions:Jh(),confirmButton:mr(),denyButton:Wl(),cancelButton:Ru(),loader:ju(),closeButton:yw(),validationMessage:Kg(),progressSteps:gw()};return Lt.domCache.set(t,e),e},PU=(t,e,n)=>{const i=Yg();oi(i),e.timer&&(t.timeout=new fU(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Dn(i),Gi(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&ww(e.timer)})))},MU=(t,e)=>{if(!e.toast){if(!Gg(e.allowEnterKey)){vN("allowEnterKey"),LU();return}DU(t)||OU(t,e)||Ax(-1,1)}},DU=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Ni(n))return n.focus(),!0;return!1},OU=(t,e)=>e.focusDeny&&Ni(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Ni(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Ni(t.confirmButton)?(t.confirmButton.focus(),!0):!1,LU=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}cn.prototype.disableButtons=GN;cn.prototype.enableButtons=WN;cn.prototype.getInput=HN;cn.prototype.disableInput=YN;cn.prototype.enableInput=KN;cn.prototype.hideLoading=eg;cn.prototype.disableLoading=eg;cn.prototype.showValidationMessage=XN;cn.prototype.resetValidationMessage=QN;cn.prototype.close=Ka;cn.prototype.closePopup=Ka;cn.prototype.closeModal=Ka;cn.prototype.closeToast=Ka;cn.prototype.rejectPromise=zN;cn.prototype.update=nI;cn.prototype._destroy=iI;Object.assign(cn,hU);Object.keys($B).forEach(t=>{cn[t]=function(){return ir&&ir[t]?ir[t](...arguments):null}});cn.DismissReason=Nu;cn.version="11.21.0";const _e=cn;_e.default=_e;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.1s, box-shadow 0.1s;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.1s, box-shadow 0.1s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-button-darken-hover: rgba(0, 0, 0, 0.1);--swal2-button-darken-active: rgba(0, 0, 0, 0.2);--swal2-button-transition: box-shadow 0.1s;--swal2-confirm-button-border: 0;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-deny-button-border: 0;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-cancel-button-border: 0;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(var(--swal2-button-darken-hover), var(--swal2-button-darken-hover))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(var(--swal2-button-darken-active), var(--swal2-button-darken-active))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-button-transition);box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:var(--swal2-confirm-button-border);border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:var(--swal2-deny-button-border);border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:var(--swal2-cancel-button-border);border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-outline)}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:1px solid #d9d9d9;border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function VU({onAddressSelect:t,selectedAddress:e}){const[n,i]=I.useState([]),[s,a]=I.useState(!1),[l,u]=I.useState(null),[h,p]=I.useState(!0),[m,v]=I.useState({name:"",street:"",city:"",state:"",zipCode:"",country:"",phone:"",isDefault:!1});I.useEffect(()=>{const V=go(wn,$=>{u($),$||(i([]),p(!1))});return()=>V()},[]),I.useEffect(()=>{if(l){const V=Jr(tt(De,"addresses",l.uid),$=>{$.exists()?i($.data().addresses||[]):i([]),p(!1)},$=>{console.error("Error fetching addresses:",$),p(!1)});return()=>V()}},[l]);const b=V=>{const{name:$,value:q,type:J,checked:z}=V.target;v(k=>({...k,[$]:J==="checkbox"?z:q}))},_=()=>{const{name:V,street:$,city:q,state:J,zipCode:z,country:k,phone:P}=m;return!V||!$||!q||!J||!z||!k||!P?(_e.fire("Error","All fields are required","error"),!1):!0},E=async()=>{if(_())try{const V={...m,id:Date.now().toString(),createdAt:new Date};let $=[...n,V];m.isDefault&&($=$.map(q=>q.id===V.id?q:{...q,isDefault:!1})),n.length===0&&(V.isDefault=!0),await cr(tt(De,"addresses",l.uid),{addresses:$}),_e.fire("Success","Address saved successfully","success"),a(!1),j()}catch(V){console.error("Error saving address:",V),_e.fire("Error","Failed to save address","error")}},C=async V=>{try{if((await _e.fire({title:"Are you sure?",text:"This action cannot be undone",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){const q=n.filter(J=>J.id!==V);await cr(tt(De,"addresses",l.uid),{addresses:q}),_e.fire("Deleted","Address has been deleted","success")}}catch($){console.error("Error deleting address:",$),_e.fire("Error","Failed to delete address","error")}},A=async V=>{try{const $=n.map(q=>({...q,isDefault:q.id===V}));await cr(tt(De,"addresses",l.uid),{addresses:$}),_e.fire("Success","Default address updated","success")}catch($){console.error("Error updating default address:",$),_e.fire("Error","Failed to update default address","error")}},j=()=>{v({name:"",street:"",city:"",state:"",zipCode:"",country:"",phone:"",isDefault:!1})},B=V=>`${V.name} - ${V.street}, ${V.city}, ${V.state} ${V.zipCode}, ${V.country}`;return h?d.jsx("div",{children:"Loading addresses..."}):d.jsxs("div",{className:"address-selector",children:[d.jsx("div",{className:"address-header",children:d.jsxs("button",{className:"address-btn",onClick:()=>a(!0),children:[d.jsx("span",{children:e?B(e):"Select Address"}),d.jsx("i",{className:"fas fa-chevron-down"})]})}),s&&d.jsx("div",{className:"address-modal",children:d.jsxs("div",{className:"address-modal-content",children:[d.jsxs("div",{className:"address-modal-header",children:[d.jsx("h3",{children:"Manage Addresses"}),d.jsx("button",{className:"close-btn",onClick:()=>a(!1),children:"×"})]}),d.jsxs("div",{className:"address-modal-body",children:[d.jsxs("div",{className:"existing-addresses",children:[d.jsx("h4",{children:"Your Addresses"}),n.length===0?d.jsx("p",{children:"No addresses saved yet"}):d.jsx("div",{className:"address-list",children:n.map(V=>d.jsx("div",{className:`address-item ${V.isDefault?"default":""} ${(e==null?void 0:e.id)===V.id?"selected":""}`,children:d.jsxs("div",{className:"address-content",children:[d.jsxs("div",{className:"address-text",children:[d.jsx("strong",{children:V.name}),d.jsx("br",{}),V.street,d.jsx("br",{}),V.city,", ",V.state," ",V.zipCode,d.jsx("br",{}),V.country,d.jsx("br",{}),"Phone: ",V.phone,V.isDefault&&d.jsx("span",{className:"default-badge",children:"Default"})]}),d.jsxs("div",{className:"address-actions",children:[d.jsx("button",{className:"select-btn",onClick:()=>{t(V),a(!1)},children:"Select"}),!V.isDefault&&d.jsx("button",{className:"default-btn",onClick:()=>A(V.id),children:"Set Default"}),d.jsx("button",{className:"delete-btn",onClick:()=>C(V.id),children:"Delete"})]})]})},V.id))})]}),d.jsxs("div",{className:"add-address-form",children:[d.jsx("h4",{children:"Add New Address"}),d.jsxs("div",{className:"form-grid",children:[d.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:m.name,onChange:b,className:"form-input"}),d.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:m.phone,onChange:b,className:"form-input"}),d.jsx("input",{type:"text",name:"street",placeholder:"Street Address",value:m.street,onChange:b,className:"form-input full-width"}),d.jsx("input",{type:"text",name:"city",placeholder:"City",value:m.city,onChange:b,className:"form-input"}),d.jsx("input",{type:"text",name:"state",placeholder:"State/Province",value:m.state,onChange:b,className:"form-input"}),d.jsx("input",{type:"text",name:"zipCode",placeholder:"ZIP/Postal Code",value:m.zipCode,onChange:b,className:"form-input"}),d.jsx("input",{type:"text",name:"country",placeholder:"Country",value:m.country,onChange:b,className:"form-input"})]}),d.jsx("div",{className:"checkbox-container",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",name:"isDefault",checked:m.isDefault,onChange:b}),"Set as default address"]})}),d.jsx("button",{className:"save-address-btn",onClick:E,children:"Save Address"})]})]})]})}),d.jsx("style",{children:`
        .address-selector {
          position: relative;
        }

        .address-btn {
          width: 100%;
          padding: 12px 16px;
          background: #374151;
          border: 1px solid #6b7280;
          border-radius: 8px;
          color: white;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          font-size: 14px;
        }

        .address-btn:hover {
          background: #4b5563;
        }

        .address-modal {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .address-modal-content {
          background: white;
          border-radius: 12px;
          width: 90%;
          max-width: 600px;
          max-height: 80vh;
          overflow-y: auto;
        }

        .address-modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px;
          border-bottom: 1px solid #e5e7eb;
        }

        .address-modal-header h3 {
          margin: 0;
          font-size: 1.25rem;
          font-weight: 600;
        }

        .close-btn {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #6b7280;
        }

        .close-btn:hover {
          color: #374151;
        }

        .address-modal-body {
          padding: 20px;
        }

        .existing-addresses {
          margin-bottom: 30px;
        }

        .existing-addresses h4 {
          margin-bottom: 15px;
          font-size: 1.1rem;
          font-weight: 600;
        }

        .address-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .address-item {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 15px;
          position: relative;
        }

        .address-item.default {
          border-color: #16a34a;
          background: #f0fdf4;
        }

        .address-item.selected {
          border-color: #ea580c;
          background: #fff7ed;
        }

        .address-content {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 15px;
        }

        .address-text {
          flex: 1;
          font-size: 14px;
          line-height: 1.5;
        }

        .default-badge {
          display: inline-block;
          background: #16a34a;
          color: white;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 12px;
          margin-left: 10px;
        }

        .address-actions {
          display: flex;
          gap: 8px;
          flex-direction: column;
        }

        .select-btn, .default-btn, .delete-btn {
          padding: 6px 12px;
          border: none;
          border-radius: 4px;
          font-size: 12px;
          cursor: pointer;
          white-space: nowrap;
        }

        .select-btn {
          background: #ea580c;
          color: white;
        }

        .default-btn {
          background: #16a34a;
          color: white;
        }

        .delete-btn {
          background: #dc2626;
          color: white;
        }

        .add-address-form h4 {
          margin-bottom: 15px;
          font-size: 1.1rem;
          font-weight: 600;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
          margin-bottom: 15px;
        }

        .form-input {
          padding: 10px 12px;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 14px;
        }

        .form-input.full-width {
          grid-column: 1 / -1;
        }

        .form-input:focus {
          outline: none;
          border-color: #ea580c;
        }

        .checkbox-container {
          margin-bottom: 15px;
        }

        .checkbox-container label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
        }

        .save-address-btn {
          background: #16a34a;
          color: white;
          border: none;
          padding: 10px 20px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 500;
        }

        .save-address-btn:hover {
          background: #15803d;
        }

        @media (max-width: 768px) {
          .form-grid {
            grid-template-columns: 1fr;
          }

          .address-content {
            flex-direction: column;
            gap: 10px;
          }

          .address-actions {
            flex-direction: row;
            justify-content: flex-start;
          }
        }
      `})]})}function zU(){const{user:t,products:e,featuredProducts:n,fetchProducts:i,isLoadingProducts:s}=xo(),{agregarAlCarrito:a,agregarAFavoritos:l,quitarDeFavoritos:u,estaEnFavoritos:h}=Ol();I.useEffect(()=>{e.length===0&&!s&&(console.log("Cargando productos en Home..."),i())},[i,e.length,s]);const p=m=>{h(m.id)?u(m.id):l(m)};return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsxs("div",{style:me.heroSection,children:[d.jsxs("div",{style:me.textContent,children:[d.jsx("h1",{style:me.title,children:"Descubre Nuestra Colección Exclusiva"}),d.jsx("p",{style:me.description,children:"Explora nuestra selección de productos de alta calidad con los mejores precios del mercado. Envíos rápidos y seguros a todo el país."}),d.jsxs("div",{style:me.buttonGroup,children:[d.jsx(ot,{to:"/productos",style:{textDecoration:"none"},children:d.jsx(St,{variant:"primary",size:"lg",children:"Ver Catálogo"})}),d.jsx(ot,{to:"/contacto",style:{textDecoration:"none"},children:d.jsx(St,{variant:"outline",size:"lg",children:"Contactar"})})]})]}),d.jsxs("div",{style:me.imageContainer,children:[d.jsx(hu,{src:"https://images.pexels.com/photos/5632381/pexels-photo-5632381.jpeg?auto=compress&cs=tinysrgb&h=400",alt:"Productos destacados",style:me.mainImage}),d.jsxs("div",{style:me.colorAnalysisCard,children:[d.jsxs("div",{style:me.colorDotContainer,children:[d.jsx("span",{style:{...me.colorDot,backgroundColor:"#16a34a"}}),d.jsx("span",{style:{...me.colorDot,backgroundColor:"#22c55e"}}),d.jsx("span",{style:{...me.colorDot,backgroundColor:"#4ade80"}}),d.jsx("span",{style:{...me.colorDot,backgroundColor:"#86efac"}})]}),d.jsx("p",{style:{margin:0,fontSize:"12px",textAlign:"center"},children:"Colores de temporada"})]})]})]}),t?d.jsxs("div",{style:me.productsSection,children:[d.jsx("h2",{style:me.sectionTitle,children:"Productos Destacados"}),d.jsx("div",{className:"productos-grid",children:s?Array(4).fill(0).map((m,v)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-button"})]},`skeleton-featured-${v}`)):n.length>0?n.map(m=>d.jsx(pN,{producto:m,agregarAlCarrito:()=>a(m),toggleFavorito:()=>p(m),favoritos:h(m.id)?[m]:[]},m.id)):d.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:d.jsx("p",{children:"No se encontraron productos destacados."})})}),d.jsx("div",{style:me.viewAllContainer,children:d.jsx(ot,{to:"/productos",style:me.viewAllLink,children:"Ver todos los productos"})})]}):d.jsx("div",{style:me.loginPromptSection,children:d.jsxs("div",{style:me.loginPromptCard,children:[d.jsx("i",{className:"fas fa-lock",style:me.lockIcon}),d.jsx("h2",{style:me.loginPromptTitle,children:"Acceso Exclusivo"}),d.jsx("p",{style:me.loginPromptText,children:"Inicia sesión para descubrir nuestro catálogo completo de productos exclusivos con los mejores precios del mercado."}),d.jsxs("div",{style:me.loginButtonsContainer,children:[d.jsx(ot,{to:"/login",style:{textDecoration:"none"},children:d.jsx(St,{variant:"primary",size:"md",children:"Iniciar Sesión"})}),d.jsx(ot,{to:"/register",style:{textDecoration:"none"},children:d.jsx(St,{variant:"outline",size:"md",children:"Registrarse"})})]})]})}),d.jsx("div",{style:me.statsContainer,children:[{icon:"🚚",label:"Envío Gratis",value:"Pedidos +$150.000"},{icon:"⭐",label:"Calificación Promedio",value:"4.8/5"},{icon:"🔒",label:"Pago Seguro",value:"100%"},{icon:"🔄",label:"Garantía de Devolución",value:"30 días"}].map((m,v)=>d.jsxs("div",{style:me.statBox,children:[d.jsx("div",{style:{fontSize:"30px"},children:m.icon}),d.jsx("h3",{style:{color:"#16a34a"},children:m.value}),d.jsx("p",{children:m.label})]},v))}),d.jsxs("div",{style:me.categoriesSection,children:[d.jsx("h2",{style:me.sectionTitle,children:"Explora Nuestras Categorías"}),d.jsx("div",{style:me.categoriesGrid,children:[{name:"Electrónicos",icon:"💻",color:"#e0f2fe"},{name:"Moda",icon:"👕",color:"#fef3c7"},{name:"Hogar",icon:"🏠",color:"#dcfce7"},{name:"Belleza",icon:"💄",color:"#fce7f3"},{name:"Deportes",icon:"⚽",color:"#dbeafe"},{name:"Juguetes",icon:"🧸",color:"#f3e8ff"}].map((m,v)=>d.jsx(ot,{to:"/productos",style:{textDecoration:"none"},children:d.jsxs("div",{style:{...me.categoryCard,backgroundColor:m.color},children:[d.jsx("div",{style:me.categoryIcon,children:m.icon}),d.jsx("h3",{style:me.categoryName,children:m.name})]})},v))})]}),d.jsx("div",{style:me.aboutSection,children:d.jsxs("div",{style:me.aboutContent,children:[d.jsxs("div",{style:me.aboutText,children:[d.jsx("h2",{style:{...me.sectionTitle,textAlign:"left",marginBottom:"20px"},children:"Sobre Nosotros"}),d.jsxs("p",{style:me.aboutParagraph,children:["En ",d.jsx("strong",{style:{color:"#16a34a"},children:"Moñitos"}),", nos dedicamos a ofrecer productos de la más alta calidad que mejoran tu vida cotidiana."]}),d.jsx("p",{style:me.aboutParagraph,children:"Fundada en 2020, nuestra tienda ha crecido hasta convertirse en un referente de innovación y excelencia en el mercado colombiano."}),d.jsx("p",{style:me.aboutParagraph,children:"Nuestro equipo trabaja incansablemente para seleccionar los mejores productos y garantizar una experiencia de compra excepcional."}),d.jsx(ot,{to:"/nosotros",style:{textDecoration:"none"},children:d.jsx(St,{variant:"outline",size:"md",children:"Conoce Nuestra Historia"})})]}),d.jsx("div",{style:me.aboutImageContainer,children:d.jsx(hu,{src:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&h=400",alt:"Nuestro equipo",style:me.aboutImage})})]})}),d.jsxs("div",{style:me.testimonialsSection,children:[d.jsx("h2",{style:me.sectionTitle,children:"Lo Que Dicen Nuestros Clientes"}),d.jsx("div",{style:me.testimonialsGrid,children:[{name:"María González",role:"Cliente Frecuente",image:"https://randomuser.me/api/portraits/women/44.jpg",text:"Los productos son de excelente calidad y el servicio al cliente es excepcional. ¡Totalmente recomendado!",rating:5},{name:"Carlos Rodríguez",role:"Comprador Nuevo",image:"https://randomuser.me/api/portraits/men/32.jpg",text:"Me encantó la rapidez del envío y la calidad del producto. Definitivamente volveré a comprar.",rating:4},{name:"Laura Martínez",role:"Cliente Habitual",image:"https://randomuser.me/api/portraits/women/68.jpg",text:"Siempre encuentro lo que necesito a precios muy competitivos. El servicio post-venta es inmejorable.",rating:5}].map((m,v)=>d.jsxs("div",{style:me.testimonialCard,children:[d.jsxs("div",{style:me.testimonialHeader,children:[d.jsx("img",{src:m.image,alt:m.name,style:me.testimonialImage}),d.jsxs("div",{children:[d.jsx("h4",{style:me.testimonialName,children:m.name}),d.jsx("p",{style:me.testimonialRole,children:m.role})]})]}),d.jsxs("p",{style:me.testimonialText,children:['"',m.text,'"']}),d.jsx("div",{style:me.testimonialRating,children:d.jsx(Sx,{rating:m.rating,maxStars:5})})]},v))})]}),d.jsxs("div",{style:me.blogSection,children:[d.jsx("h2",{style:me.sectionTitle,children:"Últimas Publicaciones"}),d.jsx("div",{style:me.blogGrid,children:[{title:"Cómo elegir el producto perfecto para tus necesidades",excerpt:"Descubre los factores clave que debes considerar antes de realizar tu próxima compra...",image:"https://images.pexels.com/photos/1181605/pexels-photo-1181605.jpeg?auto=compress&cs=tinysrgb&h=200",date:"15 Jun 2023"},{title:"Tendencias de este año que no te puedes perder",excerpt:"Las últimas innovaciones y diseños que están revolucionando el mercado...",image:"https://images.pexels.com/photos/196655/pexels-photo-196655.jpeg?auto=compress&cs=tinysrgb&h=200",date:"2 Jul 2023"},{title:"Guía de mantenimiento para prolongar la vida de tus productos",excerpt:"Consejos prácticos para cuidar tus artículos y mantenerlos como nuevos por más tiempo...",image:"https://images.pexels.com/photos/4195342/pexels-photo-4195342.jpeg?auto=compress&cs=tinysrgb&h=200",date:"28 Jul 2023"}].map((m,v)=>d.jsxs("div",{style:me.blogCard,children:[d.jsxs("div",{style:me.blogImageContainer,children:[d.jsx("img",{src:m.image,alt:m.title,style:me.blogImage}),d.jsx("div",{style:me.blogDate,children:m.date})]}),d.jsxs("div",{style:me.blogContent,children:[d.jsx("h3",{style:me.blogTitle,children:m.title}),d.jsx("p",{style:me.blogExcerpt,children:m.excerpt}),d.jsx(ot,{to:"/blog",style:me.blogReadMore,children:"Leer más →"})]})]},v))}),d.jsx("div",{style:me.viewAllContainer,children:d.jsx(ot,{to:"/blog",style:me.viewAllLink,children:"Ver todas las publicaciones"})})]}),d.jsx("div",{style:me.contactSection,children:d.jsxs("div",{style:me.contactContent,children:[d.jsxs("div",{style:me.contactInfo,children:[d.jsx("h2",{style:{...me.sectionTitle,textAlign:"left",color:"#fff"},children:"Contáctanos"}),d.jsx("p",{style:me.contactText,children:"Estamos aquí para ayudarte. No dudes en ponerte en contacto con nosotros para cualquier consulta o sugerencia."}),d.jsxs("div",{style:me.contactMethod,children:[d.jsx("div",{style:me.contactIcon,children:"📍"}),d.jsxs("div",{children:[d.jsx("h4",{style:me.contactMethodTitle,children:"Dirección"}),d.jsx("p",{style:me.contactMethodText,children:"Calle Principal #123, Bogotá, Colombia"})]})]}),d.jsxs("div",{style:me.contactMethod,children:[d.jsx("div",{style:me.contactIcon,children:"📞"}),d.jsxs("div",{children:[d.jsx("h4",{style:me.contactMethodTitle,children:"Teléfono"}),d.jsx("p",{style:me.contactMethodText,children:"+57 123 456 7890"})]})]}),d.jsxs("div",{style:me.contactMethod,children:[d.jsx("div",{style:me.contactIcon,children:"✉️"}),d.jsxs("div",{children:[d.jsx("h4",{style:me.contactMethodTitle,children:"Email"}),d.jsx("p",{style:me.contactMethodText,children:"info@monitos.com"})]})]}),d.jsxs("div",{style:me.contactSocial,children:[d.jsx("span",{style:me.contactSocialIcon,children:"📘"}),d.jsx("span",{style:me.contactSocialIcon,children:"📷"}),d.jsx("span",{style:me.contactSocialIcon,children:"🐦"}),d.jsx("span",{style:me.contactSocialIcon,children:"🎵"})]})]}),d.jsxs("div",{style:me.contactForm,children:[d.jsx("h3",{style:me.contactFormTitle,children:"Envíanos un mensaje"}),d.jsx("div",{style:me.formGroup,children:d.jsx("input",{type:"text",placeholder:"Nombre completo",style:me.formInput})}),d.jsx("div",{style:me.formGroup,children:d.jsx("input",{type:"email",placeholder:"Correo electrónico",style:me.formInput})}),d.jsx("div",{style:me.formGroup,children:d.jsx("input",{type:"text",placeholder:"Asunto",style:me.formInput})}),d.jsx("div",{style:me.formGroup,children:d.jsx("textarea",{placeholder:"Tu mensaje",style:me.formTextarea})}),d.jsx(St,{variant:"primary",size:"md",children:"Enviar Mensaje"})]})]})}),d.jsx("div",{style:me.newsletterSection,children:d.jsxs("div",{style:me.newsletterContent,children:[d.jsx("h2",{style:me.newsletterTitle,children:"Suscríbete a Nuestro Newsletter"}),d.jsx("p",{style:me.newsletterText,children:"Recibe las últimas novedades, ofertas exclusivas y consejos directamente en tu bandeja de entrada."}),d.jsxs("div",{style:me.newsletterForm,children:[d.jsx("input",{type:"email",placeholder:"Tu correo electrónico",style:me.newsletterInput}),d.jsx(St,{variant:"primary",size:"md",children:"Suscribirse"})]})]})}),d.jsx(yl,{}),d.jsx("style",{children:`
        .productos-grid { 
          display: grid; 
          grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
          gap: 18px; 
        }
        .skeleton-card {
          background-color: #fff;
          border-radius: 8px;
          padding: 16px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.05);
          display: flex;
          flex-direction: column;
          gap: 12px;
          height: 300px;
        }
        .skeleton-image {
          width: 100%;
          height: 150px;
          background-color: #f0f0f0;
          border-radius: 6px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-title {
          height: 24px;
          width: 80%;
          background-color: #f0f0f0;
          border-radius: 4px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-price {
          height: 18px;
          width: 40%;
          background-color: #f0f0f0;
          border-radius: 4px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-button {
          height: 36px;
          width: 100%;
          background-color: #f0f0f0;
          border-radius: 4px;
          margin-top: auto;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .no-products-message {
          grid-column: 1 / -1;
          text-align: center;
          padding: 40px 0;
          color: #666;
        }
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }
      `})]})}const me={heroSection:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",padding:"40px 20px",alignItems:"center",backgroundColor:"#f5f7fa"},textContent:{flex:"1 1 400px",maxWidth:"600px"},title:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px",color:"#16a34a"},description:{fontSize:"16px",color:"#555",marginBottom:"24px",lineHeight:"1.6"},buttonGroup:{display:"flex",gap:"10px"},imageContainer:{position:"relative",flex:"1 1 300px",marginTop:"20px"},mainImage:{width:"100%",borderRadius:"12px",objectFit:"cover",maxHeight:"320px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},colorAnalysisCard:{position:"absolute",bottom:"10px",left:"10px",background:"#fff",padding:"8px 12px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},colorDotContainer:{display:"flex",justifyContent:"center",marginBottom:"4px",gap:"5px"},colorDot:{width:"14px",height:"14px",borderRadius:"50%"},statsContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",padding:"40px 20px",backgroundColor:"#f0fdf4"},statBox:{backgroundColor:"#fff",padding:"20px",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",transition:"transform 0.2s",cursor:"default",border:"1px solid #e5e7eb","&:hover":{transform:"translateY(-5px)"}},productsSection:{padding:"40px 20px",backgroundColor:"#fff"},sectionTitle:{fontSize:"28px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",color:"#16a34a"},viewAllContainer:{textAlign:"center",marginTop:"30px"},viewAllLink:{display:"inline-block",color:"#16a34a",fontWeight:"600",textDecoration:"none",padding:"10px 20px",border:"1px solid #16a34a",borderRadius:"6px",transition:"background-color 0.2s, color 0.2s","&:hover":{backgroundColor:"#16a34a",color:"#fff"}},loginPromptSection:{padding:"60px 20px",backgroundColor:"#f0fdf4",display:"flex",justifyContent:"center",alignItems:"center"},loginPromptCard:{backgroundColor:"#fff",borderRadius:"12px",padding:"30px",maxWidth:"500px",textAlign:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",border:"1px solid #e5e7eb"},lockIcon:{fontSize:"40px",color:"#16a34a",marginBottom:"15px"},loginPromptTitle:{fontSize:"24px",fontWeight:"bold",color:"#16a34a",marginBottom:"15px"},loginPromptText:{fontSize:"16px",color:"#555",marginBottom:"25px",lineHeight:"1.6"},loginButtonsContainer:{display:"flex",justifyContent:"center",gap:"15px"},categoriesSection:{padding:"60px 20px",backgroundColor:"#fff"},categoriesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",maxWidth:"1200px",margin:"0 auto"},categoryCard:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"25px 15px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer",height:"150px","&:hover":{transform:"translateY(-5px)",boxShadow:"0 8px 16px rgba(0,0,0,0.1)"}},categoryIcon:{fontSize:"40px",marginBottom:"15px"},categoryName:{fontSize:"16px",fontWeight:"600",margin:0,color:"#333"},aboutSection:{padding:"60px 20px",backgroundColor:"#f5f7fa"},aboutContent:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto",gap:"40px"},aboutText:{flex:"1 1 400px"},aboutParagraph:{fontSize:"16px",color:"#555",marginBottom:"20px",lineHeight:"1.6"},aboutImageContainer:{flex:"1 1 400px"},aboutImage:{width:"100%",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},testimonialsSection:{padding:"60px 20px",backgroundColor:"#f0fdf4"},testimonialsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px",maxWidth:"1200px",margin:"0 auto"},testimonialCard:{backgroundColor:"#fff",borderRadius:"12px",padding:"25px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",gap:"15px",transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)"}},testimonialHeader:{display:"flex",alignItems:"center",gap:"15px"},testimonialImage:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"},testimonialName:{fontSize:"18px",fontWeight:"600",margin:0,color:"#333"},testimonialRole:{fontSize:"14px",color:"#666",margin:0},testimonialText:{fontSize:"16px",color:"#555",lineHeight:"1.6",fontStyle:"italic"},testimonialRating:{marginTop:"auto"},blogSection:{padding:"60px 20px",backgroundColor:"#fff"},blogGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"30px",maxWidth:"1200px",margin:"0 auto"},blogCard:{backgroundColor:"#fff",borderRadius:"12px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)"}},blogImageContainer:{position:"relative"},blogImage:{width:"100%",height:"180px",objectFit:"cover"},blogDate:{position:"absolute",bottom:"10px",left:"10px",backgroundColor:"#16a34a",color:"#fff",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},blogContent:{padding:"20px"},blogTitle:{fontSize:"18px",fontWeight:"600",marginBottom:"10px",color:"#333"},blogExcerpt:{fontSize:"14px",color:"#555",marginBottom:"15px",lineHeight:"1.6"},blogReadMore:{fontSize:"14px",color:"#16a34a",fontWeight:"600",textDecoration:"none",display:"inline-block"},contactSection:{padding:"60px 20px",backgroundColor:"#16a34a",color:"#fff"},contactContent:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",maxWidth:"1200px",margin:"0 auto",gap:"40px"},contactInfo:{flex:"1 1 400px"},contactText:{fontSize:"16px",marginBottom:"30px",lineHeight:"1.6"},contactMethod:{display:"flex",alignItems:"flex-start",gap:"15px",marginBottom:"20px"},contactIcon:{fontSize:"24px"},contactMethodTitle:{fontSize:"18px",fontWeight:"600",margin:"0 0 5px 0"},contactMethodText:{fontSize:"16px",margin:0},contactSocial:{display:"flex",gap:"15px",marginTop:"30px"},contactSocialIcon:{fontSize:"24px",cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"scale(1.2)"}},contactForm:{flex:"1 1 400px",backgroundColor:"#fff",padding:"30px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},contactFormTitle:{fontSize:"22px",fontWeight:"600",marginBottom:"20px",color:"#333"},formGroup:{marginBottom:"15px"},formInput:{width:"100%",padding:"12px 15px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"16px",outline:"none",transition:"border-color 0.2s","&:focus":{borderColor:"#16a34a"}},formTextarea:{width:"100%",padding:"12px 15px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"16px",minHeight:"120px",outline:"none",transition:"border-color 0.2s","&:focus":{borderColor:"#16a34a"}},newsletterSection:{padding:"60px 20px",backgroundColor:"#f5f7fa",textAlign:"center"},newsletterContent:{maxWidth:"700px",margin:"0 auto"},newsletterTitle:{fontSize:"28px",fontWeight:"bold",marginBottom:"15px",color:"#16a34a"},newsletterText:{fontSize:"16px",color:"#555",marginBottom:"25px",lineHeight:"1.6"},newsletterForm:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center"},newsletterInput:{flex:"1 1 300px",padding:"12px 15px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"16px",outline:"none",transition:"border-color 0.2s","&:focus":{borderColor:"#16a34a"}}};function BU(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(t)}function $S(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m2 22 14-5-9-9zM14.53 12.53l5.59-5.59a1.25 1.25 0 0 1 1.77 0l.59.59 1.06-1.06-.59-.59a2.758 2.758 0 0 0-3.89 0l-5.59 5.59 1.06 1.06zM10.06 6.88l-.59.59 1.06 1.06.59-.59a2.758 2.758 0 0 0 0-3.89l-.59-.59-1.06 1.07.59.59c.48.48.48 1.28 0 1.76zM17.06 11.88l-1.59 1.59 1.06 1.06 1.59-1.59a1.25 1.25 0 0 1 1.77 0l1.61 1.61 1.06-1.06-1.61-1.61a2.758 2.758 0 0 0-3.89 0zM15.06 5.88l-3.59 3.59 1.06 1.06 3.59-3.59a2.758 2.758 0 0 0 0-3.89l-1.59-1.59-1.06 1.06 1.59 1.59c.48.49.48 1.29 0 1.77z"},child:[]}]})(t)}function UU(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(t)}function FU(t){return pi({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"},child:[]}]})(t)}function HU(){const[t,e]=I.useState(null),n=[{id:1,title:"Moños de satén: Elegancia en cada detalle",summary:"Descubre por qué los moños de satén son perfectos para ocasiones especiales.",icon:d.jsx(wv,{size:80,color:"#ff6b6b"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Los moños de satén son una de las opciones más elegantes para cualquier ocasión especial. Su brillo característico y textura suave los convierten en el accesorio perfecto para eventos formales como bodas, graduaciones o fiestas de gala."}),d.jsx("p",{children:"En nuestra colección encontrarás moños de satén en una amplia gama de colores, desde los clásicos negro y blanco hasta tonos pastel y vibrantes que añadirán un toque de color a cualquier conjunto."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#000000"},children:"Negro"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ffffff",color:"#333"},children:"Blanco"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ff6b6b"},children:"Coral"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#48dbfb"},children:"Azul cielo"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#1dd1a1"},children:"Menta"})]}),d.jsx("h3",{children:"Cómo cuidar tus moños de satén"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Guárdalos en un lugar seco y protegido del polvo"}),d.jsx("li",{children:"Evita el contacto con perfumes o productos químicos"}),d.jsx("li",{children:"Si necesitas plancharlos, hazlo a baja temperatura"}),d.jsx("li",{children:"Para manchas leves, limpia con un paño húmedo y jabón neutro"}),d.jsx("li",{children:"Deja secar al aire libre, evitando la exposición directa al sol"})]}),d.jsx("p",{children:"¿Sabías que el satén fue originalmente fabricado con seda pura? Hoy en día, nuestros moños de satén combinan fibras naturales y sintéticas para ofrecer durabilidad sin sacrificar la elegancia."}),d.jsx("h3",{children:"Ocasiones perfectas para moños de satén"}),d.jsxs("div",{className:"occasion-icons",children:[d.jsxs("div",{className:"occasion-item",children:[d.jsx($9,{size:30}),d.jsx("span",{children:"Graduaciones"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx($S,{size:30}),d.jsx("span",{children:"Bodas"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(F9,{size:30}),d.jsx("span",{children:"Cumpleaños"})]})]})]})},{id:2,title:"Moños de organza: Ligereza y volumen",summary:"La organza es perfecta para crear moños voluminosos y llamativos.",icon:d.jsx(wv,{size:80,color:"#48dbfb"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"La organza es un tejido ligero y transparente que permite crear moños con mucho volumen y un aspecto etéreo. Es ideal para decoraciones de eventos, regalos especiales o como complemento en peinados infantiles."}),d.jsx("p",{children:"Nuestros moños de organza están disponibles en colores pastel, neón y multicolor, perfectos para añadir un toque de fantasía a cualquier ocasión."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ff9ff3"},children:"Rosa pastel"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#feca57"},children:"Amarillo"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#54a0ff"},children:"Azul"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#ff6b6b"},children:"Coral"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#1dd1a1"},children:"Menta"})]}),d.jsx("h3",{children:"Ventajas de los moños de organza"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Mantienen su forma y volumen durante más tiempo"}),d.jsx("li",{children:"Son ligeros y no añaden peso al cabello"}),d.jsx("li",{children:"Permiten crear diseños más elaborados y fantasiosos"}),d.jsx("li",{children:"Disponibles en acabados brillantes o mate"}),d.jsx("li",{children:"Ideales para combinar con otros materiales"})]}),d.jsx("p",{children:"La organza es uno de los materiales más versátiles para la creación de moños, permitiendo desde diseños delicados hasta extravagantes creaciones multicolor."}),d.jsx("h3",{children:"Usos populares de moños de organza"}),d.jsxs("div",{className:"occasion-icons",children:[d.jsxs("div",{className:"occasion-item",children:[d.jsx(IS,{size:30}),d.jsx("span",{children:"Decoración de regalos"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(H9,{size:30}),d.jsx("span",{children:"Accesorios infantiles"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(fN,{size:30}),d.jsx("span",{children:"Decoración de bodas"})]})]})]})},{id:3,title:"Moños de terciopelo: Lujo y calidez",summary:"El terciopelo aporta textura y sofisticación a nuestros moños de temporada.",icon:d.jsx(wv,{size:80,color:"#8e44ad"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Los moños de terciopelo son sinónimo de lujo y calidez, perfectos para la temporada otoño-invierno. Su textura suave y aspecto aterciopelado los convierte en un accesorio sofisticado para cualquier ocasión."}),d.jsx("p",{children:"Nuestra colección de moños de terciopelo incluye tonos joya como burdeos, esmeralda y zafiro, así como clásicos como negro y azul marino que combinan con cualquier atuendo."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#8e44ad"},children:"Púrpura"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#c0392b"},children:"Burdeos"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#27ae60"},children:"Esmeralda"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#2c3e50"},children:"Azul marino"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#000000"},children:"Negro"})]}),d.jsx("h3",{children:"Ocasiones ideales para moños de terciopelo"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Celebraciones navideñas y de fin de año"}),d.jsx("li",{children:"Eventos formales durante el invierno"}),d.jsx("li",{children:"Como complemento para peinados de fiesta"}),d.jsx("li",{children:"Ceremonias de premiación y galas"}),d.jsx("li",{children:"Eventos de temporada otoño-invierno"})]}),d.jsx("p",{children:"El terciopelo es un material atemporal que nunca pasa de moda, por lo que un moño de terciopelo es una inversión que podrás utilizar durante muchas temporadas."}),d.jsx("h3",{children:"Combinaciones perfectas"}),d.jsx("p",{children:"Los moños de terciopelo combinan perfectamente con:"}),d.jsxs("div",{className:"occasion-icons",children:[d.jsxs("div",{className:"occasion-item",children:[d.jsx(G9,{size:30}),d.jsx("span",{children:"Vestidos de noche"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(K9,{size:30}),d.jsx("span",{children:"Eventos de gala"})]}),d.jsxs("div",{className:"occasion-item",children:[d.jsx(W9,{size:30}),d.jsx("span",{children:"Atuendos monocromáticos"})]})]})]})},{id:4,title:"Moños para ocasiones especiales: Guía completa",summary:"Aprende a elegir el moño perfecto según la ocasión y tu estilo personal.",icon:d.jsx($S,{size:80,color:"#ff6b6b"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Elegir el moño adecuado para cada ocasión puede marcar la diferencia en tu look. En esta guía te ofrecemos consejos para seleccionar el material, color y tamaño perfectos según el evento y tu estilo personal."}),d.jsx("h3",{children:"Bodas y eventos formales"}),d.jsx("p",{children:"Para bodas y eventos formales, recomendamos moños de satén o encaje en tonos que complementen tu atuendo. Los moños pequeños o medianos son más elegantes y sofisticados."}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para eventos formales:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moños de satén en tonos metálicos (plata, oro, champagne)"}),d.jsx("li",{children:"Moños de encaje que combinen con el vestido"}),d.jsx("li",{children:"Moños con detalles de pedrería para ocasiones muy especiales"}),d.jsx("li",{children:"Tamaños medianos que no compitan con el resto del atuendo"})]})]}),d.jsx("h3",{children:"Eventos casuales"}),d.jsx("p",{children:"Para el día a día o eventos casuales, los moños de algodón o cintas de grosgrain en colores vivos son perfectos. Puedes optar por diseños más grandes y llamativos."}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para eventos casuales:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moños de algodón estampado (lunares, rayas, flores)"}),d.jsx("li",{children:"Moños de grosgrain en colores vibrantes"}),d.jsx("li",{children:"Moños con temáticas divertidas según la ocasión"}),d.jsx("li",{children:"Tamaños más grandes y llamativos"})]})]}),d.jsx("h3",{children:"Eventos infantiles"}),d.jsx("p",{children:"Para las más pequeñas, los moños de organza multicolor o con estampados divertidos son ideales. También puedes considerar moños con adornos como lentejuelas o pequeños apliques."}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para niñas:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moños de organza en colores pastel o multicolor"}),d.jsx("li",{children:"Moños con personajes infantiles o temáticas divertidas"}),d.jsx("li",{children:"Moños con apliques de flores, estrellas o corazones"}),d.jsx("li",{children:"Sets de moños pequeños en diferentes colores"})]})]}),d.jsx("p",{children:"Recuerda que lo más importante es que el moño refleje tu personalidad y te haga sentir cómoda y segura."})]})},{id:5,title:"Tendencias en moños para esta temporada",summary:"Descubre los colores, materiales y estilos que están marcando tendencia.",icon:d.jsx(BU,{size:80,color:"#ff6b6b"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Las tendencias en moños cambian cada temporada, y estar al día te ayudará a mantener tu look fresco y actual. Este año, estamos viendo un regreso a los materiales naturales y sostenibles."}),d.jsx("h3",{children:"Colores tendencia"}),d.jsx("p",{children:"Los tonos tierra como terracota, ocre y marrón están dominando las colecciones de esta temporada, junto con el siempre elegante verde oliva y el azul índigo."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#d35400"},children:"Terracota"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#f39c12"},children:"Ocre"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#795548"},children:"Marrón"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#556b2f"},children:"Verde oliva"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#3498db"},children:"Azul índigo"})]}),d.jsx("h3",{children:"Materiales innovadores"}),d.jsx("p",{children:"Los moños fabricados con materiales reciclados o sostenibles están ganando popularidad. También vemos un aumento en el uso de materiales con textura como el lino y el cáñamo."}),d.jsxs("div",{className:"material-gallery",children:[d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#dfe6e9"}}),d.jsx("span",{children:"Lino"})]}),d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#c7ecee"}}),d.jsx("span",{children:"Algodón orgánico"})]}),d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#fab1a0"}}),d.jsx("span",{children:"Cáñamo"})]}),d.jsxs("div",{className:"material-item",children:[d.jsx("div",{className:"material-icon",style:{backgroundColor:"#ffeaa7"}}),d.jsx("span",{children:"Materiales reciclados"})]})]}),d.jsx("h3",{children:"Estilos destacados"}),d.jsx("p",{children:"Los moños oversized continúan siendo tendencia, especialmente para eventos casuales. Para ocasiones formales, los moños minimalistas con detalles metálicos están captando todas las miradas."}),d.jsx("p",{children:"Nuestra nueva colección incorpora todas estas tendencias, permitiéndote estar a la vanguardia de la moda en accesorios."})]})},{id:6,title:"Moños para eventos escolares y académicos",summary:"Descubre los mejores moños para uniformes y eventos educativos.",icon:d.jsx(FU,{size:80,color:"#3498db"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Los moños son un complemento clásico para uniformes escolares y eventos académicos. En este artículo te presentamos opciones elegantes y prácticas para el entorno educativo."}),d.jsx("h3",{children:"Moños para uniformes escolares"}),d.jsx("p",{children:"Los moños para uniformes escolares deben ser prácticos, duraderos y fáciles de colocar. Recomendamos opciones en colores clásicos como azul marino, burdeos, verde oscuro o negro, que combinan con la mayoría de los uniformes."}),d.jsxs("div",{className:"color-palette",children:[d.jsx("div",{className:"color-sample",style:{backgroundColor:"#2c3e50"},children:"Azul marino"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#c0392b"},children:"Burdeos"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#27ae60"},children:"Verde oscuro"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#000000"},children:"Negro"}),d.jsx("div",{className:"color-sample",style:{backgroundColor:"#7f8c8d"},children:"Gris"})]}),d.jsx("h3",{children:"Características ideales"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Fabricados con materiales resistentes como grosgrain o poliéster"}),d.jsx("li",{children:"Con clip o elástico para fácil colocación"}),d.jsx("li",{children:"Diseños clásicos que cumplan con las normas escolares"}),d.jsx("li",{children:"Resistentes al lavado frecuente"}),d.jsx("li",{children:"Disponibles en packs de varios colores para alternar"})]}),d.jsx("h3",{children:"Para eventos académicos especiales"}),d.jsx("p",{children:"Para graduaciones, premiaciones o eventos académicos especiales, recomendamos moños más elaborados que mantengan la elegancia y formalidad:"}),d.jsxs("div",{className:"recommendation-box",children:[d.jsx("h4",{children:"Recomendaciones para eventos académicos:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Moños de satén en colores institucionales"}),d.jsx("li",{children:"Moños con pequeños detalles metálicos"}),d.jsx("li",{children:"Moños con bordes en colores contrastantes"}),d.jsx("li",{children:"Sets coordinados para grupos o equipos"})]})]}),d.jsx("p",{children:"Nuestra colección escolar incluye opciones para todas las edades, desde preescolar hasta universidad, siempre manteniendo la calidad y durabilidad que caracteriza a nuestros productos."})]})},{id:7,title:"Cómo hacer tus propios moños: Tutorial paso a paso",summary:"Aprende a crear moños personalizados con materiales que tienes en casa.",icon:d.jsx(IS,{size:80,color:"#2ecc71"}),content:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Crear tus propios moños es una actividad divertida y creativa que te permite personalizar tus accesorios. En este tutorial te enseñamos cómo hacer moños básicos con materiales sencillos."}),d.jsx("h3",{children:"Materiales necesarios"}),d.jsxs("ul",{children:[d.jsx("li",{children:"Cinta del material de tu preferencia (satén, grosgrain, organza)"}),d.jsx("li",{children:"Tijeras"}),d.jsx("li",{children:"Aguja e hilo o pistola de silicona"}),d.jsx("li",{children:"Clip para el cabello, diadema o elástico"}),d.jsx("li",{children:"Encendedor (opcional, para sellar bordes)"}),d.jsx("li",{children:"Adornos adicionales (opcional: pedrería, botones, apliques)"})]}),d.jsx("h3",{children:"Paso a paso: Moño básico"}),d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Corta la cinta:"})," Para un moño mediano, corta aproximadamente 30 cm de cinta."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Dobla en forma de lazo:"})," Forma un lazo con la cinta, dejando los extremos iguales."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Asegura el centro:"})," Pellizca el centro del lazo y asegúralo con hilo, creando la forma característica del moño."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Cubre el centro:"})," Corta un pequeño trozo de cinta y envuélvelo alrededor del centro para darle un acabado profesional."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Añade el soporte:"})," Cose o pega el clip, diadema o elástico en la parte posterior del moño."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Decora (opcional):"})," Añade pedrería, lentejuelas o cualquier adorno que desees para personalizar tu creación."]})]}),d.jsx("h3",{children:"Variaciones creativas"}),d.jsx("p",{children:"Una vez que domines la técnica básica, puedes experimentar con estas variaciones:"}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Moño doble:"})," Superpón dos lazos de diferentes tamaños o colores."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Moño en capas:"})," Utiliza varias capas de cinta para crear volumen."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Moño con cola:"})," Deja extremos largos para crear un efecto cascada."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Moño con centro decorativo:"})," Utiliza un botón, perla o aplique como centro del moño."]})]}),d.jsx("p",{children:"Recuerda que la práctica hace al maestro. ¡No te desanimes si tus primeros intentos no quedan perfectos! Con el tiempo mejorarás tu técnica y podrás crear diseños cada vez más elaborados."})]})}];return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsxs("div",{className:"blog-container",children:[d.jsxs("div",{className:"blog-header",children:[d.jsx("h1",{children:"Blog de Lazos para el Cabello"}),d.jsx("p",{children:"Consejos, tendencias y tutoriales para lucir lazos perfectos a cualquier edad"})]}),t?d.jsxs("div",{className:"article-detail",children:[d.jsx("button",{className:"back-button",onClick:()=>e(null),children:"← Volver"}),d.jsx("h2",{children:n.find(i=>i.id===t).title}),d.jsx("div",{className:"article-icon-large",children:n.find(i=>i.id===t).icon}),d.jsx("div",{className:"article-content",children:n.find(i=>i.id===t).content})]}):d.jsx("div",{className:"articles-grid",children:n.map(i=>d.jsxs("div",{className:"article-card",children:[d.jsx("div",{className:"article-icon",children:i.icon}),d.jsx("h3",{children:i.title}),d.jsx("p",{children:i.summary}),d.jsxs("div",{className:"content-preview",children:[i.title.includes("Satén")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Colores populares:"})," Rosa pastel, Azul cielo, Blanco perla"]}),i.title.includes("Organza")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Ideal para:"})," Eventos formales, Bodas, Ceremonias"]}),i.title.includes("Terciopelo")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Temporada:"})," Otoño-Invierno, Eventos nocturnos"]}),i.title.includes("Ocasiones")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Eventos:"})," Cumpleaños, Graduaciones, Fiestas temáticas"]}),i.title.includes("Tendencias")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Destacados:"})," Lazos XL, Diseños geométricos, Tonos metálicos"]}),i.title.includes("Escolares")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Estilos:"})," Clásicos, Uniformes, Colores institucionales"]}),i.title.includes("Tutorial")&&d.jsxs(d.Fragment,{children:[d.jsx("strong",{children:"Dificultad:"})," Media, 20 minutos aprox., Materiales básicos"]})]}),d.jsxs("button",{className:"read-more",onClick:()=>e(i.id),children:["Ver artículo completo ",d.jsx(UU,{style:{marginLeft:"5px"}})]})]},i.id))})]})]})}function qU(){return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsxs("div",{style:qi.container,children:[d.jsx("h2",{style:qi.title,children:"Get In Touch"}),d.jsx("p",{style:qi.subtitle,children:"Have questions about our products or services? Reach out to our team of experts."}),d.jsxs("div",{style:qi.contactSection,children:[d.jsxs("div",{style:qi.info,children:[d.jsx("p",{children:"📍 Cajamarca, Tolima, Colombia"}),d.jsx("p",{children:"📞 +1 (555) 123-4567"}),d.jsx("p",{children:"✉️ info@monitos.com"}),d.jsx("p",{children:"🕐 Monday - Friday: 9 AM - 6 PM"}),d.jsxs("div",{style:qi.socialIcons,children:[d.jsx("span",{children:"🌐"}),d.jsx("span",{children:"📷"}),d.jsx("span",{children:"🐦"}),d.jsx("span",{children:"🔗"})]})]}),d.jsxs("form",{style:qi.form,children:[d.jsx("input",{type:"text",placeholder:"Your Name",style:qi.input}),d.jsx("input",{type:"email",placeholder:"Your Email",style:qi.input}),d.jsx("input",{type:"text",placeholder:"Subject",style:qi.input}),d.jsx("textarea",{placeholder:"Your Message",rows:"5",style:qi.textarea}),d.jsx(St,{type:"submit",variant:"primary",style:qi.buttonOverride,children:"Send Message"})]})]}),d.jsx("div",{style:qi.mapContainer,children:d.jsx("iframe",{title:"map",width:"100%",height:"300",frameBorder:"0",style:{border:0},src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1591.9000000000001!2d-75.65000000000001!3d4.433333333333334!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e38c51f00000001%3A0x0!2sCajamarca%2C%20Tolima%2C%20Colombia!5e0!3m2!1ses-419!2sco!4v1678888888888!5m2!1ses-419!2sco",allowFullScreen:"",loading:"lazy"})})]})]})}const qi={container:{padding:"40px 20px",maxWidth:"1200px",margin:"auto"},title:{fontSize:"32px",fontWeight:"bold",marginBottom:"10px"},subtitle:{fontSize:"16px",color:"#555",marginBottom:"30px"},contactSection:{display:"flex",flexWrap:"wrap",gap:"40px",marginBottom:"40px"},info:{flex:"1 1 300px",lineHeight:"1.8",fontSize:"16px",color:"#333"},socialIcons:{marginTop:"10px",display:"flex",gap:"10px",fontSize:"20px"},form:{flex:"1 1 400px",display:"flex",flexDirection:"column",gap:"15px"},input:{padding:"12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px"},textarea:{padding:"12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",resize:"vertical"},buttonOverride:{width:"100%"},mapContainer:{borderRadius:"10px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"}};function $U(){const{user:t,loginUser:e,loginWithGoogle:n}=xo(),[i,s]=I.useState(""),[a,l]=I.useState(""),[u,h]=I.useState(!1),[p,m]=I.useState(!1),[v,b]=I.useState(!1),_=yr();I.useEffect(()=>{t&&_("/")},[t]);const E=async A=>{A.preventDefault(),b(!0);try{await e(i,a,p),_e.fire({icon:"success",title:"¡Bienvenido!",text:"Inicio de sesión exitoso",timer:1500,showConfirmButton:!1}),_("/")}catch(j){console.error("Error al iniciar sesión:",j);let B="Error al iniciar sesión",V="error";(j==null?void 0:j.code)==="auth/invalid-credential"&&(B="Credenciales inválidas"),(j==null?void 0:j.code)==="auth/user-not-found"&&(B="Usuario no encontrado"),(j==null?void 0:j.code)==="auth/wrong-password"&&(B="Contraseña incorrecta"),(j==null?void 0:j.code)==="auth/too-many-requests"&&(B="Demasiados intentos. Intenta más tarde.",V="warning"),_e.fire({icon:V,title:"Error",text:B})}finally{b(!1)}},C=async()=>{b(!0);try{await n(p),_e.fire({icon:"success",title:"¡Bienvenido!",text:"Inicio de sesión con Google exitoso",timer:1500,showConfirmButton:!1}),_("/")}catch(A){console.error("Error al iniciar sesión con Google:",A),_e.fire({icon:"error",title:"Error",text:"Error al iniciar sesión con Google"})}finally{b(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:v?d.jsx("div",{className:"loader-container",children:d.jsx(ql,{size:"lg",color:"#3b82f6",text:"Iniciando sesión..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Welcome Back"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your email and password to access your account."}),d.jsxs("form",{onSubmit:E,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:i,onChange:A=>s(A.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:u?"text":"password",placeholder:"Sellostore.",value:a,onChange:A=>l(A.target.value),required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>h(!u),children:u?d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),d.jsxs("div",{className:"auth-options",children:[d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:p,onChange:A=>m(A.target.checked)}),d.jsx("span",{className:"checkmark"}),"Remember Me"]}),d.jsx(ot,{to:"/reset-password",className:"forgot-link",children:"Forgot Your Password?"})]}),d.jsx(St,{type:"submit",variant:"primary",fullWidth:!0,className:"login-btn-override",disabled:v,children:"Log In"})]}),d.jsx("div",{className:"divider",children:d.jsx("span",{children:"Or Login With"})}),d.jsxs("div",{className:"social-buttons",children:[d.jsxs(St,{className:"social-btn google-btn",onClick:C,disabled:v,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"G"}),"Google"]}),d.jsxs(St,{className:"social-btn apple-btn",disabled:!0,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"🍎"}),"Apple"]})]}),d.jsxs("div",{className:"auth-switch",children:[d.jsx("span",{children:"Don't Have An Account? "}),d.jsx(ot,{to:"/register",children:"Register Now."})]})]})})}),d.jsx("style",{children:`
        .auth-page {
          min-height: 100vh;
          background: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          padding: 20px;
        }

        .auth-container {
          width: 100%;
          max-width: 400px;
          background: white;
        }

        .loader-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
        }

        .auth-title {
          font-size: 32px;
          font-weight: 700;
          color: #111827;
          text-align: center;
          margin-bottom: 8px;
          line-height: 1.2;
        }

        .auth-subtitle {
          font-size: 16px;
          color: #6b7280;
          text-align: center;
          margin-bottom: 32px;
          line-height: 1.5;
        }

        .auth-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
          margin-bottom: 24px;
        }

        .input-group {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }

        .input-group label {
          font-size: 14px;
          font-weight: 500;
          color: #111827;
          text-align: left;
        }

        .input-group input {
          padding: 12px 16px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 16px;
          background: #f9fafb;
          color: #111827;
          transition: all 0.2s ease;
          box-sizing: border-box;
          width: 100%;
        }

        .input-group input:focus {
          outline: none;
          border-color: #3b82f6;
          background: white;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .input-group input::placeholder {
          color: #9ca3af;
        }

        .password-input {
          position: relative;
          width: 100%;
          padding: 0;
        }

        .password-input input {
          padding-right: 50px;
          box-sizing: border-box;
          width: 100%;
        }

        .password-toggle {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
          border-radius: 4px;
          transition: background-color 0.2s;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .password-toggle:hover {
          background: #f3f4f6;
        }

        .auth-options {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 8px;
        }

        .checkbox-label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          color: #111827;
          cursor: pointer;
          user-select: none;
        }

        .checkbox-label input[type="checkbox"] {
          display: none;
        }

        .checkmark {
          width: 16px;
          height: 16px;
          border: 2px solid #d1d5db;
          border-radius: 4px;
          display: inline-block;
          position: relative;
          background: white;
          transition: all 0.2s ease;
        }

        .checkbox-label:hover .checkmark {
          border-color: #9ca3af;
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark {
          background: #3b82f6;
          border-color: #3b82f6;
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark:after {
          content: '✓';
          position: absolute;
          top: -1px;
          left: 2px;
          color: white;
          font-size: 12px;
          font-weight: bold;
        }

        .forgot-link {
          color: #3b82f6;
          text-decoration: none;
          font-size: 14px;
          font-weight: 500;
          transition: color 0.2s;
        }

        .forgot-link:hover {
          color: #2563eb;
          text-decoration: underline;
        }

        .login-btn-override {
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          transition: all 0.2s ease;
        }

        .login-btn-override:hover {
          transform: translateY(-1px);
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .login-btn-override:active {
          transform: translateY(0);
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before,
        .divider::after {
          content: '';
          position: absolute;
          top: 50%;
          width: 35%;
          height: 1px;
          background: #e5e7eb;
        }

        .divider::before {
          left: 0;
        }

        .divider::after {
          right: 0;
        }

        .divider span {
          background: white;
          padding: 0 16px;
          color: #6b7280;
          font-size: 14px;
          font-weight: 500;
        }

        .social-buttons {
          display: flex;
          gap: 12px;
          margin-bottom: 24px;
        }

        .social-btn {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 500;
          color: #111827;
        }

        .social-icon {
          font-size: 16px;
          font-weight: bold;
        }

        .google-btn .social-icon {
          background: linear-gradient(45deg, #4285f4, #ea4335, #fbbc05, #34a853);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .auth-switch {
          text-align: center;
          font-size: 14px;
          color: #6b7280;
        }

        .auth-switch a {
          color: #3b82f6;
          text-decoration: none;
          font-weight: 500;
          transition: color 0.2s;
        }

        .auth-switch a:hover {
          color: #2563eb;
          text-decoration: underline;
        }

        @media (max-width: 480px) {
          .auth-container {
            padding: 0;
          }
          
          .auth-title {
            font-size: 28px;
          }
          
          .social-buttons {
            flex-direction: column;
          }
          
          .auth-options {
            flex-direction: column;
            gap: 12px;
            align-items: flex-start;
          }
        }
      `})]})}function WU(){const{user:t,registerUser:e,loginWithGoogle:n}=xo(),[i,s]=I.useState(""),[a,l]=I.useState(""),[u,h]=I.useState(""),[p,m]=I.useState(!1),[v,b]=I.useState(!1),_=yr();I.useEffect(()=>{t&&_("/")},[t]);const E=async A=>{A.preventDefault(),b(!0);try{await e(i,a,u),_e.fire({icon:"success",title:"¡Cuenta creada!",text:"Tu registro se ha completado exitosamente",timer:1500,showConfirmButton:!1}),_("/")}catch{_e.fire({icon:"error",title:"Error",text:"Error al registrarse. Por favor, intenta nuevamente."})}finally{b(!1)}},C=async()=>{b(!0);try{await n(),_("/")}catch{_e.fire({icon:"error",title:"Error",text:"Error al registrarse con Google. Por favor, intenta nuevamente."})}finally{b(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:v?d.jsx("div",{className:"loader-container",children:d.jsx(ql,{size:"lg",color:"#3b82f6",text:"Creando cuenta..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Create Account"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your details to create your account."}),d.jsxs("form",{onSubmit:E,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"fullName",children:"Full Name"}),d.jsx("input",{id:"fullName",type:"text",placeholder:"John Doe",value:u,onChange:A=>h(A.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:i,onChange:A=>s(A.target.value),required:!0})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"password-input",children:[d.jsx("input",{id:"password",type:p?"text":"password",placeholder:"Create a strong password",value:a,onChange:A=>l(A.target.value),required:!0}),d.jsx("button",{type:"button",className:"password-toggle",onClick:()=>m(!p),children:p?d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),d.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]}),d.jsx(St,{type:"submit",variant:"primary",fullWidth:!0,className:"register-btn-override",disabled:v,children:"Create Account"})]}),d.jsx("div",{className:"divider",children:d.jsx("span",{children:"Or Register With"})}),d.jsxs("div",{className:"social-buttons",children:[d.jsxs(St,{className:"social-btn google-btn",onClick:C,disabled:v,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"G"}),"Google"]}),d.jsxs(St,{className:"social-btn apple-btn",disabled:!0,variant:"secondary",children:[d.jsx("span",{className:"social-icon",children:"🍎"}),"Apple"]})]}),d.jsxs("div",{className:"auth-switch",children:[d.jsx("span",{children:"Already Have An Account? "}),d.jsx(ot,{to:"/login",children:"Sign In"})]})]})})}),d.jsx("style",{children:`
        .auth-page {
          min-height: 100vh;
          background: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          padding: 20px;
        }

        .auth-container {
          width: 100%;
          max-width: 400px;
          background: white;
        }

        .loader-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
        }

        .auth-title {
          font-size: 32px;
          font-weight: 700;
          color: #111827;
          text-align: center;
          margin-bottom: 8px;
          line-height: 1.2;
        }

        .auth-subtitle {
          font-size: 16px;
          color: #6b7280;
          text-align: center;
          margin-bottom: 32px;
          line-height: 1.5;
        }

        .auth-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
          margin-bottom: 24px;
        }

        .input-group {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }

        .input-group label {
          font-size: 14px;
          font-weight: 500;
          color: #111827;
          text-align: left;
        }

        .input-group input {
          padding: 12px 16px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 16px;
          background: #f9fafb;
          color: #111827;
          transition: all 0.2s ease;
          box-sizing: border-box;
          width: 100%;
        }

        .input-group input:focus {
          outline: none;
          border-color: #3b82f6;
          background: white;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .input-group input::placeholder {
          color: #9ca3af;
        }

        .password-input {
          position: relative;
          width: 100%;
        }

        .password-input input {
          padding-right: 50px;
          box-sizing: border-box;
          width: 100%;
        }

        .password-toggle {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
          border-radius: 4px;
          transition: background-color 0.2s;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .password-toggle:hover {
          background: #f3f4f6;
        }

        .register-btn-override {
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          transition: all 0.2s ease;
        }

        .register-btn-override:hover {
          transform: translateY(-1px);
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .register-btn-override:active {
          transform: translateY(0);
        }

        .divider {
          text-align: center;
          margin: 24px 0;
          position: relative;
        }

        .divider::before,
        .divider::after {
          content: '';
          position: absolute;
          top: 50%;
          width: 35%;
          height: 1px;
          background: #e5e7eb;
        }

        .divider::before {
          left: 0;
        }

        .divider::after {
          right: 0;
        }

        .divider span {
          background: white;
          padding: 0 16px;
          color: #6b7280;
          font-size: 14px;
          font-weight: 500;
        }

        .social-buttons {
          display: flex;
          gap: 12px;
          margin-bottom: 24px;
        }

        .social-btn {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 500;
          color: #111827;
        }

        .social-icon {
          font-size: 16px;
          font-weight: bold;
        }

        .google-btn .social-icon {
          background: linear-gradient(45deg, #4285f4, #ea4335, #fbbc05, #34a853);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .auth-switch {
          text-align: center;
          font-size: 14px;
          color: #6b7280;
        }

        .auth-switch a {
          color: #3b82f6;
          text-decoration: none;
          font-weight: 500;
          transition: color 0.2s;
        }

        .auth-switch a:hover {
          color: #2563eb;
          text-decoration: underline;
        }

        @media (max-width: 480px) {
          .auth-container {
            padding: 0;
          }
          
          .auth-title {
            font-size: 28px;
          }
          
          .social-buttons {
            flex-direction: column;
          }
        }
      `})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function sf(t){return t+.5|0}const Ya=(t,e,n)=>Math.max(Math.min(t,n),e);function Zd(t){return Ya(sf(t*2.55),0,255)}function io(t){return Ya(sf(t*255),0,255)}function Wr(t){return Ya(sf(t/2.55)/100,0,1)}function WS(t){return Ya(sf(t*100),0,100)}const hs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kx=[..."0123456789ABCDEF"],GU=t=>kx[t&15],KU=t=>kx[(t&240)>>4]+kx[t&15],Pp=t=>(t&240)>>4===(t&15),YU=t=>Pp(t.r)&&Pp(t.g)&&Pp(t.b)&&Pp(t.a);function XU(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&hs[t[1]]*17,g:255&hs[t[2]]*17,b:255&hs[t[3]]*17,a:e===5?hs[t[4]]*17:255}:(e===7||e===9)&&(n={r:hs[t[1]]<<4|hs[t[2]],g:hs[t[3]]<<4|hs[t[4]],b:hs[t[5]]<<4|hs[t[6]],a:e===9?hs[t[7]]<<4|hs[t[8]]:255})),n}const QU=(t,e)=>t<255?e(t):"";function ZU(t){var e=YU(t)?GU:KU;return t?"#"+e(t.r)+e(t.g)+e(t.b)+QU(t.a,e):void 0}const JU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cI(t,e,n){const i=e*Math.min(n,1-n),s=(a,l=(a+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function eF(t,e,n){const i=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function tF(t,e,n){const i=cI(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function nF(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Cw(t){const n=t.r/255,i=t.g/255,s=t.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),u=(a+l)/2;let h,p,m;return a!==l&&(m=a-l,p=u>.5?m/(2-a-l):m/(a+l),h=nF(n,i,s,m,a),h=h*60+.5),[h|0,p||0,u]}function kw(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(io)}function Rw(t,e,n){return kw(cI,t,e,n)}function iF(t,e,n){return kw(tF,t,e,n)}function sF(t,e,n){return kw(eF,t,e,n)}function uI(t){return(t%360+360)%360}function rF(t){const e=JU.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Zd(+e[5]):io(+e[5]));const s=uI(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=iF(s,a,l):e[1]==="hsv"?i=sF(s,a,l):i=Rw(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function aF(t,e){var n=Cw(t);n[0]=uI(n[0]+e),n=Rw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function oF(t){if(!t)return;const e=Cw(t),n=e[0],i=WS(e[1]),s=WS(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Wr(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const GS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},KS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lF(){const t={},e=Object.keys(KS),n=Object.keys(GS);let i,s,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],s=0;s<n.length;s++)a=n[s],u=u.replace(a,GS[a]);a=parseInt(KS[l],16),t[u]=[a>>16&255,a>>8&255,a&255]}return t}let Mp;function cF(t){Mp||(Mp=lF(),Mp.transparent=[0,0,0,0]);const e=Mp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dF(t){const e=uF.exec(t);let n=255,i,s,a;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Zd(l):Ya(l*255,0,255)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?Zd(i):Ya(i,0,255)),s=255&(e[4]?Zd(s):Ya(s,0,255)),a=255&(e[6]?Zd(a):Ya(a,0,255)),{r:i,g:s,b:a,a:n}}}function hF(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Sv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Lc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function fF(t,e,n){const i=Lc(Wr(t.r)),s=Lc(Wr(t.g)),a=Lc(Wr(t.b));return{r:io(Sv(i+n*(Lc(Wr(e.r))-i))),g:io(Sv(s+n*(Lc(Wr(e.g))-s))),b:io(Sv(a+n*(Lc(Wr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Dp(t,e,n){if(t){let i=Cw(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Rw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function dI(t,e){return t&&Object.assign(e||{},t)}function YS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=io(t[3]))):(e=dI(t,{r:0,g:0,b:0,a:1}),e.a=io(e.a)),e}function pF(t){return t.charAt(0)==="r"?dF(t):rF(t)}class kh{constructor(e){if(e instanceof kh)return e;const n=typeof e;let i;n==="object"?i=YS(e):n==="string"&&(i=XU(e)||cF(e)||pF(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=dI(this._rgb);return e&&(e.a=Wr(e.a)),e}set rgb(e){this._rgb=YS(e)}rgbString(){return this._valid?hF(this._rgb):void 0}hexString(){return this._valid?ZU(this._rgb):void 0}hslString(){return this._valid?oF(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let a;const l=n===a?.5:n,u=2*l-1,h=i.a-s.a,p=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-p,i.r=255&p*i.r+a*s.r+.5,i.g=255&p*i.g+a*s.g+.5,i.b=255&p*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=fF(this._rgb,e._rgb,n)),this}clone(){return new kh(this.rgb)}alpha(e){return this._rgb.a=io(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=sf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dp(this._rgb,2,e),this}darken(e){return Dp(this._rgb,2,-e),this}saturate(e){return Dp(this._rgb,1,e),this}desaturate(e){return Dp(this._rgb,1,-e),this}rotate(e){return aF(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Hr(){}const mF=(()=>{let t=0;return()=>t++})();function Pt(t){return t==null}function Mn(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ft(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function bs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Js(t,e){return bs(t)?t:e}function bt(t,e){return typeof t>"u"?e:t}const gF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function zt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Tt(t,e,n,i){let s,a,l;if(Mn(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(ft(t))for(l=Object.keys(t),a=l.length,s=0;s<a;s++)e.call(n,t[l[s]],l[s])}function ig(t,e){let n,i,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function sg(t){if(Mn(t))return t.map(sg);if(ft(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=sg(t[n[s]]);return e}return t}function hI(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yF(t,e,n,i){if(!hI(t))return;const s=e[t],a=n[t];ft(s)&&ft(a)?Rh(s,a,i):e[t]=sg(a)}function Rh(t,e,n){const i=Mn(e)?e:[e],s=i.length;if(!ft(t))return t;n=n||{};const a=n.merger||yF;let l;for(let u=0;u<s;++u){if(l=i[u],!ft(l))continue;const h=Object.keys(l);for(let p=0,m=h.length;p<m;++p)a(h[p],t,l,n)}return t}function lh(t,e){return Rh(t,e,{merger:vF})}function vF(t,e,n){if(!hI(t))return;const i=e[t],s=n[t];ft(i)&&ft(s)?lh(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sg(s))}const XS={"":t=>t,x:t=>t.x,y:t=>t.y};function xF(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function bF(t){const e=xF(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function mu(t,e){return(XS[e]||(XS[e]=bF(e)))(t)}function jw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const jh=t=>typeof t<"u",fo=t=>typeof t=="function",QS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function wF(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ri=Math.PI,hi=2*ri,rg=Number.POSITIVE_INFINITY,_F=ri/180,$n=ri/2,il=ri/4,ZS=ri*2/3,fI=Math.log10,so=Math.sign;function dm(t,e,n){return Math.abs(t-e)<n}function JS(t){const e=Math.round(t);t=dm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(fI(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function EF(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function TF(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ag(t){return!TF(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function SF(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function AF(t,e,n){let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function fl(t){return t*(ri/180)}function CF(t){return t*(180/ri)}function eA(t){if(!bs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function pI(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*ri&&(a+=hi),{angle:a,distance:s}}function kF(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sl(t){return(t%hi+hi)%hi}function mI(t,e,n,i){const s=sl(t),a=sl(e),l=sl(n),u=sl(a-s),h=sl(l-s),p=sl(s-a),m=sl(s-l);return s===a||s===l||i&&a===l||u>h&&p<m}function Ci(t,e,n){return Math.max(e,Math.min(n,t))}function RF(t){return Ci(t,-32768,32767)}function pl(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Nw(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Rx=(t,e,n,i)=>Nw(t,n,i?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),jF=(t,e,n)=>Nw(t,n,i=>t[i][e]>=n);function NF(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const gI=["push","pop","shift","splice","unshift"];function IF(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gI.forEach(n=>{const i="_onData"+jw(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function tA(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(gI.forEach(a=>{delete t[a]}),delete t._chartjs)}function yI(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const vI=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function xI(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,vI.call(window,()=>{i=!1,t.apply(e,n)}))}}function PF(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const bI=t=>t==="start"?"left":t==="end"?"right":"center",$i=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,MF=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Op=t=>t===0||t===1,nA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*hi/n)),iA=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*hi/n)+1,ch={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*$n)+1,easeOutSine:t=>Math.sin(t*$n),easeInOutSine:t=>-.5*(Math.cos(ri*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Op(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Op(t)?t:nA(t,.075,.3),easeOutElastic:t=>Op(t)?t:iA(t,.075,.3),easeInOutElastic(t){return Op(t)?t:t<.5?.5*nA(t*2,.1125,.45):.5+.5*iA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ch.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ch.easeInBounce(t*2)*.5:ch.easeOutBounce(t*2-1)*.5+.5};function wI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function sA(t){return wI(t)?t:new kh(t)}function Av(t){return wI(t)?t:new kh(t).saturate(.5).darken(.1).hexString()}const DF=["x","y","borderWidth","radius","tension"],OF=["color","borderColor","backgroundColor"];function LF(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OF},numbers:{type:"number",properties:DF}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function VF(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const rA=new Map;function zF(t,e){e=e||{};const n=t+JSON.stringify(e);let i=rA.get(n);return i||(i=new Intl.NumberFormat(t,e),rA.set(n,i)),i}function _I(t,e,n){return zF(e,n).format(t)}const BF={values(t){return Mn(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,a=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(s="scientific"),a=UF(t,n)}const l=fI(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),_I(t,i,h)}};function UF(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var EI={formatters:BF};function FF(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:EI.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Nl=Object.create(null),jx=Object.create(null);function uh(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function Cv(t,e,n){return typeof e=="string"?Rh(uh(t,e),n):Rh(uh(t,""),e)}class HF{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Av(s.backgroundColor),this.hoverBorderColor=(i,s)=>Av(s.borderColor),this.hoverColor=(i,s)=>Av(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Cv(this,e,n)}get(e){return uh(this,e)}describe(e,n){return Cv(jx,e,n)}override(e,n){return Cv(Nl,e,n)}route(e,n,i,s){const a=uh(this,e),l=uh(this,i),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],p=l[s];return ft(h)?Object.assign({},p,h):bt(h,p)},set(h){this[u]=h}}})}apply(e){e.forEach(n=>n(this))}}var ln=new HF({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LF,VF,FF]);function qF(t){return!t||Pt(t.size)||Pt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function aA(t,e,n,i,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>i&&(i=a),i}function rl(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function oA(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function lA(t,e,n,i){TI(t,e,n,i,null)}function TI(t,e,n,i,s){let a,l,u,h,p,m,v,b;const _=e.pointStyle,E=e.rotation,C=e.radius;let A=(E||0)*_F;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(A),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),_){default:s?t.ellipse(n,i,s/2,C,0,0,hi):t.arc(n,i,C,0,hi),t.closePath();break;case"triangle":m=s?s/2:C,t.moveTo(n+Math.sin(A)*m,i-Math.cos(A)*C),A+=ZS,t.lineTo(n+Math.sin(A)*m,i-Math.cos(A)*C),A+=ZS,t.lineTo(n+Math.sin(A)*m,i-Math.cos(A)*C),t.closePath();break;case"rectRounded":p=C*.516,h=C-p,l=Math.cos(A+il)*h,v=Math.cos(A+il)*(s?s/2-p:h),u=Math.sin(A+il)*h,b=Math.sin(A+il)*(s?s/2-p:h),t.arc(n-v,i-u,p,A-ri,A-$n),t.arc(n+b,i-l,p,A-$n,A),t.arc(n+v,i+u,p,A,A+$n),t.arc(n-b,i+l,p,A+$n,A+ri),t.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*C,m=s?s/2:h,t.rect(n-m,i-h,2*m,2*h);break}A+=il;case"rectRot":v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,b=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+b,i-l),t.lineTo(n+v,i+u),t.lineTo(n-b,i+l),t.closePath();break;case"crossRot":A+=il;case"cross":v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,b=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l);break;case"star":v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,b=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l),A+=il,v=Math.cos(A)*(s?s/2:C),l=Math.cos(A)*C,u=Math.sin(A)*C,b=Math.sin(A)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l);break;case"line":l=s?s/2:Math.cos(A)*C,u=Math.sin(A)*C,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(A)*(s?s/2:C),i+Math.sin(A)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function SI(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Iw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Pw(t){t.restore()}function $F(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Pt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function WF(t,e,n,i,s){if(s.strikethrough||s.underline){const a=t.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,p=n+a.actualBoundingBoxDescent,m=s.strikethrough?(h+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,m),t.lineTo(u,m),t.stroke()}}function GF(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function og(t,e,n,i,s,a={}){const l=Mn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,p;for(t.save(),t.font=s.string,$F(t,a),h=0;h<l.length;++h)p=l[h],a.backdrop&&GF(t,a.backdrop),u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Pt(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(p,n,i,a.maxWidth)),t.fillText(p,n,i,a.maxWidth),WF(t,n,i,p,a),i+=Number(s.lineHeight);t.restore()}function lg(t,e){const{x:n,y:i,w:s,h:a,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*ri,ri,!0),t.lineTo(n,i+a-l.bottomLeft),t.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,ri,$n,!0),t.lineTo(n+s-l.bottomRight,i+a),t.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,$n,0,!0),t.lineTo(n+s,i+l.topRight),t.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-$n,!0),t.lineTo(n+l.topLeft,i)}const KF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XF(t,e){const n=(""+t).match(KF);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const QF=t=>+t||0;function Mw(t,e){const n={},i=ft(e),s=i?Object.keys(e):e,a=ft(t)?i?l=>bt(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=QF(a(l));return n}function AI(t){return Mw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function tu(t){return Mw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ms(t){const e=AI(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ki(t,e){t=t||{},e=e||ln.font;let n=bt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=bt(t.style,e.style);i&&!(""+i).match(YF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:bt(t.family,e.family),lineHeight:XF(bt(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:bt(t.weight,e.weight),string:""};return s.string=qF(s),s}function Lp(t,e,n,i){let s,a,l;for(s=0,a=t.length;s<a;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function ZF(t,e,n){const{min:i,max:s}=t,a=gF(e,(s-i)/2),l=(u,h)=>n&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Iu(t,e){return Object.assign(Object.create(t),e)}function Dw(t,e=[""],n,i,s=()=>t[0]){const a=n||t;typeof i>"u"&&(i=jI("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>Dw([u,...t],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return kI(u,h,()=>aH(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return uA(u).includes(h)},ownKeys(u){return uA(u)},set(u,h,p){const m=u._storage||(u._storage=s());return u[h]=m[h]=p,delete u._keys,!0}})}function gu(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:CI(t,i),setContext:a=>gu(t,a,n,i),override:a=>gu(t.override(a),e,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,u){return kI(a,l,()=>eH(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,u){return t[l]=u,delete a[l],!0}})}function CI(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:fo(n)?n:()=>n,isIndexable:fo(i)?i:()=>i}}const JF=(t,e)=>t?t+jw(e):e,Ow=(t,e)=>ft(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kI(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function eH(t,e,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=t;let u=i[e];return fo(u)&&l.isScriptable(e)&&(u=tH(e,u,t,n)),Mn(u)&&u.length&&(u=nH(e,u,t,l.isIndexable)),Ow(e,u)&&(u=gu(u,s,a&&a[e],l)),u}function tH(t,e,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(a,l||i);return u.delete(t),Ow(t,h)&&(h=Lw(s._scopes,s,t,h)),h}function nH(t,e,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=n;if(typeof a.index<"u"&&i(t))return e[a.index%e.length];if(ft(e[0])){const h=e,p=s._scopes.filter(m=>m!==h);e=[];for(const m of h){const v=Lw(p,s,t,m);e.push(gu(v,a,l&&l[t],u))}}return e}function RI(t,e,n){return fo(t)?t(e,n):t}const iH=(t,e)=>t===!0?e:typeof t=="string"?mu(e,t):void 0;function sH(t,e,n,i,s){for(const a of e){const l=iH(n,a);if(l){t.add(l);const u=RI(l._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Lw(t,e,n,i){const s=e._rootScopes,a=RI(e._fallback,n,i),l=[...t,...s],u=new Set;u.add(i);let h=cA(u,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=cA(u,l,a,h,i),h===null)?!1:Dw(Array.from(u),[""],s,a,()=>rH(e,n,i))}function cA(t,e,n,i,s){for(;n;)n=sH(t,e,n,i,s);return n}function rH(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Mn(s)&&ft(n)?n:s||{}}function aH(t,e,n,i){let s;for(const a of e)if(s=jI(JF(a,t),n),typeof s<"u")return Ow(t,s)?Lw(n,i,t,s):s}function jI(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function uA(t){let e=t._keys;return e||(e=t._keys=oH(t._scopes)),e}function oH(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Vw(){return typeof window<"u"&&typeof document<"u"}function zw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function cg(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Zg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function lH(t,e){return Zg(t).getPropertyValue(e)}const cH=["top","right","bottom","left"];function xl(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=cH[s];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const uH=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function dH(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=i;let l=!1,u,h;if(uH(s,a,t.target))u=s,h=a;else{const p=e.getBoundingClientRect();u=i.clientX-p.left,h=i.clientY-p.top,l=!0}return{x:u,y:h,box:l}}function cl(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Zg(n),a=s.boxSizing==="border-box",l=xl(s,"padding"),u=xl(s,"border","width"),{x:h,y:p,box:m}=dH(t,n),v=l.left+(m&&u.left),b=l.top+(m&&u.top);let{width:_,height:E}=e;return a&&(_-=l.width+u.width,E-=l.height+u.height),{x:Math.round((h-v)/_*n.width/i),y:Math.round((p-b)/E*n.height/i)}}function hH(t,e,n){let i,s;if(e===void 0||n===void 0){const a=t&&zw(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),u=Zg(a),h=xl(u,"border","width"),p=xl(u,"padding");e=l.width-p.width-h.width,n=l.height-p.height-h.height,i=cg(u.maxWidth,a,"clientWidth"),s=cg(u.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||rg,maxHeight:s||rg}}const Vp=t=>Math.round(t*10)/10;function fH(t,e,n,i){const s=Zg(t),a=xl(s,"margin"),l=cg(s.maxWidth,t,"clientWidth")||rg,u=cg(s.maxHeight,t,"clientHeight")||rg,h=hH(t,e,n);let{width:p,height:m}=h;if(s.boxSizing==="content-box"){const b=xl(s,"border","width"),_=xl(s,"padding");p-=_.width+b.width,m-=_.height+b.height}return p=Math.max(0,p-a.width),m=Math.max(0,i?p/i:m-a.height),p=Vp(Math.min(p,l,h.maxWidth)),m=Vp(Math.min(m,u,h.maxHeight)),p&&!m&&(m=Vp(p/2)),(e!==void 0||n!==void 0)&&i&&h.height&&m>h.height&&(m=h.height,p=Vp(Math.floor(m*i))),{width:p,height:m}}function dA(t,e,n){const i=e||1,s=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(t.currentDevicePixelRatio=i,l.height=s,l.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const pH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Vw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function hA(t,e){const n=lH(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const mH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},gH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function nu(t,e,n){return t?mH(e,n):gH()}function NI(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function II(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function zp(t,e,n){return t.options.clip?t[n]:e[n]}function yH(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:zp(n,e,"left"),right:zp(n,e,"right"),top:zp(i,e,"top"),bottom:zp(i,e,"bottom")}:e}function vH(t,e){const n=e._clip;if(n.disabled)return!1;const i=yH(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=vI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,e,"progress")),a.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qr=new xH;const fA="transparent",bH={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=sA(t||fA),s=i.valid&&sA(e||fA);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class wH{constructor(e,n,i,s){const a=n[i];s=Lp([e.to,s,a,e.from]);const l=Lp([e.from,a,s]);this._active=!0,this._fn=e.fn||bH[e.type||typeof l],this._easing=ch[e.easing]||ch.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Lp([e.to,n,s,e.from]),this._from=Lp([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||n<i),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class PI{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ft(e))return;const n=Object.keys(ln.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!ft(a))return;const l={};for(const u of n)l[u]=a[u];(Mn(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,s=EH(e,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&_H(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const p=l[h];if(p.charAt(0)==="$")continue;if(p==="options"){s.push(...this._animateOptions(e,n));continue}const m=n[p];let v=a[p];const b=i.get(p);if(v)if(b&&v.active()){v.update(b,m,u);continue}else v.cancel();if(!b||!b.duration){e[p]=m;continue}a[p]=v=new wH(b,e,p,m),s.push(v)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return qr.add(this._chart,i),!0}}function _H(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=t[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function EH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function pA(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:s,end:i?s:a}}function TH(t,e,n){if(n===!1)return!1;const i=pA(t,n),s=pA(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function SH(t){let e,n,i,s;return ft(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function MI(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function mA(t,e,n,i={}){const s=t.keys,a=i.mode==="single";let l,u,h,p;if(e===null)return;let m=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===n){if(m=!0,i.all)continue;break}p=t.values[h],bs(p)&&(a||e===0||so(e)===so(p))&&(e+=p)}return!m&&!i.all?0:e}function AH(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let h,p,m;for(h=0,p=l.length;h<p;++h)m=l[h],u[h]={[s]:m,[a]:t[m]};return u}function kv(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function CH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function kH(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function RH(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function gA(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function yA(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,p=l.axis,m=CH(a,l,i),v=e.length;let b;for(let _=0;_<v;++_){const E=e[_],{[h]:C,[p]:A}=E,j=E._stacks||(E._stacks={});b=j[p]=RH(s,m,C),b[u]=A,b._top=gA(b,l,!0,i.type),b._bottom=gA(b,l,!1,i.type);const B=b._visualValues||(b._visualValues={});B[u]=A}}function Rv(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function jH(t,e){return Iu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NH(t,e,n){return Iu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Bd(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const jv=t=>t==="reset"||t==="none",vA=(t,e)=>e?t:Object.assign({},t),IH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:MI(n,!0),values:null};class dh{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=kv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(v,b,_,E)=>v==="x"?b:v==="r"?E:_,a=n.xAxisID=bt(i.xAxisID,Rv(e,"x")),l=n.yAxisID=bt(i.yAxisID,Rv(e,"y")),u=n.rAxisID=bt(i.rAxisID,Rv(e,"r")),h=n.indexAxis,p=n.iAxisID=s(h,a,l,u),m=n.vAxisID=s(h,l,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&tA(this._data,this),e._stacked&&Bd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ft(n)){const s=this._cachedMeta;this._data=AH(n,s)}else if(i!==n){if(i){tA(i,this);const s=this._cachedMeta;Bd(s),s._parsed=[]}n&&Object.isExtensible(n)&&IF(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=kv(n.vScale,n),n.stack!==i.stack&&(s=!0,Bd(n),n.stack=i.stack),this._resyncElements(e),(s||a!==n._stacked)&&(yA(this,n._parsed),n._stacked=kv(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&n===s.length?!0:i._sorted,p=e>0&&i._parsed[e-1],m,v,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{Mn(s[e])?b=this.parseArrayData(i,s,e,n):ft(s[e])?b=this.parseObjectData(i,s,e,n):b=this.parsePrimitiveData(i,s,e,n);const _=()=>v[u]===null||p&&v[u]<p[u];for(m=0;m<n;++m)i._parsed[m+e]=v=b[m],h&&(_()&&(h=!1),p=v);i._sorted=h}l&&yA(this,b)}parsePrimitiveData(e,n,i,s){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,p=a.getLabels(),m=a===l,v=new Array(s);let b,_,E;for(b=0,_=s;b<_;++b)E=b+i,v[b]={[u]:m||a.parse(p[E],E),[h]:l.parse(n[E],E)};return v}parseArrayData(e,n,i,s){const{xScale:a,yScale:l}=e,u=new Array(s);let h,p,m,v;for(h=0,p=s;h<p;++h)m=h+i,v=n[m],u[h]={x:a.parse(v[0],m),y:l.parse(v[1],m)};return u}parseObjectData(e,n,i,s){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=new Array(s);let m,v,b,_;for(m=0,v=s;m<v;++m)b=m+i,_=n[b],p[m]={x:a.parse(mu(_,u),b),y:l.parse(mu(_,h),b)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,a=this._cachedMeta,l=n[e.axis],u={keys:MI(s,!0),values:n._stacks[e.axis]._visualValues};return mA(u,l,a.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const u=s&&i._stacks[n.axis];s&&u&&(s.values=u,l=mA(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&e===i.iScale,l=s.length,u=this._getOtherScale(e),h=IH(n,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=kH(u);let b,_;function E(){_=s[b];const C=_[u.axis];return!bs(_[e.axis])||m>C||v<C}for(b=0;b<l&&!(!E()&&(this.updateRangeFromParsed(p,e,_,h),a));++b);if(a){for(b=l-1;b>=0;--b)if(!E()){this.updateRangeFromParsed(p,e,_,h);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][e.axis],bs(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=SH(bt(this.options.clip,TH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,p=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(e,a,u,h),m=u;m<u+h;++m){const v=s[m];v.hidden||(v.active&&p?l.push(v):v.draw(e,a))}for(m=0;m<l.length;++m)l[m].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=NH(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=jH(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=e+"-"+n,u=a[l],h=this.enableOptionSharing&&jh(i);if(u)return vA(u,h);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=s?[`${e}Hover`,"hover",e,""]:[e,""],b=p.getOptionScopes(this.getDataset(),m),_=Object.keys(ln.elements[e]),E=()=>this.getContext(i,s,n),C=p.resolveNamedOptions(b,_,E,v);return C.$shared&&(C.$shared=h,a[l]=Object.freeze(vA(C,h))),C}_resolveAnimations(e,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,u=a[l];if(u)return u;let h;if(s.options.animation!==!1){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,n),b=m.getOptionScopes(this.getDataset(),v);h=m.createResolver(b,this.getContext(e,i,n))}const p=new PI(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||jv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(e,n,i,s){jv(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!jv(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,h,p]of this._syncList)this[u](h,p);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,i=!0){const s=this._cachedMeta,a=s.data,l=e+n;let u;const h=p=>{for(p.length+=n,u=p.length-1;u>=l;u--)p[u]=p[u-n]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Bd(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Fe(dh,"defaults",{}),Fe(dh,"datasetElementType",null),Fe(dh,"dataElementType",null);function PH(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=yI(i.sort((s,a)=>s-a))}return t._cache.$bar}function MH(t){const e=t.iScale,n=PH(e,t.type);let i=e._length,s,a,l,u;const h=()=>{l===32767||l===-32768||(jh(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,a=n.length;s<a;++s)l=e.getPixelForValue(n[s]),h();for(u=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),h();return i}function DH(t,e,n,i){const s=n.barThickness;let a,l;return Pt(s)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:e.pixels[t]-a/2}}function OH(t,e,n,i){const s=e.pixels,a=s[t];let l=t>0?s[t-1]:null,u=t<s.length-1?s[t+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-l);const p=a-(a-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:n.barPercentage,start:p}}function LH(t,e,n,i){const s=n.parse(t[0],i),a=n.parse(t[1],i),l=Math.min(s,a),u=Math.max(s,a);let h=l,p=u;Math.abs(l)>Math.abs(u)&&(h=u,p=l),e[n.axis]=p,e._custom={barStart:h,barEnd:p,start:s,end:a,min:l,max:u}}function DI(t,e,n,i){return Mn(t)?LH(t,e,n,i):e[n.axis]=n.parse(t,i),e}function xA(t,e,n,i){const s=t.iScale,a=t.vScale,l=s.getLabels(),u=s===a,h=[];let p,m,v,b;for(p=n,m=n+i;p<m;++p)b=e[p],v={},v[s.axis]=u||s.parse(l[p],p),h.push(DI(b,v,a,p));return h}function Nv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function VH(t,e,n){return t!==0?so(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function zH(t){let e,n,i,s,a;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:e,top:s,bottom:a}}function BH(t,e,n,i){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:p,bottom:m}=zH(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=p:(n._bottom||0)===i?s=m:(a[bA(m,l,u,h)]=!0,s=p)),a[bA(s,l,u,h)]=!0,t.borderSkipped=a}function bA(t,e,n,i){return i?(t=UH(t,e,n),t=wA(t,n,e)):t=wA(t,e,n),t}function UH(t,e,n){return t===e?n:t===n?e:t}function wA(t,e,n){return t==="start"?e:t==="end"?n:t}function FH(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class hm extends dh{parsePrimitiveData(e,n,i,s){return xA(e,n,i,s)}parseArrayData(e,n,i,s){return xA(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:a,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,p=a.axis==="x"?u:h,m=l.axis==="x"?u:h,v=[];let b,_,E,C;for(b=i,_=i+s;b<_;++b)C=n[b],E={},E[a.axis]=a.parse(mu(C,p),b),v.push(DI(mu(C,m),E,l,b));return v}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(e),l=a._custom,u=Nv(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),p=u.isHorizontal(),m=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);for(let _=n;_<n+i;_++){const E=this.getParsed(_),C=a||Pt(E[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),A=this._calculateBarIndexPixels(_,m),j=(E._stacks||{})[u.axis],B={horizontal:p,base:C.base,enableBorderRadius:!j||Nv(E._custom)||l===j._top||l===j._bottom,x:p?C.head:A.center,y:p?A.center:C.head,height:p?A.size:Math.abs(C.size),width:p?Math.abs(C.size):A.size};b&&(B.options=v||this.resolveDataElementOptions(_,e[_].active?"active":s));const V=B.options||e[_].options;BH(B,V,j,l),FH(B,V,m.ratio),this.updateElement(e[_],_,B,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),h=u&&u[i.axis],p=m=>{const v=m._parsed.find(_=>_[i.axis]===h),b=v&&v[m.vScale.axis];if(Pt(b)||isNaN(b))return!0};for(const m of s)if(!(n!==void 0&&p(m))&&((a===!1||l.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const u=e.barThickness;return{min:u||MH(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,h=this.getParsed(e),p=h._custom,m=Nv(p);let v=h[n.axis],b=0,_=i?this.applyStack(n,h,i):v,E,C;_!==v&&(b=_-v,_=v),m&&(v=p.barStart,_=p.barEnd-p.barStart,v!==0&&so(v)!==so(p.barEnd)&&(b=0),b+=v);const A=!Pt(a)&&!m?a:b;let j=n.getPixelForValue(A);if(this.chart.getDataVisibility(e)?E=n.getPixelForValue(b+_):E=j,C=E-j,Math.abs(C)<l){C=VH(C,n,u)*l,v===u&&(j-=C/2);const B=n.getPixelForDecimal(0),V=n.getPixelForDecimal(1),$=Math.min(B,V),q=Math.max(B,V);j=Math.max(Math.min(j,q),$),E=j+C,i&&!m&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(j))}if(j===n.getPixelForValue(u)){const B=so(C)*n.getLineWidthForValue(u)/2;j+=B,C-=B}return{size:C,base:j,head:E,center:E+C/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,a=s.skipNull,l=bt(s.maxBarThickness,1/0);let u,h;if(n.grouped){const p=a?this._getStackCount(e):n.stackCount,m=s.barThickness==="flex"?OH(e,n,s,p):DH(e,n,s,p),v=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);u=m.start+m.chunk*v+m.chunk/2,h=Math.min(l,m.chunk*m.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,n.min*n.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Fe(hm,"id","bar"),Fe(hm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Fe(hm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function al(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bw{constructor(e){Fe(this,"options");this.options=e||{}}static override(e){Object.assign(Bw.prototype,e)}init(){}formats(){return al()}parse(){return al()}format(){return al()}add(){return al()}diff(){return al()}startOf(){return al()}endOf(){return al()}}var HH={_date:Bw};function qH(t,e,n,i){const{controller:s,data:a,_sorted:l}=t,u=s._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const p=u._reversePixels?jF:Rx;if(i){if(s._sharedOptions){const m=a[0],v=typeof m.getRange=="function"&&m.getRange(e);if(v){const b=p(a,e,n-v),_=p(a,e,n+v);return{lo:b.lo,hi:_.hi}}}}else{const m=p(a,e,n);if(h){const{vScale:v}=s._cachedMeta,{_parsed:b}=t,_=b.slice(0,m.lo+1).reverse().findIndex(C=>!Pt(C[v.axis]));m.lo-=Math.max(0,_);const E=b.slice(m.hi).findIndex(C=>!Pt(C[v.axis]));m.hi+=Math.max(0,E)}return m}}return{lo:0,hi:a.length-1}}function Jg(t,e,n,i,s){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,h=a.length;u<h;++u){const{index:p,data:m}=a[u],{lo:v,hi:b}=qH(a[u],e,l,s);for(let _=v;_<=b;++_){const E=m[_];E.skip||i(E,p,_)}}}function $H(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const a=e?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Iv(t,e,n,i,s){const a=[];return!s&&!t.isPointInArea(e)||Jg(t,n,e,function(u,h,p){!s&&!SI(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:p})},!0),a}function WH(t,e,n,i){let s=[];function a(l,u,h){const{startAngle:p,endAngle:m}=l.getProps(["startAngle","endAngle"],i),{angle:v}=pI(l,{x:e.x,y:e.y});mI(v,p,m)&&s.push({element:l,datasetIndex:u,index:h})}return Jg(t,n,e,a),s}function GH(t,e,n,i,s,a){let l=[];const u=$H(n);let h=Number.POSITIVE_INFINITY;function p(m,v,b){const _=m.inRange(e.x,e.y,s);if(i&&!_)return;const E=m.getCenterPoint(s);if(!(!!a||t.isPointInArea(E))&&!_)return;const A=u(e,E);A<h?(l=[{element:m,datasetIndex:v,index:b}],h=A):A===h&&l.push({element:m,datasetIndex:v,index:b})}return Jg(t,n,e,p),l}function Pv(t,e,n,i,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?WH(t,e,n,s):GH(t,e,n,i,s,a)}function _A(t,e,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Jg(t,n,e,(h,p,m)=>{h[l]&&h[l](e[n],s)&&(a.push({element:h,datasetIndex:p,index:m}),u=u||h.inRange(e.x,e.y,s))}),i&&!u?[]:a}var KH={modes:{index(t,e,n,i){const s=cl(e,t),a=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Iv(t,s,a,i,l):Pv(t,s,a,!1,i,l),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const m=u[0].index,v=p.data[m];v&&!v.skip&&h.push({element:v,datasetIndex:p.index,index:m})}),h):[]},dataset(t,e,n,i){const s=cl(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Iv(t,s,a,i,l):Pv(t,s,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,p=t.getDatasetMeta(h).data;u=[];for(let m=0;m<p.length;++m)u.push({element:p[m],datasetIndex:h,index:m})}return u},point(t,e,n,i){const s=cl(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Iv(t,s,a,i,l)},nearest(t,e,n,i){const s=cl(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Pv(t,s,a,n.intersect,i,l)},x(t,e,n,i){const s=cl(e,t);return _A(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=cl(e,t);return _A(t,s,"y",n.intersect,i)}}};const OI=["left","top","right","bottom"];function Ud(t,e){return t.filter(n=>n.pos===e)}function EA(t,e){return t.filter(n=>OI.indexOf(n.pos)===-1&&n.box.axis===e)}function Fd(t,e){return t.sort((n,i)=>{const s=e?i:n,a=e?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function YH(t){const e=[];let n,i,s,a,l,u;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:a,options:{stack:l,stackWeight:u=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return e}function XH(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!OI.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function QH(t,e){const n=XH(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let a,l,u;for(a=0,l=t.length;a<l;++a){u=t[a];const{fullSize:h}=u.box,p=n[u.stack],m=p&&u.stackWeight/p.weight;u.horizontal?(u.width=m?m*i:h&&e.availableWidth,u.height=s):(u.width=i,u.height=m?m*s:h&&e.availableHeight)}return n}function ZH(t){const e=YH(t),n=Fd(e.filter(p=>p.box.fullSize),!0),i=Fd(Ud(e,"left"),!0),s=Fd(Ud(e,"right")),a=Fd(Ud(e,"top"),!0),l=Fd(Ud(e,"bottom")),u=EA(e,"x"),h=EA(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Ud(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(u)}}function TA(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function LI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function JH(t,e,n,i){const{pos:s,box:a}=n,l=t.maxPadding;if(!ft(s)){n.size&&(t[s]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?a.height:a.width),n.size=v.size/v.count,t[s]+=n.size}a.getPadding&&LI(l,a.getPadding());const u=Math.max(0,e.outerWidth-TA(l,t,"left","right")),h=Math.max(0,e.outerHeight-TA(l,t,"top","bottom")),p=u!==t.w,m=h!==t.h;return t.w=u,t.h=h,n.horizontal?{same:p,other:m}:{same:m,other:p}}function eq(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function tq(t,e){const n=e.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return i(t?["left","right"]:["top","bottom"])}function Jd(t,e,n,i){const s=[];let a,l,u,h,p,m;for(a=0,l=t.length,p=0;a<l;++a){u=t[a],h=u.box,h.update(u.width||e.w,u.height||e.h,tq(u.horizontal,e));const{same:v,other:b}=JH(e,n,u,i);p|=v&&s.length,m=m||b,h.fullSize||s.push(u)}return p&&Jd(s,e,n,i)||m}function Bp(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function SA(t,e,n,i){const s=n.padding;let{x:a,y:l}=e;for(const u of t){const h=u.box,p=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/p.weight||1;if(u.horizontal){const v=e.w*m,b=p.size||h.height;jh(p.start)&&(l=p.start),h.fullSize?Bp(h,s.left,l,n.outerWidth-s.right-s.left,b):Bp(h,e.left+p.placed,l,v,b),p.start=l,p.placed+=v,l=h.bottom}else{const v=e.h*m,b=p.size||h.width;jh(p.start)&&(a=p.start),h.fullSize?Bp(h,a,s.top,b,n.outerHeight-s.bottom-s.top):Bp(h,a,e.top+p.placed,b,v),p.start=a,p.placed+=v,a=h.right}}e.x=a,e.y=l}var Xa={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Ms(t.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(n-s.height,0),u=ZH(t.boxes),h=u.vertical,p=u.horizontal;Tt(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=h.reduce((C,A)=>A.box.options&&A.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/m,hBoxMaxHeight:l/2}),b=Object.assign({},s);LI(b,Ms(i));const _=Object.assign({maxPadding:b,w:a,h:l,x:s.left,y:s.top},s),E=QH(h.concat(p),v);Jd(u.fullSize,_,v,E),Jd(h,_,v,E),Jd(p,_,v,E)&&Jd(h,_,v,E),eq(_),SA(u.leftAndTop,_,v,E),_.x+=_.w,_.y+=_.h,SA(u.rightAndBottom,_,v,E),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Tt(u.chartArea,C=>{const A=C.box;Object.assign(A,t.chartArea),A.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class VI{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class nq extends VI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const fm="$chartjs",iq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},AA=t=>t===null||t==="";function sq(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[fm]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",AA(s)){const a=hA(t,"width");a!==void 0&&(t.width=a)}if(AA(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=hA(t,"height");a!==void 0&&(t.height=a)}return t}const zI=pH?{passive:!0}:!1;function rq(t,e,n){t&&t.addEventListener(e,n,zI)}function aq(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,zI)}function oq(t,e){const n=iq[t.type]||t.type,{x:i,y:s}=cl(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ug(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function lq(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ug(u.addedNodes,i),l=l&&!ug(u.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function cq(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ug(u.removedNodes,i),l=l&&!ug(u.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Nh=new Map;let CA=0;function BI(){const t=window.devicePixelRatio;t!==CA&&(CA=t,Nh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function uq(t,e){Nh.size||window.addEventListener("resize",BI),Nh.set(t,e)}function dq(t){Nh.delete(t),Nh.size||window.removeEventListener("resize",BI)}function hq(t,e,n){const i=t.canvas,s=i&&zw(i);if(!s)return;const a=xI((u,h)=>{const p=s.clientWidth;n(u,h),p<s.clientWidth&&n()},window),l=new ResizeObserver(u=>{const h=u[0],p=h.contentRect.width,m=h.contentRect.height;p===0&&m===0||a(p,m)});return l.observe(s),uq(t,a),l}function Mv(t,e,n){n&&n.disconnect(),e==="resize"&&dq(t)}function fq(t,e,n){const i=t.canvas,s=xI(a=>{t.ctx!==null&&n(oq(a,t))},t);return rq(i,e,s),s}class pq extends VI{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(sq(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[fm])return!1;const i=n[fm].initial;["height","width"].forEach(a=>{const l=i[a];Pt(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[fm],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:lq,detach:cq,resize:hq}[n]||fq;s[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Mv,detach:Mv,resize:Mv}[n]||aq)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return fH(e,n,i,s)}isAttached(e){const n=e&&zw(e);return!!(n&&n.isConnected)}}function mq(t){return!Vw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?nq:pq}var Xp;let Pu=(Xp=class{constructor(){Fe(this,"x");Fe(this,"y");Fe(this,"active",!1);Fe(this,"options");Fe(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ag(this.x)&&ag(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},Fe(Xp,"defaults",{}),Fe(Xp,"defaultRoutes"),Xp);function gq(t,e){const n=t.options.ticks,i=yq(t),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?xq(e):[],l=a.length,u=a[0],h=a[l-1],p=[];if(l>s)return bq(e,p,a,l/s),p;const m=vq(a,e,s);if(l>0){let v,b;const _=l>1?Math.round((h-u)/(l-1)):null;for(Up(e,p,m,Pt(_)?0:u-_,u),v=0,b=l-1;v<b;v++)Up(e,p,m,a[v],a[v+1]);return Up(e,p,m,h,Pt(_)?e.length:h+_),p}return Up(e,p,m),p}function yq(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function vq(t,e,n){const i=wq(t),s=e.length/n;if(!i)return Math.max(s,1);const a=EF(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function xq(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function bq(t,e,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===a&&(e.push(t[l]),s++,a=n[s*i])}function Up(t,e,n,i,s){const a=bt(i,0),l=Math.min(bt(s,t.length),t.length);let u=0,h,p,m;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),m=a;m<0;)u++,m=Math.round(a+u*n);for(p=Math.max(a,0);p<l;p++)p===m&&(e.push(t[p]),u++,m=Math.round(a+u*n))}function wq(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const _q=t=>t==="left"?"right":t==="right"?"left":t,kA=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,RA=(t,e)=>Math.min(e||t,t);function jA(t,e){const n=[],i=t.length/e,s=t.length;let a=0;for(;a<s;a+=i)n.push(t[Math.floor(a)]);return n}function Eq(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),a=t._startPixel,l=t._endPixel,u=1e-6;let h=t.getPixelForTick(s),p;if(!(n&&(i===1?p=Math.max(h-a,l-h):e===0?p=(t.getPixelForTick(1)-h)/2:p=(h-t.getPixelForTick(s-1))/2,h+=s<e?p:-p,h<a-u||h>l+u)))return h}function Tq(t,e){Tt(t,n=>{const i=n.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function Hd(t){return t.drawTicks?t.tickLength:0}function NA(t,e){if(!t.display)return 0;const n=ki(t.font,e),i=Ms(t.padding);return(Mn(t.text)?t.text.length:1)*n.lineHeight+i.height}function Sq(t,e){return Iu(t,{scale:e,type:"scale"})}function Aq(t,e,n){return Iu(t,{tick:n,index:e,type:"tick"})}function Cq(t,e,n){let i=bI(t);return(n&&e!=="right"||!n&&e==="right")&&(i=_q(i)),i}function kq(t,e,n,i){const{top:s,left:a,bottom:l,right:u,chart:h}=t,{chartArea:p,scales:m}=h;let v=0,b,_,E;const C=l-s,A=u-a;if(t.isHorizontal()){if(_=$i(i,a,u),ft(n)){const j=Object.keys(n)[0],B=n[j];E=m[j].getPixelForValue(B)+C-e}else n==="center"?E=(p.bottom+p.top)/2+C-e:E=kA(t,n,e);b=u-a}else{if(ft(n)){const j=Object.keys(n)[0],B=n[j];_=m[j].getPixelForValue(B)-A+e}else n==="center"?_=(p.left+p.right)/2-A+e:_=kA(t,n,e);E=$i(i,l,s),v=n==="left"?-$n:$n}return{titleX:_,titleY:E,maxWidth:b,rotation:v}}class Mu extends Pu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Js(e,Number.POSITIVE_INFINITY),n=Js(n,Number.NEGATIVE_INFINITY),i=Js(i,Number.POSITIVE_INFINITY),s=Js(s,Number.NEGATIVE_INFINITY),{min:Js(e,i),max:Js(n,s),minDefined:bs(e),maxDefined:bs(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,p=u.length;h<p;++h)l=u[h].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:Js(n,Js(i,n)),max:Js(i,Js(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZF(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?jA(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=gq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zt(this.options.afterUpdate,[this])}beforeSetDimensions(){zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i],a.label=zt(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=RA(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,u,h,p;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const m=this._getLabelSizes(),v=m.widest.width,b=m.highest.height,_=Ci(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-Hd(e.grid)-n.padding-NA(e.title,this.chart.options.font),p=Math.sqrt(v*v+b*b),l=CF(Math.min(Math.asin(Ci((m.highest.height+6)/u,-1,1)),Math.asin(Ci(h/p,-1,1))-Math.asin(Ci(b/p,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=NA(s,n.options.font);if(u?(e.width=this.maxWidth,e.height=Hd(a)+h):(e.height=this.maxHeight,e.width=Hd(a)+h),i.display&&this.ticks.length){const{first:p,last:m,widest:v,highest:b}=this._getLabelSizes(),_=i.padding*2,E=fl(this.labelRotation),C=Math.cos(E),A=Math.sin(E);if(u){const j=i.mirror?0:A*v.width+C*b.height;e.height=Math.min(this.maxHeight,e.height+j+_)}else{const j=i.mirror?0:C*v.width+A*b.height;e.width=Math.min(this.maxWidth,e.width+j+_)}this._calculatePadding(p,m,A,C)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,p=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;h?p?(b=s*e.width,_=i*n.height):(b=i*e.height,_=s*n.width):a==="start"?_=n.width:a==="end"?b=e.width:a!=="inner"&&(b=e.width/2,_=n.width/2),this.paddingLeft=Math.max((b-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((_-v+l)*this.width/(this.width-v),0)}else{let m=n.height/2,v=e.height/2;a==="start"?(m=0,v=e.height):a==="end"&&(m=n.height,v=0),this.paddingTop=m+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Pt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=jA(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(n/RA(n,i));let p=0,m=0,v,b,_,E,C,A,j,B,V,$,q;for(v=0;v<n;v+=h){if(E=e[v].label,C=this._resolveTickFontOptions(v),s.font=A=C.string,j=a[A]=a[A]||{data:{},gc:[]},B=C.lineHeight,V=$=0,!Pt(E)&&!Mn(E))V=aA(s,j.data,j.gc,V,E),$=B;else if(Mn(E))for(b=0,_=E.length;b<_;++b)q=E[b],!Pt(q)&&!Mn(q)&&(V=aA(s,j.data,j.gc,V,q),$+=B);l.push(V),u.push($),p=Math.max(V,p),m=Math.max($,m)}Tq(a,n);const J=l.indexOf(p),z=u.indexOf(m),k=P=>({width:l[P]||0,height:u[P]||0});return{first:k(0),last:k(n-1),widest:k(J),highest:k(z),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return RF(this._alignToPixels?rl(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Aq(this.getContext(),e,i))}return this.$context||(this.$context=Sq(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=fl(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,h=a.offset,p=this.isHorizontal(),v=this.ticks.length+(h?1:0),b=Hd(a),_=[],E=u.setContext(this.getContext()),C=E.display?E.width:0,A=C/2,j=function(W){return rl(i,W,C)};let B,V,$,q,J,z,k,P,O,L,D,R;if(l==="top")B=j(this.bottom),z=this.bottom-b,P=B-A,L=j(e.top)+A,R=e.bottom;else if(l==="bottom")B=j(this.top),L=e.top,R=j(e.bottom)-A,z=B+A,P=this.top+b;else if(l==="left")B=j(this.right),J=this.right-b,k=B-A,O=j(e.left)+A,D=e.right;else if(l==="right")B=j(this.left),O=e.left,D=j(e.right)-A,J=B+A,k=this.left+b;else if(n==="x"){if(l==="center")B=j((e.top+e.bottom)/2+.5);else if(ft(l)){const W=Object.keys(l)[0],ne=l[W];B=j(this.chart.scales[W].getPixelForValue(ne))}L=e.top,R=e.bottom,z=B+A,P=z+b}else if(n==="y"){if(l==="center")B=j((e.left+e.right)/2);else if(ft(l)){const W=Object.keys(l)[0],ne=l[W];B=j(this.chart.scales[W].getPixelForValue(ne))}J=B-A,k=J-b,O=e.left,D=e.right}const ae=bt(s.ticks.maxTicksLimit,v),ee=Math.max(1,Math.ceil(v/ae));for(V=0;V<v;V+=ee){const W=this.getContext(V),ne=a.setContext(W),he=u.setContext(W),xe=ne.lineWidth,U=ne.color,oe=he.dash||[],ge=he.dashOffset,pe=ne.tickWidth,we=ne.tickColor,je=ne.tickBorderDash||[],Se=ne.tickBorderDashOffset;$=Eq(this,V,h),$!==void 0&&(q=rl(i,$,xe),p?J=k=O=D=q:z=P=L=R=q,_.push({tx1:J,ty1:z,tx2:k,ty2:P,x1:O,y1:L,x2:D,y2:R,width:xe,color:U,borderDash:oe,borderDashOffset:ge,tickWidth:pe,tickColor:we,tickBorderDash:je,tickBorderDashOffset:Se}))}return this._ticksLength=v,this._borderValue=B,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:p,padding:m,mirror:v}=a,b=Hd(i.grid),_=b+m,E=v?-m:_,C=-fl(this.labelRotation),A=[];let j,B,V,$,q,J,z,k,P,O,L,D,R="middle";if(s==="top")J=this.bottom-E,z=this._getXAxisLabelAlignment();else if(s==="bottom")J=this.top+E,z=this._getXAxisLabelAlignment();else if(s==="left"){const ee=this._getYAxisLabelAlignment(b);z=ee.textAlign,q=ee.x}else if(s==="right"){const ee=this._getYAxisLabelAlignment(b);z=ee.textAlign,q=ee.x}else if(n==="x"){if(s==="center")J=(e.top+e.bottom)/2+_;else if(ft(s)){const ee=Object.keys(s)[0],W=s[ee];J=this.chart.scales[ee].getPixelForValue(W)+_}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")q=(e.left+e.right)/2-_;else if(ft(s)){const ee=Object.keys(s)[0],W=s[ee];q=this.chart.scales[ee].getPixelForValue(W)}z=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(h==="start"?R="top":h==="end"&&(R="bottom"));const ae=this._getLabelSizes();for(j=0,B=u.length;j<B;++j){V=u[j],$=V.label;const ee=a.setContext(this.getContext(j));k=this.getPixelForTick(j)+a.labelOffset,P=this._resolveTickFontOptions(j),O=P.lineHeight,L=Mn($)?$.length:1;const W=L/2,ne=ee.color,he=ee.textStrokeColor,xe=ee.textStrokeWidth;let U=z;l?(q=k,z==="inner"&&(j===B-1?U=this.options.reverse?"left":"right":j===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?p==="near"||C!==0?D=-L*O+O/2:p==="center"?D=-ae.highest.height/2-W*O+O:D=-ae.highest.height+O/2:p==="near"||C!==0?D=O/2:p==="center"?D=ae.highest.height/2-W*O:D=ae.highest.height-L*O,v&&(D*=-1),C!==0&&!ee.showLabelBackdrop&&(q+=O/2*Math.sin(C))):(J=k,D=(1-L)*O/2);let oe;if(ee.showLabelBackdrop){const ge=Ms(ee.backdropPadding),pe=ae.heights[j],we=ae.widths[j];let je=D-ge.top,Se=0-ge.left;switch(R){case"middle":je-=pe/2;break;case"bottom":je-=pe;break}switch(z){case"center":Se-=we/2;break;case"right":Se-=we;break;case"inner":j===B-1?Se-=we:j>0&&(Se-=we/2);break}oe={left:Se,top:je,width:we+ge.width,height:pe+ge.height,color:ee.backdropColor}}A.push({label:$,font:P,textOffset:D,options:{rotation:C,color:ne,strokeColor:he,strokeWidth:xe,textAlign:U,textBaseline:R,translation:[q,J],backdrop:oe}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-fl(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let p,m;return n==="left"?s?(m=this.right+a,i==="near"?p="left":i==="center"?(p="center",m+=h/2):(p="right",m+=h)):(m=this.right-u,i==="near"?p="right":i==="center"?(p="center",m-=h/2):(p="left",m=this.left)):n==="right"?s?(m=this.left+a,i==="near"?p="right":i==="center"?(p="center",m-=h/2):(p="left",m-=h)):(m=this.left+u,i==="near"?p="left":i==="center"?(p="center",m+=h/2):(p="right",m=this.right)):p="right",{textAlign:p,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,p,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,m,v,b;this.isHorizontal()?(p=rl(e,this.left,l)-l/2,m=rl(e,this.right,u)+u/2,v=b=h):(v=rl(e,this.top,l)-l/2,b=rl(e,this.bottom,u)+u/2,p=m=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(p,v),n.lineTo(m,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Iw(i,s);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,p=l.label,m=l.textOffset;og(i,p,0,m,h,u)}s&&Pw(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=ki(i.font),l=Ms(i.padding),u=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||ft(n)?(h+=l.bottom,Mn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:p,titleY:m,maxWidth:v,rotation:b}=kq(this,h,n,u);og(e,i.text,0,0,a,{color:i.color,maxWidth:v,rotation:b,textAlign:Cq(u,n,s),textBaseline:"middle",translation:[p,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=bt(e.grid&&e.grid.z,-1),s=bt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Mu.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const u=n[a];u[i]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ki(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fp{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Nq(n)&&(i=this.register(n));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,Rq(e,l,i),this.override&&ln.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in ln[s]&&(delete ln[s][i],this.override&&delete Nl[i])}}function Rq(t,e,n){const i=Rh(Object.create(null),[n?ln.get(n):{},ln.get(e),t.defaults]);ln.set(e,i),t.defaultRoutes&&jq(e,t.defaultRoutes),t.descriptors&&ln.describe(e,t.descriptors)}function jq(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),a=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),h=l.join(".");ln.route(a,s,h,u)})}function Nq(t){return"id"in t&&"defaults"in t}class Iq{constructor(){this.controllers=new Fp(dh,"datasets",!0),this.elements=new Fp(Pu,"elements"),this.plugins=new Fp(Object,"plugins"),this.scales=new Fp(Mu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):Tt(s,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const s=jw(e);zt(i["before"+s],[],i),n[e](i),zt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var tr=new Iq;class Pq{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,s){s=s||{};for(const a of e){const l=a.plugin,u=l[i],h=[n,s,a.options];if(zt(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=bt(i.options&&i.options.plugins,{}),a=Mq(i);return s===!1&&!n?[]:Oq(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function Mq(t){const e={},n=[],i=Object.keys(tr.plugins.items);for(let a=0;a<i.length;a++)n.push(tr.getPlugin(i[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function Dq(t,e){return!e&&t===!1?null:t===!0?{}:t}function Oq(t,{plugins:e,localIds:n},i,s){const a=[],l=t.getContext();for(const u of e){const h=u.id,p=Dq(i[h],s);p!==null&&a.push({plugin:u,options:Lq(t.config,{plugin:u,local:n[h]},p,l)})}return a}function Lq(t,{plugin:e,local:n},i,s){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(i,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Nx(t,e){const n=ln.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Vq(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function zq(t,e){return t===e?"_index_":"_value_"}function IA(t){if(t==="x"||t==="y"||t==="r")return t}function Bq(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ix(t,...e){if(IA(t))return t;for(const n of e){const i=n.axis||Bq(n.position)||t.length>1&&IA(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function PA(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Uq(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return PA(t,"x",n[0])||PA(t,"y",n[0])}return{}}function Fq(t,e){const n=Nl[t.type]||{scales:{}},i=e.scales||{},s=Nx(t.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!ft(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Ix(l,u,Uq(l,t),ln.scales[u.type]),p=zq(h,s),m=n.scales||{};a[l]=lh(Object.create(null),[{axis:h},u,m[h],m[p]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,h=l.indexAxis||Nx(u,e),m=(Nl[u]||{}).scales||{};Object.keys(m).forEach(v=>{const b=Vq(v,h),_=l[b+"AxisID"]||b;a[_]=a[_]||Object.create(null),lh(a[_],[{axis:b},i[_],m[v]])})}),Object.keys(a).forEach(l=>{const u=a[l];lh(u,[ln.scales[u.type],ln.scale])}),a}function UI(t){const e=t.options||(t.options={});e.plugins=bt(e.plugins,{}),e.scales=Fq(t,e)}function FI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Hq(t){return t=t||{},t.data=FI(t.data),UI(t),t}const MA=new Map,HI=new Set;function Hp(t,e){let n=MA.get(t);return n||(n=e(),MA.set(t,n),HI.add(n)),n}const qd=(t,e,n)=>{const i=mu(e,n);i!==void 0&&t.add(i)};class qq{constructor(e){this._config=Hq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=FI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),UI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Hp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Hp(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Hp(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Hp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:a}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const h=new Set;n.forEach(m=>{e&&(h.add(e),m.forEach(v=>qd(h,e,v))),m.forEach(v=>qd(h,s,v)),m.forEach(v=>qd(h,Nl[a]||{},v)),m.forEach(v=>qd(h,ln,v)),m.forEach(v=>qd(h,jx,v))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),HI.has(n)&&l.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,Nl[n]||{},ln.datasets[n]||{},{type:n},ln,jx]}resolveNamedOptions(e,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=DA(this._resolverCache,e,s);let h=l;if(Wq(l,n)){a.$shared=!1,i=fo(i)?i():i;const p=this.createResolver(e,i,u);h=gu(l,i,p)}for(const p of n)a[p]=h[p];return a}createResolver(e,n,i=[""],s){const{resolver:a}=DA(this._resolverCache,e,i);return ft(n)?gu(a,n,void 0,s):a}}function DA(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let a=i.get(s);return a||(a={resolver:Dw(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const $q=t=>ft(t)&&Object.getOwnPropertyNames(t).some(e=>fo(t[e]));function Wq(t,e){const{isScriptable:n,isIndexable:i}=CI(t);for(const s of e){const a=n(s),l=i(s),u=(l||a)&&t[s];if(a&&(fo(u)||$q(u))||l&&Mn(u))return!0}return!1}var Gq="4.4.9";const Kq=["top","bottom","left","right","chartArea"];function OA(t,e){return t==="top"||t==="bottom"||Kq.indexOf(t)===-1&&e==="x"}function LA(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function VA(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),zt(n&&n.onComplete,[t],e)}function Yq(t){const e=t.chart,n=e.options.animation;zt(n&&n.onProgress,[t],e)}function qI(t){return Vw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const pm={},zA=t=>{const e=qI(t);return Object.values(pm).filter(n=>n.canvas===e).pop()};function Xq(t,e,n){const i=Object.keys(t);for(const s of i){const a=+s;if(a>=e){const l=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=l)}}}function Qq(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Ba;let e0=(Ba=class{static register(...e){tr.add(...e),BA()}static unregister(...e){tr.remove(...e),BA()}constructor(e,n){const i=this.config=new qq(n),s=qI(e),a=zA(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||mq(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,p=h&&h.height,m=h&&h.width;if(this.id=mF(),this.ctx=u,this.canvas=h,this.width=m,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=PF(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],pm[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}qr.listen(this,"complete",VA),qr.listen(this,"progress",Yq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Pt(e)?n&&a?a:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oA(this.canvas,this.ctx),this}stop(){return qr.stop(this),this}resize(e,n){qr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,dA(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),zt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Tt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const u=n[l],h=Ix(l,u),p=h==="r",m=h==="x";return{options:u,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),Tt(a,l=>{const u=l.options,h=u.id,p=Ix(h,u),m=bt(u.type,l.dtype);(u.position===void 0||OA(u.position,p)!==OA(l.dposition))&&(u.position=l.dposition),s[h]=!0;let v=null;if(h in i&&i[h].type===m)v=i[h];else{const b=tr.getScale(m);v=new b({id:h,type:m,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),Tt(s,(l,u)=>{l||delete i[u]}),Tt(i,l=>{Xa.configure(this,l,l.options),Xa.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(LA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||Nx(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=tr.getController(u),{datasetElementType:p,dataElementType:m}=ln.datasets[u];Object.assign(h,{dataElementType:tr.getElement(m),datasetElementType:p&&tr.getElement(p)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Tt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),b=!s&&a.indexOf(v)===-1;v.buildOrUpdateElements(b),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Tt(a,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(LA("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Tt(this.scales,e=>{Xa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!QS(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;Xq(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!QS(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xa.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Tt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,fo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qr.has(this)?this.attached&&!qr.running(this)&&qr.start(this):(this.draw(),VA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=vH(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Iw(n,s),e.controller.draw(),s&&Pw(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return SI(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const a=KH.modes[n];return typeof a=="function"?a(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Iu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);jh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),qr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),oA(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete pm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Tt(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,p)=>{n.addEventListener(this,h,p),e[h]=p},s=(h,p)=>{e[h]&&(n.removeEventListener(this,h,p),delete e[h])},a=(h,p)=>{this.canvas&&this.resize(h,p)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Tt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Tt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let a,l,u,h;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!ig(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,a=(h,p)=>h.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),l=a(n,e),u=i?e:a(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:a}=this,l=n,u=this._getActiveElements(e,s,i,l),h=wF(e),p=Qq(e,this._lastEvent,i,h);i&&(this._lastEvent=null,zt(a.onHover,[e,u,this],this),h&&zt(a.onClick,[e,u,this],this));const m=!ig(u,s);return(m||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=p,m}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},Fe(Ba,"defaults",ln),Fe(Ba,"instances",pm),Fe(Ba,"overrides",Nl),Fe(Ba,"registry",tr),Fe(Ba,"version",Gq),Fe(Ba,"getChart",zA),Ba);function BA(){return Tt(e0.instances,t=>t._plugins.invalidate())}function Zq(t,e,n){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:u,innerRadius:h}=e;let p=s/u;t.beginPath(),t.arc(a,l,u,i-p,n+p),h>s?(p=s/h,t.arc(a,l,h,n+p,i-p,!0)):t.arc(a,l,s,n+$n,i-$n),t.closePath(),t.clip()}function Jq(t){return Mw(t,["outerStart","outerEnd","innerStart","innerEnd"])}function e$(t,e,n,i){const s=Jq(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,i*e/2),u=h=>{const p=(n-Math.min(a,h))*i/2;return Ci(h,0,Math.min(a,p))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:Ci(s.innerStart,0,l),innerEnd:Ci(s.innerEnd,0,l)}}function Vc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function dg(t,e,n,i,s,a){const{x:l,y:u,startAngle:h,pixelMargin:p,innerRadius:m}=e,v=Math.max(e.outerRadius+i+n-p,0),b=m>0?m+i+n+p:0;let _=0;const E=s-h;if(i){const ee=m>0?m-i:0,W=v>0?v-i:0,ne=(ee+W)/2,he=ne!==0?E*ne/(ne+i):E;_=(E-he)/2}const C=Math.max(.001,E*v-n/ri)/v,A=(E-C)/2,j=h+A+_,B=s-A-_,{outerStart:V,outerEnd:$,innerStart:q,innerEnd:J}=e$(e,b,v,B-j),z=v-V,k=v-$,P=j+V/z,O=B-$/k,L=b+q,D=b+J,R=j+q/L,ae=B-J/D;if(t.beginPath(),a){const ee=(P+O)/2;if(t.arc(l,u,v,P,ee),t.arc(l,u,v,ee,O),$>0){const xe=Vc(k,O,l,u);t.arc(xe.x,xe.y,$,O,B+$n)}const W=Vc(D,B,l,u);if(t.lineTo(W.x,W.y),J>0){const xe=Vc(D,ae,l,u);t.arc(xe.x,xe.y,J,B+$n,ae+Math.PI)}const ne=(B-J/b+(j+q/b))/2;if(t.arc(l,u,b,B-J/b,ne,!0),t.arc(l,u,b,ne,j+q/b,!0),q>0){const xe=Vc(L,R,l,u);t.arc(xe.x,xe.y,q,R+Math.PI,j-$n)}const he=Vc(z,j,l,u);if(t.lineTo(he.x,he.y),V>0){const xe=Vc(z,P,l,u);t.arc(xe.x,xe.y,V,j-$n,P)}}else{t.moveTo(l,u);const ee=Math.cos(P)*v+l,W=Math.sin(P)*v+u;t.lineTo(ee,W);const ne=Math.cos(O)*v+l,he=Math.sin(O)*v+u;t.lineTo(ne,he)}t.closePath()}function t$(t,e,n,i,s){const{fullCircles:a,startAngle:l,circumference:u}=e;let h=e.endAngle;if(a){dg(t,e,n,i,h,s);for(let p=0;p<a;++p)t.fill();isNaN(u)||(h=l+(u%hi||hi))}return dg(t,e,n,i,h,s),t.fill(),h}function n$(t,e,n,i,s){const{fullCircles:a,startAngle:l,circumference:u,options:h}=e,{borderWidth:p,borderJoinStyle:m,borderDash:v,borderDashOffset:b}=h,_=h.borderAlign==="inner";if(!p)return;t.setLineDash(v||[]),t.lineDashOffset=b,_?(t.lineWidth=p*2,t.lineJoin=m||"round"):(t.lineWidth=p,t.lineJoin=m||"bevel");let E=e.endAngle;if(a){dg(t,e,n,i,E,s);for(let C=0;C<a;++C)t.stroke();isNaN(u)||(E=l+(u%hi||hi))}_&&Zq(t,e,E),a||(dg(t,e,n,i,E,s),t.stroke())}class eh extends Pu{constructor(n){super();Fe(this,"circumference");Fe(this,"endAngle");Fe(this,"fullCircles");Fe(this,"innerRadius");Fe(this,"outerRadius");Fe(this,"pixelMargin");Fe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.getProps(["x","y"],s),{angle:l,distance:u}=pI(a,{x:n,y:i}),{startAngle:h,endAngle:p,innerRadius:m,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),_=(this.options.spacing+this.options.borderWidth)/2,E=bt(b,p-h),C=mI(l,h,p)&&h!==p,A=E>=hi||C,j=pl(u,m+_,v+_);return A&&j}getCenterPoint(n){const{x:i,y:s,startAngle:a,endAngle:l,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:m}=this.options,v=(a+l)/2,b=(u+h+m+p)/2;return{x:i+Math.cos(v)*b,y:s+Math.sin(v)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>hi?Math.floor(s/hi):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*a,Math.sin(h)*a);const p=1-Math.sin(Math.min(ri,s||0)),m=a*p;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,t$(n,this,m,l,u),n$(n,this,m,l,u),n.restore()}}Fe(eh,"id","arc"),Fe(eh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Fe(eh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Fe(eh,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function $I(t,e){const{x:n,y:i,base:s,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let u,h,p,m,v;return t.horizontal?(v=l/2,u=Math.min(n,s),h=Math.max(n,s),p=i-v,m=i+v):(v=a/2,u=n-v,h=n+v,p=Math.min(i,s),m=Math.max(i,s)),{left:u,top:p,right:h,bottom:m}}function Qa(t,e,n,i){return t?0:Ci(e,n,i)}function i$(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,a=AI(i);return{t:Qa(s.top,a.top,0,n),r:Qa(s.right,a.right,0,e),b:Qa(s.bottom,a.bottom,0,n),l:Qa(s.left,a.left,0,e)}}function s$(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=tu(s),l=Math.min(e,n),u=t.borderSkipped,h=i||ft(s);return{topLeft:Qa(!h||u.top||u.left,a.topLeft,0,l),topRight:Qa(!h||u.top||u.right,a.topRight,0,l),bottomLeft:Qa(!h||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Qa(!h||u.bottom||u.right,a.bottomRight,0,l)}}function r$(t){const e=$I(t),n=e.right-e.left,i=e.bottom-e.top,s=i$(t,n/2,i/2),a=s$(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Dv(t,e,n,i){const s=e===null,a=n===null,u=t&&!(s&&a)&&$I(t,i);return u&&(s||pl(e,u.left,u.right))&&(a||pl(n,u.top,u.bottom))}function a$(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function o$(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ov(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+a,h:t.h+l,radius:t.radius}}class mm extends Pu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=r$(this),u=a$(l.radius)?lg:o$;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),u(e,Ov(l,n,a)),e.clip(),u(e,Ov(a,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Ov(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Dv(this,e,n,i)}inXRange(e,n){return Dv(this,e,null,n)}inYRange(e,n){return Dv(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Fe(mm,"id","bar"),Fe(mm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Fe(mm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const UA=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},l$=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class FA extends Pu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=zt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ki(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=UA(i,a);let p,m;n.font=s.string,this.isHorizontal()?(p=this.maxWidth,m=this._fitRows(l,a,u,h)+10):(m=this.maxHeight,p=this._fitCols(l,s,u,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],m=s+u;let v=e;a.textAlign="left",a.textBaseline="middle";let b=-1,_=-m;return this.legendItems.forEach((E,C)=>{const A=i+n/2+a.measureText(E.text).width;(C===0||p[p.length-1]+A+2*u>l)&&(v+=m,p[p.length-(C>0?0:1)]=0,_+=m,b++),h[C]={left:0,top:_,row:b,width:A,height:s},p[p.length-1]+=A+u}),v}_fitCols(e,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],m=l-e;let v=u,b=0,_=0,E=0,C=0;return this.legendItems.forEach((A,j)=>{const{itemWidth:B,itemHeight:V}=c$(i,n,a,A,s);j>0&&_+V+2*u>m&&(v+=b+u,p.push({width:b,height:_}),E+=b+u,C++,b=_=0),h[j]={left:E,top:_,col:C,width:B,height:V},b=Math.max(b,B),_+=V+u}),v+=b,p.push({width:b,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=nu(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=$i(i,this.left+s,this.right-this.lineWidths[u]);for(const p of n)u!==p.row&&(u=p.row,h=$i(i,this.left+s,this.right-this.lineWidths[u])),p.top+=this.top+e+s,p.left=l.leftForLtr(l.x(h),p.width),h+=p.width+s}else{let u=0,h=$i(i,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const p of n)p.col!==u&&(u=p.col,h=$i(i,this.top+e+s,this.bottom-this.columnSizes[u].height)),p.top=h,p.left+=this.left+s,p.left=l.leftForLtr(l.x(p.left),p.width),h+=p.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Iw(e,this),this._draw(),Pw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=e,u=ln.color,h=nu(e.rtl,this.left,this.width),p=ki(l.font),{padding:m}=l,v=p.size,b=v/2;let _;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=p.string;const{boxWidth:E,boxHeight:C,itemHeight:A}=UA(l,v),j=function(J,z,k){if(isNaN(E)||E<=0||isNaN(C)||C<0)return;s.save();const P=bt(k.lineWidth,1);if(s.fillStyle=bt(k.fillStyle,u),s.lineCap=bt(k.lineCap,"butt"),s.lineDashOffset=bt(k.lineDashOffset,0),s.lineJoin=bt(k.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=bt(k.strokeStyle,u),s.setLineDash(bt(k.lineDash,[])),l.usePointStyle){const O={radius:C*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:P},L=h.xPlus(J,E/2),D=z+b;TI(s,O,L,D,l.pointStyleWidth&&E)}else{const O=z+Math.max((v-C)/2,0),L=h.leftForLtr(J,E),D=tu(k.borderRadius);s.beginPath(),Object.values(D).some(R=>R!==0)?lg(s,{x:L,y:O,w:E,h:C,radius:D}):s.rect(L,O,E,C),s.fill(),P!==0&&s.stroke()}s.restore()},B=function(J,z,k){og(s,k.text,J,z+A/2,p,{strikethrough:k.hidden,textAlign:h.textAlign(k.textAlign)})},V=this.isHorizontal(),$=this._computeTitleHeight();V?_={x:$i(a,this.left+m,this.right-i[0]),y:this.top+m+$,line:0}:_={x:this.left+m,y:$i(a,this.top+$+m,this.bottom-n[0].height),line:0},NI(this.ctx,e.textDirection);const q=A+m;this.legendItems.forEach((J,z)=>{s.strokeStyle=J.fontColor,s.fillStyle=J.fontColor;const k=s.measureText(J.text).width,P=h.textAlign(J.textAlign||(J.textAlign=l.textAlign)),O=E+b+k;let L=_.x,D=_.y;h.setWidth(this.width),V?z>0&&L+O+m>this.right&&(D=_.y+=q,_.line++,L=_.x=$i(a,this.left+m,this.right-i[_.line])):z>0&&D+q>this.bottom&&(L=_.x=L+n[_.line].width+m,_.line++,D=_.y=$i(a,this.top+$+m,this.bottom-n[_.line].height));const R=h.x(L);if(j(R,D,J),L=MF(P,L+E+b,V?L+O:this.right,e.rtl),B(h.x(L),D,J),V)_.x+=O+m;else if(typeof J.text!="string"){const ae=p.lineHeight;_.y+=WI(J,ae)+m}else _.y+=q}),II(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ki(n.font),s=Ms(n.padding);if(!n.display)return;const a=nu(e.rtl,this.left,this.width),l=this.ctx,u=n.position,h=i.size/2,p=s.top+h;let m,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+p,v=$i(e.align,v,this.right-b);else{const E=this.columnSizes.reduce((C,A)=>Math.max(C,A.height),0);m=p+$i(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const _=$i(u,v,v+b);l.textAlign=a.textAlign(bI(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,og(l,n.text,_,m,i)}_computeTitleHeight(){const e=this.options.title,n=ki(e.font),i=Ms(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,a;if(pl(e,this.left,this.right)&&pl(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],pl(e,s.left,s.left+s.width)&&pl(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!h$(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=l$(s,i);s&&!a&&zt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!a&&zt(n.onHover,[e,i,this],this)}else i&&zt(n.onClick,[e,i,this],this)}}function c$(t,e,n,i,s){const a=u$(i,t,e,n),l=d$(s,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function u$(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+i.measureText(s).width}function d$(t,e,n){let i=t;return typeof e.text!="string"&&(i=WI(e,n)),i}function WI(t,e){const n=t.text?t.text.length:0;return e*n}function h$(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var f$={id:"legend",_element:FA,start(t,e,n){const i=t.legend=new FA({ctx:t.ctx,options:n,chart:t});Xa.configure(t,i,n),Xa.addBox(t,i)},stop(t){Xa.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Xa.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(n?0:void 0),m=Ms(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:s||p.textAlign,borderRadius:l&&(u||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const th={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=t.length;a<l;++a){const h=t[a].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),m=kF(e,p);m<s&&(s=m,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function er(t,e){return e&&(Mn(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $r(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function p$(t,e){const{element:n,datasetIndex:i,index:s}=e,a=t.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:t,label:l,parsed:a.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function HA(t,e){const n=t.chart.ctx,{body:i,footer:s,title:a}=t,{boxWidth:l,boxHeight:u}=e,h=ki(e.bodyFont),p=ki(e.titleFont),m=ki(e.footerFont),v=a.length,b=s.length,_=i.length,E=Ms(e.padding);let C=E.height,A=0,j=i.reduce(($,q)=>$+q.before.length+q.lines.length+q.after.length,0);if(j+=t.beforeBody.length+t.afterBody.length,v&&(C+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),j){const $=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;C+=_*$+(j-_)*h.lineHeight+(j-1)*e.bodySpacing}b&&(C+=e.footerMarginTop+b*m.lineHeight+(b-1)*e.footerSpacing);let B=0;const V=function($){A=Math.max(A,n.measureText($).width+B)};return n.save(),n.font=p.string,Tt(t.title,V),n.font=h.string,Tt(t.beforeBody.concat(t.afterBody),V),B=e.displayColors?l+2+e.boxPadding:0,Tt(i,$=>{Tt($.before,V),Tt($.lines,V),Tt($.after,V)}),B=0,n.font=m.string,Tt(t.footer,V),n.restore(),A+=E.width,{width:A,height:C}}function m$(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function g$(t,e,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&s+a+l>e.width||t==="right"&&s-a-l<0)return!0}function y$(t,e,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:u,right:h}}=t;let p="center";return i==="center"?p=s<=(u+h)/2?"left":"right":s<=a/2?p="left":s>=l-a/2&&(p="right"),g$(p,t,e,n)&&(p="center"),p}function qA(t,e,n){const i=n.yAlign||e.yAlign||m$(t,n);return{xAlign:n.xAlign||e.xAlign||y$(t,e,n,i),yAlign:i}}function v$(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function x$(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function $A(t,e,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=t,{xAlign:u,yAlign:h}=n,p=s+a,{topLeft:m,topRight:v,bottomLeft:b,bottomRight:_}=tu(l);let E=v$(e,u);const C=x$(e,h,p);return h==="center"?u==="left"?E+=p:u==="right"&&(E-=p):u==="left"?E-=Math.max(m,b)+s:u==="right"&&(E+=Math.max(v,_)+s),{x:Ci(E,0,i.width-e.width),y:Ci(C,0,i.height-e.height)}}function qp(t,e,n){const i=Ms(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function WA(t){return er([],$r(t))}function b$(t,e,n){return Iu(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function GA(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const GI={beforeTitle:Hr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Hr,beforeBody:Hr,beforeLabel:Hr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Pt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Hr,afterBody:Hr,beforeFooter:Hr,footer:Hr,afterFooter:Hr};function _i(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?GI[e].call(n,i):s}class Px extends Pu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new PI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=b$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=_i(i,"beforeTitle",this,e),a=_i(i,"title",this,e),l=_i(i,"afterTitle",this,e);let u=[];return u=er(u,$r(s)),u=er(u,$r(a)),u=er(u,$r(l)),u}getBeforeBody(e,n){return WA(_i(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Tt(e,a=>{const l={before:[],lines:[],after:[]},u=GA(i,a);er(l.before,$r(_i(u,"beforeLabel",this,a))),er(l.lines,_i(u,"label",this,a)),er(l.after,$r(_i(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,n){return WA(_i(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=_i(i,"beforeFooter",this,e),a=_i(i,"footer",this,e),l=_i(i,"afterFooter",this,e);let u=[];return u=er(u,$r(s)),u=er(u,$r(a)),u=er(u,$r(l)),u}_createItems(e){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],h,p;for(h=0,p=n.length;h<p;++h)u.push(p$(this.chart,n[h]));return e.filter&&(u=u.filter((m,v,b)=>e.filter(m,v,b,i))),e.itemSort&&(u=u.sort((m,v)=>e.itemSort(m,v,i))),Tt(u,m=>{const v=GA(e.callbacks,m);s.push(_i(v,"labelColor",this,m)),a.push(_i(v,"labelPointStyle",this,m)),l.push(_i(v,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=th[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=HA(this,i),p=Object.assign({},u,h),m=qA(this.chart,i,p),v=$A(i,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const a=this.getCaretPosition(e,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:v}=tu(u),{x:b,y:_}=e,{width:E,height:C}=n;let A,j,B,V,$,q;return a==="center"?($=_+C/2,s==="left"?(A=b,j=A-l,V=$+l,q=$-l):(A=b+E,j=A+l,V=$-l,q=$+l),B=A):(s==="left"?j=b+Math.max(h,m)+l:s==="right"?j=b+E-Math.max(p,v)-l:j=this.caretX,a==="top"?(V=_,$=V-l,A=j-l,B=j+l):(V=_+C,$=V+l,A=j+l,B=j-l),q=V),{x1:A,x2:j,x3:B,y1:V,y2:$,y3:q}}drawTitle(e,n,i){const s=this.title,a=s.length;let l,u,h;if(a){const p=nu(i.rtl,this.x,this.width);for(e.x=qp(this,i.titleAlign,i),n.textAlign=p.textAlign(i.titleAlign),n.textBaseline="middle",l=ki(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:p}=a,m=ki(a.bodyFont),v=qp(this,"left",a),b=s.x(v),_=h<m.lineHeight?(m.lineHeight-h)/2:0,E=n.y+_;if(a.usePointStyle){const C={radius:Math.min(p,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=s.leftForLtr(b,p)+p/2,j=E+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,lA(e,C,A,j),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,lA(e,C,A,j)}else{e.lineWidth=ft(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const C=s.leftForLtr(b,p),A=s.leftForLtr(s.xPlus(b,1),p-2),j=tu(l.borderRadius);Object.values(j).some(B=>B!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,lg(e,{x:C,y:E,w:p,h,radius:j}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),lg(e,{x:A,y:E+1,w:p-2,h:h-2,radius:j}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(C,E,p,h),e.strokeRect(C,E,p,h),e.fillStyle=l.backgroundColor,e.fillRect(A,E+1,p-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:p,boxPadding:m}=i,v=ki(i.bodyFont);let b=v.lineHeight,_=0;const E=nu(i.rtl,this.x,this.width),C=function(k){n.fillText(k,E.x(e.x+_),e.y+b/2),e.y+=b+a},A=E.textAlign(l);let j,B,V,$,q,J,z;for(n.textAlign=l,n.textBaseline="middle",n.font=v.string,e.x=qp(this,A,i),n.fillStyle=i.bodyColor,Tt(this.beforeBody,C),_=u&&A!=="right"?l==="center"?p/2+m:p+2+m:0,$=0,J=s.length;$<J;++$){for(j=s[$],B=this.labelTextColors[$],n.fillStyle=B,Tt(j.before,C),V=j.lines,u&&V.length&&(this._drawColorBox(n,e,$,E,i),b=Math.max(v.lineHeight,h)),q=0,z=V.length;q<z;++q)C(V[q]),b=v.lineHeight;Tt(j.after,C)}_=0,b=v.lineHeight,Tt(this.afterBody,C),e.y-=a}drawFooter(e,n,i){const s=this.footer,a=s.length;let l,u;if(a){const h=nu(i.rtl,this.x,this.width);for(e.x=qp(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=ki(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<a;++u)n.fillText(s[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:p,height:m}=i,{topLeft:v,topRight:b,bottomLeft:_,bottomRight:E}=tu(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+v,h),l==="top"&&this.drawCaret(e,n,i,s),n.lineTo(u+p-b,h),n.quadraticCurveTo(u+p,h,u+p,h+b),l==="center"&&a==="right"&&this.drawCaret(e,n,i,s),n.lineTo(u+p,h+m-E),n.quadraticCurveTo(u+p,h+m,u+p-E,h+m),l==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(u+_,h+m),n.quadraticCurveTo(u,h+m,u,h+m-_),l==="center"&&a==="left"&&this.drawCaret(e,n,i,s),n.lineTo(u,h+v),n.quadraticCurveTo(u,h,u+v,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=th[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=HA(this,e),h=Object.assign({},l,this._size),p=qA(n,e,h),m=$A(e,h,p,n);(s._to!==m.x||a._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ms(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,s,n),NI(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),II(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:u,index:h})=>{const p=this.chart.getDatasetMeta(u);if(!p)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:p.data[h],index:h}}),a=!ig(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,i),u=this._positionChanged(l,e),h=n||!ig(l,a)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:s,options:a}=this,l=th[a.position].call(this,e,n);return l!==!1&&(i!==l.x||s!==l.y)}}Fe(Px,"positioners",th);var w$={id:"tooltip",_element:Px,positioners:th,afterInit(t,e,n){n&&(t.tooltip=new Px({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:GI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _$=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function E$(t,e,n,i){const s=t.indexOf(e);if(s===-1)return _$(t,e,n,i);const a=t.lastIndexOf(e);return s!==a?n:s}const T$=(t,e)=>t===null?null:Ci(Math.round(t),0,e);function KA(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Mx extends Mu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Pt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:E$(i,e,bt(n,e),this._addedLabels),T$(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return KA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Fe(Mx,"id","category"),Fe(Mx,"defaults",{ticks:{callback:KA}});function S$(t,e){const n=[],{bounds:s,step:a,min:l,max:u,precision:h,count:p,maxTicks:m,maxDigits:v,includeBounds:b}=t,_=a||1,E=m-1,{min:C,max:A}=e,j=!Pt(l),B=!Pt(u),V=!Pt(p),$=(A-C)/(v+1);let q=JS((A-C)/E/_)*_,J,z,k,P;if(q<1e-14&&!j&&!B)return[{value:C},{value:A}];P=Math.ceil(A/q)-Math.floor(C/q),P>E&&(q=JS(P*q/E/_)*_),Pt(h)||(J=Math.pow(10,h),q=Math.ceil(q*J)/J),s==="ticks"?(z=Math.floor(C/q)*q,k=Math.ceil(A/q)*q):(z=C,k=A),j&&B&&a&&SF((u-l)/a,q/1e3)?(P=Math.round(Math.min((u-l)/q,m)),q=(u-l)/P,z=l,k=u):V?(z=j?l:z,k=B?u:k,P=p-1,q=(k-z)/P):(P=(k-z)/q,dm(P,Math.round(P),q/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(eA(q),eA(z));J=Math.pow(10,Pt(h)?O:h),z=Math.round(z*J)/J,k=Math.round(k*J)/J;let L=0;for(j&&(b&&z!==l?(n.push({value:l}),z<l&&L++,dm(Math.round((z+L*q)*J)/J,l,YA(l,$,t))&&L++):z<l&&L++);L<P;++L){const D=Math.round((z+L*q)*J)/J;if(B&&D>u)break;n.push({value:D})}return B&&b&&k!==u?n.length&&dm(n[n.length-1].value,u,YA(u,$,t))?n[n.length-1].value=u:n.push({value:u}):(!B||k===u)&&n.push({value:k}),n}function YA(t,e,{horizontal:n,minRotation:i}){const s=fl(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class A$ extends Mu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Pt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,u=h=>a=i?a:h;if(e){const h=so(s),p=so(a);h<0&&p<0?u(0):h>0&&p>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);u(a+h),e||l(s-h)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=S$(s,a);return e.bounds==="ticks"&&AF(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return _I(e,this.chart.options.locale,this.options.ticks.format)}}class Dx extends A${determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=bs(e)?e:0,this.max=bs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=fl(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Fe(Dx,"id","linear"),Fe(Dx,"defaults",{ticks:{callback:EI.formatters.numeric}});const t0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ai=Object.keys(t0);function XA(t,e){return t-e}function QA(t,e){if(Pt(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:a}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),bs(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(ag(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function ZA(t,e,n,i){const s=Ai.length;for(let a=Ai.indexOf(t);a<s-1;++a){const l=t0[Ai[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return Ai[a]}return Ai[s-1]}function C$(t,e,n,i,s){for(let a=Ai.length-1;a>=Ai.indexOf(n);a--){const l=Ai[a];if(t0[l].common&&t._adapter.diff(s,i,l)>=e-1)return l}return Ai[n?Ai.indexOf(n):0]}function k$(t){for(let e=Ai.indexOf(t)+1,n=Ai.length;e<n;++e)if(t0[Ai[e]].common)return Ai[e]}function JA(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Nw(n,e),a=n[i]>=e?n[i]:n[s];t[a]=!0}}function R$(t,e,n,i){const s=t._adapter,a=+s.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+s.add(u,1,i))h=n[u],h>=0&&(e[h].major=!0);return e}function eC(t,e,n){const i=[],s={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],s[u]=l,i.push({value:u,major:!1});return a===0||!n?i:R$(t,i,s,n)}class hg extends Mu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new HH._date(e.adapters.date);s.init(n),lh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:QA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(p){!l&&!isNaN(p.min)&&(s=Math.min(s,p.min)),!u&&!isNaN(p.max)&&(a=Math.max(a,p.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=bs(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=bs(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=NF(s,a,l);return this._unit=n.unit||(i.autoSkip?ZA(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):C$(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:k$(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),eC(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Ci(n,0,l),i=Ci(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||ZA(a.minUnit,n,i,this._getLabelCapacity(n)),u=bt(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,p=ag(h)||h===!0,m={};let v=n,b,_;if(p&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,p?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(b=v,_=0;b<i;b=+e.add(b,u,l),_++)JA(m,b,E);return(b===i||s.bounds==="ticks"||_===1)&&JA(m,b,E),Object.keys(m).sort(XA).map(C=>+C)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return zt(l,[e,n,i],this);const u=a.time.displayFormats,h=this._unit,p=this._majorUnit,m=h&&u[h],v=p&&u[p],b=i[n],_=p&&v&&b&&b.major;return this._adapter.format(e,s||(_?v:m))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=fl(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,eC(this,[e],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(QA(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yI(e.sort(XA))}}Fe(hg,"id","time"),Fe(hg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function $p(t,e,n){let i=0,s=t.length-1,a,l,u,h;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Rx(t,"pos",e)),{pos:a,time:u}=t[i],{pos:l,time:h}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Rx(t,"time",e)),{time:a,pos:u}=t[i],{time:l,pos:h}=t[s]);const p=l-a;return p?u+(h-u)*(e-a)/p:u}class tC extends hg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=$p(n,this.min),this._tableRange=$p(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],a=[];let l,u,h,p,m;for(l=0,u=e.length;l<u;++l)p=e[l],p>=n&&p<=i&&s.push(p);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)m=s[l+1],h=s[l-1],p=s[l],Math.round((m+h)/2)!==p&&a.push({time:p,pos:l/(u-1)});return a}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return($p(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return $p(this._table,i*this._tableRange+this._minPos,!0)}}Fe(tC,"id","timeseries"),Fe(tC,"defaults",hg.defaults);const KI="label";function nC(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function j$(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function YI(t,e){t.labels=e}function XI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:KI;const i=[];t.datasets=e.map(s=>{const a=t.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function N$(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KI;const n={labels:[],datasets:[]};return YI(n,t.labels),XI(n,t.datasets,e),n}function I$(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:p=[],fallbackContent:m,updateMode:v,...b}=t,_=I.useRef(null),E=I.useRef(null),C=()=>{_.current&&(E.current=new e0(_.current,{type:l,data:N$(u,a),options:h&&{...h},plugins:p}),nC(e,E.current))},A=()=>{nC(e,null),E.current&&(E.current.destroy(),E.current=null)};return I.useEffect(()=>{!s&&E.current&&h&&j$(E.current,h)},[s,h]),I.useEffect(()=>{!s&&E.current&&YI(E.current.config.data,u.labels)},[s,u.labels]),I.useEffect(()=>{!s&&E.current&&u.datasets&&XI(E.current.config.data,u.datasets,a)},[s,u.datasets]),I.useEffect(()=>{E.current&&(s?(A(),setTimeout(C)):E.current.update(v))},[s,h,u.labels,u.datasets,v]),I.useEffect(()=>{E.current&&(A(),setTimeout(C))},[l]),I.useEffect(()=>(C(),()=>A()),[]),Y.createElement("canvas",{ref:_,role:"img",height:n,width:i,...b},m)}const P$=I.forwardRef(I$);function M$(t,e){return e0.register(e),I.forwardRef((n,i)=>Y.createElement(P$,{...n,ref:i,type:t}))}const Wp=M$("bar",hm);e0.register(eh,mm,Mx,Dx,w$,f$);function iC(){var pa,Ql,Es,Co,Bs,Ts,Ji,Mi,Di,An,Ft,ma,_r,vi,es,ko,Ro;const t=yr(),{user:e,products:n,fetchProducts:i,usuarios:s,fetchUsers:a,deleteUserFromDB:l,updateUserRoleInDB:u}=xo(),[h,p]=I.useState({name:"",price:"",description:"",images:[],stock:"",mainImage:"",rating:"",reviews:"",material:"",color:"",category:""}),[m,v]=I.useState(!1),[b,_]=I.useState(null),[E,C]=I.useState(!1),[A,j]=I.useState(""),[B,V]=I.useState(n||[]),[$,q]=I.useState("analytics"),[J,z]=I.useState(""),[k,P]=I.useState(""),[O,L]=I.useState(!1),[D,R]=I.useState(0),ae=H=>{q(H),L(!1),R(ye=>ye+1)},[ee,W]=I.useState([]),[ne,he]=I.useState(""),[xe,U]=I.useState(!1),[oe,ge]=I.useState(null),[pe,we]=I.useState(""),[je,Se]=I.useState(5),[jt,mt]=I.useState([]),[be,Ye]=I.useState(!1),[Ge,Tn]=I.useState(null),[Ze,gi]=I.useState({code:"",discount:"",description:"",minOrderAmount:"",expiresAt:"",isActive:!0,usageLimit:"",usageCount:0}),[Ut,On]=I.useState([]),[Gn,Gl]=I.useState(!1),[gt,br]=I.useState(null),[ws,Vu]=I.useState("");I.useEffect(()=>{(!e||e.rol!=="admin"&&e.role!=="admin")&&t("/")},[e]),I.useEffect(()=>{console.log("Llamando a fetchProducts y fetchUsers"),i(),a(),n&&n.length>0&&(console.log("Inicializando filteredProducts con productos existentes:",n),V(n))},[i,a,n]),I.useEffect(()=>{const H=Jr(ti(De,"reviews"),ye=>{const Ce=ye.docs.map(Ne=>({id:Ne.id,...Ne.data()}));Ce.sort((Ne,Oe)=>{var ut,lt,gn,Cn,Ht,Dt;const nt=(ut=Ne.createdAt)!=null&&ut.toMillis?Ne.createdAt.toMillis():((gn=(lt=Ne.createdAt)==null?void 0:lt.getTime)==null?void 0:gn.call(lt))||0;return((Cn=Oe.createdAt)!=null&&Cn.toMillis?Oe.createdAt.toMillis():((Dt=(Ht=Oe.createdAt)==null?void 0:Ht.getTime)==null?void 0:Dt.call(Ht))||0)-nt}),W(Ce)});return()=>H()},[]),I.useEffect(()=>{const H=Jr(ti(De,"promoCodes"),ye=>{const Ce=ye.docs.map(Ne=>({id:Ne.id,...Ne.data()}));Ce.sort((Ne,Oe)=>{var ut,lt,gn,Cn,Ht,Dt;const nt=(ut=Ne.createdAt)!=null&&ut.toMillis?Ne.createdAt.toMillis():((gn=(lt=Ne.createdAt)==null?void 0:lt.getTime)==null?void 0:gn.call(lt))||0;return((Cn=Oe.createdAt)!=null&&Cn.toMillis?Oe.createdAt.toMillis():((Dt=(Ht=Oe.createdAt)==null?void 0:Ht.getTime)==null?void 0:Dt.call(Ht))||0)-nt}),mt(Ce)});return()=>H()},[]),I.useEffect(()=>{const H=Jr(ti(De,"orders"),ye=>{const Ce=ye.docs.map(Ne=>({id:Ne.id,...Ne.data()}));Ce.sort((Ne,Oe)=>{var ut,lt,gn,Cn,Ht,Dt;const nt=(ut=Ne.createdAt)!=null&&ut.toMillis?Ne.createdAt.toMillis():((gn=(lt=Ne.createdAt)==null?void 0:lt.getTime)==null?void 0:gn.call(lt))||0;return((Cn=Oe.createdAt)!=null&&Cn.toMillis?Oe.createdAt.toMillis():((Dt=(Ht=Oe.createdAt)==null?void 0:Ht.getTime)==null?void 0:Dt.call(Ht))||0)-nt}),On(Ce)});return()=>H()},[]),I.useEffect(()=>{if(console.log("Products actualizados:",n),n&&n.length>0)if(A.trim()){const H=n.filter(ye=>{var Ce,Ne;return((Ce=ye.name)==null?void 0:Ce.toLowerCase().includes(A.toLowerCase()))||((Ne=ye.description)==null?void 0:Ne.toLowerCase().includes(A.toLowerCase()))});V(H)}else V([...n]);else V([])},[A,n]);const Kn=H=>{p({...h,[H.target.name]:H.target.value})},wo=H=>{j(H.target.value)},Kl=H=>{const ye=Array.from(H.target.files);if(ye.length<1||ye.length>4){_e.fire("Advertencia","Debes seleccionar entre 1 y 4 imágenes.","warning");return}const Ce=2;if(ye.some(nt=>nt.size>Ce*1024*1024)){_e.fire("Error",`Cada imagen debe pesar menos de ${Ce}MB.`,"error");return}const Oe=ye.map(nt=>new Promise((Nt,ut)=>{const lt=new FileReader;lt.onloadend=()=>Nt(lt.result),lt.onerror=ut,lt.readAsDataURL(nt)}));Promise.all(Oe).then(nt=>{p(Nt=>({...Nt,images:nt,mainImage:Nt.mainImage||nt[0]}))})},Vt=H=>{p(ye=>({...ye,mainImage:H}))},ct=()=>{const{name:H,price:ye,images:Ce,stock:Ne,mainImage:Oe,rating:nt,reviews:Nt}=h;if(!H||!ye||Ce.length<1||!Ne||!Oe)return _e.fire("Error","Todos los campos son obligatorios y debe seleccionar una imagen principal.","error"),!1;const ut=nt===""?0:parseFloat(nt);if(isNaN(ut)||ut<0||ut>5)return _e.fire("Error","El rating debe estar entre 0 y 5 (puedes usar pasos de 0.5).","error"),!1;const lt=Nt===""?0:parseInt(Nt);return isNaN(lt)||lt<0?(_e.fire("Error","Las reviews deben ser un número mayor o igual a 0.","error"),!1):!0},li=async()=>{if(!ct())return;const{name:H,price:ye,images:Ce,stock:Ne,mainImage:Oe,description:nt,rating:Nt,reviews:ut,material:lt,color:gn,category:Cn}=h;try{await Hm(ti(De,"products"),{name:H,price:parseFloat(ye),description:nt||"",images:Ce,mainImage:Oe,stock:parseInt(Ne),rating:Nt===""?0:parseFloat(Nt),reviews:ut===""?0:parseInt(ut),material:lt||"",color:gn||"",category:Cn||""}),_e.fire("✅ Producto agregado correctamente.","","success"),Xi(),i()}catch{_e.fire("Error","No se pudo agregar el producto.","error")}},Sn=async()=>{if(!ct())return;const{name:H,price:ye,description:Ce,stock:Ne,images:Oe,mainImage:nt,rating:Nt,reviews:ut,material:lt,color:gn,category:Cn}=h,Ht=tt(De,"products",b.id),Dt=Oe.length?Oe:b.images;try{await sr(Ht,{name:H,price:parseFloat(ye),description:Ce||"",images:Dt,mainImage:nt,stock:parseInt(Ne),rating:Nt===""?b.rating||0:parseFloat(Nt),reviews:ut===""?b.reviews||0:parseInt(ut),material:lt??(b.material||""),color:gn??(b.color||""),category:Cn??(b.category||"")}),_e.fire("✅ Producto actualizado correctamente.","","success"),Xi(),i()}catch{_e.fire("Error","No se pudo actualizar el producto.","error")}},Yl=async H=>{_e.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await Wa(tt(De,"products",H)),_e.fire("Eliminado","El producto ha sido eliminado.","success"),i()}catch{_e.fire("Error","No se pudo eliminar el producto.","error")}})},zu=async H=>{_e.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await l(H),_e.fire("Eliminado","El usuario ha sido eliminado.","success"),a()}catch{_e.fire("Error","No se pudo eliminar el usuario.","error")}})},wr=H=>{v(!0),_(H),p({name:H.name,price:H.price,description:H.description||"",images:H.images||[],stock:H.stock||0,mainImage:H.mainImage||H.images[0],rating:H.rating??"",reviews:H.reviews??"",material:H.material??"",color:H.color??"",category:H.category??""}),C(!0)},Xi=()=>{p({name:"",price:"",description:"",images:[],stock:"",mainImage:"",rating:"",reviews:"",material:"",color:"",category:""}),v(!1),C(!1)},Qi=H=>Math.round(H).toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}),Ii=s.filter(H=>{const ye=H.email.toLowerCase().includes(J.toLowerCase())||H.displayName&&H.displayName.toLowerCase().includes(J.toLowerCase()),Ce=k?k==="admin"?H.email==="admin@gmail.com":H.email!=="admin@gmail.com":!0;return ye&&Ce}),ha=H=>{const ye=H.rol==="admin"?"user":"admin";_e.fire({title:`¿Estás seguro de cambiar el rol de este usuario a ${ye}?`,text:`El usuario podrá ${ye==="admin"?"acceder al panel de administración":"perder acceso de administrador"}.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, cambiar",cancelButtonText:"Cancelar"}).then(async Ce=>{Ce.isConfirmed&&(await u(H.id,ye),_e.fire("Rol actualizado",`El usuario ahora es ${ye}.`,"success"),a())})},Vs=async H=>{const ye=no(ti(De,"reviews"),Rl("productId","==",H)),Ne=(await Hc(ye)).docs.map(Nt=>Nt.data()),Oe=Ne.length,nt=Oe>0?Math.round(Ne.reduce((Nt,ut)=>Nt+(parseFloat(ut.rating)||0),0)/Oe*10)/10:0;await sr(tt(De,"products",H),{rating:nt,reviews:Oe})},_o=H=>{ge(H),we(H.text||""),Se(H.rating||0),U(!0)},Eo=async()=>{if(oe)try{await sr(tt(De,"reviews",oe.id),{text:(pe||"").trim(),rating:parseFloat(je)}),await Vs(oe.productId),U(!1),ge(null),_e.fire("Review actualizada","","success")}catch{_e.fire("Error","No se pudo actualizar la review","error")}},To=async H=>{_e.fire({title:"¿Eliminar review?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await Wa(tt(De,"reviews",H.id)),await Vs(H.productId),_e.fire("Eliminada","La review fue eliminada","success")}catch{_e.fire("Error","No se pudo eliminar la review","error")}})},_s=ne?ee.filter(H=>H.productId===ne):ee,Ln=H=>{const{name:ye,value:Ce,type:Ne,checked:Oe}=H.target;gi(nt=>({...nt,[ye]:Ne==="checkbox"?Oe:Ce}))},So=()=>{const{code:H,discount:ye,description:Ce}=Ze;return!H||!ye||!Ce?(_e.fire("Error","El código, descuento y descripción son obligatorios","error"),!1):parseFloat(ye)<=0||parseFloat(ye)>100?(_e.fire("Error","El descuento debe estar entre 1 y 100","error"),!1):!0},Zi=async()=>{if(So())try{const H={code:Ze.code.toUpperCase(),discount:parseFloat(Ze.discount),description:Ze.description,minOrderAmount:Ze.minOrderAmount?parseFloat(Ze.minOrderAmount):0,expiresAt:Ze.expiresAt?new Date(Ze.expiresAt):null,isActive:Ze.isActive,usageLimit:Ze.usageLimit?parseInt(Ze.usageLimit):null,usageCount:Ge?Ge.usageCount:0,createdAt:Ge?Ge.createdAt:new Date,updatedAt:new Date};Ge?(await sr(tt(De,"promoCodes",Ge.id),H),_e.fire("Éxito","Código promocional actualizado correctamente","success")):(await Hm(ti(De,"promoCodes"),H),_e.fire("Éxito","Código promocional creado correctamente","success")),Pi(),Ye(!1)}catch(H){console.error("Error saving promo code:",H),_e.fire("Error","No se pudo guardar el código promocional","error")}},Ao=H=>{console.log("editPromoCode called with:",H),Tn(H);let ye="";if(H.expiresAt)try{H.expiresAt.toDate?ye=H.expiresAt.toDate().toISOString().split("T")[0]:H.expiresAt instanceof Date?ye=H.expiresAt.toISOString().split("T")[0]:typeof H.expiresAt=="string"&&(ye=new Date(H.expiresAt).toISOString().split("T")[0])}catch(Ce){console.warn("Error parsing expiration date:",Ce),ye=""}gi({code:H.code||"",discount:(H.discount||"").toString(),description:H.description||"",minOrderAmount:H.minOrderAmount?H.minOrderAmount.toString():"",expiresAt:ye,isActive:H.isActive!==void 0?H.isActive:!0,usageLimit:H.usageLimit?H.usageLimit.toString():"",usageCount:H.usageCount||0}),console.log("Setting promoModalOpen to true"),Ye(!0)},zs=async H=>{_e.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await Wa(tt(De,"promoCodes",H)),_e.fire("Eliminado","El código promocional ha sido eliminado","success")}catch(Ce){console.error("Error deleting promo code:",Ce),_e.fire("Error","No se pudo eliminar el código promocional","error")}})},fa=async(H,ye)=>{try{await sr(tt(De,"promoCodes",H),{isActive:!ye}),_e.fire("Éxito",`Código promocional ${ye?"desactivado":"activado"}`,"success")}catch(Ce){console.error("Error updating promo status:",Ce),_e.fire("Error","No se pudo actualizar el estado del código promocional","error")}},Pi=()=>{gi({code:"",discount:"",description:"",minOrderAmount:"",expiresAt:"",isActive:!0,usageLimit:"",usageCount:0}),Tn(null)},Xl=async(H,ye)=>{try{await sr(tt(De,"orders",H),{status:ye,updatedAt:new Date}),_e.fire("Éxito",`Estado del pedido actualizado a ${ye}`,"success")}catch(Ce){console.error("Error updating order status:",Ce),_e.fire("Error","No se pudo actualizar el estado del pedido","error")}},Mt=H=>{br(H),Gl(!0)},tn=async H=>{_e.fire({title:"¿Estás seguro?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(async ye=>{if(ye.isConfirmed)try{await Wa(tt(De,"orders",H)),_e.fire("Eliminado","El pedido ha sido eliminado","success")}catch(Ce){console.error("Error deleting order:",Ce),_e.fire("Error","No se pudo eliminar el pedido","error")}})},Kt=ws?Ut.filter(H=>H.status===ws):Ut,yi=H=>{switch(H){case"pending":return"pending";case"processing":return"pending";case"shipped":return"completed";case"delivered":return"completed";case"cancelled":return"expired";default:return"pending"}};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"admin-navbar",children:d.jsxs("div",{className:"admin-navbar-content",children:[d.jsxs("div",{className:"admin-navbar-left",children:[d.jsx("button",{className:"mobile-menu-toggle",onClick:()=>L(!O),children:d.jsx("i",{className:`fas ${O?"fa-times":"fa-bars"}`})}),d.jsxs("div",{className:"admin-brand",children:[d.jsx("i",{className:"fas fa-chart-line"}),d.jsx("span",{children:"Ecommerce Admin"})]})]}),d.jsxs("div",{className:"admin-navbar-right",children:[d.jsxs("div",{className:"admin-user-info",children:[d.jsx("div",{className:"admin-user-avatar",children:d.jsx("i",{className:"fas fa-user-circle"})}),d.jsxs("div",{className:"admin-user-details",children:[d.jsx("span",{className:"admin-user-name",children:(e==null?void 0:e.displayName)||((pa=e==null?void 0:e.email)==null?void 0:pa.split("@")[0])||"Admin"}),d.jsx("span",{className:"admin-user-role",children:"Administrador"})]})]}),d.jsx("button",{className:"admin-logout-btn",onClick:()=>t("/"),title:"Ir al sitio web",children:d.jsx("i",{className:"fas fa-external-link-alt"})})]})]})}),d.jsxs("div",{className:`admin-panel${E?" modal-open":""}`,children:[O&&d.jsx("div",{className:"mobile-menu-backdrop",onClick:()=>L(!1)}),d.jsx("div",{className:`sidebar ${O?"mobile-open":""}`,children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="analytics"?"active":""}`,onClick:()=>ae("analytics"),children:[d.jsx("i",{className:"fas fa-chart-bar"}),d.jsx("span",{children:"Analytics"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="productos"?"active":""}`,onClick:()=>ae("productos"),children:[d.jsx("i",{className:"fas fa-box"}),d.jsx("span",{children:"Productos"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="usuarios"?"active":""}`,onClick:()=>ae("usuarios"),children:[d.jsx("i",{className:"fas fa-users"}),d.jsx("span",{children:"Usuarios"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="reviews"?"active":""}`,onClick:()=>ae("reviews"),children:[d.jsx("i",{className:"fas fa-comments"}),d.jsx("span",{children:"Reviews"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="promos"?"active":""}`,onClick:()=>ae("promos"),children:[d.jsx("i",{className:"fas fa-tags"}),d.jsx("span",{children:"Códigos Promo"})]})}),d.jsx("li",{children:d.jsxs("div",{className:`sidebar-link ${$==="orders"?"active":""}`,onClick:()=>ae("orders"),children:[d.jsx("i",{className:"fas fa-shopping-bag"}),d.jsx("span",{children:"Pedidos"})]})})]})}),d.jsxs("div",{className:"main-content",children:[console.log("Current activeSection:",$,"renderKey:",D),$==="analytics"&&d.jsxs("div",{className:"dashboard-container",children:[d.jsxs("div",{className:"dashboard-header",children:[d.jsx("h1",{className:"dashboard-title",children:"Panel de Control"}),d.jsx("div",{className:"dashboard-subtitle",children:"Resumen general de la tienda"})]}),d.jsxs("div",{className:"stats-grid",children:[d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Ventas Totales"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsx("div",{className:"stat-value",children:Qi(Ut.reduce((H,ye)=>{var Ce;return H+(((Ce=ye.pricing)==null?void 0:Ce.total)||0)},0))}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Tienda Online"}),d.jsx("span",{className:"stat-percentage positive",children:"+2.2%"})]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Total Visitantes"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsx("div",{className:"stat-value",children:Ut.length}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Órdenes"}),d.jsx("span",{className:"stat-percentage positive",children:"+7.6%"})]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsxs("div",{className:"stat-header",children:[d.jsx("div",{className:"stat-title",children:"Clientes Recurrentes"}),d.jsx("div",{className:"stat-action",children:"Ver"})]}),d.jsxs("div",{className:"stat-value",children:[(s.length/(s.length+10)*100).toFixed(1),"%"]}),d.jsxs("div",{className:"stat-subtitle",children:[d.jsx("span",{className:"stat-detail",children:"Usuarios"}),d.jsx("span",{className:"stat-percentage negative",children:"-0.7%"})]})]})]}),d.jsxs("div",{className:"charts-grid-dashboard",children:[d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Ventas en el Tiempo"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Wp,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Ventas Totales",data:[Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4,Math.floor(Math.random()*5e4)+2e4],backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",borderWidth:2,fill:!0}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Visitantes en el Tiempo"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Wp,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Total Visitantes",data:[42,38,65,72],backgroundColor:"rgba(34, 197, 94, 0.8)",borderRadius:4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"chart-card-dashboard",children:[d.jsx("div",{className:"chart-header-dashboard",children:d.jsx("h3",{children:"Clientes"})}),d.jsx("div",{className:"chart-container-dashboard",children:d.jsx(Wp,{data:{labels:["17/01","18/01","21/01","23/01"],datasets:[{label:"Primera vez",data:[15,20,25,18],backgroundColor:"rgba(34, 197, 94, 0.8)",borderRadius:4},{label:"Recurrentes",data:[8,12,15,22],backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:4}]},options:{plugins:{legend:{display:!0,position:"bottom",labels:{font:{family:"Inter"}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]})]}),d.jsxs("div",{className:"bottom-cards-grid",children:[d.jsxs("div",{className:"wide-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:"Ventas Actuales"}),d.jsx("span",{className:"date-range",children:"13/03/2018 to 20/03/2018"})]}),d.jsx("div",{className:"wide-chart-container",children:d.jsx(Wp,{data:{labels:Array.from({length:20},(H,ye)=>`${ye+1}/03`),datasets:[{label:"Ventas",data:Array.from({length:20},()=>Math.floor(Math.random()*6e4)+2e4),backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",borderWidth:3,fill:!0,tension:.4}]},options:{plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,0.05)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}},maintainAspectRatio:!1}})})]}),d.jsxs("div",{className:"history-card",children:[d.jsx("div",{className:"card-header",children:d.jsx("h3",{children:"Historial"})}),d.jsxs("div",{className:"history-list",children:[d.jsxs("div",{className:"history-item",children:[d.jsx("span",{className:"history-month",children:"Enero"}),d.jsx("div",{className:"history-bar",children:d.jsx("div",{className:"history-progress",style:{width:"80%"}})}),d.jsx("span",{className:"history-amount",children:Qi(12e4)})]}),d.jsxs("div",{className:"history-item",children:[d.jsx("span",{className:"history-month",children:"Febrero"}),d.jsx("div",{className:"history-bar",children:d.jsx("div",{className:"history-progress green",style:{width:"60%"}})}),d.jsx("span",{className:"history-amount",children:Qi(85200)})]})]})]})]})]}),$==="productos"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Lista de Productos"}),d.jsxs("div",{className:"search-filter-container",children:[d.jsxs("div",{className:"search-container",children:[d.jsx("i",{className:"fas fa-search search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"search-input",value:A,onChange:wo})]}),d.jsx("button",{onClick:()=>C(!0),className:"button primary",children:"+ Agregar Producto"})]})]}),d.jsxs("div",{className:"table-container",children:[console.log("Renderizando tabla con:",{products:n,filteredProducts:B}),d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Producto"}),d.jsx("th",{children:"Precio"}),d.jsx("th",{children:"Stock"}),d.jsx("th",{children:"Reviews"}),d.jsx("th",{children:"Imagen Principal"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:B&&B.length>0?B.map(H=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("div",{className:"product-info",children:d.jsx("div",{className:"product-details",children:d.jsx("span",{className:"product-name",children:H.name})})})}),d.jsx("td",{children:Qi(H.price)}),d.jsx("td",{children:d.jsx("span",{className:`status-badge ${H.stock>0?"completed":"pending"}`,children:H.stock>0?`${H.stock} unidades`:"Agotado"})}),d.jsx("td",{children:H.reviews??0}),d.jsx("td",{children:d.jsx("img",{src:H.mainImage,alt:H.name,className:"product-thumb",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}})}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{onClick:()=>wr(H),className:"action-button",title:"Editar",children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{onClick:()=>Yl(H.id),className:"action-button",title:"Eliminar",children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"},children:n.length===0?d.jsxs("div",{children:[d.jsx("p",{children:"No hay productos disponibles."}),d.jsx("p",{children:'Agrega tu primer producto haciendo clic en "+ Agregar Producto"'})]}):d.jsxs("div",{children:[d.jsx("p",{children:"No se encontraron productos que coincidan con tu búsqueda."}),d.jsx("p",{children:"Intenta con otros términos o limpia el filtro."})]})})})})]})]})]}),$==="usuarios"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Lista de Usuarios"}),d.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[d.jsx("input",{type:"text",placeholder:"Buscar usuario por email o nombre...",value:J,onChange:H=>z(H.target.value),className:"input-field",style:{minWidth:220,maxWidth:300}}),d.jsxs("select",{value:k,onChange:H=>P(H.target.value),className:"input-field",style:{minWidth:120,maxWidth:180},children:[d.jsx("option",{value:"",children:"Todos los roles"}),d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"user",children:"Usuario"})]})]})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table users-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Usuario"}),d.jsx("th",{children:"Email"}),d.jsx("th",{children:"Rol"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:Ii.map(H=>d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"user-name",children:H.fullName||H.displayName||H.email.split("@")[0]})}),d.jsx("td",{children:H.email}),d.jsx("td",{children:d.jsx("span",{className:`role-badge ${H.rol==="admin"?"admin":"user"}`,children:H.rol==="admin"?"Admin":"Usuario"})}),d.jsx("td",{children:d.jsx("div",{className:"action-buttons",children:H.email!=="admin@gmail.com"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>ha(H),className:"action-button",title:"Cambiar rol",style:{background:"#e0e7ff",color:"#2563eb"},children:[d.jsx("i",{className:"fas fa-user-shield"})," ",H.rol==="admin"?"Hacer usuario":"Hacer admin"]}),d.jsx("button",{onClick:()=>zu(H.id),className:"action-button delete",title:"Eliminar usuario",children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})})]},H.id))})]})})]}),$==="reviews"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",style:{alignItems:"center"},children:[d.jsx("h2",{className:"section-title",children:"Administrar Reviews"}),d.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:d.jsxs("select",{className:"input-field",value:ne,onChange:H=>he(H.target.value),style:{minWidth:220,maxWidth:320},children:[d.jsx("option",{value:"",children:"Todas los productos"}),n.map(H=>d.jsx("option",{value:H.id,children:H.name},H.id))]})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Producto"}),d.jsx("th",{children:"Rating"}),d.jsx("th",{children:"Texto"}),d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:_s.map(H=>{var Ne,Oe,nt;const ye=n.find(Nt=>Nt.id===H.productId),Ce=(Ne=H.createdAt)!=null&&Ne.toDate?H.createdAt.toDate():H.createdAt||null;return d.jsxs("tr",{children:[d.jsx("td",{children:(ye==null?void 0:ye.name)||H.productId}),d.jsx("td",{children:H.rating??0}),d.jsxs("td",{children:[(Oe=H.text)==null?void 0:Oe.substring(0,80),(((nt=H.text)==null?void 0:nt.length)||0)>80?"…":""]}),d.jsx("td",{children:Ce?new Date(Ce).toLocaleString():"-"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Editar",onClick:()=>_o(H),children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>To(H),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)})})]})}),xe&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Cerrar",onClick:()=>{U(!1),ge(null)},children:"×"}),d.jsx("h3",{children:"Editar reseña"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Datos de la reseña"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-rating",children:"Calificación"}),d.jsx("select",{className:"input-field",value:je,onChange:H=>Se(H.target.value),id:"review-rating",children:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5].map(H=>d.jsxs("option",{value:H,children:[H," estrellas"]},H))}),d.jsx("div",{className:"helper-text",children:"Selecciona la calificación de 0 a 5 estrellas"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-user",children:"Usuario"}),d.jsx("input",{type:"text",className:"input-field",placeholder:"Usuario (solo lectura)",value:(oe==null?void 0:oe.user)||"Anónimo",readOnly:!0,id:"review-user",style:{backgroundColor:"#f8fafc",cursor:"not-allowed"}}),d.jsx("div",{className:"helper-text",children:"Este campo no se puede editar"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"review-text",children:"Comentario de la reseña"}),d.jsx("textarea",{className:"input-field textarea",value:pe,onChange:H=>we(H.target.value),placeholder:"Escribe el texto de la reseña...",id:"review-text",rows:"4"}),d.jsx("div",{className:"helper-text",children:"Texto completo de la reseña del cliente"})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{className:"button primary",onClick:Eo,children:"Guardar"}),d.jsx("button",{className:"button delete",onClick:()=>{U(!1),ge(null)},children:"Cancelar"})]})]})})]}),$==="promos"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Gestión de Códigos Promocionales"}),d.jsx("button",{onClick:()=>{Pi(),Ye(!0)},className:"button primary",children:"+ Crear Código Promocional"})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Código"}),d.jsx("th",{children:"Descuento"}),d.jsx("th",{children:"Descripción"}),d.jsx("th",{children:"Compra Mín."}),d.jsx("th",{children:"Expira"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Uso"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:jt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:d.jsxs("div",{children:[d.jsx("p",{children:"Aún no hay códigos promocionales creados."}),d.jsx("p",{children:"Crea tu primer código promocional para ofrecer descuentos a los clientes."})]})})}):jt.map(H=>{const ye=H.expiresAt&&H.expiresAt.toDate()<new Date,Ce=H.usageLimit&&H.usageCount>=H.usageLimit;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx("span",{className:"promo-code",children:H.code})}),d.jsxs("td",{children:[H.discount,"%"]}),d.jsx("td",{children:H.description}),d.jsxs("td",{children:["$",Math.round(H.minOrderAmount||0).toLocaleString("es-CO")]}),d.jsx("td",{children:H.expiresAt?d.jsx("span",{className:ye?"expired":"",children:H.expiresAt.toDate().toLocaleDateString()}):"Sin vencimiento"}),d.jsx("td",{children:d.jsx("span",{className:`status-badge ${H.isActive?ye||Ce?"expired":"completed":"pending"}`,children:H.isActive?ye?"Expirado":Ce?"Límite Alcanzado":"Activo":"Inactivo"})}),d.jsxs("td",{children:[H.usageCount,"/",H.usageLimit||"∞"]}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Editar",onClick:()=>Ao(H),children:d.jsx("i",{className:"fas fa-pencil-alt"})}),d.jsx("button",{className:`action-button ${H.isActive?"deactivate":"activate"}`,title:H.isActive?"Desactivar":"Activar",onClick:()=>fa(H.id,H.isActive),children:d.jsx("i",{className:`fas fa-${H.isActive?"pause":"play"}`})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>zs(H.id),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)})})]})}),be&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Close",onClick:()=>{Ye(!1),Pi()},children:"×"}),d.jsx("h3",{children:Ge?"Editar código promocional":"Crear código promocional"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Información básica"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-code",children:"Código promocional"}),d.jsx("input",{type:"text",name:"code",id:"promo-code",value:Ze.code,onChange:Ln,placeholder:"SAVE20, DESCUENTO10",className:"input-field",style:{textTransform:"uppercase"}}),d.jsx("div",{className:"helper-text",children:"Código único que usarán los clientes"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-discount",children:"Descuento (%)"}),d.jsx("input",{type:"number",name:"discount",id:"promo-discount",value:Ze.discount,onChange:Ln,placeholder:"20",className:"input-field",min:"1",max:"100"}),d.jsx("div",{className:"helper-text",children:"Porcentaje de descuento (1-100%)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-description",children:"Descripción"}),d.jsx("input",{type:"text",name:"description",id:"promo-description",value:Ze.description,onChange:Ln,placeholder:"Descuento especial del 20% en toda la tienda",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Descripción breve de la oferta"})]}),d.jsx("div",{className:"form-subtitle",children:"Condiciones y restricciones"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-min-order",children:"Compra mínima (COP)"}),d.jsx("input",{type:"number",name:"minOrderAmount",id:"promo-min-order",value:Ze.minOrderAmount,onChange:Ln,placeholder:"50000",className:"input-field",min:"0",step:"1000"}),d.jsx("div",{className:"helper-text",children:"Mínimo requerido (opcional)"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-usage-limit",children:"Límite de uso"}),d.jsx("input",{type:"number",name:"usageLimit",id:"promo-usage-limit",value:Ze.usageLimit,onChange:Ln,placeholder:"100",className:"input-field",min:"1"}),d.jsx("div",{className:"helper-text",children:"Máx. usos permitidos (opcional)"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"promo-expires",children:"Fecha de expiración"}),d.jsx("input",{type:"date",name:"expiresAt",id:"promo-expires",value:Ze.expiresAt,onChange:Ln,className:"input-field",min:new Date().toISOString().split("T")[0]}),d.jsx("div",{className:"helper-text",children:"Fecha límite para usar el código (opcional)"})]}),d.jsx("div",{className:"checkbox-container",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",name:"isActive",checked:Ze.isActive,onChange:Ln}),d.jsx("span",{children:"Activar código (los usuarios podrán usarlo inmediatamente)"})]})})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{className:"button primary",onClick:Zi,children:Ge?"Actualizar":"Crear código"}),d.jsx("button",{className:"button delete",onClick:()=>{Ye(!1),Pi()},children:"Cancelar"})]})]})})]}),$==="orders"&&d.jsxs("div",{className:"content-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h2",{className:"section-title",children:"Gestión de Pedidos"}),d.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:d.jsxs("select",{className:"input-field",value:ws,onChange:H=>Vu(H.target.value),style:{minWidth:150,maxWidth:200},children:[d.jsx("option",{value:"",children:"Todos los Pedidos"}),d.jsx("option",{value:"pending",children:"Pendiente"}),d.jsx("option",{value:"processing",children:"Procesando"}),d.jsx("option",{value:"shipped",children:"Enviado"}),d.jsx("option",{value:"delivered",children:"Entregado"}),d.jsx("option",{value:"cancelled",children:"Cancelado"})]})})]}),d.jsx("div",{className:"table-container",children:d.jsxs("table",{className:"styled-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"ID Pedido"}),d.jsx("th",{children:"Cliente"}),d.jsx("th",{children:"Artículos"}),d.jsx("th",{children:"Total"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:Kt.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"20px"},children:d.jsxs("div",{children:[d.jsx("p",{children:"No se encontraron pedidos."}),d.jsx("p",{children:"Los pedidos aparecerán aquí una vez que los clientes empiecen a realizarlos."})]})})}):Kt.map(H=>{var ye,Ce,Ne;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsxs("span",{className:"order-id",children:["#",H.id.substring(0,8)]})}),d.jsx("td",{children:d.jsxs("div",{children:[d.jsx("div",{className:"customer-name",children:H.userName||"Unknown"}),d.jsx("div",{className:"customer-email",children:H.userEmail||"No email"})]})}),d.jsxs("td",{children:[((ye=H.items)==null?void 0:ye.length)||0," artículos"]}),d.jsxs("td",{children:["$",Math.round(((Ce=H.pricing)==null?void 0:Ce.total)||0).toLocaleString("es-CO")]}),d.jsx("td",{children:d.jsxs("select",{className:`status-select ${yi(H.status||"pending")}`,value:H.status||"pending",onChange:Oe=>Xl(H.id,Oe.target.value),children:[d.jsx("option",{value:"pending",children:"Pendiente"}),d.jsx("option",{value:"processing",children:"Procesando"}),d.jsx("option",{value:"shipped",children:"Enviado"}),d.jsx("option",{value:"delivered",children:"Entregado"}),d.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),d.jsx("td",{children:(Ne=H.createdAt)!=null&&Ne.toDate?H.createdAt.toDate().toLocaleDateString():H.createdAt?new Date(H.createdAt).toLocaleDateString():"Unknown"}),d.jsx("td",{children:d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"action-button",title:"Ver Detalles",onClick:()=>Mt(H),children:d.jsx("i",{className:"fas fa-eye"})}),d.jsx("button",{className:"action-button delete",title:"Eliminar",onClick:()=>tn(H.id),children:d.jsx("i",{className:"fas fa-trash-alt"})})]})})]},H.id)})})]})}),Gn&&gt&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content order-modal",children:[d.jsx("button",{className:"modal-close","aria-label":"Close",onClick:()=>{Gl(!1),br(null)},children:"×"}),d.jsxs("h3",{children:["Detalles del Pedido - #",gt.id.substring(0,8)]}),d.jsxs("div",{className:"order-details-content",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Información del Cliente"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Nombre:"})," ",gt.userName||"Desconocido"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Email:"})," ",gt.userEmail||"Sin email"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Método de Pago:"})," ",((Es=(Ql=gt.paymentMethod)==null?void 0:Ql.replace("_"," "))==null?void 0:Es.toUpperCase())||"No especificado"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Fecha del Pedido:"})," ",(Co=gt.createdAt)!=null&&Co.toDate?gt.createdAt.toDate().toLocaleString():gt.createdAt?new Date(gt.createdAt).toLocaleString():"Desconocida"]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Dirección de Entrega"}),d.jsxs("div",{className:"address-info",children:[d.jsx("strong",{children:((Bs=gt.deliveryAddress)==null?void 0:Bs.name)||"Sin nombre"}),d.jsx("br",{}),((Ts=gt.deliveryAddress)==null?void 0:Ts.street)||"Sin dirección",d.jsx("br",{}),((Ji=gt.deliveryAddress)==null?void 0:Ji.city)||"Sin ciudad",", ",((Mi=gt.deliveryAddress)==null?void 0:Mi.state)||"Sin estado"," ",((Di=gt.deliveryAddress)==null?void 0:Di.zipCode)||"Sin código postal",d.jsx("br",{}),((An=gt.deliveryAddress)==null?void 0:An.country)||"Sin país",d.jsx("br",{}),"Teléfono: ",((Ft=gt.deliveryAddress)==null?void 0:Ft.phone)||"Sin teléfono"]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Artículos del Pedido"}),d.jsx("div",{className:"order-items-list",children:(gt.items||[]).map((H,ye)=>d.jsxs("div",{className:"order-item-detail",children:[d.jsx("img",{src:H.image||"/placeholder.jpg",alt:H.name||"Producto",className:"item-image-small"}),d.jsxs("div",{className:"item-info",children:[d.jsx("div",{className:"item-name",children:H.name||"Producto Desconocido"}),d.jsxs("div",{className:"item-specs",children:["Material: ",H.material||"N/A"," | Color: ",H.color||"N/A"]}),d.jsxs("div",{className:"item-price",children:["Cant: ",H.quantity||0," × $",Math.round(H.price||0).toLocaleString("es-CO")," = $",Math.round((H.quantity||0)*(H.price||0)).toLocaleString("es-CO")]})]})]},ye))})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Desglose de Precios"}),d.jsxs("div",{className:"pricing-details",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(((ma=gt.pricing)==null?void 0:ma.subtotal)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envío:"}),d.jsxs("span",{children:["$",Math.round(((_r=gt.pricing)==null?void 0:_r.shippingFee)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuestos:"}),d.jsxs("span",{children:["$",Math.round(((vi=gt.pricing)==null?void 0:vi.tax)||0).toLocaleString("es-CO")]})]}),(((es=gt.pricing)==null?void 0:es.discount)||0)>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsx("span",{children:"Descuento:"}),d.jsxs("span",{children:["-$",Math.round(((ko=gt.pricing)==null?void 0:ko.discount)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(((Ro=gt.pricing)==null?void 0:Ro.total)||0).toLocaleString("es-CO")]})]})]})]}),gt.orderNotes&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h4",{children:"Notas del Pedido"}),d.jsx("div",{className:"order-notes-display",children:gt.orderNotes})]})]})]})})]}),E&&d.jsx("div",{className:"modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close","aria-label":"Cerrar",onClick:Xi,children:"×"}),d.jsx("h3",{children:m?"Editar Producto":"Agregar Producto"}),d.jsxs("div",{className:"modal-form",children:[d.jsx("div",{className:"form-subtitle",children:"Información básica"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"name",children:"Nombre del producto"}),d.jsx("input",{type:"text",name:"name",id:"name",value:h.name,onChange:Kn,placeholder:"Ej: iPhone 14 Pro Max",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Ingresa un nombre descriptivo y atractivo"})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"price",children:"Precio (COP)"}),d.jsx("input",{type:"number",name:"price",id:"price",value:h.price,onChange:Kn,placeholder:"150000",className:"input-field",min:"0",step:"1000"}),d.jsx("div",{className:"helper-text",children:"Precio en pesos colombianos"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"stock",children:"Stock disponible"}),d.jsx("input",{type:"number",name:"stock",id:"stock",value:h.stock,onChange:Kn,placeholder:"50",className:"input-field",min:"0"}),d.jsx("div",{className:"helper-text",children:"Cantidad de unidades"})]})]}),d.jsx("div",{className:"form-subtitle",children:"Valoración"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"rating",children:"Rating"}),d.jsx("input",{type:"number",step:"0.5",min:"0",max:"5",name:"rating",id:"rating",value:h.rating,onChange:Kn,placeholder:"4.5",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"De 0.0 a 5.0 estrellas"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"reviews",children:"Número de reseñas"}),d.jsx("input",{type:"number",step:"1",min:"0",name:"reviews",id:"reviews",value:h.reviews,onChange:Kn,placeholder:"127",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Cantidad de reseñas"})]})]}),d.jsx("div",{className:"form-subtitle",children:"Características"}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"material",children:"Material"}),d.jsx("input",{type:"text",name:"material",id:"material",value:h.material,onChange:Kn,placeholder:"Aluminio, Cristal",className:"input-field"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"color",children:"Color"}),d.jsx("input",{type:"text",name:"color",id:"color",value:h.color,onChange:Kn,placeholder:"Negro espacial",className:"input-field"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"category",children:"Categoría"}),d.jsx("input",{type:"text",name:"category",id:"category",value:h.category,onChange:Kn,placeholder:"Smartphones, Accesorios, Electrónicos",className:"input-field"}),d.jsx("div",{className:"helper-text",children:"Categoría del producto para mejor organización"})]}),d.jsx("div",{className:"form-subtitle",children:"Descripción"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",htmlFor:"description",children:"Descripción detallada"}),d.jsx("textarea",{name:"description",id:"description",value:h.description,onChange:Kn,placeholder:"Describe las características principales, beneficios y especificaciones del producto...",className:"input-field textarea",rows:"4"}),d.jsx("div",{className:"helper-text",children:"Una descripción atractiva ayuda a los clientes a tomar decisiones"})]}),d.jsx("div",{className:"form-subtitle",children:"Imágenes del producto"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"field-label",children:"Cargar imágenes"}),d.jsxs("div",{className:"image-upload-section",children:[d.jsxs("div",{className:"upload-instructions",children:[d.jsx("span",{className:"highlight",children:"Selecciona entre 1 y 4 imágenes"}),d.jsx("br",{}),"Formatos soportados: JPG, PNG, WEBP",d.jsx("br",{}),"Tamaño máximo: 2MB por imagen"]}),d.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Kl,className:"input-field"}),h.images.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"helper-text success",children:["✓ ",h.images.length," imagen(es) cargada(s). Selecciona la imagen principal:"]}),d.jsx("div",{className:"image-preview-container",children:h.images.map((H,ye)=>d.jsxs("div",{className:"image-preview-wrapper",children:[d.jsx("img",{src:H,alt:`preview-${ye}`,className:`image-preview ${H===h.mainImage?"selected":""}`,onClick:()=>Vt(H)}),d.jsx("input",{type:"radio",name:"mainImage",checked:H===h.mainImage,onChange:()=>Vt(H),className:"image-select-radio",title:"Seleccionar como imagen principal"})]},ye))})]})]})]})]}),d.jsxs("div",{className:"modal-footer",children:[d.jsx("button",{onClick:m?Sn:li,className:"button primary",children:m?"Actualizar":"Agregar"}),d.jsx("button",{onClick:Xi,className:"button delete",children:"Cancelar"})]})]})})]},D)]})]})}function D$({children:t}){const{user:e}=xo();return!e||(e==null?void 0:e.rol)!=="admin"&&(e==null?void 0:e.role)!=="admin"?d.jsx(e5,{to:"/"}):t}function O$(){const{id:t}=BD(),e=yr(),[n,i]=I.useState(null),[s,a]=I.useState(""),{agregarAlCarrito:l,agregarAFavoritos:u,quitarDeFavoritos:h,estaEnFavoritos:p}=Ol(),[m,v]=I.useState([]),[b,_]=I.useState(""),[E,C]=I.useState(5),[A,j]=I.useState(!1),[B,V]=I.useState(!0),[$,q]=I.useState(!1),J=I.useRef(!1),z=I.useMemo(()=>p(t),[p,t]),k=I.useCallback(R=>{if(!R||R.length===0)return;const ae=R.map(ee=>new Promise(W=>{const ne=new Image;ne.src=ee,ne.onload=()=>W(),ne.onerror=()=>W()}));Promise.all(ae).then(()=>{q(!0)})},[]);I.useEffect(()=>J.current?void 0:(J.current=!0,(async()=>{var ae;V(!0);try{const ee=tt(De,"products",t),W=await du(ee);if(W.exists()){const ne=W.data(),he={id:W.id,...ne};i(he),a(((ae=ne.images)==null?void 0:ae[0])||ne.image);const xe=ne.images||[ne.image];k(xe)}else console.log("No se encontró el producto")}catch(ee){console.error("Error al obtener el producto:",ee)}finally{setTimeout(()=>{V(!1),J.current=!1},300)}})(),()=>{J.current=!1}),[t,k]),I.useEffect(()=>{if(!n)return;const R=no(ti(De,"reviews"),Rl("productId","==",t));let ae=!0;const ee=Jr(R,W=>{if(!ae)return;const ne=W.docs.map(he=>({id:he.id,...he.data()}));ne.sort((he,xe)=>{var ge,pe,we,je,Se,jt;const U=(ge=he.createdAt)!=null&&ge.toMillis?he.createdAt.toMillis():((we=(pe=he.createdAt)==null?void 0:pe.getTime)==null?void 0:we.call(pe))||0;return((je=xe.createdAt)!=null&&je.toMillis?xe.createdAt.toMillis():((jt=(Se=xe.createdAt)==null?void 0:Se.getTime)==null?void 0:jt.call(Se))||0)-U}),v(ne)});return()=>{ae=!1,ee()}},[t,n]);const P=()=>{(n==null?void 0:n.stock)<=0?alert("Lo sentimos, no hay unidades disponibles de este producto."):(l(n),alert(`${n.name} ha sido agregado a tu carrito.`))},O=()=>{z?h(t):u(n)},L=(n==null?void 0:n.rating)||(m.length>0?Math.round(m.reduce((R,ae)=>R+(ae.rating||0),0)/m.length*10)/10:0),D=async R=>{if(R.preventDefault(),!!b.trim())try{await Hm(ti(De,"reviews"),{productId:t,rating:parseFloat(E),text:b.trim(),user:"Anónimo",createdAt:new Date});const ae=((n==null?void 0:n.reviews)||0)+1,ee=m.length>0?(m.reduce((W,ne)=>W+(ne.rating||0),0)+parseFloat(E))/(m.length+1):parseFloat(E);await sr(tt(De,"products",t),{rating:Math.round(ee*10)/10,reviews:ae}),_(""),C(5),j(!1),alert("Gracias por tu review")}catch(ae){console.error(ae),alert("No se pudo enviar la review")}};return B?d.jsx("div",{className:"loader-wrapper",children:d.jsx(ql,{size:"lg",color:"primary",text:"Cargando producto..."})}):n?d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsxs("div",{className:"pd-container",children:[d.jsxs("div",{className:"pd-gallery",children:[d.jsx(hu,{src:s,alt:n.name,className:"pd-main",preload:!0}),d.jsx("div",{className:"pd-thumbs",children:(n.images||[n.image]).slice(0,4).map((R,ae)=>d.jsx(hu,{src:R,alt:`mini-${ae}`,className:`pd-thumb ${R===s?"active":""}`,onClick:()=>a(R),preload:$},ae))})]}),d.jsxs("div",{className:"pd-info",children:[d.jsx("h1",{className:"pd-title",children:n.name}),d.jsxs("div",{className:"pd-rating-row",children:[d.jsx(Sx,{rating:(n==null?void 0:n.rating)||L,readOnly:!0}),d.jsxs("span",{className:"pd-rating-num",children:["(",(n==null?void 0:n.rating)||L||0,")"]}),d.jsxs("span",{className:"pd-reviews",children:[m.length||(n==null?void 0:n.reviews)||0," Reviews"]})]}),d.jsx("p",{className:"pd-desc",children:n.description||""}),d.jsxs("div",{className:"pd-price-row",children:[d.jsxs("span",{className:"pd-price",children:["$",Math.round(n.price||0).toLocaleString("es-CO")]}),n.oldPrice&&d.jsxs("span",{className:"pd-old-price",children:["$",Math.round(n.oldPrice).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pd-attrs",children:[d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Material"}),d.jsx("span",{className:"value",children:n.material||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Color"}),d.jsx("span",{className:"value",children:n.color||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"label",children:"Categoría"}),d.jsx("span",{className:"value",children:n.category||"N/A"})]})]}),d.jsxs("div",{className:"pd-actions",children:[d.jsx(St,{variant:"primary",onClick:P,disabled:n.stock<=0,children:"Agregar al carrito"}),d.jsx("button",{className:`fav-btn ${z?"active":""}`,onClick:O,title:z?"Quitar de favoritos":"Agregar a favoritos","aria-label":z?"Quitar de favoritos":"Agregar a favoritos",children:d.jsx("i",{className:`${z?"fas":"far"} fa-heart`})})]}),d.jsx("div",{className:"pd-continue",children:d.jsx(ot,{to:"/productos",className:"btn-ghost",children:"Seguir comprando"})})]})]}),d.jsxs("div",{className:"reviews-container",children:[d.jsxs("div",{className:"reviews-header",children:[d.jsx("h2",{children:"Reviews"}),d.jsx(St,{variant:"primary",onClick:()=>j(!0),children:"Escribir una review"})]}),m.length===0?d.jsx("p",{className:"no-reviews",children:"Este producto aún no tiene reviews."}):d.jsx("ul",{className:"reviews-list",children:m.map(R=>d.jsxs("li",{className:"review-item",children:[d.jsxs("div",{className:"review-header",children:[d.jsx(Sx,{rating:R.rating||0,size:"sm",readOnly:!0}),d.jsx("span",{className:"review-user",children:R.user||"Anónimo"})]}),d.jsx("p",{className:"review-text",children:R.text})]},R.id))})]}),A&&d.jsx(M9,{isOpen:A,onClose:()=>j(!1),title:"Escribe tu review",children:d.jsxs("form",{onSubmit:D,className:"review-form",children:[d.jsxs("div",{className:"rf-row",children:[d.jsx("label",{children:"Rating"}),d.jsx("select",{value:E,onChange:R=>C(R.target.value),children:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5].map(R=>d.jsx("option",{value:R,children:R},R))})]}),d.jsx("textarea",{className:"rf-text",placeholder:"Escribe tu review",value:b,onChange:R=>_(R.target.value)}),d.jsxs("div",{className:"modal-actions",children:[d.jsx(St,{variant:"outline",onClick:()=>j(!1),children:"Cancelar"}),d.jsx(St,{variant:"primary",type:"submit",children:"Enviar"})]})]})}),d.jsx(yl,{}),d.jsx("style",{children:`
        .pd-container{max-width:1200px;margin:20px auto;display:grid;grid-template-columns:1fr 1fr;gap:24px;padding:0 16px;font-family:Inter,system-ui,-apple-system}
        .pd-gallery{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 8px rgba(0,0,0,.06);will-change:transform;transition:transform 0.2s ease}
        .pd-main{width:100%;height:420px;object-fit:contain;border-radius:12px;background:#f8fafc;will-change:opacity}
        .pd-thumbs{display:flex;gap:12px;margin-top:12px}
        .pd-thumb{width:70px;height:70px;object-fit:cover;border-radius:8px;border:2px solid #e5e7eb;cursor:pointer;transition:transform 0.2s ease}
        .pd-thumb:hover{transform:scale(1.05)}
        .pd-thumb.active{border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,.1)}
        .pd-info{display:flex;flex-direction:column;gap:12px}
        .pd-title{font-size:28px;color:#111827;margin:0;font-weight:700}
        .pd-rating-row{display:flex;align-items:center;gap:8px}
        .pd-rating-num{color:#6b7280;font-size:14px}
        .pd-reviews{color:#6b7280;font-size:14px}
        .pd-desc{color:#374151;line-height:1.6}
        .pd-price-row{display:flex;align-items:baseline;gap:12px;margin-top:4px}
        .pd-price{font-size:26px;font-weight:700;color:#111827}
        .pd-old-price{text-decoration:line-through;color:#9ca3af}
        .pd-attrs{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;background:#fff;border-radius:12px;padding:12px;border:1px solid #e5e7eb}
        .label{display:block;color:#6b7280;font-size:12px}
        .value{display:block;color:#111827;font-weight:600}
        .pd-actions{display:flex;gap:12px;margin-top:8px;align-items:center}
        .btn-ghost{display:inline-block;margin-top:10px;color:#2563eb;text-decoration:none;font-weight:700;border:1px solid #e5e7eb;border-radius:999px;padding:8px 14px}
        .btn-ghost:hover{background:#f1f5f9}
        .fav-btn{width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;border:1px solid #e5e7eb;background:#fff;color:#374151;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.06);transition: background .15s ease, transform .15s ease, color .15s ease, border-color .15s ease}
        .fav-btn:hover{background:#f1f5f9;transform:scale(1.05)}
        .fav-btn.active{background:#16a34a;color:#fff;border-color:#16a34a}

        .reviews-container{max-width:1200px;margin:24px auto;padding:0 16px}
        .reviews-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
        .no-reviews{color:#6b7280}
        .reviews-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
        .review-item{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:12px;transition:transform 0.2s ease}
        .review-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.08)}
        .review-header{display:flex;align-items:center;gap:8px}
        .review-user{color:#6b7280;font-size:13px}

        .review-form{display:flex;flex-direction:column;gap:10px}
        .rf-row{display:flex;align-items:center;gap:12px;color:#111827}
        .rf-text{min-height:120px;border:1px solid #e5e7eb;border-radius:8px;padding:10px}
        .modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:6px}

        .loader-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.9);z-index:9999;backdrop-filter:blur(5px)}
        .error-container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}

        @media(max-width:900px){.pd-container{grid-template-columns:1fr}}
        
        /* Animaciones para mejorar la experiencia de usuario */
        @keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
        .pd-container{animation:fadeIn 0.3s ease-in-out}
      `})]}):d.jsxs("div",{className:"error-container",children:[d.jsx("h2",{children:"Producto no encontrado"}),d.jsx(St,{variant:"primary",onClick:()=>e("/productos"),children:"Volver a productos"})]})}function L$(){const{products:t,fetchProducts:e,isLoadingProducts:n}=xo(),{agregarAlCarrito:i,agregarAFavoritos:s,quitarDeFavoritos:a,estaEnFavoritos:l}=Ol();I.useEffect(()=>{t.length===0&&!n&&(console.log("Cargando productos en Productos..."),e())},[e,t.length,n]);const u=h=>{l(h.id)?a(h.id):s(h)};return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsxs("div",{className:"productos-container",children:[d.jsx("h1",{className:"titulo",children:"Productos disponibles"}),d.jsx("div",{className:"productos-grid",children:n?Array(8).fill(0).map((h,p)=>d.jsxs("div",{className:"skeleton-card",children:[d.jsx("div",{className:"skeleton-image"}),d.jsx("div",{className:"skeleton-title"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-button"})]},`skeleton-${p}`)):t.length>0?t.map(h=>d.jsx(pN,{producto:h,agregarAlCarrito:()=>i(h),toggleFavorito:()=>u(h),favoritos:l(h.id)?[h]:[]},h.id)):d.jsx("div",{className:"no-products-message",children:d.jsx("p",{children:"No se encontraron productos disponibles."})})})]}),d.jsx(yl,{}),d.jsx("style",{children:`
        .productos-container { padding: 30px; max-width: 1200px; margin: 0 auto; }
        .titulo { text-align: center; margin-bottom: 24px; color: #111827; font-weight: 700; }
        .productos-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 18px; }

        /* Loader */
        .loader-wrapper { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 60vh; width: 100%; }
        
        /* Esqueletos de carga */
        .skeleton-card {
          background-color: #fff;
          border-radius: 8px;
          padding: 16px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.05);
          display: flex;
          flex-direction: column;
          gap: 12px;
          height: 300px;
        }
        .skeleton-image {
          width: 100%;
          height: 150px;
          background-color: #f0f0f0;
          border-radius: 6px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-title {
          height: 24px;
          width: 80%;
          background-color: #f0f0f0;
          border-radius: 4px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-price {
          height: 18px;
          width: 40%;
          background-color: #f0f0f0;
          border-radius: 4px;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .skeleton-button {
          height: 36px;
          width: 100%;
          background-color: #f0f0f0;
          border-radius: 4px;
          margin-top: auto;
          animation: pulse 1.5s infinite ease-in-out;
        }
        .no-products-message {
          grid-column: 1 / -1;
          text-align: center;
          padding: 40px 0;
          color: #666;
        }
        
        /* Animación de pulso para los esqueletos */
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }
      `})]})}function V$(){const t=yr(),{cart:e,quitarDelCarrito:n,actualizarCantidad:i}=Ol(),[s,a]=I.useState(null),[l,u]=I.useState(!0),[h,p]=I.useState(""),[m,v]=I.useState(null),[b,_]=I.useState(null),[E,C]=I.useState(!1);I.useEffect(()=>{const O=go(wn,L=>{L?a(L.uid):(a(null),u(!1))});return()=>O()},[]),I.useEffect(()=>{const O=setTimeout(()=>{u(!1)},500);return()=>clearTimeout(O)},[]);const A=O=>{confirm("¿Estás seguro que deseas eliminar este producto del carrito?")&&(n(O),alert("El producto ha sido eliminado del carrito."))},j=(O,L)=>{L<1||i(O,L)},B=e.reduce((O,L)=>O+L.price*L.quantity,0),V=0,$=B*.02,q=b?B*b.discount/100:0,J=B+V+$-q,z=async()=>{if(!h.trim()){_e.fire("Error","Please enter a promo code","error");return}C(!0);try{const O=no(ti(De,"promoCodes"),Rl("code","==",h.toUpperCase()),Rl("isActive","==",!0)),L=await Hc(O);if(L.empty){_e.fire("Error","Invalid or expired promo code","error"),C(!1);return}const D=L.docs[0].data();if(D.expiresAt&&D.expiresAt.toDate()<new Date){_e.fire("Error","This promo code has expired","error"),C(!1);return}if(D.minOrderAmount&&B<D.minOrderAmount){_e.fire("Error",`Minimum order amount of $${Math.round(D.minOrderAmount).toLocaleString("es-CO")} required`,"error"),C(!1);return}_(D),_e.fire("Success",`Promo code applied! ${D.discount}% discount`,"success"),p("")}catch(O){console.error("Error applying promo code:",O),_e.fire("Error","Failed to apply promo code","error")}C(!1)},k=()=>{_(null),_e.fire("Removed","Promo code removed","info")},P=()=>{if(!m){_e.fire("Error","Please select a delivery address","error");return}if(e.length===0){_e.fire("Error","Your cart is empty","error");return}t("/checkout",{state:{cart:e,selectedAddress:m,appliedPromo:b,subtotal:B,shippingFee:V,tax:$,discount:q,total:J}})};return l?d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"loader-container",children:d.jsx(ql,{size:"lg",color:"#ea580c",text:"Cargando tu carrito..."})}),d.jsx("style",{children:`
          .loader-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 80vh;
            text-align: center;
            background-color: #fff;
          }
        `})]}):d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"cart-container",children:d.jsxs("div",{className:"cart-layout",children:[d.jsxs("div",{className:"cart-section",children:[d.jsxs("h2",{className:"cart-title",children:["Your ",d.jsx("span",{className:"highlight",children:"Cart"})]}),d.jsxs("p",{className:"item-count",children:[e.length," Items"]}),e.length===0?d.jsxs("div",{className:"empty-cart",children:[d.jsx("p",{children:"No tienes productos en el carrito."}),d.jsxs(St,{onClick:()=>t("/productos"),variant:"link",className:"continue-shopping-btn",children:[d.jsx("i",{className:"fas fa-arrow-left"}),"Continue Shopping"]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"cart-items-list",children:e.map(O=>{var L;return d.jsxs("div",{className:"cart-item-card",children:[d.jsxs("div",{className:"cart-item-left",children:[d.jsx(hu,{src:O.image||O.mainImage||O.mainimg||((L=O.images)==null?void 0:L[0])||"",alt:O.name,className:"product-image",width:80,height:80,preload:!0}),d.jsxs("div",{className:"product-info",children:[d.jsx("h3",{className:"product-name",children:O.name}),d.jsxs("div",{className:"product-material",children:["Material: ",O.material||"N/A"]}),d.jsxs("div",{className:"product-color",children:["Color: ",O.color||"N/A"]})]})]}),d.jsxs("div",{className:"cart-item-right",children:[d.jsxs("div",{className:"product-price",children:["$",Math.round(O.price).toLocaleString("es-CO")]}),d.jsxs("div",{className:"product-quantity-controls",children:[d.jsx("button",{className:"quantity-btn",onClick:()=>j(O.id,Math.max(1,O.quantity-1)),children:"-"}),d.jsx("span",{className:"quantity-value",children:O.quantity}),d.jsx("button",{className:"quantity-btn",onClick:()=>j(O.id,O.quantity+1),children:"+"})]}),d.jsx("button",{className:"remove-item-btn",onClick:()=>A(O.id),title:"Remove",children:d.jsx("i",{className:"fas fa-trash"})})]})]},O.id)})}),d.jsx("div",{className:"continue-shopping",children:d.jsxs(St,{onClick:()=>t("/productos"),variant:"link",className:"continue-shopping-btn",children:[d.jsx("i",{className:"fas fa-arrow-left"}),"Continue Shopping"]})})]})]}),d.jsxs("div",{className:"order-summary-section",children:[d.jsx("h3",{className:"order-summary-title",children:"Order Summary"}),d.jsxs("div",{className:"summary-field",children:[d.jsx("label",{children:"SELECT ADDRESS"}),d.jsx(VU,{onAddressSelect:v,selectedAddress:m})]}),d.jsxs("div",{className:"summary-field",children:[d.jsx("label",{children:"PROMO CODE"}),b?d.jsxs("div",{className:"applied-promo",children:[d.jsxs("div",{className:"promo-info",children:[d.jsx("span",{className:"promo-code-display",children:b.code}),d.jsxs("span",{className:"promo-discount",children:["-",b.discount,"%"]})]}),d.jsx(St,{onClick:k,variant:"secondary",className:"remove-promo-btn",children:"Remove"})]}):d.jsxs("div",{className:"promo-input-group",children:[d.jsx("input",{type:"text",placeholder:"Enter promo code",value:h,onChange:O=>p(O.target.value),className:"promo-input",onKeyPress:O=>O.key==="Enter"&&z()}),d.jsx(St,{onClick:z,variant:"primary",className:"apply-btn",disabled:E,children:E?"Applying...":"Apply"})]})]}),d.jsxs("div",{className:"cost-breakdown",children:[d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Price:"}),d.jsxs("span",{children:["$",Math.round(B).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Shipping Fee:"}),d.jsx("span",{className:"free",children:"Free"})]}),d.jsxs("div",{className:"cost-row",children:[d.jsx("span",{children:"Tax (2%):"}),d.jsxs("span",{children:["$",Math.round($).toLocaleString("es-CO")]})]}),b&&d.jsxs("div",{className:"cost-row discount",children:[d.jsxs("span",{children:["Discount (",b.discount,"%):"]}),d.jsxs("span",{className:"discount-amount",children:["-$",Math.round(q).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"cost-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(J).toLocaleString("es-CO")]})]})]}),d.jsx(St,{onClick:P,disabled:e.length===0,variant:"primary",size:"lg",fullWidth:!0,className:"place-order-btn",children:"Place Order"})]})]})}),d.jsx("style",{children:`
        .cart-container {
          padding: 30px;
          background: #f8fafc;
          min-height: 100vh;
        }

        .cart-layout {
          max-width: 1200px;
          margin: 0 auto;
          display: grid;
          grid-template-columns: 1fr 400px;
          gap: 30px;
        }

        /* Left Side - Your Cart */
        .cart-section {
          background: #374151;
          border-radius: 12px;
          padding: 30px;
          color: white;
        }

        .cart-title {
          font-size: 32px;
          font-weight: 700;
          margin-bottom: 10px;
        }

        .highlight {
          color: #ea580c;
        }

        .item-count {
          color: #d1d5db;
          font-size: 16px;
          margin-bottom: 25px;
        }

        .cart-items-list {
          margin-bottom: 25px;
          display: flex;
          flex-direction: column;
          gap: 15px;
        }

        .cart-item-card {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 15px;
          background: #2d3748;
          border-radius: 10px;
          border-left: 3px solid #ea580c;
        }

        .cart-item-left {
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .product-image {
          width: 80px;
          height: 80px;
          object-fit: cover;
          border-radius: 8px;
          border: 2px solid #4b5563;
        }

        .product-info {
          display: flex;
          flex-direction: column;
          gap: 5px;
        }

        .product-info h3 {
          margin: 0;
          font-size: 16px;
          font-weight: 600;
        }

        .product-material,
        .product-color {
          font-size: 14px;
          color: #d1d5db;
        }

        .cart-item-right {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .product-price {
          font-weight: 600;
          font-size: 16px;
          min-width: 80px;
          text-align: right;
        }

        .product-quantity-controls {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .quantity-btn {
          width: 30px;
          height: 30px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #4b5563;
          border: none;
          border-radius: 6px;
          color: white;
          font-size: 16px;
          cursor: pointer;
          transition: background 0.2s;
        }

        .quantity-btn:hover {
          background: #ea580c;
        }

        .quantity-value {
          font-size: 16px;
          font-weight: 600;
          min-width: 20px;
          text-align: center;
        }

        .remove-item-btn {
          background: none;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          font-size: 16px;
          transition: color 0.2s;
        }

        .remove-item-btn:hover {
          color: #ef4444;
        }

        /* Right Side - Order Summary */
        .order-summary-section {
          background: #4b5563;
          border-radius: 12px;
          padding: 30px;
          color: white;
          height: fit-content;
        }

        .order-summary-title {
          font-size: 24px;
          font-weight: 700;
          margin-bottom: 25px;
        }

        .summary-field {
          margin-bottom: 20px;
        }

        .summary-field label {
          display: block;
          font-size: 12px;
          font-weight: 600;
          color: #d1d5db;
          margin-bottom: 8px;
          text-transform: uppercase;
        }

        .promo-input-group {
          display: flex;
          gap: 10px;
        }

        .promo-input {
          flex: 1;
          padding: 12px 16px;
          background: #374151;
          border: 1px solid #6b7280;
          border-radius: 8px;
          color: white;
          font-size: 14px;
        }

        .promo-input::placeholder {
          color: #9ca3af;
        }

        .promo-input:focus {
          outline: none;
          border-color: #ea580c;
        }

        .cost-breakdown {
          margin: 25px 0;
          padding: 20px 0;
          border-top: 1px solid #6b7280;
          border-bottom: 1px solid #6b7280;
        }

        .cost-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 12px;
          font-size: 14px;
        }

        .cost-row.total {
          font-size: 18px;
          font-weight: 700;
          margin-top: 15px;
          padding-top: 15px;
          border-top: 1px solid #6b7280;
        }

        .free {
          color: #10b981;
        }

        .applied-promo {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          background: #dcfce7;
          border: 1px solid #16a34a;
          border-radius: 8px;
          color: #15803d;
        }

        .promo-info {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .promo-code-display {
          font-weight: 600;
          font-size: 14px;
        }

        .promo-discount {
          font-size: 12px;
          font-weight: 500;
        }

        .remove-promo-btn {
          background: transparent !important;
          color: #dc2626 !important;
          border: 1px solid #dc2626 !important;
          padding: 6px 12px !important;
          font-size: 12px !important;
        }

        .cost-row.discount {
          color: #16a34a;
        }

        .discount-amount {
          color: #16a34a;
          font-weight: 600;
        }

        .empty-cart {
          text-align: center;
          padding: 40px 20px;
        }

        .empty-cart p {
          margin-bottom: 20px;
          font-size: 18px;
          color: #d1d5db;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
          .cart-layout {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .order-summary-section {
            order: -1;
          }
        }

        @media (max-width: 768px) {
          .cart-container {
            padding: 20px;
          }

          .cart-section,
          .order-summary-section {
            padding: 20px;
          }

          .table-header,
          .cart-item {
            grid-template-columns: 1fr;
            gap: 15px;
            text-align: center;
          }

          .product-details {
            flex-direction: column;
            text-align: center;
          }

          .cart-title {
            font-size: 28px;
          }
        }

        @media (max-width: 480px) {
          .cart-container {
            padding: 15px;
          }

          .cart-section,
          .order-summary-section {
            padding: 15px;
          }

          .promo-input-group {
            flex-direction: column;
          }
        }
      `})]})}const QI=I.createContext({});function z$(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uw=typeof window<"u",B$=Uw?I.useLayoutEffect:I.useEffect,Fw=I.createContext(null);function Hw(t,e){t.indexOf(e)===-1&&t.push(e)}function qw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oa=(t,e,n)=>n>e?e:n<t?t:n;let $w=()=>{};const la={},ZI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JI(t){return typeof t=="object"&&t!==null}const e4=t=>/^0[^.\s]+$/u.test(t);function Ww(t){let e;return()=>(e===void 0&&(e=t()),e)}const gs=t=>t,U$=(t,e)=>n=>e(t(n)),rf=(...t)=>t.reduce(U$),Ih=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Gw{constructor(){this.subscriptions=[]}add(e){return Hw(this.subscriptions,e),()=>qw(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ur=t=>t*1e3,dr=t=>t/1e3;function t4(t,e){return e?t*(1e3/e):0}const n4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,F$=1e-7,H$=12;function q$(t,e,n,i,s){let a,l,u=0;do l=e+(n-e)/2,a=n4(l,i,s)-t,a>0?n=l:e=l;while(Math.abs(a)>F$&&++u<H$);return l}function af(t,e,n,i){if(t===e&&n===i)return gs;const s=a=>q$(a,0,1,t,n);return a=>a===0||a===1?a:n4(s(a),e,i)}const i4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s4=t=>e=>1-t(1-e),r4=af(.33,1.53,.69,.99),Kw=s4(r4),a4=i4(Kw),o4=t=>(t*=2)<1?.5*Kw(t):.5*(2-Math.pow(2,-10*(t-1))),Yw=t=>1-Math.sin(Math.acos(t)),l4=s4(Yw),c4=i4(Yw),$$=af(.42,0,1,1),W$=af(0,0,.58,1),u4=af(.42,0,.58,1),G$=t=>Array.isArray(t)&&typeof t[0]!="number",d4=t=>Array.isArray(t)&&typeof t[0]=="number",K$={linear:gs,easeIn:$$,easeInOut:u4,easeOut:W$,circIn:Yw,circInOut:c4,circOut:l4,backIn:Kw,backInOut:a4,backOut:r4,anticipate:o4},Y$=t=>typeof t=="string",sC=t=>{if(d4(t)){$w(t.length===4);const[e,n,i,s]=t;return af(e,n,i,s)}else if(Y$(t))return K$[t];return t},Gp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function X$(t,e){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),t()),m(u)}const p={schedule:(m,v=!1,b=!1)=>{const E=b&&s?n:i;return v&&l.add(m),E.has(m)||E.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(u=m,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(h),n.clear(),s=!1,a&&(a=!1,p.process(m))}};return p}const Q$=40;function h4(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Gp.reduce((V,$)=>(V[$]=X$(a),V),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:v,preRender:b,render:_,postRender:E}=l,C=()=>{const V=la.useManualTiming?s.timestamp:performance.now();n=!1,la.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(V-s.timestamp,Q$),1)),s.timestamp=V,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),m.process(s),v.process(s),b.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(C))},A=()=>{n=!0,i=!0,s.isProcessing||t(C)};return{schedule:Gp.reduce((V,$)=>{const q=l[$];return V[$]=(J,z=!1,k=!1)=>(n||A(),q.schedule(J,z,k)),V},{}),cancel:V=>{for(let $=0;$<Gp.length;$++)l[Gp[$]].cancel(V)},state:s,steps:l}}const{schedule:$t,cancel:po,state:Fn,steps:Lv}=h4(typeof requestAnimationFrame<"u"?requestAnimationFrame:gs,!0);let gm;function Z$(){gm=void 0}const Ri={now:()=>(gm===void 0&&Ri.set(Fn.isProcessing||la.useManualTiming?Fn.timestamp:performance.now()),gm),set:t=>{gm=t,queueMicrotask(Z$)}},f4=t=>e=>typeof e=="string"&&e.startsWith(t),Xw=f4("--"),J$=f4("var(--"),Qw=t=>J$(t)?eW.test(t.split("/*")[0].trim()):!1,eW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Du={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ph={...Du,transform:t=>oa(0,1,t)},Kp={...Du,default:1},hh=t=>Math.round(t*1e5)/1e5,Zw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tW(t){return t==null}const nW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jw=(t,e)=>n=>!!(typeof n=="string"&&nW.test(n)&&n.startsWith(t)||e&&!tW(n)&&Object.prototype.hasOwnProperty.call(n,e)),p4=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,u]=i.match(Zw);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},iW=t=>oa(0,255,t),Vv={...Du,transform:t=>Math.round(iW(t))},ml={test:Jw("rgb","red"),parse:p4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Vv.transform(t)+", "+Vv.transform(e)+", "+Vv.transform(n)+", "+hh(Ph.transform(i))+")"};function sW(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Ox={test:Jw("#"),parse:sW,transform:ml.transform},of=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ua=of("deg"),hr=of("%"),Be=of("px"),rW=of("vh"),aW=of("vw"),rC={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},qc={test:Jw("hsl","hue"),parse:p4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+hr.transform(hh(e))+", "+hr.transform(hh(n))+", "+hh(Ph.transform(i))+")"},pn={test:t=>ml.test(t)||Ox.test(t)||qc.test(t),parse:t=>ml.test(t)?ml.parse(t):qc.test(t)?qc.parse(t):Ox.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ml.transform(t):qc.transform(t),getAnimatableNone:t=>{const e=pn.parse(t);return e.alpha=0,pn.transform(e)}},oW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zw))==null?void 0:e.length)||0)+(((n=t.match(oW))==null?void 0:n.length)||0)>0}const m4="number",g4="color",cW="var",uW="var(",aC="${}",dW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(dW,h=>(pn.test(h)?(i.color.push(a),s.push(g4),n.push(pn.parse(h))):h.startsWith(uW)?(i.var.push(a),s.push(cW),n.push(h)):(i.number.push(a),s.push(m4),n.push(parseFloat(h))),++a,aC)).split(aC);return{values:n,split:u,indexes:i,types:s}}function y4(t){return Mh(t).values}function v4(t){const{split:e,types:n}=Mh(t),i=e.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===m4?a+=hh(s[l]):u===g4?a+=pn.transform(s[l]):a+=s[l]}return a}}const hW=t=>typeof t=="number"?0:pn.test(t)?pn.getAnimatableNone(t):t;function fW(t){const e=y4(t);return v4(t)(e.map(hW))}const mo={test:lW,parse:y4,createTransformer:v4,getAnimatableNone:fW};function zv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pW({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=zv(h,u,t+1/3),a=zv(h,u,t),l=zv(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function fg(t,e){return n=>n>0?e:t}const Xt=(t,e,n)=>t+(e-t)*n,Bv=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},mW=[Ox,ml,qc],gW=t=>mW.find(e=>e.test(t));function oC(t){const e=gW(t);if(!e)return!1;let n=e.parse(t);return e===qc&&(n=pW(n)),n}const lC=(t,e)=>{const n=oC(t),i=oC(e);if(!n||!i)return fg(t,e);const s={...n};return a=>(s.red=Bv(n.red,i.red,a),s.green=Bv(n.green,i.green,a),s.blue=Bv(n.blue,i.blue,a),s.alpha=Xt(n.alpha,i.alpha,a),ml.transform(s))},Lx=new Set(["none","hidden"]);function yW(t,e){return Lx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vW(t,e){return n=>Xt(t,e,n)}function e1(t){return typeof t=="number"?vW:typeof t=="string"?Qw(t)?fg:pn.test(t)?lC:wW:Array.isArray(t)?x4:typeof t=="object"?pn.test(t)?lC:xW:fg}function x4(t,e){const n=[...t],i=n.length,s=t.map((a,l)=>e1(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function xW(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=e1(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function bW(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][i[a]],u=t.values[l]??0;n[s]=u,i[a]++}return n}const wW=(t,e)=>{const n=mo.createTransformer(e),i=Mh(t),s=Mh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Lx.has(t)&&!s.values.length||Lx.has(e)&&!i.values.length?yW(t,e):rf(x4(bW(i,s),s.values),n):fg(t,e)};function b4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xt(t,e,n):e1(t)(t,e)}const _W=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$t.update(e,n),stop:()=>po(e),now:()=>Fn.isProcessing?Fn.timestamp:Ri.now()}},w4=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},pg=2e4;function t1(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<pg;)e+=n,i=t.next(e);return e>=pg?1/0:e}function EW(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(t1(i),pg);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:dr(s)}}const TW=5;function _4(t,e,n){const i=Math.max(e-TW,0);return t4(n-t(i),e-i)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cC=.001;function SW({duration:t=en.duration,bounce:e=en.bounce,velocity:n=en.velocity,mass:i=en.mass}){let s,a,l=1-e;l=oa(en.minDamping,en.maxDamping,l),t=oa(en.minDuration,en.maxDuration,dr(t)),l<1?(s=p=>{const m=p*l,v=m*t,b=m-n,_=Vx(p,l),E=Math.exp(-v);return cC-b/_*E},a=p=>{const v=p*l*t,b=v*n+n,_=Math.pow(l,2)*Math.pow(p,2)*t,E=Math.exp(-v),C=Vx(Math.pow(p,2),l);return(-s(p)+cC>0?-1:1)*((b-_)*E)/C}):(s=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-.001+m*v},a=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const u=5/t,h=CW(s,a,u);if(t=ur(t),isNaN(h))return{stiffness:en.stiffness,damping:en.damping,duration:t};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:t}}}const AW=12;function CW(t,e,n){let i=n;for(let s=1;s<AW;s++)i=i-t(i)/e(i);return i}function Vx(t,e){return t*Math.sqrt(1-e*e)}const kW=["duration","bounce"],RW=["stiffness","damping","mass"];function uC(t,e){return e.some(n=>t[n]!==void 0)}function jW(t){let e={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...t};if(!uC(t,RW)&&uC(t,kW))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*oa(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:en.mass,stiffness:s,damping:a}}else{const n=SW(t);e={...e,...n,mass:en.mass},e.isResolvedFromDuration=!0}return e}function mg(t=en.visualDuration,e=en.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:p,mass:m,duration:v,velocity:b,isResolvedFromDuration:_}=jW({...n,velocity:-dr(n.velocity||0)}),E=b||0,C=p/(2*Math.sqrt(h*m)),A=l-a,j=dr(Math.sqrt(h/m)),B=Math.abs(A)<5;i||(i=B?en.restSpeed.granular:en.restSpeed.default),s||(s=B?en.restDelta.granular:en.restDelta.default);let V;if(C<1){const q=Vx(j,C);V=J=>{const z=Math.exp(-C*j*J);return l-z*((E+C*j*A)/q*Math.sin(q*J)+A*Math.cos(q*J))}}else if(C===1)V=q=>l-Math.exp(-j*q)*(A+(E+j*A)*q);else{const q=j*Math.sqrt(C*C-1);V=J=>{const z=Math.exp(-C*j*J),k=Math.min(q*J,300);return l-z*((E+C*j*A)*Math.sinh(k)+q*A*Math.cosh(k))/q}}const $={calculatedDuration:_&&v||null,next:q=>{const J=V(q);if(_)u.done=q>=v;else{let z=q===0?E:0;C<1&&(z=q===0?ur(E):_4(V,q,J));const k=Math.abs(z)<=i,P=Math.abs(l-J)<=s;u.done=k&&P}return u.value=u.done?l:J,u},toString:()=>{const q=Math.min(t1($),pg),J=w4(z=>$.next(q*z).value,q,30);return q+"ms "+J},toTransition:()=>{}};return $}mg.applyToOptions=t=>{const e=EW(t,100,mg);return t.ease=e.ease,t.duration=ur(e.duration),t.type="keyframes",t};function zx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:m}){const v=t[0],b={done:!1,value:v},_=k=>u!==void 0&&k<u||h!==void 0&&k>h,E=k=>u===void 0?h:h===void 0||Math.abs(u-k)<Math.abs(h-k)?u:h;let C=n*e;const A=v+C,j=l===void 0?A:l(A);j!==A&&(C=j-v);const B=k=>-C*Math.exp(-k/i),V=k=>j+B(k),$=k=>{const P=B(k),O=V(k);b.done=Math.abs(P)<=p,b.value=b.done?j:O};let q,J;const z=k=>{_(b.value)&&(q=k,J=mg({keyframes:[b.value,E(b.value)],velocity:_4(V,k,b.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return z(0),{calculatedDuration:null,next:k=>{let P=!1;return!J&&q===void 0&&(P=!0,$(k),z(k)),q!==void 0&&k>=q?J.next(k-q):(!P&&$(k),b)}}}function NW(t,e,n){const i=[],s=n||la.mix||b4,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||gs:e;u=rf(h,u)}i.push(u)}return i}function IW(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if($w(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=NW(e,i,s),h=u.length,p=m=>{if(l&&m<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const b=Ih(t[v],t[v+1],m);return u[v](b)};return n?m=>p(oa(t[0],t[a-1],m)):p}function PW(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Ih(0,e,i);t.push(Xt(n,1,s))}}function MW(t){const e=[0];return PW(e,t.length-1),e}function DW(t,e){return t.map(n=>n*e)}function OW(t,e){return t.map(()=>e||u4).splice(0,t.length-1)}function fh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=G$(i)?i.map(sC):sC(i),a={done:!1,value:e[0]},l=DW(n&&n.length===e.length?n:MW(e),t),u=IW(l,e,{ease:Array.isArray(s)?s:OW(e,s)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}const LW=t=>t!==null;function n1(t,{repeat:e,repeatType:n="loop"},i,s=1){const a=t.filter(LW),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const VW={decay:zx,inertia:zx,tween:fh,keyframes:fh,spring:mg};function E4(t){typeof t.type=="string"&&(t.type=VW[t.type])}class i1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zW=t=>t/100;class s1 extends i1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ri.now()&&this.tick(Ri.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;E4(e);const{type:n=fh,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const h=n||fh;h!==fh&&typeof u[0]!="number"&&(this.mixKeyframes=rf(zW,b4(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=t1(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:b,repeatDelay:_,type:E,onUpdate:C,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let V=this.currentTime,$=i;if(v){const k=Math.min(this.currentTime,s)/u;let P=Math.floor(k),O=k%1;!O&&k>=1&&(O=1),O===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(b==="reverse"?(O=1-O,_&&(O-=_/u)):b==="mirror"&&($=l)),V=oa(0,1,O)*u}const q=B?{done:!1,value:m[0]}:$.next(V);a&&(q.value=a(q.value));let{done:J}=q;!B&&h!==null&&(J=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return z&&E!==zx&&(q.value=n1(m,this.options,A,this.speed)),C&&C(q.value),z&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return dr(this.calculatedDuration)}get time(){return dr(this.currentTime)}set time(e){var n;e=ur(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ri.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=dr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=_W,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ri.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function BW(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const gl=t=>t*180/Math.PI,Bx=t=>{const e=gl(Math.atan2(t[1],t[0]));return Ux(e)},UW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bx,rotateZ:Bx,skewX:t=>gl(Math.atan(t[1])),skewY:t=>gl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ux=t=>(t=t%360,t<0&&(t+=360),t),dC=Bx,hC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),FW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hC,scaleY:fC,scale:t=>(hC(t)+fC(t))/2,rotateX:t=>Ux(gl(Math.atan2(t[6],t[5]))),rotateY:t=>Ux(gl(Math.atan2(-t[2],t[0]))),rotateZ:dC,rotate:dC,skewX:t=>gl(Math.atan(t[4])),skewY:t=>gl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fx(t){return t.includes("scale")?1:0}function Hx(t,e){if(!t||t==="none")return Fx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=FW,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=UW,s=u}if(!s)return Fx(e);const a=i[e],l=s[1].split(",").map(qW);return typeof a=="function"?a(l):l[a]}const HW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Hx(n,e)};function qW(t){return parseFloat(t.trim())}const Ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lu=new Set(Ou),pC=t=>t===Du||t===Be,$W=new Set(["x","y","z"]),WW=Ou.filter(t=>!$W.has(t));function GW(t){const e=[];return WW.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hx(e,"x"),y:(t,{transform:e})=>Hx(e,"y")};bl.translateX=bl.x;bl.translateY=bl.y;const wl=new Set;let qx=!1,$x=!1,Wx=!1;function T4(){if($x){const t=Array.from(wl).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=GW(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var u;(u=i.getValue(a))==null||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}$x=!1,qx=!1,wl.forEach(t=>t.complete(Wx)),wl.clear()}function S4(){wl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($x=!0)})}function KW(){Wx=!0,S4(),T4(),Wx=!1}class r1{constructor(e,n,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(wl.add(this),qx||(qx=!0,$t.read(S4),$t.resolveKeyframes(T4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const u=i.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}BW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wl.delete(this)}cancel(){this.state==="scheduled"&&(wl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YW=t=>t.startsWith("--");function XW(t,e,n){YW(e)?t.style.setProperty(e,n):t.style[e]=n}const QW=Ww(()=>window.ScrollTimeline!==void 0),ZW={};function JW(t,e){const n=Ww(t);return()=>ZW[e]??n()}const A4=JW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,mC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nh([0,.65,.55,1]),circOut:nh([.55,0,1,.45]),backIn:nh([.31,.01,.66,-.59]),backOut:nh([.33,1.53,.69,.99])};function C4(t,e){if(t)return typeof t=="function"?A4()?w4(t,e):"ease-out":d4(t)?nh(t):Array.isArray(t)?t.map(n=>C4(n,e)||mC.easeOut):mC[t]}function eG(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[e]:n};h&&(m.offset=h);const v=C4(u,s);Array.isArray(v)&&(m.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),t.animate(m,b)}function k4(t){return typeof t=="function"&&"applyToOptions"in t}function tG({type:t,...e}){return k4(t)&&A4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class nG extends i1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,$w(typeof e.type!="string");const p=tG(e);this.animation=eG(n,i,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=n1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):XW(n,i,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return dr(Number(e))}get time(){return dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ur(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&QW()?(this.animation.timeline=e,gs):n(this)}}const R4={anticipate:o4,backInOut:a4,circInOut:c4};function iG(t){return t in R4}function sG(t){typeof t.ease=="string"&&iG(t.ease)&&(t.ease=R4[t.ease])}const gC=10;class rG extends nG{constructor(e){sG(e),E4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new s1({...l,autoplay:!1}),h=ur(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-gC).value,u.sample(h).value,gC),u.stop()}}const yC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mo.test(t)||t==="0")&&!t.startsWith("url("));function aG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function oG(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=yC(s,e),u=yC(a,e);return!l||!u?!1:aG(t)||(n==="spring"||k4(n))&&i}function Gx(t){t.duration=0,t.type}const lG=new Set(["opacity","clipPath","filter","transform"]),cG=Ww(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uG(t){var m;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return cG()&&n&&lG.has(n)&&(n!=="transform"||!p)&&!h&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const dG=40;class hG extends i1{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:m,...v}){var E;super(),this.stop=()=>{var C,A;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Ri.now();const b={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:p,element:m,...v},_=(m==null?void 0:m.KeyframeResolver)||r1;this.keyframeResolver=new _(u,(C,A,j)=>this.onKeyframesResolved(C,A,b,!j),h,p,m),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:m}=i;this.resolvedAt=Ri.now(),oG(e,a,l,u)||((la.instantAnimations||!h)&&(m==null||m(n1(e,i,n))),e[0]=e[e.length-1],Gx(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>dG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!p&&uG(b)?new rG({...b,element:b.motionValue.owner.current}):new s1(b);_.finished.then(()=>this.notifyFinished()).catch(gs),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),KW()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const fG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pG(t){const e=fG.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function j4(t,e,n=1){const[i,s]=pG(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return ZI(l)?parseFloat(l):l}return Qw(s)?j4(s,e,n+1):s}function a1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const N4=new Set(["width","height","top","left","right","bottom",...Ou]),mG={test:t=>t==="auto",parse:t=>t},I4=t=>e=>e.test(t),P4=[Du,Be,hr,Ua,aW,rW,mG],vC=t=>P4.find(I4(t));function gG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||e4(t):!0}const yG=new Set(["brightness","contrast","saturate","opacity"]);function vG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Zw)||[];if(!i)return t;const s=n.replace(i,"");let a=yG.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const xG=/\b([a-z-]*)\(.*?\)/gu,Kx={...mo,getAnimatableNone:t=>{const e=t.match(xG);return e?e.map(vG).join(" "):t}},xC={...Du,transform:Math.round},bG={rotate:Ua,rotateX:Ua,rotateY:Ua,rotateZ:Ua,scale:Kp,scaleX:Kp,scaleY:Kp,scaleZ:Kp,skew:Ua,skewX:Ua,skewY:Ua,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Ph,originX:rC,originY:rC,originZ:Be},o1={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...bG,zIndex:xC,fillOpacity:Ph,strokeOpacity:Ph,numOctaves:xC},wG={...o1,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Kx,WebkitFilter:Kx},M4=t=>wG[t];function D4(t,e){let n=M4(t);return n!==Kx&&(n=mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _G=new Set(["auto","none","0"]);function EG(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!_G.has(a)&&Mh(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=D4(n,s)}class TG extends r1{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Qw(p))){const m=j4(p,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!N4.has(i)||e.length!==2)return;const[s,a]=e,l=vC(s),u=vC(a);if(l!==u)if(pC(l)&&pC(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else bl[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||gG(e[s]))&&i.push(s);i.length&&EG(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=bl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function SG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const O4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function AG(t){return JI(t)&&"offsetHeight"in t}const bC=30,CG=t=>!isNaN(parseFloat(t));class kG{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const s=Ri.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ri.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Gw);const i=this.events[e].add(n);return e==="change"?()=>{i(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>bC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bC);return t4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yu(t,e){return new kG(t,e)}const{schedule:l1}=h4(queueMicrotask,!1),Rs={x:!1,y:!1};function L4(){return Rs.x||Rs.y}function RG(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function V4(t,e){const n=SG(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function wC(t){return!(t.pointerType==="touch"||L4())}function jG(t,e,n={}){const[i,s,a]=V4(t,n),l=u=>{if(!wC(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const m=v=>{wC(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const z4=(t,e)=>e?t===e?!0:z4(t,e.parentElement):!1,c1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IG(t){return NG.has(t.tagName)||t.tabIndex!==-1}const ym=new WeakSet;function _C(t){return e=>{e.key==="Enter"&&t(e)}}function Uv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PG=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=_C(()=>{if(ym.has(n))return;Uv(n,"down");const s=_C(()=>{Uv(n,"up")}),a=()=>Uv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function EC(t){return c1(t)&&!L4()}function MG(t,e,n={}){const[i,s,a]=V4(t,n),l=u=>{const h=u.currentTarget;if(!EC(u))return;ym.add(h);const p=e(h,u),m=(_,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),ym.has(h)&&ym.delete(h),EC(_)&&typeof p=="function"&&p(_,{success:E})},v=_=>{m(_,h===window||h===document||n.useGlobalTarget||z4(h,_.target))},b=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),AG(u)&&(u.addEventListener("focus",p=>PG(p,s)),!IG(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function B4(t){return JI(t)&&"ownerSVGElement"in t}function DG(t){return B4(t)&&t.tagName==="svg"}const ni=t=>!!(t&&t.getVelocity),OG=[...P4,pn,mo],LG=t=>OG.find(I4(t)),U4=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function VG(t=!0){const e=I.useContext(Fw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=I.useId();I.useEffect(()=>{if(t)return s(a)},[t]);const l=I.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}const F4=I.createContext({strict:!1}),TC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vu={};for(const t in TC)vu[t]={isEnabled:e=>TC[t].some(n=>!!e[n])};function zG(t){for(const e in t)vu[e]={...vu[e],...t[e]}}const BG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BG.has(t)}let H4=t=>!gg(t);function UG(t){typeof t=="function"&&(H4=e=>e.startsWith("on")?!gg(e):t(e))}try{UG(require("@emotion/is-prop-valid").default)}catch{}function FG(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(H4(s)||n===!0&&gg(s)||!e&&!gg(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const n0=I.createContext({});function i0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dh(t){return typeof t=="string"||Array.isArray(t)}const u1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d1=["initial",...u1];function s0(t){return i0(t.animate)||d1.some(e=>Dh(t[e]))}function q4(t){return!!(s0(t)||t.variants)}function HG(t,e){if(s0(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Dh(n)?n:void 0,animate:Dh(i)?i:void 0}}return t.inherit!==!1?e:{}}function qG(t){const{initial:e,animate:n}=HG(t,I.useContext(n0));return I.useMemo(()=>({initial:e,animate:n}),[SC(e),SC(n)])}function SC(t){return Array.isArray(t)?t.join(" "):t}const Oh={};function $G(t){for(const e in t)Oh[e]=t[e],Xw(e)&&(Oh[e].isCSSVariable=!0)}function $4(t,{layout:e,layoutId:n}){return Lu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Oh[t]||t==="opacity")}const WG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GG=Ou.length;function KG(t,e,n){let i="",s=!0;for(let a=0;a<GG;a++){const l=Ou[a],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const p=O4(u,o1[l]);if(!h){s=!1;const m=WG[l]||l;i+=`${m}(${p}) `}n&&(e[l]=p)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function h1(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const h in e){const p=e[h];if(Lu.has(h)){l=!0;continue}else if(Xw(h)){s[h]=p;continue}else{const m=O4(p,o1[h]);h.startsWith("origin")?(u=!0,a[h]=m):i[h]=m}}if(e.transform||(l||n?i.transform=KG(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${p} ${m}`}}const f1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W4(t,e,n){for(const i in e)!ni(e[i])&&!$4(i,n)&&(t[i]=e[i])}function YG({transformTemplate:t},e){return I.useMemo(()=>{const n=f1();return h1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XG(t,e){const n=t.style||{},i={};return W4(i,n,t),Object.assign(i,YG(t,e)),i}function QG(t,e){const n={},i=XG(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const ZG={offset:"stroke-dashoffset",array:"stroke-dasharray"},JG={offset:"strokeDashoffset",array:"strokeDasharray"};function eK(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?ZG:JG;t[a.offset]=Be.transform(-i);const l=Be.transform(e),u=Be.transform(n);t[a.array]=`${l} ${u}`}function G4(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,p,m){if(h1(t,u,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&eK(v,s,a,l,!1)}const K4=()=>({...f1(),attrs:{}}),Y4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tK(t,e,n,i){const s=I.useMemo(()=>{const a=K4();return G4(a,e,Y4(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};W4(a,t.style,t),s.style={...a,...s.style}}return s}const nK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p1(t){return typeof t!="string"||t.includes("-")?!1:!!(nK.indexOf(t)>-1||/[A-Z]/u.test(t))}function iK(t,e,n,{latestValues:i},s,a=!1){const u=(p1(t)?tK:QG)(e,i,s,t),h=FG(e,typeof t=="string",a),p=t!==I.Fragment?{...h,...u,ref:n}:{},{children:m}=e,v=I.useMemo(()=>ni(m)?m.get():m,[m]);return I.createElement(t,{...p,children:v})}function AC(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function m1(t,e,n,i){if(typeof e=="function"){const[s,a]=AC(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=AC(i);e=e(n!==void 0?n:t.custom,s,a)}return e}function vm(t){return ni(t)?t.get():t}function sK({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:rK(n,i,s,t),renderState:e()}}function rK(t,e,n,i){const s={},a=i(t,{});for(const b in a)s[b]=vm(a[b]);let{initial:l,animate:u}=t;const h=s0(t),p=q4(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?u:l;if(v&&typeof v!="boolean"&&!i0(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const E=m1(t,b[_]);if(E){const{transitionEnd:C,transition:A,...j}=E;for(const B in j){let V=j[B];if(Array.isArray(V)){const $=m?V.length-1:0;V=V[$]}V!==null&&(s[B]=V)}for(const B in C)s[B]=C[B]}}}return s}const X4=t=>(e,n)=>{const i=I.useContext(n0),s=I.useContext(Fw),a=()=>sK(t,e,i,s);return n?a():z$(a)};function g1(t,e,n){var a;const{style:i}=t,s={};for(const l in i)(ni(i[l])||e.style&&ni(e.style[l])||$4(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const aK=X4({scrapeMotionValuesFromProps:g1,createRenderState:f1});function Q4(t,e,n){const i=g1(t,e,n);for(const s in t)if(ni(t[s])||ni(e[s])){const a=Ou.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}const oK=X4({scrapeMotionValuesFromProps:Q4,createRenderState:K4}),lK=Symbol.for("motionComponentSymbol");function $c(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cK(t,e,n){return I.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):$c(n)&&(n.current=i))},[e])}const y1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uK="framerAppearId",Z4="data-"+y1(uK),J4=I.createContext({});function dK(t,e,n,i,s){var C,A;const{visualElement:a}=I.useContext(n0),l=I.useContext(F4),u=I.useContext(Fw),h=I.useContext(U4).reducedMotion,p=I.useRef(null);i=i||l.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,v=I.useContext(J4);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&hK(p.current,n,s,v);const b=I.useRef(!1);I.useInsertionEffect(()=>{m&&b.current&&m.update(n,u)});const _=n[Z4],E=I.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,_)));return B$(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),E.current&&m.animationState&&m.animationState.animateChanges())}),I.useEffect(()=>{m&&(!E.current&&m.animationState&&m.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,_)}),E.current=!1),m.enteringChildren=void 0)}),m}function hK(t,e,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eP(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&$c(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:p})}function eP(t){if(t)return t.options.allowProjection!==!1?t.projection:eP(t.parent)}function Fv(t,{forwardMotionProps:e=!1}={},n,i){n&&zG(n);const s=p1(t)?oK:aK;function a(u,h){let p;const m={...I.useContext(U4),...u,layoutId:fK(u)},{isStatic:v}=m,b=qG(u),_=s(u,v);if(!v&&Uw){pK();const E=mK(m);p=E.MeasureLayout,b.visualElement=dK(t,_,m,i,E.ProjectionNode)}return d.jsxs(n0.Provider,{value:b,children:[p&&b.visualElement?d.jsx(p,{visualElement:b.visualElement,...m}):null,iK(t,u,cK(_,b.visualElement,h),_,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=I.forwardRef(a);return l[lK]=t,l}function fK({layoutId:t}){const e=I.useContext(QI).id;return e&&t!==void 0?e+"-"+t:t}function pK(t,e){I.useContext(F4).strict}function mK(t){const{drag:e,layout:n}=vu;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function gK(t,e){if(typeof Proxy>"u")return Fv;const n=new Map,i=(a,l)=>Fv(a,l,t,e),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(n.has(l)||n.set(l,Fv(l,void 0,t,e)),n.get(l))})}function tP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function yK({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vK(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Hv(t){return t===void 0||t===1}function Yx({scale:t,scaleX:e,scaleY:n}){return!Hv(t)||!Hv(e)||!Hv(n)}function ul(t){return Yx(t)||nP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nP(t){return CC(t.x)||CC(t.y)}function CC(t){return t&&t!=="0%"}function yg(t,e,n){const i=t-n,s=e*i;return n+s}function kC(t,e,n,i,s){return s!==void 0&&(t=yg(t,s,i)),yg(t,n,i)+e}function Xx(t,e=0,n=1,i,s){t.min=kC(t.min,e,n,i,s),t.max=kC(t.max,e,n,i,s)}function iP(t,{x:e,y:n}){Xx(t.x,e.translate,e.scale,e.originPoint),Xx(t.y,n.translate,n.scale,n.originPoint)}const RC=.999999999999,jC=1.0000000000001;function xK(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Gc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,iP(t,l)),i&&ul(a.latestValues)&&Gc(t,a.latestValues))}e.x<jC&&e.x>RC&&(e.x=1),e.y<jC&&e.y>RC&&(e.y=1)}function Wc(t,e){t.min=t.min+e,t.max=t.max+e}function NC(t,e,n,i,s=.5){const a=Xt(t.min,t.max,s);Xx(t,e,n,a,i)}function Gc(t,e){NC(t.x,e.x,e.scaleX,e.scale,e.originX),NC(t.y,e.y,e.scaleY,e.scale,e.originY)}function sP(t,e){return tP(vK(t.getBoundingClientRect(),e))}function bK(t,e,n){const i=sP(t,n),{scroll:s}=e;return s&&(Wc(i.x,s.offset.x),Wc(i.y,s.offset.y)),i}const IC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kc=()=>({x:IC(),y:IC()}),PC=()=>({min:0,max:0}),rn=()=>({x:PC(),y:PC()}),Qx={current:null},rP={current:!1};function wK(){if(rP.current=!0,!!Uw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qx.current=t.matches;t.addEventListener("change",e),e()}else Qx.current=!1}const _K=new WeakMap;function EK(t,e,n){for(const i in e){const s=e[i],a=n[i];if(ni(s))t.addValue(i,s);else if(ni(a))t.addValue(i,yu(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,yu(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const MC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TK{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ri.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,$t.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=s0(n),this.isVariantNode=q4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const _=v[b];h[b]!==void 0&&ni(_)&&_.set(h[b])}}mount(e){var n;this.current=e,_K.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),rP.current||wK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qx.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),po(this.notifyUpdate),po(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Lu.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&$t.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vu){const n=vu[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<MC.length;i++){const s=MC[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=EK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=yu(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ZI(i)||e4(i))?i=parseFloat(i):!LG(i)&&mo.test(n)&&(i=D4(e,n)),this.setBaseTarget(e,ni(i)?i.get():i)),ni(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=m1(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ni(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Gw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){l1.render(this.render)}}class aP extends TK{constructor(){super(...arguments),this.KeyframeResolver=TG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ni(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function oP(t,{style:e,vars:n},i,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,i);for(l in n)a.setProperty(l,n[l])}function SK(t){return window.getComputedStyle(t)}class AK extends aP{constructor(){super(...arguments),this.type="html",this.renderInstance=oP}readValueFromInstance(e,n){var i;if(Lu.has(n))return(i=this.projection)!=null&&i.isProjecting?Fx(n):HW(e,n);{const s=SK(e),a=(Xw(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sP(e,n)}build(e,n,i){h1(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return g1(e,n,i)}}const lP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CK(t,e,n,i){oP(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(lP.has(s)?s:y1(s),e.attrs[s])}class kK extends aP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Lu.has(n)){const i=M4(n);return i&&i.default||0}return n=lP.has(n)?n:y1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Q4(e,n,i)}build(e,n,i){G4(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){CK(e,n,i,s)}mount(e){this.isSVGTag=Y4(e.tagName),super.mount(e)}}const RK=(t,e)=>p1(t)?new kK(e):new AK(e,{allowProjection:t!==I.Fragment});function iu(t,e,n){const i=t.getProps();return m1(i,e,n!==void 0?n:i.custom,t)}const Zx=t=>Array.isArray(t);function jK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yu(n))}function NK(t){return Zx(t)?t[t.length-1]||0:t}function IK(t,e){const n=iu(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const u=NK(a[l]);jK(t,l,u)}}function PK(t){return!!(ni(t)&&t.add)}function Jx(t,e){const n=t.getValue("willChange");if(PK(n))return n.add(e);if(!n&&la.WillChange){const i=new la.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function cP(t){return t.props[Z4]}const MK=t=>t!==null;function DK(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(MK),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const OK={type:"spring",stiffness:500,damping:25,restSpeed:10},LK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VK={type:"keyframes",duration:.8},zK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BK=(t,{keyframes:e})=>e.length>2?VK:Lu.has(t)?t.startsWith("scale")?LK(e[1]):OK:zK;function UK({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const v1=(t,e,n,i={},s,a)=>l=>{const u=a1(i,t)||{},h=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-ur(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};UK(u)||Object.assign(m,BK(t,m)),m.duration&&(m.duration=ur(m.duration)),m.repeatDelay&&(m.repeatDelay=ur(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Gx(m),m.delay===0&&(v=!0)),(la.instantAnimations||la.skipAnimations)&&(v=!0,Gx(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,v&&!a&&e.get()!==void 0){const b=DK(m.keyframes,u);if(b!==void 0){$t.update(()=>{m.onUpdate(b),m.onComplete()});return}}return u.isSync?new s1(m):new hG(m)};function FK({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function uP(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(a=i);const h=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const v=t.getValue(m,t.latestValues[m]??null),b=u[m];if(b===void 0||p&&FK(p,m))continue;const _={delay:n,...a1(a||{},m)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===E&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const j=cP(t);if(j){const B=window.MotionHandoffAnimation(j,m,$t);B!==null&&(_.startTime=B,C=!0)}}Jx(t,m),v.start(v1(m,v,b,t.shouldReduceMotion&&N4.has(m)?{type:!1}:_,t,C));const A=v.animation;A&&h.push(A)}return l&&Promise.all(h).then(()=>{$t.update(()=>{l&&IK(t,l)})}),h}function dP(t,e,n,i=0,s=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,u=(l-1)*i;return typeof n=="function"?n(a,l):s===1?a*i:u-a*i}function eb(t,e,n={}){var h;const i=iu(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(uP(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:b}=s;return HK(t,e,p,m,v,b,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[p,m]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function HK(t,e,n=0,i=0,s=0,a=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(eb(h,e,{...l,delay:n+(typeof i=="function"?0:i)+dP(t.variantChildren,h,i,s,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function qK(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>eb(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=eb(t,e,n);else{const s=typeof e=="function"?iu(t,e,n.custom):e;i=Promise.all(uP(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function hP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const $K=d1.length;function fP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$K;n++){const i=d1[n],s=t.props[i];(Dh(s)||s===!1)&&(e[i]=s)}return e}const WK=[...u1].reverse(),GK=u1.length;function KK(t){return e=>Promise.all(e.map(({animation:n,options:i})=>qK(t,n,i)))}function YK(t){let e=KK(t),n=DC(),i=!0;const s=h=>(p,m)=>{var b;const v=iu(t,m,h==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:_,transitionEnd:E,...C}=v;p={...p,...C,...E}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,m=fP(t.parent)||{},v=[],b=new Set;let _={},E=1/0;for(let A=0;A<GK;A++){const j=WK[A],B=n[j],V=p[j]!==void 0?p[j]:m[j],$=Dh(V),q=j===h?B.isActive:null;q===!1&&(E=A);let J=V===m[j]&&V!==p[j]&&$;if(J&&i&&t.manuallyAnimateOnMount&&(J=!1),B.protectedKeys={..._},!B.isActive&&q===null||!V&&!B.prevProp||i0(V)||typeof V=="boolean")continue;const z=XK(B.prevProp,V);let k=z||j===h&&B.isActive&&!J&&$||A>E&&$,P=!1;const O=Array.isArray(V)?V:[V];let L=O.reduce(s(j),{});q===!1&&(L={});const{prevResolvedValues:D={}}=B,R={...D,...L},ae=ne=>{k=!0,b.has(ne)&&(P=!0,b.delete(ne)),B.needsAnimating[ne]=!0;const he=t.getValue(ne);he&&(he.liveStyle=!1)};for(const ne in R){const he=L[ne],xe=D[ne];if(_.hasOwnProperty(ne))continue;let U=!1;Zx(he)&&Zx(xe)?U=!hP(he,xe):U=he!==xe,U?he!=null?ae(ne):b.add(ne):he!==void 0&&b.has(ne)?ae(ne):B.protectedKeys[ne]=!0}B.prevProp=V,B.prevResolvedValues=L,B.isActive&&(_={..._,...L}),i&&t.blockInitialAnimation&&(k=!1);const ee=J&&z;k&&(!ee||P)&&v.push(...O.map(ne=>{const he={type:j};if(typeof ne=="string"&&i&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,U=iu(xe,ne);if(xe.enteringChildren&&U){const{delayChildren:oe}=U.transition||{};he.delay=dP(xe.enteringChildren,t,oe)}}return{animation:ne,options:he}}))}if(b.size){const A={};if(typeof p.initial!="boolean"){const j=iu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(A.transition=j.transition)}b.forEach(j=>{const B=t.getBaseTarget(j),V=t.getValue(j);V&&(V.liveStyle=!0),A[j]=B??null}),v.push({animation:A})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function u(h,p){var v;if(n[h].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(b=>{var _;return(_=b.animationState)==null?void 0:_.setActive(h,p)}),n[h].isActive=p;const m=l(h);for(const b in n)n[b].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=DC(),i=!0}}}function XK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hP(e,t):!1}function ol(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DC(){return{animate:ol(!0),whileInView:ol(),whileHover:ol(),whileTap:ol(),whileDrag:ol(),whileFocus:ol(),exit:ol()}}class bo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QK extends bo{constructor(e){super(e),e.animationState||(e.animationState=YK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();i0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ZK=0;class JK extends bo{constructor(){super(...arguments),this.id=ZK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eY={animation:{Feature:QK},exit:{Feature:JK}};function Lh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function lf(t){return{point:{x:t.pageX,y:t.pageY}}}const tY=t=>e=>c1(e)&&t(e,lf(e));function ph(t,e,n,i){return Lh(t,e,tY(n),i)}const pP=1e-4,nY=1-pP,iY=1+pP,mP=.01,sY=0-mP,rY=0+mP;function di(t){return t.max-t.min}function aY(t,e,n){return Math.abs(t-e)<=n}function OC(t,e,n,i=.5){t.origin=i,t.originPoint=Xt(e.min,e.max,t.origin),t.scale=di(n)/di(e),t.translate=Xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nY&&t.scale<=iY||isNaN(t.scale))&&(t.scale=1),(t.translate>=sY&&t.translate<=rY||isNaN(t.translate))&&(t.translate=0)}function mh(t,e,n,i){OC(t.x,e.x,n.x,i?i.originX:void 0),OC(t.y,e.y,n.y,i?i.originY:void 0)}function LC(t,e,n){t.min=n.min+e.min,t.max=t.min+di(e)}function oY(t,e,n){LC(t.x,e.x,n.x),LC(t.y,e.y,n.y)}function VC(t,e,n){t.min=e.min-n.min,t.max=t.min+di(e)}function gh(t,e,n){VC(t.x,e.x,n.x),VC(t.y,e.y,n.y)}function ps(t){return[t("x"),t("y")]}const gP=({current:t})=>t?t.ownerDocument.defaultView:null,zC=(t,e)=>Math.abs(t-e);function lY(t,e){const n=zC(t.x,e.x),i=zC(t.y,e.y);return Math.sqrt(n**2+i**2)}class yP{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=$v(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=lY(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!E)return;const{point:C}=b,{timestamp:A}=Fn;this.history.push({...C,timestamp:A});const{onStart:j,onMove:B}=this.handlers;_||(j&&j(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,b)},this.handlePointerMove=(b,_)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=qv(_,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(b,_)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=$v(b.type==="pointercancel"?this.lastMoveEventInfo:qv(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,j),C&&C(b,j)},!c1(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=lf(e),h=qv(u,this.transformPagePoint),{point:p}=h,{timestamp:m}=Fn;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=n;v&&v(e,$v(h,this.history)),this.removeListeners=rf(ph(this.contextWindow,"pointermove",this.handlePointerMove),ph(this.contextWindow,"pointerup",this.handlePointerUp),ph(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),po(this.updatePoint)}}function qv(t,e){return e?{point:e(t.point)}:t}function BC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $v({point:t},e){return{point:t,delta:BC(t,vP(e)),offset:BC(t,cY(e)),velocity:uY(e,.1)}}function cY(t){return t[0]}function vP(t){return t[t.length-1]}function uY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=vP(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>ur(e)));)n--;if(!i)return{x:0,y:0};const a=dr(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function dY(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Xt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Xt(n,t,i.max):Math.min(t,n)),t}function UC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hY(t,{top:e,left:n,bottom:i,right:s}){return{x:UC(t.x,n,s),y:UC(t.y,e,i)}}function FC(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function fY(t,e){return{x:FC(t.x,e.x),y:FC(t.y,e.y)}}function pY(t,e){let n=.5;const i=di(t),s=di(e);return s>i?n=Ih(e.min,e.max-i,t.min):i>s&&(n=Ih(t.min,t.max-s,e.min)),oa(0,1,n)}function mY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tb=.35;function gY(t=tb){return t===!1?t=0:t===!0&&(t=tb),{x:HC(t,"left","right"),y:HC(t,"top","bottom")}}function HC(t,e,n){return{min:qC(t,e),max:qC(t,n)}}function qC(t,e){return typeof t=="number"?t:t[e]||0}const yY=new WeakMap;class vY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lf(v).point)},l=(v,b)=>{const{drag:_,dragPropagation:E,onDragStart:C}=this.getProps();if(_&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RG(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ps(j=>{let B=this.getAxisMotionValue(j).get()||0;if(hr.test(B)){const{projection:V}=this.visualElement;if(V&&V.layout){const $=V.layout.layoutBox[j];$&&(B=di($)*(parseFloat(B)/100))}}this.originPoint[j]=B}),C&&$t.postRender(()=>C(v,b)),Jx(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:C,onDrag:A}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:j}=b;if(E&&this.currentDirection===null){this.currentDirection=xY(j),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,j),this.updateAxis("y",b.point,j),this.visualElement.render(),A&&A(v,b)},h=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ps(v=>{var b;return this.getAnimationState(v)==="paused"&&((b=this.getAxisMotionValue(v).animation)==null?void 0:b.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new yP(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:gP(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&$t.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Yp(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=dY(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&$c(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=hY(i.layoutBox,e):this.constraints=!1,this.elastic=gY(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ps(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=mY(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$c(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=bK(i,s.root,this.visualElement.getTransformPagePoint());let l=fY(s.layout.layoutBox,a);if(n){const u=n(yK(l));this.hasMutatedConstraints=!!u,u&&(l=tP(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=ps(m=>{if(!Yp(m,n,this.currentDirection))return;let v=h&&h[m]||{};l&&(v={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,E={type:"inertia",velocity:i?e[m]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,E)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Jx(this.visualElement,e),i.start(v1(e,i,0,n,this.visualElement,!1))}stopAnimation(){ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ps(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ps(n=>{const{drag:i}=this.getProps();if(!Yp(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];a.set(e[n]-Xt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!$c(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ps(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=pY({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ps(l=>{if(!Yp(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(Xt(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;yY.set(this.visualElement,this);const e=this.visualElement.current,n=ph(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();$c(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$t.read(i);const l=Lh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(ps(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=tb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Yp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bY extends bo{constructor(e){super(e),this.removeGroupControls=gs,this.removeListeners=gs,this.controls=new vY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gs}unmount(){this.removeGroupControls(),this.removeListeners()}}const $C=t=>(e,n)=>{t&&$t.postRender(()=>t(e,n))};class wY extends bo{constructor(){super(...arguments),this.removePointerDownListener=gs}onPointerDown(e){this.session=new yP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:$C(e),onStart:$C(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&$t.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ph(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $d={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=WC(t,e.target.x),i=WC(t,e.target.y);return`${n}% ${i}%`}},_Y={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=mo.parse(t);if(s.length>5)return i;const a=mo.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const p=Xt(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};let Wv=!1;class EY extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;$G(TY),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),Wv&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),xm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,Wv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||$t.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;Wv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xP(t){const[e,n]=VG(),i=I.useContext(QI);return d.jsx(EY,{...t,layoutGroup:i,switchLayoutGroup:I.useContext(J4),isPresent:e,safeToRemove:n})}const TY={borderRadius:{...$d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$d,borderTopRightRadius:$d,borderBottomLeftRadius:$d,borderBottomRightRadius:$d,boxShadow:_Y};function SY(t,e,n){const i=ni(t)?t:yu(t);return i.start(v1("",i,e,n)),i.animation}const AY=(t,e)=>t.depth-e.depth;class CY{constructor(){this.children=[],this.isDirty=!1}add(e){Hw(this.children,e),this.isDirty=!0}remove(e){qw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(AY),this.isDirty=!1,this.children.forEach(e)}}function kY(t,e){const n=Ri.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(po(i),t(a-e))};return $t.setup(i,!0),()=>po(i)}const bP=["TopLeft","TopRight","BottomLeft","BottomRight"],RY=bP.length,GC=t=>typeof t=="string"?parseFloat(t):t,KC=t=>typeof t=="number"||Be.test(t);function jY(t,e,n,i,s,a){s?(t.opacity=Xt(0,n.opacity??1,NY(i)),t.opacityExit=Xt(e.opacity??1,0,IY(i))):a&&(t.opacity=Xt(e.opacity??1,n.opacity??1,i));for(let l=0;l<RY;l++){const u=`border${bP[l]}Radius`;let h=YC(e,u),p=YC(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||KC(h)===KC(p)?(t[u]=Math.max(Xt(GC(h),GC(p),i),0),(hr.test(p)||hr.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=Xt(e.rotate||0,n.rotate||0,i))}function YC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NY=wP(0,.5,l4),IY=wP(.5,.95,gs);function wP(t,e,n){return i=>i<t?0:i>e?1:n(Ih(t,e,i))}function XC(t,e){t.min=e.min,t.max=e.max}function fs(t,e){XC(t.x,e.x),XC(t.y,e.y)}function QC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ZC(t,e,n,i,s){return t-=e,t=yg(t,1/n,i),s!==void 0&&(t=yg(t,1/s,i)),t}function PY(t,e=0,n=1,i=.5,s,a=t,l=t){if(hr.test(e)&&(e=parseFloat(e),e=Xt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Xt(a.min,a.max,i);t===a&&(u-=e),t.min=ZC(t.min,e,n,u,s),t.max=ZC(t.max,e,n,u,s)}function JC(t,e,[n,i,s],a,l){PY(t,e[n],e[i],e[s],e.scale,a,l)}const MY=["x","scaleX","originX"],DY=["y","scaleY","originY"];function ek(t,e,n,i){JC(t.x,e,MY,n?n.x:void 0,i?i.x:void 0),JC(t.y,e,DY,n?n.y:void 0,i?i.y:void 0)}function tk(t){return t.translate===0&&t.scale===1}function _P(t){return tk(t.x)&&tk(t.y)}function nk(t,e){return t.min===e.min&&t.max===e.max}function OY(t,e){return nk(t.x,e.x)&&nk(t.y,e.y)}function ik(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EP(t,e){return ik(t.x,e.x)&&ik(t.y,e.y)}function sk(t){return di(t.x)/di(t.y)}function rk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LY{constructor(){this.members=[]}add(e){Hw(this.members,e),e.scheduleRender()}remove(e){if(qw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VY(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:b,skewX:_,skewY:E}=n;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),E&&(i+=`skewY(${E}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Gv=["","X","Y","Z"],zY=1e3;let BY=0;function Kv(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function TP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$t,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&TP(i)}function SP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=e==null?void 0:e()){this.id=BY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HY),this.nodes.forEach(GY),this.nodes.forEach(KY),this.nodes.forEach(qY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new CY)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=B4(l)&&!DG(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let m,v=0;const b=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{v=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=kY(b,250),xm.hasAnimatedSinceResize&&(xm.hasAnimatedSinceResize=!1,this.nodes.forEach(lk)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||JY,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=p.getProps(),j=!this.targetLayout||!EP(this.targetLayout,_),B=!v&&b;if(this.options.layoutRoot||this.resumeFrom||B||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...a1(E,"layout"),onPlay:C,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(m,B)}else v||lk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ak);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ok);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WY),this.nodes.forEach(UY),this.nodes.forEach(FY)):this.nodes.forEach(ok),this.clearAllSnapshots();const u=Ri.now();Fn.delta=oa(0,1e3/60,u-Fn.timestamp),Fn.timestamp=u,Fn.isProcessing=!0,Lv.update.process(Fn),Lv.preRender.process(Fn),Lv.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($Y),this.sharedNodes.forEach(XY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!di(this.snapshot.measuredBox.x)&&!di(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!_P(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||ul(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),eX(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return rn();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(tX))){const{scroll:m}=this.root;m&&(Wc(u.x,m.offset.x),Wc(u.y,m.offset.y))}return u}removeElementScroll(l){var h;const u=rn();if(fs(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:b}=m;m!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&fs(u,l),Wc(u.x,v.offset.x),Wc(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const h=rn();fs(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Gc(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ul(m.latestValues)&&Gc(h,m.latestValues)}return ul(this.latestValues)&&Gc(h,this.latestValues),h}removeTransform(l){const u=rn();fs(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ul(p.latestValues))continue;Yx(p.latestValues)&&p.updateSnapshot();const m=rn(),v=p.measurePageBox();fs(m,v),ek(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return ul(this.latestValues)&&ek(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),gh(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),iP(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),gh(this.relativeTargetOrigin,this.target,_.target),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Yx(this.parent.latestValues)||nP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;fs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;xK(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=rn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QC(this.prevProjectionDelta.x,this.projectionDelta.x),QC(this.prevProjectionDelta.y,this.projectionDelta.y)),mh(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!rk(this.projectionDelta.x,this.prevProjectionDelta.x)||!rk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kc(),this.projectionDelta=Kc(),this.projectionDeltaWithTransform=Kc()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Kc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=rn(),_=h?h.source:void 0,E=this.layout?this.layout.source:void 0,C=_!==E,A=this.getStack(),j=!A||A.members.length<=1,B=!!(C&&!j&&this.options.crossfade===!0&&!this.path.some(ZY));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const q=$/1e3;ck(v.x,l.x,q),ck(v.y,l.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gh(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QY(this.relativeTarget,this.relativeTargetOrigin,b,q),V&&OY(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=rn()),fs(V,this.relativeTarget)),C&&(this.animationValues=m,jY(m,p,this.latestValues,q,B,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{xm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yu(0)),this.currentAnimation=SY(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&AP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||rn();const v=di(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const b=di(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}fs(u,h),Gc(u,m),mh(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new LY),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&Kv("z",l,p,this.animationValues);for(let m=0;m<Gv.length;m++)Kv(`rotate${Gv[m]}`,l,p,this.animationValues),Kv(`skew${Gv[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=vm(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=vm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ul(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=VY(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),l.transform=v;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in Oh){if(m[E]===void 0)continue;const{correct:C,applyTo:A,isCSSVariable:j}=Oh[E],B=v==="none"?m[E]:C(m[E],p);if(A){const V=A.length;for(let $=0;$<V;$++)l[A[$]]=B}else j?this.options.visualElement.renderState.vars[E]=B:l[E]=B}this.options.layoutId&&(l.pointerEvents=p===this?vm(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(ak),this.root.sharedNodes.clear()}}}function UY(t){t.updateLayout()}function FY(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ps(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=di(b);b.min=i[v].min,b.max=b.min+_}):AP(a,e.layoutBox,i)&&ps(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],_=di(i[v]);b.max=b.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const u=Kc();mh(u,i,e.layoutBox);const h=Kc();l?mh(h,t.applyTransform(s,!0),e.measuredBox):mh(h,i,e.layoutBox);const p=!_P(u);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:_}=v;if(b&&_){const E=rn();gh(E,e.layoutBox,b.layoutBox);const C=rn();gh(C,i,_.layoutBox),EP(E,C)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=E,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function HY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $Y(t){t.clearSnapshot()}function ak(t){t.clearMeasurements()}function ok(t){t.isLayoutDirty=!1}function WY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GY(t){t.resolveTargetDelta()}function KY(t){t.calcProjection()}function YY(t){t.resetSkewAndRotation()}function XY(t){t.removeLeadSnapshot()}function ck(t,e,n){t.translate=Xt(e.translate,0,n),t.scale=Xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function uk(t,e,n,i){t.min=Xt(e.min,n.min,i),t.max=Xt(e.max,n.max,i)}function QY(t,e,n,i){uk(t.x,e.x,n.x,i),uk(t.y,e.y,n.y,i)}function ZY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JY={duration:.45,ease:[.4,0,.1,1]},dk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hk=dk("applewebkit/")&&!dk("chrome/")?Math.round:gs;function fk(t){t.min=hk(t.min),t.max=hk(t.max)}function eX(t){fk(t.x),fk(t.y)}function AP(t,e,n){return t==="position"||t==="preserve-aspect"&&!aY(sk(e),sk(n),.2)}function tX(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const nX=SP({attachResizeListener:(t,e)=>Lh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yv={current:void 0},CP=SP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yv.current){const t=new nX({});t.mount(window),t.setOptions({layoutScroll:!0}),Yv.current=t}return Yv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iX={pan:{Feature:wY},drag:{Feature:bY,ProjectionNode:CP,MeasureLayout:xP}};function pk(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&$t.postRender(()=>a(e,lf(e)))}class sX extends bo{mount(){const{current:e}=this.node;e&&(this.unmount=jG(e,(n,i)=>(pk(this.node,i,"Start"),s=>pk(this.node,s,"End"))))}unmount(){}}class rX extends bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rf(Lh(this.node.current,"focus",()=>this.onFocus()),Lh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mk(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&$t.postRender(()=>a(e,lf(e)))}class aX extends bo{mount(){const{current:e}=this.node;e&&(this.unmount=MG(e,(n,i)=>(mk(this.node,i,"Start"),(s,{success:a})=>mk(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nb=new WeakMap,Xv=new WeakMap,oX=t=>{const e=nb.get(t.target);e&&e(t)},lX=t=>{t.forEach(oX)};function cX({root:t,...e}){const n=t||document;Xv.has(n)||Xv.set(n,{});const i=Xv.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(lX,{root:t,...e})),i[s]}function uX(t,e,n){const i=cX(e);return nb.set(t,n),i.observe(t),()=>{nb.delete(t),i.unobserve(t)}}const dX={some:0,all:1};class hX extends bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:dX[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),b=p?m:v;b&&b(h)};return uX(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fX(e,n))&&this.startObserver()}unmount(){}}function fX({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pX={inView:{Feature:hX},tap:{Feature:aX},focus:{Feature:rX},hover:{Feature:sX}},mX={layout:{ProjectionNode:CP,MeasureLayout:xP}},gX={...eY,...pX,...iX,...mX},gk=gK(gX,RK);function yX(){const[t,e]=I.useState([]),[n,i]=I.useState(null),[s,a]=I.useState(!0),{agregarAlCarrito:l,favoritos:u,quitarDeFavoritos:h}=Ol();I.useEffect(()=>{const E=go(wn,C=>{C?i(C.uid):(i(null),e([]),a(!1))});return()=>E()},[]),I.useEffect(()=>{e(u);const E=setTimeout(()=>{a(!1)},500);return()=>clearTimeout(E)},[u]);const p=E=>{confirm("¿Estás seguro que deseas eliminar este producto de tus favoritos?")&&(h(E),alert("El producto ha sido eliminado de tus favoritos."))},m=()=>{confirm("¿Estás seguro que deseas eliminar todos tus favoritos?")&&([...u].forEach(E=>h(E.id)),alert("Todos los favoritos han sido eliminados."))},v=E=>{if(E.stock<=0){alert(`"${E.name}" está agotado.`);return}l(E),alert(`"${E.name}" ha sido agregado a tu carrito`)},b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},_={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"favorites-page",children:d.jsxs("div",{className:"favorites-container",children:[d.jsx("h1",{className:"favorites-title",children:"Wishlist"}),s?d.jsx("div",{className:"favorites-skeleton",children:Array.from({length:4}).map((E,C)=>d.jsxs("div",{className:"skeleton-wishlist-item",children:[d.jsx("div",{className:"skeleton-image"}),d.jsxs("div",{className:"skeleton-content",children:[d.jsx("div",{className:"skeleton-name"}),d.jsx("div",{className:"skeleton-price"}),d.jsx("div",{className:"skeleton-actions"})]})]},`skeleton-item-${C}`))}):u.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("i",{className:"far fa-heart empty-icon"}),d.jsx("h3",{children:"Tu lista de deseos está vacía"}),d.jsx("p",{children:"No tienes productos en tu lista de deseos. ¡Explora nuestra tienda y agrega algunos!"}),d.jsx(ot,{to:"/productos",className:"browse-products-btn",children:"Explorar Productos"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"wishlist-header",children:[d.jsx("div",{className:"header-product",children:"PRODUCTO"}),d.jsx("div",{className:"header-price",children:"PRECIO"}),d.jsx("div",{className:"header-actions",children:"ACCIONES"})]}),d.jsx(gk.div,{className:"wishlist-grid",variants:b,initial:"hidden",animate:"visible",children:u.map(E=>{var C;return d.jsxs(gk.div,{className:"wishlist-item",variants:_,children:[d.jsxs("div",{className:"wishlist-item-main",children:[d.jsx("div",{className:"wishlist-item-image",children:d.jsx(hu,{src:E.image||E.mainImage||((C=E.images)==null?void 0:C[0])||"",alt:E.name,className:"product-image",width:80,height:80,placeholderSrc:"https://via.placeholder.com/80?text=...",preload:!0})}),d.jsxs("div",{className:"wishlist-item-info",children:[d.jsx(ot,{to:`/producto/${E.id}`,className:"product-link",children:d.jsx("h3",{className:"wishlist-item-name",children:E.name})}),d.jsx("div",{className:"stock-info",children:d.jsxs("span",{className:`stock-badge ${E.stock>0?"in-stock":"out-of-stock"}`,children:[d.jsx("i",{className:E.stock>0?"fas fa-check-circle":"fas fa-times-circle"}),E.stock>0?`${E.stock} disponibles`:"Agotado"]})})]})]}),d.jsxs("div",{className:"wishlist-item-price",children:["$",Math.round(E.price||0).toLocaleString("es-CO")]}),d.jsxs("div",{className:"wishlist-item-actions",children:[d.jsx(St,{onClick:()=>v(E),variant:"primary",size:"sm",disabled:E.stock<=0,className:"add-to-cart-btn",title:"Agregar al Carrito",children:d.jsx("i",{className:"fas fa-shopping-cart"})}),d.jsx("button",{className:"remove-item-btn",onClick:()=>p(E.id),title:"Eliminar de favoritos",children:d.jsx("i",{className:"fas fa-trash"})})]})]},E.id)})}),u.length>0&&d.jsx("div",{className:"wishlist-footer",children:d.jsxs(St,{onClick:m,variant:"outline",size:"md",className:"clear-wishlist-btn",children:[d.jsx("i",{className:"fas fa-trash-alt"})," Eliminar Todos"]})})]})]})}),d.jsx(yl,{}),d.jsx("style",{children:`
        .favorites-page {
          background-color: #f9fafb;
          min-height: calc(100vh - 80px);
          padding: 40px 0;
        }

        .favorites-container {
          padding: 0 30px;
          max-width: 1200px;
          margin: 0 auto;
        }

        .favorites-title {
          font-size: 32px;
          margin-bottom: 40px;
          color: #111827;
          font-weight: 700;
          text-align: center;
          letter-spacing: -0.5px;
        }

        /* Estilos para el encabezado de la lista */
        .wishlist-header {
          display: grid;
          grid-template-columns: 3fr 1fr 1fr;
          padding: 15px 20px;
          background: #f3f4f6;
          border-radius: 8px 8px 0 0;
          font-weight: 600;
          color: #4b5563;
          font-size: 14px;
          letter-spacing: 0.5px;
          margin-bottom: 10px;
        }

        /* Estilos para la lista de deseos */
        .wishlist-grid {
          display: flex;
          flex-direction: column;
          gap: 10px;
          margin-bottom: 30px;
        }

        .wishlist-item {
          display: grid;
          grid-template-columns: 3fr 1fr 1fr;
          align-items: center;
          padding: 20px;
          background: #fff;
          border-radius: 8px;
          box-shadow: 0 1px 3px rgba(0,0,0,0.05);
          position: relative;
          transition: all 0.2s ease;
        }

        .wishlist-item:hover {
          box-shadow: 0 4px 12px rgba(0,0,0,0.08);
          transform: translateY(-2px);
        }

        .wishlist-item-main {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .wishlist-item-image {
          width: 80px;
          height: 80px;
          flex-shrink: 0;
          border-radius: 8px;
          overflow: hidden;
          background-color: #f8fafc;
          box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .product-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 8px;
          transition: transform 0.3s ease;
        }
        
        .product-image:hover {
          transform: scale(1.08);
        }

        .wishlist-item-info {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .wishlist-item-name {
          font-weight: 600;
          font-size: 16px;
          margin: 0;
          color: #111827;
        }

        .product-link {
          color: #111827;
          text-decoration: none;
          transition: color 0.2s ease;
        }

        .product-link:hover {
          color: #4f46e5;
        }

        .wishlist-item-price {
          font-weight: 700;
          color: #111827;
          font-size: 18px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .wishlist-item-actions {
          display: flex;
          align-items: center;
          justify-content: flex-end;
          gap: 15px;
        }

        .stock-info {
          display: flex;
          align-items: center;
          margin-top: 5px;
        }

        .stock-badge {
          padding: 4px 10px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 500;
          display: inline-flex;
          align-items: center;
        }

        .stock-badge i {
          margin-right: 6px;
          font-size: 14px;
        }

        .stock-badge.in-stock {
          background: rgba(22, 163, 74, 0.12);
          color: #16a34a;
        }

        .stock-badge.out-of-stock {
          background: rgba(239, 68, 68, 0.12);
          color: #ef4444;
        }
        
        .stock-badge.in-stock i {
          color: #16a34a;
        }
        
        .stock-badge.out-of-stock i {
          color: #ef4444;
        }

        .add-to-cart-btn {
          background: #4f46e5;
          color: white;
          border: none;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 2px 5px rgba(79, 70, 229, 0.3);
        }

        .add-to-cart-btn:hover {
          background: #4338ca;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(79, 70, 229, 0.4);
        }
        
        .add-to-cart-btn:disabled {
          background: #a5b4fc;
          cursor: not-allowed;
          opacity: 0.7;
          transform: none;
          box-shadow: none;
        }

        .remove-item-btn {
          background: transparent;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          transition: all 0.2s ease;
        }

        .remove-item-btn:hover {
          background: #f3f4f6;
          color: #ef4444;
        }
        
        .remove-item-btn i {
          font-size: 16px;
        }

        .wishlist-footer {
          display: flex;
          justify-content: flex-end;
          margin-top: 20px;
          padding-top: 20px;
          border-top: 1px solid #e5e7eb;
        }

        .clear-wishlist-btn {
          background: transparent;
          border: 1px solid #e5e7eb;
          color: #4b5563;
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .clear-wishlist-btn:hover {
          background: #f3f4f6;
          color: #ef4444;
          border-color: #ef4444;
        }

        .empty-state {
          text-align: center;
          padding: 80px 20px;
          color: #6b7280;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 15px;
        }

        .empty-state .empty-icon {
          font-size: 48px;
          color: #d1d5db;
          margin-bottom: 10px;
        }

        .empty-state h3 {
          font-size: 20px;
          font-weight: 600;
          color: #374151;
          margin: 0;
        }

        .empty-state p {
          font-size: 16px;
          max-width: 500px;
          margin: 0 auto 20px;
        }

        .browse-products-btn {
          display: inline-block;
          background: #4f46e5;
          color: white;
          padding: 10px 20px;
          border-radius: 6px;
          text-decoration: none;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .browse-products-btn:hover {
          background: #4338ca;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(79, 70, 229, 0.3);
        }

        /* Estilos para los esqueletos de carga */
        .favorites-skeleton {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .skeleton-wishlist-item {
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            gap: 15px;
          }
          
          .skeleton-image {
            width: 80px;
            height: 80px;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 8px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
          }
          
          .skeleton-name {
            height: 20px;
            width: 70%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-price {
            height: 24px;
            width: 40%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          .skeleton-actions {
            height: 36px;
            width: 60%;
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            border-radius: 4px;
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
          }
          
          @keyframes shine {
            to {
              background-position-x: -200%;
            }
        }

        .skeleton-image {
          width: 80px;
          height: 80px;
          flex-shrink: 0;
          border-radius: 8px;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          margin-right: 20px;
        }

        .skeleton-content {
          flex-grow: 1;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .skeleton-name {
          height: 20px;
          width: 70%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
        }

        .skeleton-price {
          height: 24px;
          width: 30%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
        }

        .skeleton-actions {
          height: 36px;
          width: 60%;
          background-color: #f0f0f0;
          animation: pulse 1.5s infinite ease-in-out;
          border-radius: 4px;
          margin-top: 10px;
        }

        /* Animación de pulso para los esqueletos */
        @keyframes pulse {
          0% { opacity: 0.6; }
          50% { opacity: 1; }
          100% { opacity: 0.6; }
        }

        .reset-section {
          display: flex;
          justify-content: flex-end;
          margin-top: 20px;
        }

        .reset-btn {
          background: transparent;
          border: 1px solid #e2e8f0;
          color: #64748b;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .reset-btn:hover {
          background: #f8fafc;
          color: #ef4444;
          border-color: #ef4444;
        }

        /* Estilos para dispositivos móviles */
        @media (max-width: 768px) {
          .favorites-container {
            padding: 20px 15px;
          }

          .favorites-title {
            font-size: 24px;
            margin-bottom: 20px;
          }

          .wishlist-item {
            padding: 15px;
          }

          .wishlist-item-image {
            width: 60px;
            height: 60px;
            margin-right: 15px;
          }

          .wishlist-item-name {
            font-size: 14px;
          }

          .wishlist-item-price {
            font-size: 16px;
          }
        }

        @media (max-width: 600px) {
          .favorites-container {
            padding: 15px 10px;
          }

          .wishlist-item {
            flex-direction: column;
            align-items: flex-start;
            padding: 15px;
          }

          .wishlist-item-image {
            width: 100%;
            height: auto;
            margin-right: 0;
            margin-bottom: 15px;
          }

          .product-image {
            width: 100%;
            height: auto;
            aspect-ratio: 1/1;
          }

          .wishlist-item-details {
            width: 100%;
          }

          .wishlist-item-actions {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
            width: 100%;
          }

          .stock-info {
            margin-bottom: 5px;
          }

          .add-to-cart-btn {
            width: 100%;
            text-align: center;
          }

          .remove-item-btn {
            top: 10px;
            right: 10px;
          }
        }

          .action-buttons {
            gap: 4px;
          }

          .add-to-cart-btn,
          .delete-btn {
            padding: 6px 8px;
            font-size: 11px;
          }

          .add-to-cart-btn i,
          .delete-btn i {
            margin-right: 4px;
            font-size: 10px;
          }

          /* Ajustes para los esqueletos en móvil */
          .skeleton-header,
          .skeleton-row {
            min-width: 600px;
          }
        }
      `})]})}function vX(){const{user:t,resetPassword:e}=xo(),[n,i]=I.useState(""),[s,a]=I.useState(""),[l,u]=I.useState(!1),h=yr();I.useEffect(()=>{t&&h("/")},[t]);const p=async m=>{m.preventDefault(),u(!0);try{await e(n),_e.fire({icon:"success",title:"Correo enviado",text:"Revisa tu correo para restablecer la contraseña.",timer:3e3,showConfirmButton:!1}),a("✅ Revisa tu correo para restablecer la contraseña.")}catch{_e.fire({icon:"error",title:"Error",text:"Error al enviar el correo. Intentalo de nuevo."}),a("❌ Error al enviar el correo. Intenta de nuevo.")}finally{u(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"auth-page",children:d.jsx("div",{className:"auth-container",children:l?d.jsx("div",{className:"loader-container",children:d.jsx(ql,{size:"lg",color:"#3b82f6",text:"Enviando correo..."})}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"auth-title",children:"Reset Password"}),d.jsx("p",{className:"auth-subtitle",children:"Enter your email address and we'll send you a link to reset your password."}),d.jsxs("form",{onSubmit:p,className:"auth-form",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{htmlFor:"email",children:"Email"}),d.jsx("input",{id:"email",type:"email",placeholder:"sellostore@company.com",value:n,onChange:m=>i(m.target.value),required:!0})]}),d.jsx(St,{type:"submit",variant:"primary",fullWidth:!0,className:"reset-btn-override",disabled:l,children:"Send Reset Link"})]}),s&&d.jsx("div",{className:`auth-message ${s.includes("✅")?"success":"error"}`,children:s}),d.jsx("div",{className:"auth-switch",children:d.jsx(ot,{to:"/login",children:"← Back to Sign In"})})]})})}),d.jsx("style",{children:`
        .auth-page {
          min-height: 100vh;
          background: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          padding: 20px;
        }

        .auth-container {
          width: 100%;
          max-width: 400px;
          background: white;
        }

        .loader-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
        }

        .auth-title {
          font-size: 32px;
          font-weight: 700;
          color: #111827;
          text-align: center;
          margin-bottom: 8px;
          line-height: 1.2;
        }

        .auth-subtitle {
          font-size: 16px;
          color: #6b7280;
          text-align: center;
          margin-bottom: 32px;
          line-height: 1.5;
        }

        .auth-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
          margin-bottom: 24px;
        }

        .input-group {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }

        .input-group label {
          font-size: 14px;
          font-weight: 500;
          color: #111827;
          text-align: left;
        }

        .input-group input {
          padding: 12px 16px;
          border: 1px solid #d1d5db;
          border-radius: 8px;
          font-size: 16px;
          background: #f9fafb;
          color: #111827;
          transition: all 0.2s ease;
        }

        .input-group input:focus {
          outline: none;
          border-color: #3b82f6;
          background: white;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .input-group input::placeholder {
          color: #9ca3af;
        }

        .reset-btn-override {
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          transition: all 0.2s ease;
        }

        .reset-btn-override:hover {
          transform: translateY(-1px);
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .reset-btn-override:active {
          transform: translateY(0);
        }

        .auth-message {
          margin-top: 20px;
          padding: 12px 16px;
          border-radius: 8px;
          font-size: 14px;
          text-align: center;
          font-weight: 500;
          margin-bottom: 20px;
        }

        .auth-message.success {
          background: #d1fae5;
          color: #065f46;
          border: 1px solid #a7f3d0;
        }

        .auth-message.error {
          background: #fee2e2;
          color: #991b1b;
          border: 1px solid #fca5a5;
        }

        .auth-switch {
          text-align: center;
          font-size: 14px;
        }

        .auth-switch a {
          color: #3b82f6;
          text-decoration: none;
          font-weight: 500;
          display: inline-flex;
          align-items: center;
          gap: 4px;
          transition: color 0.2s;
        }

        .auth-switch a:hover {
          color: #2563eb;
          text-decoration: underline;
        }

        @media (max-width: 480px) {
          .auth-container {
            padding: 0;
          }
          
          .auth-title {
            font-size: 28px;
          }
        }
      `})]})}function xX(){return d.jsx("div",{className:"not-found-container",children:d.jsxs("div",{className:"not-found-content",children:[d.jsx("div",{className:"not-found-image",children:d.jsx("div",{className:"error-logo-container",children:d.jsx("div",{className:"error-logo",children:d.jsx("div",{className:"error-frame",children:d.jsx("div",{className:"error-number",children:"404"})})})})}),d.jsx("h1",{children:"Lost in space"}),d.jsx("p",{children:"We know we're out of this world, but you seem to be far away from home."}),d.jsx(ot,{to:"/",className:"go-home-button",children:"Go home now"})]})})}function bX(){var E;const t=gr(),e=yr(),{vaciarCarrito:n}=Ol(),[i,s]=I.useState(null),[a,l]=I.useState(!1),[u,h]=I.useState(null),[p,m]=I.useState("credit_card"),[v,b]=I.useState("");I.useEffect(()=>{const C=go(wn,A=>{s(A),A||e("/login")});return()=>C()},[e]),I.useEffect(()=>{t.state?h(t.state):e("/carrito")},[t.state,e]);const _=async()=>{if(!u||!i){_e.fire("Error","Missing order information","error");return}l(!0);try{const C={userId:i.uid,userEmail:i.email,userName:i.displayName||i.email.split("@")[0],items:u.cart.map(B=>{var V;return{id:B.id,name:B.name,price:B.price,quantity:B.quantity,image:B.image||B.mainImage||((V=B.images)==null?void 0:V[0])||"",material:B.material||"N/A",color:B.color||"N/A"}}),deliveryAddress:u.selectedAddress,appliedPromo:u.appliedPromo,pricing:{subtotal:u.subtotal,shippingFee:u.shippingFee,tax:u.tax,discount:u.discount||0,total:u.total},paymentMethod:p,orderNotes:v,status:"pending",createdAt:new Date,updatedAt:new Date},j=(await Hm(ti(De,"orders"),C)).id;u.appliedPromo&&u.appliedPromo.id&&await sr(tt(De,"promoCodes",u.appliedPromo.id),{usageCount:Wz(1)}),n(),await _e.fire({title:"Order Placed Successfully!",text:`Your order #${j} has been placed. You will receive a confirmation email shortly.`,icon:"success",confirmButtonText:"Continue Shopping",confirmButtonColor:"#16a34a"}),e("/productos")}catch(C){console.error("Error placing order:",C),_e.fire("Error","Failed to place order. Please try again.","error")}finally{l(!1)}};return u?d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"checkout-container",children:d.jsxs("div",{className:"checkout-content",children:[d.jsx("h1",{className:"checkout-title",children:"Checkout"}),d.jsxs("div",{className:"checkout-layout",children:[d.jsxs("div",{className:"order-summary",children:[d.jsx("h2",{children:"Order Summary"}),d.jsx("div",{className:"order-items",children:u.cart.map(C=>{var A;return d.jsxs("div",{className:"order-item",children:[d.jsx("img",{src:C.image||C.mainImage||((A=C.images)==null?void 0:A[0]),alt:C.name,className:"item-image"}),d.jsxs("div",{className:"item-details",children:[d.jsx("h3",{children:C.name}),d.jsxs("p",{children:["Quantity: ",C.quantity]}),d.jsxs("p",{children:["Price: $",Math.round(C.price).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"item-total",children:["$",Math.round(C.price*C.quantity).toLocaleString("es-CO")]})]},C.id)})}),d.jsxs("div",{className:"pricing-summary",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(u.subtotal).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Shipping:"}),d.jsx("span",{className:"free",children:"Free"})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Tax (2%):"}),d.jsxs("span",{children:["$",Math.round(u.tax).toLocaleString("es-CO")]})]}),u.discount>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsxs("span",{children:["Discount (",(E=u.appliedPromo)==null?void 0:E.discount,"%):"]}),d.jsxs("span",{children:["-$",Math.round(u.discount).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(u.total).toLocaleString("es-CO")]})]})]})]}),d.jsxs("div",{className:"checkout-form",children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Delivery Address"}),d.jsxs("div",{className:"address-display",children:[d.jsx("strong",{children:u.selectedAddress.name}),d.jsx("br",{}),u.selectedAddress.street,d.jsx("br",{}),u.selectedAddress.city,", ",u.selectedAddress.state," ",u.selectedAddress.zipCode,d.jsx("br",{}),u.selectedAddress.country,d.jsx("br",{}),"Phone: ",u.selectedAddress.phone]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Payment Method"}),d.jsxs("div",{className:"payment-options",children:[d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"credit_card",checked:p==="credit_card",onChange:C=>m(C.target.value)}),d.jsx("span",{children:"Credit Card"})]}),d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"paypal",checked:p==="paypal",onChange:C=>m(C.target.value)}),d.jsx("span",{children:"PayPal"})]}),d.jsxs("label",{className:"payment-option",children:[d.jsx("input",{type:"radio",name:"payment",value:"cash_on_delivery",checked:p==="cash_on_delivery",onChange:C=>m(C.target.value)}),d.jsx("span",{children:"Cash on Delivery"})]})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Order Notes (Optional)"}),d.jsx("textarea",{value:v,onChange:C=>b(C.target.value),placeholder:"Any special instructions for your order...",className:"order-notes",rows:4})]}),d.jsx(St,{onClick:_,disabled:a,variant:"primary",size:"lg",fullWidth:!0,className:"place-order-btn",children:a?"Processing...":`Place Order - $${Math.round(u.total).toLocaleString("es-CO")}`}),d.jsx(St,{onClick:()=>e("/carrito"),variant:"secondary",fullWidth:!0,className:"back-to-cart-btn",children:"Back to Cart"})]})]})]})}),d.jsx("style",{children:`
        .checkout-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 30px 20px;
        }

        .checkout-content {
          max-width: 1200px;
          margin: 0 auto;
        }

        .checkout-title {
          font-size: 2rem;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 30px;
          text-align: center;
        }

        .checkout-layout {
          display: grid;
          grid-template-columns: 1fr 400px;
          gap: 30px;
        }

        .order-summary {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .order-summary h2 {
          font-size: 1.5rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 20px;
        }

        .order-items {
          margin-bottom: 30px;
        }

        .order-item {
          display: flex;
          align-items: center;
          gap: 15px;
          padding: 15px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .order-item:last-child {
          border-bottom: none;
        }

        .item-image {
          width: 60px;
          height: 60px;
          object-fit: cover;
          border-radius: 8px;
        }

        .item-details {
          flex: 1;
        }

        .item-details h3 {
          margin: 0 0 5px 0;
          font-size: 1rem;
          font-weight: 600;
          color: #1e293b;
        }

        .item-details p {
          margin: 2px 0;
          font-size: 0.875rem;
          color: #6b7280;
        }

        .item-total {
          font-weight: 600;
          color: #1e293b;
        }

        .pricing-summary {
          border-top: 1px solid #e5e7eb;
          padding-top: 20px;
        }

        .pricing-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
          font-size: 0.95rem;
        }

        .pricing-row.total {
          font-size: 1.125rem;
          font-weight: 700;
          color: #1e293b;
          border-top: 1px solid #e5e7eb;
          padding-top: 15px;
          margin-top: 15px;
        }

        .pricing-row.discount {
          color: #16a34a;
        }

        .free {
          color: #16a34a;
          font-weight: 500;
        }

        .checkout-form {
          background: white;
          border-radius: 12px;
          padding: 30px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
          height: fit-content;
        }

        .form-section {
          margin-bottom: 30px;
        }

        .form-section h3 {
          font-size: 1.125rem;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 15px;
        }

        .address-display {
          background: #f8fafc;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          padding: 15px;
          font-size: 0.875rem;
          line-height: 1.6;
          color: #374151;
        }

        .payment-options {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .payment-option {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .payment-option:hover {
          border-color: #ea580c;
          background: #fff7ed;
        }

        .payment-option input[type="radio"] {
          margin: 0;
          accent-color: #ea580c;
        }

        .order-notes {
          width: 100%;
          padding: 12px;
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          font-size: 0.875rem;
          resize: vertical;
          font-family: inherit;
        }

        .order-notes:focus {
          outline: none;
          border-color: #ea580c;
          box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }

        .place-order-btn {
          background: #16a34a !important;
          margin-bottom: 15px;
        }

        .place-order-btn:hover {
          background: #15803d !important;
        }

        .back-to-cart-btn {
          background: transparent !important;
          color: #6b7280 !important;
          border: 1px solid #e5e7eb !important;
        }

        .back-to-cart-btn:hover {
          background: #f8fafc !important;
          color: #374151 !important;
        }

        .loading-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 80vh;
        }

        @media (max-width: 1024px) {
          .checkout-layout {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .checkout-form {
            order: -1;
          }
        }

        @media (max-width: 768px) {
          .checkout-container {
            padding: 20px 15px;
          }

          .order-summary,
          .checkout-form {
            padding: 20px;
          }

          .checkout-title {
            font-size: 1.5rem;
          }
        }
      `})]}):d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"loading-container",children:d.jsx(ql,{size:"lg",color:"#ea580c",text:"Loading checkout..."})})]})}function wX(){var _,E,C,A,j,B,V,$,q,J,z,k,P,O,L,D,R,ae;const[t,e]=I.useState([]),[n,i]=I.useState(!0),[s,a]=I.useState(null),[l,u]=I.useState(null),[h,p]=I.useState(!1);I.useEffect(()=>{const ee=go(wn,W=>{a(W),W||i(!1)});return()=>ee()},[]),I.useEffect(()=>{if(!s){i(!1);return}const ee=no(ti(De,"orders"),Rl("userId","==",s.uid),Hz("createdAt","desc")),W=Jr(ee,ne=>{const he=ne.docs.map(xe=>({id:xe.id,...xe.data()}));e(he),i(!1)});return()=>W()},[s]);const m=ee=>{switch(ee){case"pending":return"status-pending";case"processing":return"status-processing";case"shipped":return"status-shipped";case"delivered":return"status-delivered";case"cancelled":return"status-cancelled";default:return"status-pending"}},v=ee=>{switch(ee){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return"Pendiente"}},b=ee=>{u(ee),p(!0)};return n?d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"loading-container",children:d.jsx(ql,{size:"lg",color:"#ea580c",text:"Cargando órdenes..."})}),d.jsx(yl,{})]}):s?d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsxs("div",{className:"orders-container",children:[d.jsxs("div",{className:"orders-header",children:[d.jsx("h1",{children:"Mis Órdenes"}),d.jsx("p",{children:"Aquí puedes ver el historial de todas tus órdenes"})]}),t.length===0?d.jsxs("div",{className:"no-orders",children:[d.jsx("div",{className:"no-orders-icon",children:"📦"}),d.jsx("h3",{children:"No tienes órdenes aún"}),d.jsx("p",{children:"Cuando realices tu primera compra, aparecerá aquí."}),d.jsx("a",{href:"/productos",className:"shop-now-btn",children:"Ir a comprar"})]}):d.jsx("div",{className:"orders-list",children:t.map(ee=>{var W,ne,he,xe;return d.jsxs("div",{className:"order-card",children:[d.jsxs("div",{className:"order-header",children:[d.jsxs("div",{className:"order-info",children:[d.jsxs("h3",{children:["Orden #",ee.id.substring(0,8)]}),d.jsx("p",{className:"order-date",children:(W=ee.createdAt)!=null&&W.toDate?ee.createdAt.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible"})]}),d.jsx("div",{className:"order-status",children:d.jsx("span",{className:`status-badge ${m(ee.status)}`,children:v(ee.status)})})]}),d.jsxs("div",{className:"order-items",children:[(ne=ee.items)==null?void 0:ne.slice(0,3).map((U,oe)=>d.jsxs("div",{className:"order-item",children:[d.jsx("img",{src:U.image||"/placeholder.jpg",alt:U.name,className:"item-image"}),d.jsxs("div",{className:"item-details",children:[d.jsx("h4",{children:U.name}),d.jsxs("p",{children:["Cantidad: ",U.quantity]}),d.jsxs("p",{className:"item-price",children:["$",Math.round(U.price).toLocaleString("es-CO")]})]})]},oe)),((he=ee.items)==null?void 0:he.length)>3&&d.jsxs("div",{className:"more-items",children:["+",ee.items.length-3," productos más"]})]}),d.jsxs("div",{className:"order-footer",children:[d.jsx("div",{className:"order-total",children:d.jsxs("strong",{children:["Total: $",Math.round(((xe=ee.pricing)==null?void 0:xe.total)||0).toLocaleString("es-CO")]})}),d.jsxs("div",{className:"order-actions",children:[d.jsx("button",{className:"order-details-btn",onClick:()=>b(ee),children:"Ver detalles"}),ee.status==="delivered"&&d.jsx("button",{className:"reorder-btn",children:"Volver a pedir"})]})]})]},ee.id)})})]}),d.jsx(yl,{}),h&&l&&d.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:d.jsxs("div",{className:"modal-content",onClick:ee=>ee.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("h2",{children:["Detalles de la Orden #",l.id.substring(0,8)]}),d.jsx("button",{className:"modal-close",onClick:()=>p(!1),children:"×"})]}),d.jsxs("div",{className:"modal-body",children:[d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Información de la Orden"}),d.jsxs("div",{className:"detail-grid",children:[d.jsxs("div",{children:[d.jsx("strong",{children:"Número de orden:"})," #",l.id.substring(0,8)]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Fecha:"})," ",(_=l.createdAt)!=null&&_.toDate?l.createdAt.toDate().toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Fecha no disponible"]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Estado:"})," ",d.jsx("span",{className:`status-badge ${m(l.status)}`,children:v(l.status)})]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Método de pago:"})," ",((C=(E=l.paymentMethod)==null?void 0:E.replace("_"," "))==null?void 0:C.toUpperCase())||"No especificado"]})]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Dirección de Entrega"}),d.jsxs("div",{className:"address-details",children:[d.jsx("strong",{children:((A=l.deliveryAddress)==null?void 0:A.name)||"No especificado"}),d.jsx("br",{}),((j=l.deliveryAddress)==null?void 0:j.street)||"Dirección no disponible",d.jsx("br",{}),((B=l.deliveryAddress)==null?void 0:B.city)||"",", ",((V=l.deliveryAddress)==null?void 0:V.state)||""," ",(($=l.deliveryAddress)==null?void 0:$.zipCode)||"",d.jsx("br",{}),((q=l.deliveryAddress)==null?void 0:q.country)||"",d.jsx("br",{}),"Teléfono: ",((J=l.deliveryAddress)==null?void 0:J.phone)||"No especificado"]})]}),d.jsxs("div",{className:"detail-section",children:[d.jsxs("h3",{children:["Productos (",((z=l.items)==null?void 0:z.length)||0," artículos)"]}),d.jsx("div",{className:"items-list",children:(k=l.items)==null?void 0:k.map((ee,W)=>d.jsxs("div",{className:"item-detail",children:[d.jsx("img",{src:ee.image||"/placeholder.jpg",alt:ee.name,className:"item-image-detail"}),d.jsxs("div",{className:"item-info-detail",children:[d.jsx("h4",{children:ee.name}),d.jsxs("p",{children:["Material: ",ee.material||"N/A"," | Color: ",ee.color||"N/A"]}),d.jsxs("p",{children:["Cantidad: ",ee.quantity," × $",Math.round(ee.price).toLocaleString("es-CO")," = $",Math.round(ee.quantity*ee.price).toLocaleString("es-CO")]})]})]},W))})]}),d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Resumen de Precios"}),d.jsxs("div",{className:"pricing-detail",children:[d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["$",Math.round(((P=l.pricing)==null?void 0:P.subtotal)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Envío:"}),d.jsxs("span",{children:["$",Math.round(((O=l.pricing)==null?void 0:O.shippingFee)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row",children:[d.jsx("span",{children:"Impuestos:"}),d.jsxs("span",{children:["$",Math.round(((L=l.pricing)==null?void 0:L.tax)||0).toLocaleString("es-CO")]})]}),(((D=l.pricing)==null?void 0:D.discount)||0)>0&&d.jsxs("div",{className:"pricing-row discount",children:[d.jsx("span",{children:"Descuento:"}),d.jsxs("span",{children:["-$",Math.round(((R=l.pricing)==null?void 0:R.discount)||0).toLocaleString("es-CO")]})]}),d.jsxs("div",{className:"pricing-row total",children:[d.jsx("span",{children:"Total:"}),d.jsxs("span",{children:["$",Math.round(((ae=l.pricing)==null?void 0:ae.total)||0).toLocaleString("es-CO")]})]})]})]}),l.orderNotes&&d.jsxs("div",{className:"detail-section",children:[d.jsx("h3",{children:"Notas del Pedido"}),d.jsx("div",{className:"order-notes",children:l.orderNotes})]})]})]})}),d.jsx("style",{children:`
        .orders-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 30px 20px;
        }

        .orders-header {
          max-width: 1200px;
          margin: 0 auto 30px auto;
          text-align: center;
        }

        .orders-header h1 {
          font-size: 2.5rem;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 10px;
        }

        .orders-header p {
          font-size: 1.1rem;
          color: #64748b;
        }

        .loading-container {
          display: flex;
          justify-content: center;
          align-items: center;
          height: 50vh;
        }

        .no-auth-message {
          max-width: 500px;
          margin: 100px auto;
          text-align: center;
          background: white;
          padding: 40px;
          border-radius: 16px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .no-auth-message h2 {
          color: #1e293b;
          margin-bottom: 15px;
        }

        .no-auth-message p {
          color: #64748b;
          margin-bottom: 25px;
        }

        .login-btn {
          display: inline-block;
          background: #ea580c;
          color: white;
          padding: 12px 24px;
          border-radius: 8px;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        }

        .login-btn:hover {
          background: #dc2626;
        }

        .no-orders {
          max-width: 500px;
          margin: 100px auto;
          text-align: center;
          background: white;
          padding: 60px 40px;
          border-radius: 16px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .no-orders-icon {
          font-size: 4rem;
          margin-bottom: 20px;
        }

        .no-orders h3 {
          color: #1e293b;
          font-size: 1.5rem;
          margin-bottom: 10px;
        }

        .no-orders p {
          color: #64748b;
          margin-bottom: 30px;
        }

        .shop-now-btn {
          display: inline-block;
          background: #16a34a;
          color: white;
          padding: 14px 28px;
          border-radius: 8px;
          text-decoration: none;
          font-weight: 600;
          transition: background 0.2s;
        }

        .shop-now-btn:hover {
          background: #15803d;
        }

        .orders-list {
          max-width: 1200px;
          margin: 0 auto;
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .order-card {
          background: white;
          border-radius: 12px;
          padding: 24px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.06);
          border: 1px solid #e5e7eb;
          transition: transform 0.2s, box-shadow 0.2s;
        }

        .order-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .order-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 1px solid #f1f5f9;
        }

        .order-info h3 {
          color: #1e293b;
          font-size: 1.25rem;
          font-weight: 600;
          margin-bottom: 5px;
        }

        .order-date {
          color: #64748b;
          font-size: 0.9rem;
        }

        .status-badge {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 0.8rem;
          font-weight: 600;
          text-transform: uppercase;
        }

        .status-pending {
          background: #fef3c7;
          color: #92400e;
        }

        .status-processing {
          background: #dbeafe;
          color: #1e40af;
        }

        .status-shipped {
          background: #d1fae5;
          color: #065f46;
        }

        .status-delivered {
          background: #dcfce7;
          color: #166534;
        }

        .status-cancelled {
          background: #fee2e2;
          color: #dc2626;
        }

        .order-items {
          margin-bottom: 20px;
        }

        .order-item {
          display: flex;
          align-items: center;
          gap: 15px;
          padding: 10px 0;
          border-bottom: 1px solid #f8fafc;
        }

        .order-item:last-child {
          border-bottom: none;
        }

        .item-image {
          width: 60px;
          height: 60px;
          object-fit: cover;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-details h4 {
          color: #1e293b;
          font-size: 1rem;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .item-details p {
          color: #64748b;
          font-size: 0.85rem;
          margin: 2px 0;
        }

        .item-price {
          color: #ea580c !important;
          font-weight: 600 !important;
        }

        .more-items {
          text-align: center;
          color: #64748b;
          font-size: 0.9rem;
          padding: 10px;
          background: #f8fafc;
          border-radius: 6px;
          margin-top: 10px;
        }

        .order-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 15px;
          border-top: 1px solid #f1f5f9;
        }

        .order-total {
          color: #1e293b;
          font-size: 1.1rem;
        }

        .order-actions {
          display: flex;
          gap: 10px;
        }

        .order-details-btn, .reorder-btn {
          padding: 8px 16px;
          border-radius: 6px;
          font-size: 0.9rem;
          font-weight: 500;
          border: none;
          cursor: pointer;
          transition: all 0.2s;
        }

        .order-details-btn {
          background: #f1f5f9;
          color: #475569;
        }

        .order-details-btn:hover {
          background: #e2e8f0;
        }

        .reorder-btn {
          background: #ea580c;
          color: white;
        }

        .reorder-btn:hover {
          background: #dc2626;
        }

        @media (max-width: 768px) {
          .orders-container {
            padding: 20px 15px;
          }

          .orders-header h1 {
            font-size: 2rem;
          }

          .order-card {
            padding: 20px;
          }

          .order-header {
            flex-direction: column;
            gap: 15px;
            align-items: flex-start;
          }

          .order-footer {
            flex-direction: column;
            gap: 15px;
            align-items: flex-start;
          }

          .order-actions {
            width: 100%;
          }

          .order-details-btn, .reorder-btn {
            flex: 1;
          }

          .item-details h4 {
            font-size: 0.9rem;
          }
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          backdrop-filter: blur(4px);
        }

        .modal-content {
          background: white;
          border-radius: 16px;
          width: 90%;
          max-width: 800px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
          position: relative;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 24px 0 24px;
          border-bottom: 1px solid #f1f5f9;
          margin-bottom: 24px;
        }

        .modal-header h2 {
          color: #1e293b;
          font-size: 1.5rem;
          font-weight: 700;
          margin: 0;
        }

        .modal-close {
          background: none;
          border: none;
          font-size: 2rem;
          color: #6b7280;
          cursor: pointer;
          padding: 0;
          width: 32px;
          height: 32px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }

        .modal-close:hover {
          background: #f3f4f6;
          color: #374151;
        }

        .modal-body {
          padding: 0 24px 24px 24px;
        }

        .detail-section {
          margin-bottom: 32px;
        }

        .detail-section:last-child {
          margin-bottom: 0;
        }

        .detail-section h3 {
          color: #1e293b;
          font-size: 1.125rem;
          font-weight: 600;
          margin-bottom: 16px;
          padding-bottom: 8px;
          border-bottom: 2px solid #f1f5f9;
        }

        .detail-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 12px;
        }

        .detail-grid > div {
          padding: 8px 0;
          font-size: 0.9rem;
          color: #374151;
        }

        .address-details {
          background: #f8fafc;
          padding: 16px;
          border-radius: 8px;
          line-height: 1.6;
          color: #374151;
        }

        .items-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .item-detail {
          display: flex;
          gap: 16px;
          padding: 16px;
          background: #f8fafc;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-image-detail {
          width: 80px;
          height: 80px;
          object-fit: cover;
          border-radius: 8px;
          border: 1px solid #e5e7eb;
        }

        .item-info-detail {
          flex: 1;
        }

        .item-info-detail h4 {
          color: #1e293b;
          font-size: 1rem;
          font-weight: 600;
          margin-bottom: 8px;
        }

        .item-info-detail p {
          color: #6b7280;
          font-size: 0.875rem;
          margin: 4px 0;
        }

        .pricing-detail {
          background: #f8fafc;
          padding: 20px;
          border-radius: 8px;
        }

        .pricing-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .pricing-row:last-child {
          border-bottom: none;
        }

        .pricing-row.total {
          font-weight: 700;
          font-size: 1.1rem;
          color: #1e293b;
          border-top: 2px solid #e5e7eb;
          padding-top: 12px;
          margin-top: 8px;
        }

        .pricing-row.discount {
          color: #16a34a;
        }

        .order-notes {
          background: #f8fafc;
          padding: 16px;
          border-radius: 8px;
          color: #374151;
          line-height: 1.6;
          font-style: italic;
        }

        @media (max-width: 768px) {
          .modal-content {
            width: 95%;
            margin: 20px;
          }

          .modal-header {
            padding: 20px 20px 0 20px;
          }

          .modal-body {
            padding: 0 20px 20px 20px;
          }

          .detail-grid {
            grid-template-columns: 1fr;
          }

          .item-detail {
            flex-direction: column;
            align-items: center;
            text-align: center;
          }

          .item-image-detail {
            width: 60px;
            height: 60px;
          }
        }
      `})]}):d.jsxs(d.Fragment,{children:[d.jsx(si,{}),d.jsx("div",{className:"orders-container",children:d.jsxs("div",{className:"no-auth-message",children:[d.jsx("h2",{children:"Inicia sesión para ver tus órdenes"}),d.jsx("p",{children:"Necesitas estar autenticado para ver tu historial de órdenes."}),d.jsx("a",{href:"/login",className:"login-btn",children:"Iniciar sesión"})]})}),d.jsx(yl,{})]})}function _X(){return d.jsxs(n5,{children:[d.jsx(Zn,{path:"/",element:d.jsx(zU,{})}),d.jsx(Zn,{path:"/blog",element:d.jsx(HU,{})}),d.jsx(Zn,{path:"/contacto",element:d.jsx(qU,{})}),d.jsx(Zn,{path:"/login",element:d.jsx($U,{})}),d.jsx(Zn,{path:"/register",element:d.jsx(WU,{})}),d.jsx(Zn,{path:"/productos",element:d.jsx(L$,{})}),d.jsx(Zn,{path:"/admin",element:d.jsx(iC,{})}),d.jsx(Zn,{path:"/producto/:id",element:d.jsx(O$,{})}),d.jsx(Zn,{path:"/Carrito",element:d.jsx(V$,{})}),d.jsx(Zn,{path:"/favoritos",element:d.jsx(yX,{})}),d.jsx(Zn,{path:"/reset-password",element:d.jsx(vX,{})}),d.jsx(Zn,{path:"/checkout",element:d.jsx(bX,{})}),d.jsx(Zn,{path:"/mis-ordenes",element:d.jsx(wX,{})}),d.jsx(Zn,{path:"/admin",element:d.jsx(D$,{children:d.jsx(iC,{})})}),d.jsx(Zn,{path:"*",element:d.jsx(xX,{})})]})}function EX(){return d.jsx(E9,{children:d.jsx(_X,{})})}uD.createRoot(document.getElementById("root")).render(d.jsx(Y.StrictMode,{children:d.jsx(A5,{children:d.jsx(T9,{children:d.jsx(EX,{})})})}));
